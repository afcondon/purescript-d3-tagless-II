/* Generated by Spago v0.93.44 */
(()=>{var cT=function(n){return function(e){for(var t=n.length,r=e.length,a=new Array(t*r),o=0,u=0;u<t;u++)for(var i=n[u],f=0;f<r;f++)a[o++]=i(e[f]);return a}};var n_={compose:function(n){return function(e){return function(t){return n(e(t))}}}};var dn=function(n){return n.identity},hn={identity:function(n){return n},Semigroupoid0:function(){return n_}};var le=!0;var iD=function(n){return function(e){return function(t){return function(r){return n(e(t))(e(r))}}}},Gn=function(n){return function(e){return function(t){return n(t)(e)}}},k=function(n){return function(e){return n}};var lT=function(n){return function(e){return e(n)}};var sT=function(n){return function(e){for(var t=e.length,r=new Array(t),a=0;a<t;a++)r[a]=n(e[a]);return r}};var Se=(function(){function n(){}return n.value=new n,n})();var T=function(n){return n.map},_r=function(n){var e=T(n);return function(t){return function(r){return e(r)(t)}}},se=function(n){return T(n)(k(void 0))},fl=function(n){var e=T(n);return function(t){return function(r){return e(k(r))(t)}}};var Fn={map:sT};var qR=dn(hn);var cl={apply:cT,Functor0:function(){return Fn}},Xn=function(n){return n.apply};var wf=function(n){var e=Xn(n),t=T(n.Functor0());return function(r){return function(a){return e(t(k(qR))(r))(a)}}},Tt=function(n){var e=Xn(n),t=T(n.Functor0());return function(r){return function(a){return function(o){return e(t(r)(a))(o)}}}};var N=function(n){return n.pure},ni=function(n){var e=N(n);return function(t){return function(r){if(!t)return r;if(t)return e(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}},zt=function(n){var e=N(n);return function(t){return function(r){if(t)return r;if(!t)return e(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[t.constructor.name,r.constructor.name])}}},ll=function(n){var e=Xn(n.Apply0()),t=N(n);return function(r){return function(a){return e(t(r))(a)}}};var sl={pure:function(n){return[n]},Apply0:function(){return cl}};var _T=typeof Array.prototype.flatMap=="function"?function(n){return function(e){return n.flatMap(e)}}:function(n){return function(e){for(var t=[],r=n.length,a=0;a<r;a++)for(var o=e(n[a]),u=o.length,i=0;i<u;i++)t.push(o[i]);return t}};var VR=dn(hn),at=function(n){return n.discard};var Oa={bind:_T,Apply0:function(){return cl}},B=function(n){return n.bind},Re=function(n){return Gn(B(n))},Ha=function(n){var e=Re(n);return function(t){return function(r){return function(a){return e(t)(r(a))}}}};var ot={discard:function(n){return B(n)}};var t_=function(n){var e=B(n);return function(t){return e(t)(VR)}};var JR=Number.POSITIVE_INFINITY,zR=Number.NEGATIVE_INFINITY;var r_=function(n){return function(e){return function(t){return function(r){return function(a){return r<a?n:r===a?e:t}}}}};var mT=r_,vT=r_,dT=r_,DT=r_;var pl=function(n){return function(e){return n===e}},gT=pl,hT=pl,yT=pl,bT=pl,TT=pl,ET=function(n){return function(e){return function(t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r])(t[r]))return!1;return!0}}};var Ze=function(n){return n.reflectSymbol};var Wa=function(n){return function(e){return e[n]}},so=function(n){return function(e){return function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r[n]=e,r}}};var cD={eq:function(n){return function(e){return!0}}},ut={eq:TT},lD={eqRecord:function(n){return function(e){return function(t){return!0}}}},CT=function(n){return n.eqRecord},sD=function(){return function(n){return{eq:CT(n)(Se.value)}}};var pD={eq:yT},Ff={eq:hT},MT={eq:bT},wT={eq:gT};var en=function(n){return n.eq},ZR=en(wT),ei=function(n){return{eq:ET(en(n))}};var a_=function(n){var e=CT(n);return function(){return function(t){var r=Ze(t);return function(a){var o=en(a);return{eqRecord:function(u){return function(i){return function(f){var c=e(Se.value)(i)(f),l=r(Se.value),s=Wa(l);return o(s(i))(s(f))&&c}}}}}}}},ti=function(n){var e=en(n);return function(t){return function(r){return ZR(e(t)(r))(!1)}}};var Y=(function(){function n(){}return n.value=new n,n})(),j=(function(){function n(){}return n.value=new n,n})(),ln=(function(){function n(){}return n.value=new n,n})();var Yo={eq:function(n){return function(e){return n instanceof Y&&e instanceof Y||n instanceof j&&e instanceof j||n instanceof ln&&e instanceof ln}}};var FT=function(n){return function(e){return n-e|0}};var ST=function(n){return function(e){return n+e|0}},xT=function(n){return function(e){return n*e|0}},IT=function(n){return function(e){return n+e}},AT=function(n){return function(e){return n*e}};var _D={add:IT,zero:0,mul:AT,one:1},o_={add:ST,zero:0,mul:xT,one:1};var kr=function(n){return n.add};var mD={sub:FT,Semiring0:function(){return o_}};var _l={compare:function(n){return function(e){return ln.value}},Eq0:function(){return cD}},Yn=(function(){return{compare:dT(Y.value)(ln.value)(j.value),Eq0:function(){return ut}}})();var Et=(function(){return{compare:vT(Y.value)(ln.value)(j.value),Eq0:function(){return pD}}})(),Nn=(function(){return{compare:mT(Y.value)(ln.value)(j.value),Eq0:function(){return Ff}}})(),u_=(function(){return{compare:DT(Y.value)(ln.value)(j.value),Eq0:function(){return MT}}})();var tn=function(n){return n.compare};var ml=function(n){var e=tn(n);return function(t){return function(r){return function(a){return e(t(r))(t(a))}}}};var ri=function(n){var e=tn(n);return function(t){return function(r){var a=e(t)(r);if(a instanceof Y)return r;if(a instanceof ln||a instanceof j)return t;throw new Error("Failed pattern match at Data.Ord (line 181, column 3 - line 184, column 12): "+[a.constructor.name])}}},xf=function(n){var e=tn(n);return function(t){return function(r){var a=e(t)(r);if(a instanceof Y||a instanceof ln)return t;if(a instanceof j)return r;throw new Error("Failed pattern match at Data.Ord (line 172, column 3 - line 175, column 12): "+[a.constructor.name])}}};var fa=function(n){return n.top};var i_={top:2147483647,bottom:-2147483648,Ord0:function(){return Nn}},ai={top:"\uFFFF",bottom:"\0",Ord0:function(){return u_}};var ca=function(n){return n.bottom};var NT=function(n){return n.toString()},PT=function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"};var RT=function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,function(t,r){switch(t){case'"':case"\\":return"\\"+t;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var a=r+1,o=a<e&&n[a]>="0"&&n[a]<="9"?"\\&":"";return"\\"+t.charCodeAt(0).toString(10)+o})+'"'},OT=function(n){return function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=n(e[r]);return"["+t.join(",")+"]"}};var mr={show:RT};var vr={show:PT},xe={show:NT};var If={show:function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[n.constructor.name])}},U=function(n){return n.show},nu=function(n){return{show:OT(U(n))}};var WT=function(n){return function(e){return n&&e}},$T=function(n){return function(e){return n||e}},UT=function(n){return!n};var vl=function(n){return n.tt};var eu=function(n){return n.not};var dD=function(n){return n.implies};var Lf=function(n){return n.ff};var oi=function(n){return n.disj},Ua={ff:!1,tt:!0,implies:function(n){return function(e){return oi(Ua)(eu(Ua)(n))(e)}},conj:WT,disj:$T,not:UT};var dl=function(n){return n.conj},DD=function(n){var e=Lf(n),t=vl(n),r=dD(n),a=dl(n),o=oi(n),u=eu(n);return{ff:function(i){return e},tt:function(i){return t},implies:function(i){return function(f){return function(c){return r(i(c))(f(c))}}},conj:function(i){return function(f){return function(c){return a(i(c))(f(c))}}},disj:function(i){return function(f){return function(c){return o(i(c))(f(c))}}},not:function(i){return function(f){return u(i(f))}}}};var kT=function(n){return Math.min(Math.abs(n),2147483647)},qT=function(n){return function(e){return e===0?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},BT=function(n){return function(e){if(e===0)return 0;var t=Math.abs(e);return(n%t+t)%t}};var GT={Ring0:function(){return mD}};var nr=function(n){return n.mod};var Ct={degree:kT,div:qT,mod:BT,CommutativeRing0:function(){return GT}},qa=function(n){return n.div};var JT=function(n){return function(e){return n.length===0?e:e.length===0?n:n.concat(e)}};var Te={append:JT};var K=function(n){return n.append};var te=function(n){return n.mempty};var I=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),f_=function(n){return function(e){return n(e.value0)(e.value1)}};var ve=function(n){return n.value1};var tu={map:function(n){return function(e){return new I(e.value0,n(e.value1))}}};var de=function(n){return n.value0};var QT=function(n){var e=en(n);return function(t){var r=en(t);return{eq:function(a){return function(o){return e(a.value0)(o.value0)&&r(a.value1)(o.value1)}}}}},ii=function(n){var e=tn(n),t=QT(n.Eq0());return function(r){var a=tn(r),o=t(r.Eq0());return{compare:function(u){return function(i){var f=e(u.value0)(i.value0);return f instanceof Y?Y.value:f instanceof j?j.value:a(u.value1)(i.value1)}},Eq0:function(){return o}}}};var Ba=function(n){return n.state};var ru=function(n){var e=Ba(n);return function(t){return e(function(r){return new I(void 0,t(r))})}};var au=function(n){return Ba(n)(function(e){return new I(e,e)})};var jT=function(n,e){for(var t=n>e?-1:1,r=new Array(t*(e-n)+1),a=n,o=0;a!==e;)r[o++]=a,a+=t;return r[o]=a,r},gO=function(n,e){if(n<1)return[];var t=new Array(n);return t.fill(e)},hO=function(n,e){for(var t=[],r=0,a=0;a<n;a++)t[r++]=e;return t},XT=typeof Array.prototype.fill=="function"?gO:hO,YT=(function(){function n(a,o){this.head=a,this.tail=o}var e={};function t(a){return function(o){return new n(a,o)}}function r(a){for(var o=[],u=0,i=a;i!==e;)o[u++]=i.head,i=i.tail;return o}return function(a,o){return r(a(t)(e)(o))}})(),Q=function(n){return n.length},KT=function(n,e,t){return t.length===0?n({}):e(t[0])(t.slice(1))},ZT=function(n,e,t,r){return r<0||r>=t.length?e:n(t[r])};var nE=function(n,e,t,r){for(var a=0,o=r.length;a<o;a++)if(t(r[a]))return n(a);return e};var eE=function(n,e,t,r,a){if(t<0||t>a.length)return e;var o=a.slice();return o.splice(t,0,r),n(o)},tE=function(n,e,t,r){if(t<0||t>=r.length)return e;var a=r.slice();return a.splice(t,1),n(a)};var Ga=function(n){return n.slice().reverse()},fi=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var e=[],t=0,r=n.length;t<r;t++)for(var a=n[t],o=0,u=a.length;o<u;o++)e.push(a[o]);return e},rE=function(n,e){return e.filter(n)},aE=function(n,e){for(var t=[],r=[],a=0;a<e.length;a++){var o=e[a];n(o)?t.push(o):r.push(o)}return{yes:t,no:r}};var oE=(function(){function n(e,t,r,a,o,u){var i,f,c,l,s,p,_;for(i=o+(u-o>>1),i-o>1&&n(e,t,a,r,o,i),u-i>1&&n(e,t,a,r,i,u),f=o,c=i,l=o;f<i&&c<u;)s=a[f],p=a[c],_=t(e(s)(p)),_>0?(r[l++]=p,++c):(r[l++]=s,++f);for(;f<i;)r[l++]=a[f++];for(;c<u;)r[l++]=a[c++]}return function(e,t,r){var a;return r.length<2?r:(a=r.slice(0),n(e,t,a,r.slice(0),0,r.length),a)}})(),uE=function(n,e,t){return t.slice(n,e)},iE=function(n,e,t){for(var r=e.length<t.length?e.length:t.length,a=new Array(r),o=0;o<r;o++)a[o]=n(e[o])(t[o]);return a},fE=function(n,e){for(var t=e.length,r=0;r<t;r++)if(n(e[r]))return!0;return!1},cE=function(n,e){for(var t=e.length,r=0;r<t;r++)if(!n(e[r]))return!1;return!0},lE=function(n,e){return n[e]};var vt=function(n){return n.alt};var sE=function(n){var e=B(n.Bind1()),t=ni(n.Applicative0());return function(r){return function(a){return e(r)(function(o){return t(o)(a)})}}};var Qt=function(n){var e=B(n.Bind1()),t=N(n.Applicative0());return function(r){return function(a){return e(r)(function(o){return e(a)(function(u){return t(o(u))})})}}};var bO=dn(hn),v=(function(){function n(){}return n.value=new n,n})(),m=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var De=function(n){return function(e){return function(t){if(t instanceof v)return n;if(t instanceof m)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},uu=De(!0)(k(!1)),Dl=De(!1)(k(!0));var Qn={map:function(n){return function(e){return e instanceof m?new m(n(e.value0)):v.value}}},TO=T(Qn);var Rn=function(n){return De(n)(bO)},la=function(){return function(n){if(n instanceof m)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var ci=function(n){var e=en(n);return{eq:function(t){return function(r){return t instanceof v&&r instanceof v?!0:t instanceof m&&r instanceof m?e(t.value0)(r.value0):!1}}}};var Va={apply:function(n){return function(e){if(n instanceof m)return TO(n.value0)(e);if(n instanceof v)return v.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return Qn}};var nt={bind:function(n){return function(e){if(n instanceof m)return e(n.value0);if(n instanceof v)return v.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,e.constructor.name])}},Apply0:function(){return Va}};var qr=(function(){return{pure:m.create,Apply0:function(){return Va}}})();var Z=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),V=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Nf=function(n){return De(new Z(n))(V.create)};var iu={map:function(n){return function(e){if(e instanceof Z)return new Z(e.value0);if(e instanceof V)return new V(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},EO=T(iu);var tr=function(n){return function(e){return function(t){if(t instanceof Z)return n(t.value0);if(t instanceof V)return e(t.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}};var s_={apply:function(n){return function(e){if(n instanceof Z)return new Z(n.value0);if(n instanceof V)return EO(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return iu}};var Pf={bind:tr(function(n){return function(e){return new Z(n)}})(function(n){return function(e){return e(n)}}),Apply0:function(){return s_}};var gl=(function(){return{pure:V.create,Apply0:function(){return s_}}})();var Do=function(n){return n};var hl={map:function(n){return function(e){return n(e)}}};var _E={apply:function(n){return function(e){return n(e)}},Functor0:function(){return hl}},CO={bind:function(n){return function(e){return e(n)}},Apply0:function(){return _E}},MO={pure:Do,Apply0:function(){return _E}},go={Applicative0:function(){return MO},Bind1:function(){return CO}};var mE=function(n){return function(){return n}},vE=function(n){return function(e){return function(){return e(n())()}}};var dE=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},sa={Applicative0:function(){return An},Bind1:function(){return it}},it={bind:vE,Apply0:function(){return gE(0)}},An={pure:mE,Apply0:function(){return gE(0)}},DE=dE("functorEffect","Effect",function(){return{map:ll(An)}}),gE=dE("applyEffect","Effect",function(){return{apply:Qt(sa),Functor0:function(){return DE(0)}}}),Pn=DE(20);var hE=function(n){return function(){return{value:n}}};var H=function(n){return function(){return n.value}},yE=function(n){return function(e){return function(){var t=n(e.value);return e.value=t.state,t.value}}},Dn=function(n){return function(e){return function(){e.value=n}}};var SO=se(Pn),Vn=hE,gD=yE,bE=function(n){return gD(function(e){var t=n(e);return{state:t,value:t}})},ge=function(n){return function(e){return SO(bE(n)(e))}};var LO=Re(it),NO=T(Pn),wt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),dt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Vr=function(n){return n.tailRecM};var TE={tailRecM:function(n){return function(e){var t=function(r){if(r instanceof dt)return r.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 137, column 30 - line 137, column 44): "+[r.constructor.name])};return function(){var a=LO(Vn)(n(e))();return(function(){for(;!(function(){var u=H(a)();if(u instanceof wt){var i=n(u.value0)();return Dn(i)(a)(),!1}if(u instanceof dt)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 128, column 22 - line 133, column 28): "+[u.constructor.name])})(););return{}})(),NO(t)(H(a))()}}},Monad0:function(){return sa}};var EE=function(n){return function(e){return function(){return n(e())}}},CE=function(n){return function(){return n}},ME=function(n){return function(e){return function(){return e(n())()}}};var yl=function(n){return function(e){return function(){for(var t=0,r=n.length;t<r;t++)e(n[t])()}}};var HO=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var li={map:EE};var yD={Applicative0:function(){return p_},Bind1:function(){return bD}},bD={bind:ME,Apply0:function(){return xE(0)}},p_={pure:CE,Apply0:function(){return xE(0)}},xE=HO("applyST","Control.Monad.ST.Internal",function(){return{apply:Qt(yD),Functor0:function(){return li}}});function IE(n){return n}var AE=IE,LE=IE;function WO(n){return n.slice()}var NE=WO;var PE=function(n,e){return e.push(n)};var Tl=function(e){return function(t){return function(){return e(t)}}},TD=function(e){return function(t){return function(r){return function(){return e(t,r)}}}};var RE=Tl(LE),__=Tl(AE);var GO=Tl(NE),OE=function(n){return function(e){return function(){var r=GO(e)();return n(r)(),__(r)()}}};var m_=TD(PE);var WE=function(n){return function(e){return function(t){for(var r=e,a=t.length,o=a-1;o>=0;o--)r=n(t[o])(r);return r}}},$E=function(n){return function(e){return function(t){for(var r=e,a=t.length,o=0;o<a;o++)r=n(r)(t[o]);return r}}};var rr=function(n){return n.empty};var jO=dn(hn),Ja=function(n){return n.bimap};var si=function(n){var e=Ja(n);return function(t){return e(t)(jO)}};var Rf={bimap:function(n){return function(e){return function(t){if(t instanceof Z)return new Z(n(t.value0));if(t instanceof V)return new V(e(t.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 38, column 1 - line 40, column 36): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}}};var g_=function(n){return n};var e2=function(n){var e=oi(n);return{append:function(t){return function(r){return e(t)(r)}}}};var wD=function(n){var e=e2(n);return{mempty:Lf(n),Semigroup0:function(){return e}}};var A=function(n){return n};var Hf=function(){return A};var BE=Hf();var Ft=function(){return BE};var FD=function(){return function(){return function(){return function(){return function(n){return BE}}}}};var VE=en(Yo);var u2=FD()()()(),Ne=function(n){return n.foldr};var Pe=function(n){var e=wf(n.Apply0()),t=N(n);return function(r){var a=Ne(r);return function(o){return a(function(u){return e(o(u))})(t(void 0))}}},zr=function(n){var e=Pe(n);return function(t){return Gn(e(t))}};var ue=function(n){return n.foldl};var JE=function(n){var e=ue(n);return function(t){var r=function(a){return function(o){if(a instanceof v)return new m(o);if(a instanceof m)return new m((function(){var u=VE(t(a.value0)(o))(j.value);return u?a.value0:o})());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(v.value)}},xD=function(n){var e=tn(n);return function(t){return JE(t)(e)}},T_=function(n){var e=ue(n);return function(t){var r=function(a){return function(o){if(a instanceof v)return new m(o);if(a instanceof m)return new m((function(){var u=VE(t(a.value0)(o))(Y.value);return u?a.value0:o})());throw new Error("Failed pattern match at Data.Foldable (line 454, column 3 - line 454, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(v.value)}},ID=function(n){var e=tn(n);return function(t){return T_(t)(e)}};var ar={foldr:function(n){return function(e){return function(t){if(t instanceof v)return e;if(t instanceof m)return n(t.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},foldl:function(n){return function(e){return function(t){if(t instanceof v)return e;if(t instanceof m)return n(e)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},foldMap:function(n){var e=te(n);return function(t){return function(r){if(r instanceof v)return e;if(r instanceof m)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var zE=function(n){var e=Ne(n);return function(t){var r=K(t.Semigroup0()),a=te(t);return function(o){return e(function(u){return function(i){return r(o(u))(i)}})(a)}}},gn={foldr:WE,foldl:$E,foldMap:function(n){return zE(gn)(n)}};var Ht=function(n){return n.foldMap};var Wf=function(n){var e=Ht(n);return function(t){return u2(g_)(e(wD(t)))}};var Qr=function(n){return function(e){return function(t){return n(e,t)}}},lu=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},pi=function(n){return function(e){return function(t){return function(r){return function(a){return n(e,t,r,a)}}}}},AD=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){return n(e,t,r,a,o)}}}}}};var QE=function(n){return function(e){for(var t=e.length,r=Array(t),a=0;a<t;a++)r[a]=n(a)(e[a]);return r}};var su=function(n){return n.mapWithIndex};var _i={mapWithIndex:QE,Functor0:function(){return Fn}};var KE=(function(){function n(a){return[a]}function e(a){return function(o){return[a,o]}}function t(a){return function(o){return function(u){return[a,o,u]}}}function r(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(i){return function(f){function c(l,s){switch(s-l){case 0:return u([]);case 1:return o(n)(i(f[l]));case 2:return a(o(e)(i(f[l])))(i(f[l+1]));case 3:return a(a(o(t)(i(f[l])))(i(f[l+1])))(i(f[l+2]));default:var p=l+Math.floor((s-l)/4)*2;return a(o(r)(c(l,p)))(c(p,s))}}return c(0,f.length)}}}}}})();var kf=function(n){return n};var T2={map:function(n){return function(e){return function(t){var r=kf(e)(t);return{accum:r.accum,value:n(r.value)}}}}};var E2={apply:function(n){return function(e){return function(t){var r=kf(n)(t),a=kf(e)(r.accum);return{accum:a.accum,value:r.value(a.value)}}}},Functor0:function(){return T2}};var RD={pure:function(n){return function(e){return{accum:e,value:n}}},Apply0:function(){return E2}};var q2=dn(hn),Ie=function(n){return n.traverse};var lC=function(n){var e=Ie(n);return function(t){return e(t)(q2)}},Sr={traverse:function(n){var e=n.Apply0();return KE(Xn(e))(T(e.Functor0()))(N(n))},sequence:function(n){return lC(Sr)(n)},Functor0:function(){return Fn},Foldable1:function(){return gn}},mi=function(n){return n.sequence};var B2=function(n){var e=Ie(n)(RD);return function(t){return function(r){return function(a){return kf(e(function(o){return function(u){return t(u)(o)}})(a))(r)}}}},w_=function(n){var e=B2(n);return function(t){return function(r){return function(a){return e(function(o){return function(u){var i=t(o)(u);return{accum:i,value:i}}})(r)(a).value}}}};var sC=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);if(n(f))return u;var c=e(f);u.push(t(c)),i=r(c)}}}}}}};var pC=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);u.push(t(f));var c=r(f);if(n(c))return u;i=e(c)}}}}}}};var K2=la();var WD={unfoldr1:pC(uu)(K2)(de)(ve)};var nH=la(),pa=function(n){return n.unfoldr};var xr={unfoldr:sC(uu)(nH)(de)(ve),Unfoldable10:function(){return WD}};var eH=se(li);var tH=T(Qn),rH=T(Fn),aH=T(li),vC=la(),oH=zt(p_),uH=ti(Yo);var iH=K(Te);var dr=lu(iE);var vi=function(){return Qr(lE)},dC=vi(),Fl=(function(){return lu(KT)(k(v.value))(function(n){return function(e){return new m({head:n,tail:e})}})})(),$D=function(n){var e=pa(n);return function(t){var r=Q(t),a=function(o){if(o<r)return new m(new I(dC(t)(o),o+1|0));if(le)return v.value;throw new Error("Failed pattern match at Data.Array (line 163, column 3 - line 165, column 26): "+[o.constructor.name])};return e(a)(0)}};var ho=function(n){return lu(oE)(n)(function(e){if(e instanceof j)return 1;if(e instanceof ln)return 0;if(e instanceof Y)return-1;throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[e.constructor.name])})},yo=function(n){var e=ml(n);return function(t){return ho(e(t))}},fH=yo(Nn);var di=function(n){return function(e){return OE(m_(e))(n)()}},Sl=lu(uE);var UD=function(n){return function(e){var t=n<1;return t?[]:Sl(0)(n)(e)}},S_=function(n){return[n]};var kD=Qr(XT),_a=Qr(jT),qD=Qr(aE),Wt=function(n){return Q(n)===0};var Ir=su(_i);var BD=(function(){return AD(eE)(m.create)(v.value)})();var ie=(function(){return pi(ZT)(m.create)(v.value)})(),Di=function(n){return ie(n)(Q(n)-1|0)};var $t=function(n){return ie(n)(0)},DC=function(n){return function(e){var t=ho(function(a){return function(o){return n(ve(a))(ve(o))}})(Ir(I.create)(e)),r=$t(t);if(r instanceof v)return[];if(r instanceof m)return rH(ve)(fH(de)((function(){var o=RE(S_(r.value0))();return yl(t)(function(u){return function(){var f=aH((function(){var c=function(l){return vC(Di(l))};return function(l){return ve(c(l))}})())(__(o))();return oH(uH(n(f)(u.value1))(ln.value))(eH(m_(u)(o)))()}})(),__(o)()})()));throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): "+[r.constructor.name])}},xl=function(n){return DC(tn(n))};var Ar=function(n){return Qr(YT)(Ne(n))};var ma=ue(gn);var gi=(function(){return pi(nE)(m.create)(v.value)})(),pu=function(n){return function(e){return tH(dC(e))(gi(n)(e))}},je=Qr(rE);var GD=function(n){var e=en(n);return function(t){return gi(function(r){return e(r)(t)})}};var x_=function(n){return function(e){var t=n<1;return t?e:Sl(n)(Q(e))(e)}};var Il=(function(){return pi(tE)(m.create)(v.value)})(),VD=function(n){return function(e){return function(t){return t.length===0?[]:De(t)(function(r){return vC(Il(r)(t))})(gi(n(e))(t))}}};var Ut=function(n){return function(e){return iH([n])(e)}};var cH=Gn(B(Oa)),he=function(n){return cH((function(){var e=De([])(S_);return function(t){return e(n(t))}})())};var I_=Qr(fE);var JD=Qr(cE);var lH=typeof Array.from=="function",sH=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",pH=typeof String.prototype.fromCodePoint=="function",_H=typeof String.prototype.codePointAt=="function",gC=function(n){return _H?function(e){return e.codePointAt(0)}:n};var hC=function(n){return pH?String.fromCodePoint:n},yC=function(n){return function(e){return sH?function(t){for(var r="",a=t[Symbol.iterator](),o=0;o<e;++o){var u=a.next();if(u.done)return r;r+=u.value}return r}:n(e)}},bC=function(n){return function(e){return lH?function(t){return Array.from(t,e)}:n}};function _u(n){return n.charCodeAt(0)}function TC(n){return String.fromCharCode(n)}var EC=ca(ai),CC=fa(ai);var qf=function(n){return n.toEnum};var QD=function(n){return n.fromEnum},MC=function(n){var e=qf(n),t=QD(n),r=ca(n.Bounded0());return function(a){return function(o){return function(u){var i=e(u);if(i instanceof m)return i.value0;if(i instanceof v){var f=u<t(r);return f?a:o}throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[i.constructor.name])}}}};var hi=function(n){return function(e){return function(t){return n(e(t)+1|0)}}},yi=function(n){return function(e){return function(t){return n(e(t)-1|0)}}};var zD=function(n){return n>=_u(EC)&&n<=_u(CC)?new m(TC(n)):v.value},hH={succ:hi(zD)(_u),pred:yi(zD)(_u),Ord0:function(){return u_}};var jD=(function(){return{cardinality:_u(CC)-_u(EC)|0,toEnum:zD,fromEnum:_u,Bounded0:function(){return ai},Enum1:function(){return hH}}})();var wC=function(n){return function(e){return function(t){return(t|0)===t?n(t):e}}},vn=function(n){return n};var A_=isFinite;var XD=Math.abs;var L_=function(n){return function(e){return Math.atan2(n,e)}},YD=Math.ceil,ur=Math.cos;var KD=Math.floor;var ir=Math.sin,St=Math.sqrt;var Al=3.141592653589793;var FC=fa(i_),SC=ca(i_);var N_=(function(){return wC(m.create)(v.value)})(),xC=function(n){if(!A_(n))return 0;if(n>=vn(FC))return FC;if(n<=vn(SC))return SC;if(le)return Rn(0)(N_(n));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[n.constructor.name])};var Ll=function(n){return xC(KD(n))};var Bf=function(n){return xC(YD(n))};var ZD=function(n){return n.split("")},Nl=function(n){return n};var Gf=function(n){return n.length};var IC=function(n){return function(e){return function(t){return function(r){var a=r.indexOf(t);return a===-1?e:n(a)}}}};var Pl=function(n){return function(e){return e.substr(0,n)}},Vf=function(n){return function(e){return e.substring(n)}};var mu=function(n){return function(e){if(n>=0&&n<e.length)return e.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Rl=(function(){return IC(m.create)(v.value)})();var Jf=function(n){return n.toLowerCase()};var bo=function(n){return function(e){return e.join(n)}};var Ol=QD(jD),tg=T(Qn),OH=pa(xr),HH=qa(Ct),WH=nr(Ct);var LC=function(n){return function(e){return(((n-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var NC=function(n){return 56320<=n&&n<=57343},PC=function(n){return 55296<=n&&n<=56319},RC=function(n){var e=Gf(n);if(e===0)return v.value;if(e===1)return new m({head:Ol(mu(0)(n)),tail:""});var t=Ol(mu(1)(n)),r=Ol(mu(0)(n)),a=PC(r)&&NC(t);return a?new m({head:LC(r)(t),tail:Vf(2)(n)}):new m({head:r,tail:Vf(1)(n)})},$H=function(n){return tg(function(e){return new I(e.head,e.tail)})(RC(n))},UH=function(n){return OH($H)(n)},kH=function(n){var e=Ol(mu(0)(n)),t=PC(e)&&Gf(n)>1;if(t){var r=Ol(mu(1)(n)),a=NC(r);return a?LC(e)(r):e}return e},qH=gC(kH),BH=bC(UH)(qH),OC=function(n){return Q(BH(n))};var HC=function(n){return function(e){return tg(function(t){return OC(Pl(t)(e))})(Rl(n)(e))}},eg=(function(){var n=MC(jD)(ca(ai))(fa(ai));return function(e){return Nl(n(e))}})(),GH=function(n){if(n<=65535)return eg(n);var e=HH(n-65536|0)(1024)+55296|0,t=WH(n-65536|0)(1024)+56320|0;return eg(e)+eg(t)};var VH=hC(GH),WC=function(n){return function(e){if(n<1)return"";var t=RC(e);return t instanceof m?VH(t.value0.head)+WC(n-1|0)(t.value0.tail):e}},R_=yC(WC);var O_=function(n){return function(e){return Vf(Gf(R_(n)(e)))(e)}},$C=function(n){return function(e){return function(t){var r=O_(e)(t);return tg(function(a){return e+OC(Pl(a)(r))|0})(Rl(n)(r))}}};var Ti=(function(){function n(){}return n.value=new n,n})(),jr=(function(){function n(){}return n.value=new n,n})(),Dt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Dr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),gr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),du=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ei=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var rg=function(n){if(n instanceof Ti)return"project";if(n instanceof jr)return"all";throw new Error("Failed pattern match at Engine.ViewState (line 108, column 1 - line 108, column 35): "+[n.constructor.name])},ag=function(n){if(n instanceof Ti)return"project";if(n instanceof jr)return"all";throw new Error("Failed pattern match at Engine.ViewState (line 104, column 1 - line 104, column 35): "+[n.constructor.name])},JH={eq:function(n){return function(e){return n instanceof Ti&&e instanceof Ti||n instanceof jr&&e instanceof jr}}},og=en(JH),kC={eq:function(n){return function(e){return n instanceof Dt&&e instanceof Dt||n instanceof Dr&&e instanceof Dr||n instanceof gr&&e instanceof gr?og(n.value0)(e.value0):n instanceof du&&e instanceof du||n instanceof Ei&&e instanceof Ei?n.value0===e.value0:!1}}};var qC=function(n){if(n instanceof Dt)return{text:"["+("Grid"+("] of ["+(ag(n.value0)+"] packages"))),controls:[{id:"layout",current:"grid",options:["grid","orbit"]},{id:"scope",current:rg(n.value0),options:["project","all"]}]};if(n instanceof Dr)return{text:"["+("Orbit"+("] of ["+(ag(n.value0)+"] modules, grouped by package"))),controls:[{id:"layout",current:"orbit",options:["grid","orbit","tree"]},{id:"scope",current:rg(n.value0),options:["project","all"]}]};if(n instanceof gr)return{text:"["+("Dependency tree"+("] of ["+(ag(n.value0)+"] module dependencies"))),controls:[{id:"layout",current:"tree",options:["orbit","tree"]},{id:"scope",current:rg(n.value0),options:["project","all"]}]};if(n instanceof du)return{text:"Neighborhood of ["+(n.value0+"] \u2014 imports and dependents"),controls:[{id:"module",current:n.value0,options:[]}]};if(n instanceof Ei)return{text:"Function calls in ["+(n.value0+"]"),controls:[{id:"module",current:n.value0,options:[]}]};throw new Error("Failed pattern match at Engine.ViewState (line 51, column 15 - line 91, column 6): "+[n.constructor.name])};var ig=A,BC=A;var jH=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var zC=function(n){return function(e){return ig(function(t){return n(t.value0)(t.value1)})(e)}};var QC=function(n){return function(e){return BC(new jH(n,e))}},fg={map:function(n){return function(e){return ig(function(t){return QC(function(r){return n(t.value0(r))})(t.value1)})(e)}}};var jC=QC(dn(hn));var XH=Ne(gn),XC=su(_i),YH=ue(gn);var Ci=function(n){return n.foldrWithIndex},lg=function(n){var e=wf(n.Apply0()),t=N(n);return function(r){var a=Ci(r);return function(o){return a(function(u){var i=o(u);return function(f){return e(i(f))}})(t(void 0))}}};var zf=function(n){return n.foldlWithIndex};var KH=function(n){var e=Ci(n);return function(t){var r=K(t.Semigroup0()),a=te(t);return function(o){return e(function(u){return function(i){return function(f){return r(o(u)(i))(f)}}})(a)}}},To={foldrWithIndex:function(n){return function(e){var t=XH(function(a){return function(o){return n(a.value0)(a.value1)(o)}})(e),r=XC(I.create);return function(a){return t(r(a))}}},foldlWithIndex:function(n){return function(e){var t=YH(function(a){return function(o){return n(o.value0)(a)(o.value1)}})(e),r=XC(I.create);return function(a){return t(r(a))}}},foldMapWithIndex:function(n){return KH(To)(n)},Foldable0:function(){return gn}};var ZH=function(n){var e=mi(n.Traversable2()),t=su(n.FunctorWithIndex0());return function(r){var a=e(r);return function(o){var u=t(o);return function(i){return a(u(i))}}}},Du=function(n){return n.traverseWithIndex};var Qf={traverseWithIndex:function(n){return ZH(Qf)(n)},FunctorWithIndex0:function(){return _i},FoldableWithIndex1:function(){return To},Traversable2:function(){return Sr}};var da=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var sg=function(n){var e=rr(n);return function(t){return new da(t,e)}};var r3=dn(hn),W=(function(){function n(){}return n.value=new n,n})(),J=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),pg=function(n){return n},a3=function(n){return new J(n.value0,n.value1)};var o3=function(n){var e=function(t){return function(r){var a=t,o=!1,u;function i(f,c){if(c instanceof J&&c.value1 instanceof J&&c.value1.value1 instanceof J){a=new J(c,f),r=c.value1.value1.value1;return}var l=function(p){return p instanceof J&&p.value1 instanceof J&&p.value1.value1 instanceof W?new J(n(p.value0),new J(n(p.value1.value0),W.value)):p instanceof J&&p.value1 instanceof W?new J(n(p.value0),W.value):W.value},s=function(p){return function(_){var D=p,d=!1,g;function y(C,w){if(C instanceof J&&C.value0 instanceof J&&C.value0.value1 instanceof J&&C.value0.value1.value1 instanceof J){D=C.value1,_=new J(n(C.value0.value0),new J(n(C.value0.value1.value0),new J(n(C.value0.value1.value1.value0),w)));return}return d=!0,w}for(;!d;)g=y(D,_);return g}};return o=!0,s(f)(l(c))}for(;!o;)u=i(a,r);return u}};return e(W.value)},Eo={map:o3};var Ae={foldr:function(n){return function(e){var t=(function(){var a=function(o){return function(u){var i=o,f=!1,c;function l(s,p){if(p instanceof W)return f=!0,s;if(p instanceof J){i=new J(p.value0,s),u=p.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[s.constructor.name,p.constructor.name])}for(;!f;)c=l(i,u);return c}};return a(W.value)})(),r=ue(Ae)(Gn(n))(e);return function(a){return r(t(a))}}},foldl:function(n){var e=function(t){return function(r){var a=t,o=!1,u;function i(f,c){if(c instanceof W)return o=!0,f;if(c instanceof J){a=n(f)(c.value0),r=c.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[c.constructor.name])}for(;!o;)u=i(a,r);return u}};return e},foldMap:function(n){var e=K(n.Semigroup0()),t=te(n);return function(r){return ue(Ae)(function(a){var o=e(a);return function(u){return o(r(u))}})(t)}}},YC=ue(Ae),u3=Ne(Ae);var _g={append:function(n){return function(e){return u3(J.create)(e)(n)}}},ZC=K(_g);var nM={append:function(n){return function(e){return new da(n.value0,ZC(n.value1)(a3(e)))}}};var Hl={traverse:function(n){var e=n.Apply0(),t=T(e.Functor0()),r=Tt(e),a=N(n);return function(o){var u=t(YC(Gn(J.create))(W.value)),i=YC(function(f){var c=r(Gn(J.create))(f);return function(l){return c(o(l))}})(a(W.value));return function(f){return u(i(f))}}},sequence:function(n){return Ie(Hl)(n)(r3)},Functor0:function(){return Eo},Foldable1:function(){return Ae}};var i3={alt:ZC,Functor0:function(){return Eo}},eM=(function(){return{empty:W.value,Alt0:function(){return i3}}})();var Mi=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var f3=T(Qn);var _e=(function(){function n(){}return n.value=new n,n})(),pe=(function(){function n(e,t,r,a,o,u){this.value0=e,this.value1=t,this.value2=r,this.value3=a,this.value4=o,this.value5=u}return n.create=function(e){return function(t){return function(r){return function(a){return function(o){return function(u){return new n(e,t,r,a,o,u)}}}}}},n})(),aM=(function(){function n(){}return n.value=new n,n})(),mg=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),Dg=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var W_=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),tM=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),Xr=function(n,e,t,r){if(t instanceof _e){if(r instanceof _e)return new pe(1,1,n,e,t,r);if(r instanceof pe)return new pe(1+r.value0|0,1+r.value1|0,n,e,t,r);throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): "+[r.constructor.name])}if(t instanceof pe){if(r instanceof _e)return new pe(1+t.value0|0,1+t.value1|0,n,e,t,r);if(r instanceof pe)return new pe(1+(function(){var a=t.value0>r.value0;return a?t.value0:r.value0})()|0,(1+t.value1|0)+r.value1|0,n,e,t,r);throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): "+[t.constructor.name])},c3=(function(){return Gn(Dg.create)(aM.value)})(),l3=function(n){return function(e){return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof aM)return o=!0,t(void 0);if(f instanceof mg)return o=!0,e(f.value0,f.value1,f.value2);if(f instanceof Dg){a=n(f.value1)(f.value0);return}throw new Error("Failed pattern match at Data.Map.Internal (line 940, column 8 - line 946, column 20): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}}},$_=function(n){if(n instanceof _e)return 0;if(n instanceof pe)return n.value1;throw new Error("Failed pattern match at Data.Map.Internal (line 618, column 8 - line 620, column 24): "+[n.constructor.name])},Wl=function(n){return function(e){return new pe(1,1,n,e,_e.value,_e.value)}},Da=(function(){var n=function(r){if(r instanceof _e)return 0;if(r instanceof pe)return r.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): "+[r.constructor.name])},e=function(r,a,o,u,i,f,c){return f instanceof pe&&f.value0>n(c)?Xr(f.value2,f.value3,Xr(r,a,o,f.value4),Xr(u,i,f.value5,c)):Xr(u,i,Xr(r,a,o,f),c)},t=function(r,a,o,u,i,f,c){return f instanceof pe&&n(i)<=f.value0?Xr(f.value2,f.value3,Xr(o,u,i,f.value4),Xr(r,a,f.value5,c)):Xr(o,u,i,Xr(r,a,f,c))};return function(r,a,o,u){if(o instanceof _e)return u instanceof _e?Wl(r)(a):u instanceof pe&&u.value0>1?e(r,a,o,u.value2,u.value3,u.value4,u.value5):Xr(r,a,o,u);if(o instanceof pe){if(u instanceof pe){if(u.value0>(o.value0+1|0))return e(r,a,o,u.value2,u.value3,u.value4,u.value5);if(o.value0>(u.value0+1|0))return t(r,a,o.value2,o.value3,o.value4,o.value5,u)}return u instanceof _e&&o.value0>1?t(r,a,o.value2,o.value3,o.value4,o.value5,u):Xr(r,a,o,u)}throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): "+[o.constructor.name])}})(),vg=Mi("unsafeSplit","Data.Map.Internal",function(){return function(n,e,t){if(t instanceof _e)return new W_(v.value,_e.value,_e.value);if(t instanceof pe){var r=n(e)(t.value2);if(r instanceof Y){var a=vg(793)(n,e,t.value4);return new W_(a.value0,a.value1,Da(t.value2,t.value3,a.value2,t.value5))}if(r instanceof j){var a=vg(796)(n,e,t.value5);return new W_(a.value0,Da(t.value2,t.value3,t.value4,a.value1),a.value2)}if(r instanceof ln)return new W_(new m(t.value3),t.value4,t.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): "+[t.constructor.name])}}),gg=vg(786),oM=Mi("unsafeSplitLast","Data.Map.Internal",function(){return function(n,e,t,r){if(r instanceof _e)return new tM(n,e,t);if(r instanceof pe){var a=oM(779)(r.value2,r.value3,r.value4,r.value5);return new tM(a.value0,a.value1,Da(n,e,t,a.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 776, column 37 - line 780, column 57): "+[r.constructor.name])}}),s3=oM(775),hg=function(n,e){if(n instanceof _e)return e;if(n instanceof pe){var t=s3(n.value2,n.value3,n.value4,n.value5);return Da(t.value0,t.value1,t.value2,e)}throw new Error("Failed pattern match at Data.Map.Internal (line 764, column 25 - line 768, column 38): "+[n.constructor.name,e.constructor.name])};var dg=Mi("unsafeUnionWith","Data.Map.Internal",function(){return function(n,e,t,r){if(t instanceof _e)return r;if(r instanceof _e)return t;if(r instanceof pe){var a=gg(n,r.value2,t),o=dg(809)(n,e,a.value1,r.value4),u=dg(810)(n,e,a.value2,r.value5);if(a.value0 instanceof m)return Da(r.value2,e(a.value0.value0)(r.value3),o,u);if(a.value0 instanceof v)return Da(r.value2,r.value3,o,u);throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): "+[a.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): "+[t.constructor.name,r.constructor.name])}}),p3=dg(803),yg=function(n){var e=tn(n);return function(t){return function(r){return function(a){return p3(e,t,r,a)}}}},$l=function(n){return yg(n)(k)};var bg=function(n){var e=tn(n);return function(t){return function(r){var a=gg(e,t,r);return f3(function(o){return new I(o,hg(a.value1,a.value2))})(a.value0)}}},U_=function(n){var e=tn(n);return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof _e)return o=!0,!1;if(f instanceof pe){var c=e(t)(f.value2);if(c instanceof Y){a=f.value4;return}if(c instanceof j){a=f.value5;return}if(c instanceof ln)return o=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}};var ft=function(n){var e=tn(n);return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof _e)return o=!0,v.value;if(f instanceof pe){var c=e(t)(f.value2);if(c instanceof Y){a=f.value4;return}if(c instanceof j){a=f.value5;return}if(c instanceof ln)return o=!0,new m(f.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}};var _3=(function(){var n=function(e){return function(t){var r=e,a=!1,o;function u(i,f){if(f instanceof _e)return a=!0,i;if(f instanceof pe){if(f.value5 instanceof _e){r=new mg(f.value2,f.value3,i),t=f.value4;return}r=new mg(f.value2,f.value3,new Dg(f.value5,i)),t=f.value4;return}throw new Error("Failed pattern match at Data.Map.Internal (line 951, column 13 - line 958, column 48): "+[f.constructor.name])}for(;!a;)o=u(r,t);return o}};return n})(),m3=l3(_3);var v3=(function(){var n=function(e,t,r){return new m(new I(new I(e,t),r))};return m3(n)(function(e){return v.value})})(),wi=function(n){var e=pa(n)(v3);return function(t){return e(c3(t))}};var Xe=function(n){var e=tn(n);return function(t){return function(r){var a=function(o){if(o instanceof _e)return Wl(t)(r);if(o instanceof pe){var u=e(t)(o.value2);if(u instanceof Y)return Da(o.value2,o.value3,a(o.value4),o.value5);if(u instanceof j)return Da(o.value2,o.value3,o.value4,a(o.value5));if(u instanceof ln)return new pe(o.value0,o.value1,t,r,o.value4,o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): "+[u.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): "+[o.constructor.name])};return a}}},Ul={map:function(n){var e=function(t){if(t instanceof _e)return _e.value;if(t instanceof pe)return new pe(t.value0,t.value1,t.value2,n(t.value3),e(t.value4),e(t.value5));throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 10 - line 150, column 39): "+[t.constructor.name])};return e}};var Fi={foldr:function(n){return function(e){var t=Mi("go","Data.Map.Internal",function(){return function(a,o){if(a instanceof _e)return o;if(a instanceof pe)return t(172)(a.value4,n(a.value3)(t(172)(a.value5,o)));throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): "+[a.constructor.name])}}),r=t(169);return function(a){return r(a,e)}}},foldl:function(n){return function(e){var t=Mi("go","Data.Map.Internal",function(){return function(a,o){if(o instanceof _e)return a;if(o instanceof pe)return t(178)(n(t(178)(a,o.value4))(o.value3),o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): "+[o.constructor.name])}}),r=t(175);return function(a){return r(e,a)}}},foldMap:function(n){var e=te(n),t=K(n.Semigroup0());return function(r){var a=function(o){if(o instanceof _e)return e;if(o instanceof pe)return t(a(o.value4))(t(r(o.value3))(a(o.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): "+[o.constructor.name])};return a}}},k_={foldrWithIndex:function(n){return function(e){var t=Mi("go","Data.Map.Internal",function(){return function(a,o){if(a instanceof _e)return o;if(a instanceof pe)return t(192)(a.value4,n(a.value2)(a.value3)(t(192)(a.value5,o)));throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): "+[a.constructor.name])}}),r=t(189);return function(a){return r(a,e)}}},foldlWithIndex:function(n){return function(e){var t=Mi("go","Data.Map.Internal",function(){return function(a,o){if(o instanceof _e)return a;if(o instanceof pe)return t(198)(n(o.value2)(t(198)(a,o.value4))(o.value3),o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): "+[o.constructor.name])}}),r=t(195);return function(a){return r(e,a)}}},foldMapWithIndex:function(n){var e=te(n),t=K(n.Semigroup0());return function(r){var a=function(o){if(o instanceof _e)return e;if(o instanceof pe)return t(a(o.value4))(t(r(o.value2)(o.value3))(a(o.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): "+[o.constructor.name])};return a}},Foldable0:function(){return Fi}},uM=(function(){return Ci(k_)(function(n){return function(e){return function(t){return new J(n,t)}}})(W.value)})();var kl=(function(){return Ne(Fi)(J.create)(W.value)})();var ne=(function(){return _e.value})(),ga=function(n){var e=Xe(n);return function(t){return ue(t)(function(r){return function(a){return e(a.value0)(a.value1)(r)}})(ne)}};var Yf=function(n){var e=tn(n);return function(t){var r=function(a){if(a instanceof _e)return _e.value;if(a instanceof pe){var o=e(t)(a.value2);if(o instanceof Y)return Da(a.value2,a.value3,r(a.value4),a.value5);if(o instanceof j)return Da(a.value2,a.value3,a.value4,r(a.value5));if(o instanceof ln)return hg(a.value4,a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 7 - line 501, column 43): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 8 - line 501, column 43): "+[a.constructor.name])};return r}};var Kf=function(n){var e=tn(n);return function(t){return function(r){return function(a){var o=gg(e,r,a),u=t(o.value0);if(u instanceof v)return hg(o.value1,o.value2);if(u instanceof m)return Da(r,u.value0,o.value1,o.value2);throw new Error("Failed pattern match at Data.Map.Internal (line 514, column 3 - line 518, column 41): "+[u.constructor.name])}}}};var D3=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})();var q_=function(n){return D3.create(en(n.Eq0()))(tn(n))},g3={eq:function(n){return function(e){return n.value0(n.value2)(e.value2)}}},iM={compare:function(n){return function(e){return n.value1(n.value2)(e.value2)}},Eq0:function(){return g3}};var Tg=ii(Yn)(iM);var E3=bg(Tg),C3=ft(Tg),M3=Xe(Tg);var fM=function(){return function(n){var e=Ze(n);return function(t){var r=q_(t);return function(a){return function(o){return function(u){return E3(new I(e(a),r(o)))(u)}}}}}},B_=function(){return function(n){var e=Ze(n);return function(t){var r=q_(t);return function(a){return function(o){return function(u){return C3(new I(e(a),r(o)))(u)}}}}}},cM=function(){return function(n){var e=Ze(n);return function(t){var r=q_(t);return function(a){return function(o){return function(u){return function(i){return M3(new I(e(a),r(o)))(u)(i)}}}}}}},lM=function(n){var e=Pe(n)(Fi);return function(t){return function(r){return e(function(a){return r(a)})(t)}}},Zf=ne;var Eg=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Si=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();function pM(n,e,t){return n==null?e:t(n)}function Bl(n){return n}var Ye=De(null)(Bl),fe=function(n){return pM(n,v.value,m.create)};var We=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Gl=A,hr=function(n,e){return n.value2(n.value1,e)},$e=A,yr=function(n){return n.value3(n.value1)},kt=Gl(function(n){return n.value0});var _M=T(Fn),G3=T(tu);var gu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Co=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),hu=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),yu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Mo=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),V3=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),mM=function(n){return function(e){return n(e)}};var J3=A;var z3={bimap:function(n){return function(e){return mM(function(t){return J3(new V3(function(r){return n(t.value0(r))},function(r){return e(t.value1(r))},t.value2))})}}},Q3=Ja(z3);var xi=mM(function(n){var e=function(t){if(t instanceof gu)return new gu(t.value0);if(t instanceof Co)return new Co(t.value0,t.value1,n.value0(t.value2),_M(e)(t.value3));if(t instanceof hu)return new hu(t.value0,t.value1,n.value0(t.value2),_M(G3(e))(t.value3));if(t instanceof yu)return new yu(n.value1(t.value0));if(t instanceof Mo)return new Mo(Q3(n.value0)(n.value1)(t.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[t.constructor.name])};return e(n.value2)});function Ii(n,e){return e[n]}function Mg(n,e){return e.hasOwnProperty(n)}function wo(n,e,t){t[n]=e}function wg(n,e){for(var t=[],r=0;r<n.length;r++)t.push(e(r,n[r]));return t}function Fg(n,e){for(var t=0;t<n.length;t++)e(n[t])}function Sg(n,e){for(var t=Object.keys(n),r=0;r<t.length;r++){var a=t[r];e(a,n[a])}}function xg(n,e,t,r,a){for(var o=[],u=n.length,i=e.length,f=0;;){if(f<u)f<i?o.push(t(f,n[f],e[f])):r(f,n[f]);else if(f<i)o.push(a(f,e[f]));else break;f++}return o}function Vl(n,e,t){for(var r={},a=0;a<n.length;a++){var o=n[a],u=e(o);r[u]=t(u,a,o)}return r}function Jl(n,e,t,r,a,o){for(var u={},i=0;i<e.length;i++){var f=e[i],c=t(f);n.hasOwnProperty(c)?u[c]=r(c,i,n[c],f):u[c]=o(c,i,f)}for(var c in n)c in u||a(c,n[c]);return u}function Ai(n,e){return n===e}function Ig(n,e){return e.createTextNode(n)}function Ag(n,e){e.textContent=n}function z_(n,e,t){return n!=null?t.createElementNS(n,e):t.createElement(e)}function bu(n,e,t){var r=t.childNodes.item(n)||null;r!==e&&t.insertBefore(e,r)}function zl(n,e){e&&n.parentNode===e&&e.removeChild(n)}function Ql(n){return n.parentNode}function Q_(n,e,t,r){n!=null?r.setAttributeNS(n,e,t):r.setAttribute(e,t)}function j_(n,e,t){n!=null?t.removeAttributeNS(n,e):t.removeAttribute(e)}function Lg(n,e,t){return n!=null?t.hasAttributeNS(n,e):t.hasAttribute(e)}function Ng(n,e,t){t.addEventListener(n,e,!1)}function Pg(n,e,t){t.removeEventListener(n,e,!1)}var Rg=void 0;var jl=function(){return{}};function X_(n){return function(e){return function(t){return function(){return t[n]=e,t}}}}var Og=Ii,Hg=A,Wg=wo,$g=jl;var Y_=function(n){return function(e){return e[n]}},Z3=Y_("namespaceURI"),nW=Y_("prefix"),eW=Y_("localName"),tW=Y_("tagName");function K_(n){return function(){return n.classList}}function Xl(n){return function(e){return function(t){return function(){t.setAttribute(n,e)}}}}var Z_=function(n){return function(e){return function(){return e[n]}}},aW=Z_("children"),oW=Z_("firstElementChild"),uW=Z_("lastElementChild"),iW=Z_("childElementCount");function dM(n){return function(e){return function(){return e.querySelector(n)}}}function nm(n){return function(e){return function(){return e.querySelectorAll(n)}}}var cW=T(Pn);var Fo=function(n){var e=cW(fe),t=dM(n);return function(r){return e(t(r))}};function DM(n,e,t,r){if(typeof window<"u"){var a=window[t];if(a!=null&&r instanceof a)return e(r)}for(var o=r;o!=null;){var u=Object.getPrototypeOf(o),i=u.constructor.name;if(i===t)return e(r);if(i==="Object")return n;o=u}return n}var un=function(n){return function(e){return DM(v.value,m.create,n,e)}};var kg=A;var Xt=A;var qg=un("Element");var Yl=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var Bg=function(n){return yr(n.widget)},Gg=Yl("patchWidget","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Mo)return Gg(291)(n,xi(e.value0));if(e instanceof yu){var t=hr(n.widget,e.value0),r=Gl(function(a){return $e(new We(a.value0,{build:n.build,widget:t},Gg(296),Bg))})(t);return r}return Bg(n),n.build(e)}}),_W=Gg(286),rm=function(n){var e=Ql(n.node);return zl(n.node,e)},am=Yl("patchText","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Mo)return am(82)(n,xi(e.value0));if(e instanceof gu){if(n.value===e.value0)return $e(new We(n.node,n,am(85),rm));if(le){var t={build:n.build,node:n.node,value:e.value0};return Ag(e.value0,n.node),$e(new We(n.node,t,am(89),rm))}}return rm(n),n.build(e)}}),mW=am(77),om=function(n){var e=Ql(n.node);return zl(n.node,e),Sg(n.children,function(t,r){return yr(r)}),yr(n.attrs)},um=function(n){var e=Ql(n.node);return zl(n.node,e),Fg(n.children,yr),yr(n.attrs)},gM=function(n,e,t,r){var a=e===r;return a?n instanceof m&&t instanceof m&&n.value0===t.value0||n instanceof v&&t instanceof v:!1},im=Yl("patchElem","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Mo)return im(135)(n,xi(e.value0));if(e instanceof Co&&gM(n.ns,n.name,e.value0,e.value1)){var t=Q(e.value3),r=Q(n.children);if(r===0&&t===0){var f=hr(n.attrs,e.value2),c={build:n.build,node:n.node,attrs:f,ns:e.value0,name:e.value1,children:n.children};return $e(new We(n.node,c,im(149),um))}var a=function(l,s){return yr(s)},o=function(l,s,p){var _=hr(s,p);return bu(l,kt(_),n.node),_},u=function(l,s){var p=n.build(s);return bu(l,kt(p),n.node),p},i=xg(n.children,e.value3,o,a,u),f=hr(n.attrs,e.value2),c={build:n.build,node:n.node,attrs:f,ns:e.value0,name:e.value1,children:i};return $e(new We(n.node,c,im(172),um))}return um(n),n.build(e)}}),vW=im(130),fm=Yl("patchKeyed","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Mo)return fm(222)(n,xi(e.value0));if(e instanceof hu&&gM(n.ns,n.name,e.value0,e.value1)){var t=Q(e.value3);if(n.length===0&&t===0){var i=hr(n.attrs,e.value2),f={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:n.children,length:0};return $e(new We(n.node,f,fm(237),om))}var r=function(c,l){return yr(l)},a=function(c,l,s,p){var _=hr(s,p.value1);return bu(l,kt(_),n.node),_},o=function(c,l,s){var p=n.build(s.value1);return bu(l,kt(p),n.node),p},u=Jl(n.children,e.value3,de,a,r,o),i=hr(n.attrs,e.value2),f={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:u,length:t};return $e(new We(n.node,f,fm(261),om))}return om(n),n.build(e)}}),dW=fm(217),DW=function(n,e,t){var r=n.buildWidget(n)(t),a=Gl(function(o){return $e(new We(o.value0,{build:e,widget:r},_W,Bg))})(r);return a},gW=function(n,e,t){var r=Ig(t,n.document),a={build:e,node:r,value:t};return $e(new We(r,a,mW,rm))},hW=function(n,e,t,r,a,o){var u=z_(Ye(t),r,n.document),i=Xt(u),f=function(p,_,D){var d=e(D.value1);return bu(_,kt(d),i),d},c=Vl(o,de,f),l=n.buildAttributes(u)(a),s={build:e,node:i,attrs:l,ns:t,name:r,children:c,length:Q(o)};return $e(new We(i,s,dW,om))},yW=function(n,e,t,r,a,o){var u=z_(Ye(t),r,n.document),i=Xt(u),f=function(p,_){var D=e(_);return bu(p,kt(D),i),D},c=wg(o,f),l=n.buildAttributes(u)(a),s={build:e,node:i,attrs:l,ns:t,name:r,children:c};return $e(new We(i,s,vW,um))},Kl=function(n){var e=Yl("build","Halogen.VDom.DOM",function(){return function(r){if(r instanceof gu)return gW(n,e(59),r.value0);if(r instanceof Co)return yW(n,e(60),r.value0,r.value1,r.value2,r.value3);if(r instanceof hu)return hW(n,e(61),r.value0,r.value1,r.value2,r.value3);if(r instanceof yu)return DW(n,e(62),r.value0);if(r instanceof Mo)return e(63)(xi(r.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[r.constructor.name])}}),t=e(58);return t};function cm(n){return typeof n}function lm(n){return Object.prototype.toString.call(n).slice(8,-1)}var yM=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function Qa(n){return new Error(n)}function Zl(n){return n.message}function Tu(n){return function(){throw n}}var TM=function(n){return Tu(Qa(n))};var br=function(n){return n.throwError};var ja=function(n){return n.catchError};var ns=function(n){var e=ja(n),t=n.MonadThrow0().Monad0(),r=T(t.Bind1().Apply0().Functor0()),a=N(t.Applicative0());return function(o){return e(r(V.create)(o))(function(u){return a(Z.create(u))})}};var ce={liftEffect:dn(hn),Monad0:function(){return sa}},On=function(n){return n.liftEffect};var CW=T(iu);var zg=function(n){return n};var Qg=function(n){return n};var _m=function(n){return function(e){return n(e)}},EM=function(n){var e=T(n);return{map:function(t){return _m(e(CW(t)))}}};var CM=function(n){return{Applicative0:function(){return rc(n)},Bind1:function(){return us(n)}}},us=function(n){var e=B(n.Bind1()),t=N(n.Applicative0());return{bind:function(r){return function(a){return e(r)(tr(function(o){return t(Z.create(o))})(function(o){var u=a(o);return u}))}},Apply0:function(){return jg(n)}}},jg=function(n){var e=EM(n.Bind1().Apply0().Functor0());return{apply:Qt(CM(n)),Functor0:function(){return e}}},rc=function(n){return{pure:(function(){var e=N(n.Applicative0());return function(t){return zg(e(V.create(t)))}})(),Apply0:function(){return jg(n)}}};var MM=function(n){var e=CM(n);return{throwError:(function(){var t=N(n.Applicative0());return function(r){return zg(t(Z.create(r)))}})(),Monad0:function(){return e}}};var wM=function(n){var e=K(n);return function(t){var r=t.Bind1(),a=B(r),o=N(t.Applicative0()),u=EM(r.Apply0().Functor0());return{alt:function(i){return function(f){return a(i)(function(c){if(c instanceof V)return o(new V(c.value0));if(c instanceof Z)return a(f)(function(l){if(l instanceof V)return o(new V(l.value0));if(l instanceof Z)return o(new Z(e(c.value0)(l.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[l.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[c.constructor.name])})}},Functor0:function(){return u}}}};var IW=ue(Ae);var Cu=(function(){var n=function(e){return function(t){var r=e,a=!1,o;function u(i,f){if(f instanceof W)return a=!0,i;if(f instanceof J){r=new J(f.value0,i),t=f.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[i.constructor.name,f.constructor.name])}for(;!a;)o=u(r,t);return o}};return n(W.value)})();var Ni=function(n){return function(e){return function(t){var r=function(a){return function(o){return function(u){var i=a,f=o,c=!1,l;function s(p,_,D){if(p instanceof W||_ instanceof W)return c=!0,D;if(p instanceof J&&_ instanceof J){i=p.value1,f=_.value1,u=new J(n(p.value0)(_.value0),D);return}throw new Error("Failed pattern match at Data.List (line 779, column 3 - line 779, column 21): "+[p.constructor.name,_.constructor.name,D.constructor.name])}for(;!c;)l=s(i,f,u);return l}}};return Cu(r(e)(t)(W.value))}}};var FM=function(n){return n instanceof W};var mm=IW(function(n){return function(e){return n+1|0}})(0);var Mu=function(n){return Ne(n)(J.create)(W.value)};var SM=function(n){return n()};var xM=function(n){throw new Error(n)};var IM=function(){return xM};var PW=IM(),RW=SM,Yt=function(n){return RW(function(){return PW(n)})};var dm=(function(){var n=sg(eM);return function(e){return pg(n(e))}})();var AM=function(n){return n.value0};var LM=function(n){return function(e){return new da(n,new J(e.value0,e.value1))}};var $W=U(mr),UW=U(xe);var Xg=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Yg=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),RM=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),OM=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),xo=A,kW=A;var gm=function(n){if(n instanceof Xg)return n.value0;if(n instanceof RM)return"Error at array index "+(UW(n.value0)+(": "+gm(n.value1)));if(n instanceof OM)return"Error at property "+($W(n.value0)+(": "+gm(n.value1)));if(n instanceof Yg)return"Type mismatch: expected "+(n.value0+(", found "+n.value1));throw new Error("Failed pattern match at Foreign (line 78, column 1 - line 78, column 45): "+[n.constructor.name])};var hm=function(n){var e=br(MM(n));return function(t){return e(dm(t))}};var HM=function(n){var e=N(rc(n)),t=hm(n);return function(r){return function(a){if(lm(a)===r)return e(kW(a));if(le)return t(new Yg(r,lm(a)));throw new Error("Failed pattern match at Foreign (line 123, column 1 - line 123, column 104): "+[r.constructor.name,a.constructor.name])}}};function WM(n){return function(){var e={};for(var t in n)hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}}var Ya={};function bm(n){return n()}function $M(n,e){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=e(n[r]));return t}function UM(n,e){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=e(r)(n[r]));return t}function kM(n){return function(e){return function(t){return function(r){var a=t;function o(i){return function(f){return e(f)(i)(r[i])}}for(var u in r)hasOwnProperty.call(r,u)&&(a=n(a)(o(u)));return a}}}}function is(n){var e=0;for(var t in n)hasOwnProperty.call(n,t)&&++e;return e}function qM(n,e,t,r){return t in r?e(r[t]):n}function ac(n){return function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(n(r)(e[r]));return t}}var Tm=Object.keys||ac(function(n){return function(){return n}});var GW=se(li),BM=Ne(gn),VW=dn(hn);var JW=ac(function(n){return function(e){return e}}),GM=function(n){var e=$D(n),t=ac(I.create);return function(r){return e(t(r))}};var zW=WM;var QW=function(n){return function(e){return bm(function(){var r=zW(e)();return n(r)(),r})}};var jW=function(n){return function(e){return UM(e,n)}},ht=(function(){return pi(qM)(v.value)(m.create)})();var XW=function(n){return function(e){return QW(X_(n)(e))}},VM={map:function(n){return function(e){return $M(e,n)}}},YW={mapWithIndex:jW,Functor0:function(){return VM}};var Io=function(n){var e=Ar(n);return function(t){return bm(function(){var a=jl();return yl(e(t))(function(o){return GW(X_(o.value0)(o.value1)(a))})(),a})}};var Em=kM(lT),JM=function(n){var e=K(n.Semigroup0()),t=te(n);return function(r){return Em(function(a){return function(o){return function(u){return e(a)(r(o)(u))}}})(t)}},zM={foldl:function(n){return Em(function(e){return function(t){return n(e)}})},foldr:function(n){return function(e){return function(t){return BM(n)(e)(JW(t))}}},foldMap:function(n){var e=JM(n);return function(t){return e(k(t))}}},KW={foldlWithIndex:function(n){return Em(Gn(n))},foldrWithIndex:function(n){return function(e){return function(t){return BM(f_(n))(e)(ac(I.create)(t))}}},foldMapWithIndex:function(n){return JM(n)},Foldable0:function(){return zM}},ZW={traverseWithIndex:function(n){var e=n.Apply0(),t=Xn(e),r=T(e.Functor0()),a=N(n);return function(o){return function(u){return Em(function(i){return function(f){return function(c){return t(r(Gn(XW(f)))(i))(o(f)(c))}}})(a(Ya))(u)}}},FunctorWithIndex0:function(){return YW},FoldableWithIndex1:function(){return KW},Traversable2:function(){return Cm}},Cm={traverse:function(n){var e=Du(ZW)(n);return function(t){return e(k(t))}},sequence:function(n){return Ie(Cm)(n)(VW)},Functor0:function(){return VM},Foldable1:function(){return zM}};function Mm(n){return function(){return function(e){return n(e)()}}}var t$=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var XM=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),YM=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ao=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),wu=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Fu=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),oc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),r$=Ii,Kg=wo,a$=function(n,e){var t=Lg(null,n,e);if(t)return j_(null,n,e);var r=cm(Ii(n,e));return r==="string"?wo(n,"",e):n==="rowSpan"?wo(n,1,e):n==="colSpan"?wo(n,1,e):wo(n,Rg,e)},jM=function(n){if(n instanceof Ao&&n.value0 instanceof m)return"attr/"+(n.value0.value0+(":"+n.value1));if(n instanceof Ao)return"attr/:"+n.value1;if(n instanceof wu)return"prop/"+n.value0;if(n instanceof Fu)return"handler/"+n.value0;if(n instanceof oc)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},KM=A;var ZM=function(n){return function(e){var t=function(l){return function(s,p){if(p instanceof Ao)return j_(Ye(p.value0),p.value1,e);if(p instanceof wu)return a$(p.value0,e);if(p instanceof Fu){var _=Og(p.value0,l);return Pg(p.value0,de(_),e)}if(p instanceof oc)return void 0;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[p.constructor.name])}},r=function(l){return l instanceof m?n(l.value0)():void 0},a=function(l){var s=ht("ref")(l.props);return s instanceof m&&s.value0 instanceof oc?r(s.value0.value0(new YM(e))):void 0},o=function(l,s){return function(p,_,D,d){if(D instanceof Ao&&d instanceof Ao){var g=D.value2===d.value2;return g||Q_(Ye(d.value0),d.value1,d.value2,e),d}if(D instanceof wu&&d instanceof wu){var y=Ai(D.value1,d.value1);if(y)return d;if(d.value0==="value"){var C=r$("value",e),w=Ai(C,d.value1);return w||Kg(d.value0,d.value1,e),d}return Kg(d.value0,d.value1,e),d}if(D instanceof Fu&&d instanceof Fu){var b=Og(d.value0,l);return Dn(d.value1)(ve(b))(),Wg(d.value0,b,s),d}return d}},u=function(l){return function(s,p,_){if(_ instanceof Ao)return Q_(Ye(_.value0),_.value1,_.value2,e),_;if(_ instanceof wu)return Kg(_.value0,_.value1,e),_;if(_ instanceof Fu){var D=Ii(_.value0,l);if(Mg(_.value0,l))return Dn(_.value1)(ve(D))(),_;var d=Vn(_.value1)(),g=Mm(function(y){return function(){var w=H(d)();return r(w(y))}})();return Wg(_.value0,new I(g,d),l),Ng(_.value0,g,e),_}if(_ instanceof oc)return r(_.value0(new XM(e))),_;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[_.constructor.name])}},i=t$("patchProp","Halogen.VDom.DOM.Prop",function(){return function(l,s){var p=$g(),_=t(l.events),D=o(l.events,p),d=u(p),g=Jl(l.props,s,jM,D,_,d),y={events:Hg(p),props:g};return $e(new We(void 0,y,i(100),a))}}),f=i(87),c=function(l){var s=$g(),p=Vl(l,jM,u(s)),_={events:Hg(s),props:p};return $e(new We(void 0,_,f,a))};return c}};var nh=function(n){return n},rw=function(n){return nh(yu.create(n))},i$=function(n){return n.toPropValue},lt=function(n){return nh(gu.create(n))};var aw=function(n){var e=i$(n);return function(t){var r=wu.create(t);return function(a){return r(e(a))}}};var ow={toPropValue:KM};var eh=(function(){return Fu.create})(),th=function(n){return function(e){return function(t){return function(r){return new Co(n,e,t,r)}}}};var uw=function(n){return function(e){return Ao.create(n)(e)}};var f$=dn(hn);var wm=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),rh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ah=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),iw=function(n){return function(e){return new ah(n,e)}},fw=(function(){return rh.create})(),cw=function(n){var e=N(n);return function(t){return function(r){return function(a){return function(o){return function(u){if(o instanceof wm)return new I(new J({func:e(o.value0),count:u},t),r);if(o instanceof rh)return new I(new J({func:a(o.value0),count:u},t),r);if(o instanceof ah)return cw(n)(t)(LM(o.value1)(r))(a)(o.value0)(u+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[o.constructor.name])}}}}}},lw=function(n){var e=Xn(n.Apply0());return function(t){return function(r){return function(a){if(t instanceof W)return new Z(a);if(t instanceof J){var o=e(t.value0.func)(a),u=t.value0.count===1;if(u)return t.value1 instanceof W?new Z(o):lw(n)(t.value1)(r)(o);if(r instanceof W)return new Z(o);if(r instanceof J)return new V(new I(new J({func:o,count:t.value0.count-1|0},t.value1),new da(r.value0,r.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[r.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[t.constructor.name])}}}},sw={map:function(n){return function(e){return iw(new wm(n))(e)}}},pw=function(n){var e=lw(n),t=N(n),r=cw(n);return function(a){return function(o){var u=function(i){var f=!1,c;function l(s){if(s.value1.value0 instanceof wm){var p=e(s.value0)(s.value1.value1)(t(s.value1.value0.value0));if(p instanceof Z)return f=!0,p.value0;if(p instanceof V){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[p.constructor.name])}if(s.value1.value0 instanceof rh){var p=e(s.value0)(s.value1.value1)(a(s.value1.value0.value0));if(p instanceof Z)return f=!0,p.value0;if(p instanceof V){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[p.constructor.name])}if(s.value1.value0 instanceof ah){var _=new da(s.value1.value0.value1,s.value1.value1);i=r(s.value0)(_)(a)(s.value1.value0.value0)(1);return}throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[s.value1.value0.constructor.name])}for(;!f;)c=l(i);return c};return u(new I(W.value,dm(o)))}}},_w=function(n){return pw(n)(f$)},mw={apply:function(n){return function(e){return iw(n)(e)}},Functor0:function(){return sw}},vw=(function(){return{pure:wm.create,Apply0:function(){return mw}}})(),c$=pw(vw),oh=function(n){return c$(function(e){return fw(n(e))})};var Fm=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var Dw=function(n){var e=!1,t;function r(a){if(a.value0 instanceof W&&a.value1 instanceof W)return e=!0,v.value;if(a.value0 instanceof W){n=new Fm(Cu(a.value1),W.value);return}if(a.value0 instanceof J)return e=!0,new m(new I(a.value0.value0,new Fm(a.value0.value1,a.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[a.constructor.name])}for(;!e;)t=r(n);return t},gw=function(n){return function(e){return new Fm(n.value0,new J(e,n.value1))}};var hw=function(n){return n.value0 instanceof W&&n.value1 instanceof W};var yw=(function(){return new Fm(W.value,W.value)})();var uc=(function(){function n(){}return n.value=new n,n})(),Sm=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var bw=function(n){return function(e){if(n instanceof uc)return e;if(e instanceof uc)return n;if(n instanceof Sm)return new Sm(n.value0,gw(n.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[n.constructor.name,e.constructor.name])}},s$=function(n){return function(e){return function(t){var r=function(o){return function(u){return function(i){var f=o,c=u,l=!1,s;function p(_,D,d){if(d instanceof W)return l=!0,D;if(d instanceof J){f=_,c=_(D)(d.value0),i=d.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[_.constructor.name,D.constructor.name,d.constructor.name])}for(;!l;)s=p(f,c,i);return s}}},a=function(o){return function(u){var i=o,f=!1,c;function l(s,p){var _=Dw(s);if(_ instanceof v)return f=!0,r(function(D){return function(d){return d(D)}})(e)(p);if(_ instanceof m){i=_.value0.value1,u=new J(n(_.value0.value0),p);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[_.constructor.name])}for(;!f;)c=l(i,u);return c}};return a(t)(W.value)}}},uh=function(n){if(n instanceof uc)return v.value;if(n instanceof Sm)return new m(new I(n.value0,(function(){var e=hw(n.value1);return e?uc.value:s$(bw)(uc.value)(n.value1)})()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[n.constructor.name])};var Tw=(function(){return uc.value})(),Ew=bw;var ih={append:Ew};var Cw=function(n){return function(e){return Ew(n)(new Sm(e,yw))}};var p$=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},_$=K(ih);var fh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),xm=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Im=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),m$=function(n){var e=!1,t;function r(a){var o=function(f){return f},u=function(f){return function(c){return new fh(f.value0,_$(f.value1)(c))}};if(a.value0 instanceof xm){var i=uh(a.value1);if(i instanceof v)return e=!0,new xm(a.value0.value0);if(i instanceof m){n=u(o(i.value0.value0)(a.value0.value0))(i.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(a.value0 instanceof Im)return e=!0,new Im(a.value0.value0,function(f){return u(a.value0.value1(f))(a.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[a.value0.constructor.name])}for(;!e;)t=r(n);return t};var ww=function(n){return new fh(n,Tw)};var ch={Applicative0:function(){return fs},Bind1:function(){return Am}},lh={map:function(n){return function(e){return Re(Am)((function(){var t=N(fs);return function(r){return t(n(r))}})())(e)}}},Am={bind:function(n){return function(e){return new fh(n.value0,Cw(n.value1)(e))}},Apply0:function(){return Fw(0)}},fs={pure:function(n){return ww(xm.create(n))},Apply0:function(){return Fw(0)}},Fw=p$("freeApply","Control.Monad.Free",function(){return{apply:Qt(ch),Functor0:function(){return lh}}});var v$=N(fs);var Ri=function(n){return ww(new Im(n,function(e){return v$(e)}))};var Sw=function(n){var e=n.Monad0(),t=T(e.Bind1().Apply0().Functor0()),r=N(e.Applicative0()),a=Vr(n);return function(o){var u=function(i){var f=m$(i);if(f instanceof xm)return t(dt.create)(r(f.value0));if(f instanceof Im)return t(function(c){return wt.create(f.value1(c))})(o(f.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[f.constructor.name])};return a(u)}};var ic=function(n){var e=null;return function(){return n===void 0||(e=n(),n=void 0),e}},fc=function(n){return n()};var It=(function(){var n={},e="Pure",t="Throw",r="Catch",a="Sync",o="Async",u="Bind",i="Bracket",f="Fork",c="Sequential",l="Map",s="Apply",p="Alt",_="Cons",D="Resume",d="Release",g="Finalizer",y="Finalized",C="Forked",w="Fiber",b="Thunk";function h(nn,xn,re,Jn){this.tag=nn,this._1=xn,this._2=re,this._3=Jn}function F(nn){var xn=function(re,Jn,cn){return new h(nn,re,Jn,cn)};return xn.tag=nn,xn}function R(nn){return new h(e,void 0)}function $(nn){try{nn()}catch(xn){setTimeout(function(){throw xn},0)}}function rn(nn,xn,re){try{return xn(re())}catch(Jn){return nn(Jn)}}function _n(nn,xn,re){try{return xn(re)()}catch(Jn){return re(nn(Jn))(),R}}var M=(function(){var nn=1024,xn=0,re=0,Jn=new Array(nn),cn=!1;function q(){var ee;for(cn=!0;xn!==0;)xn--,ee=Jn[re],Jn[re]=void 0,re=(re+1)%nn,ee();cn=!1}return{isDraining:function(){return cn},enqueue:function(ee){var zn,He;xn===nn&&(He=cn,q(),cn=He),Jn[(re+xn)%nn]=ee,xn++,cn||q()}}})();function Ln(nn){var xn={},re=0,Jn=0;return{register:function(cn){var q=re++;cn.onComplete({rethrow:!0,handler:function(ee){return function(){Jn--,delete xn[q]}}})(),xn[q]=cn,Jn++},isEmpty:function(){return Jn===0},killAll:function(cn,q){return function(){if(Jn===0)return q();var ee=0,zn={};function He(be){zn[be]=xn[be].kill(cn,function(Qe){return function(){delete zn[be],ee--,nn.isLeft(Qe)&&nn.fromLeft(Qe)&&setTimeout(function(){throw nn.fromLeft(Qe)},0),ee===0&&q()}})()}for(var bt in xn)xn.hasOwnProperty(bt)&&(ee++,He(bt));return xn={},re=0,Jn=0,function(be){return new h(a,function(){for(var Qe in zn)zn.hasOwnProperty(Qe)&&zn[Qe]()})}}}}}var Sn=0,E=1,z=2,L=3,X=4,pn=5,En=6;function qn(nn,xn,re){var Jn=0,cn=Sn,q=re,ee=null,zn=null,He=null,bt=null,be=null,Qe=0,Zu=0,Ur=null,jo=!0;function Xo(Mn){for(var wn,Zn,ae;;)switch(wn=null,Zn=null,ae=null,cn){case z:cn=E;try{q=He(q),bt===null?He=null:(He=bt._1,bt=bt._2)}catch(Rt){cn=pn,ee=nn.left(Rt),q=null}break;case L:nn.isLeft(q)?(cn=pn,ee=q,q=null):He===null?cn=pn:(cn=z,q=nn.fromRight(q));break;case E:switch(q.tag){case u:He&&(bt=new h(_,He,bt)),He=q._2,cn=E,q=q._1;break;case e:He===null?(cn=pn,q=nn.right(q._1)):(cn=z,q=q._1);break;case a:cn=L,q=rn(nn.left,nn.right,q._1);break;case o:cn=X,q=_n(nn.left,q._1,function(Rt){return function(){Jn===Mn&&(Jn++,M.enqueue(function(){Jn===Mn+1&&(cn=L,q=Rt,Xo(Jn))}))}});return;case t:cn=pn,ee=nn.left(q._1),q=null;break;case r:He===null?be=new h(_,q,be,zn):be=new h(_,q,new h(_,new h(D,He,bt),be,zn),zn),He=null,bt=null,cn=E,q=q._1;break;case i:Qe++,He===null?be=new h(_,q,be,zn):be=new h(_,q,new h(_,new h(D,He,bt),be,zn),zn),He=null,bt=null,cn=E,q=q._1;break;case f:cn=L,wn=qn(nn,xn,q._2),xn&&xn.register(wn),q._1&&wn.run(),q=nn.right(wn);break;case c:cn=E,q=ke(nn,xn,q._1);break}break;case pn:if(He=null,bt=null,be===null)cn=En,q=zn||ee||q;else switch(wn=be._3,ae=be._1,be=be._2,ae.tag){case r:zn&&zn!==wn&&Qe===0?cn=pn:ee&&(cn=E,q=ae._2(nn.fromLeft(ee)),ee=null);break;case D:zn&&zn!==wn&&Qe===0||ee?cn=pn:(He=ae._1,bt=ae._2,cn=z,q=nn.fromRight(q));break;case i:Qe--,ee===null&&(Zn=nn.fromRight(q),be=new h(_,new h(d,ae._2,Zn),be,wn),(zn===wn||Qe>0)&&(cn=E,q=ae._3(Zn)));break;case d:be=new h(_,new h(y,q,ee),be,zn),cn=E,zn&&zn!==wn&&Qe===0?q=ae._1.killed(nn.fromLeft(zn))(ae._2):ee?q=ae._1.failed(nn.fromLeft(ee))(ae._2):q=ae._1.completed(nn.fromRight(q))(ae._2),ee=null,Qe++;break;case g:Qe++,be=new h(_,new h(y,q,ee),be,zn),cn=E,q=ae._1;break;case y:Qe--,cn=pn,q=ae._1,ee=ae._2;break}break;case En:for(var Be in Ur)Ur.hasOwnProperty(Be)&&(jo=jo&&Ur[Be].rethrow,$(Ur[Be].handler(q)));Ur=null,zn&&ee?setTimeout(function(){throw nn.fromLeft(ee)},0):nn.isLeft(q)&&jo&&setTimeout(function(){if(jo)throw nn.fromLeft(q)},0);return;case Sn:cn=E;break;case X:return}}function qe(Mn){return function(){if(cn===En)return jo=jo&&Mn.rethrow,Mn.handler(q)(),function(){};var wn=Zu++;return Ur=Ur||{},Ur[wn]=Mn,function(){Ur!==null&&delete Ur[wn]}}}function In(Mn,wn){return function(){if(cn===En)return wn(nn.right(void 0))(),function(){};var Zn=qe({rethrow:!1,handler:function(){return wn(nn.right(void 0))}})();switch(cn){case Sn:zn=nn.left(Mn),cn=En,q=zn,Xo(Jn);break;case X:zn===null&&(zn=nn.left(Mn)),Qe===0&&(cn===X&&(be=new h(_,new h(g,q(Mn)),be,zn)),cn=pn,q=null,ee=null,Xo(++Jn));break;default:zn===null&&(zn=nn.left(Mn)),Qe===0&&(cn=pn,q=null,ee=null)}return Zn}}function jn(Mn){return function(){var wn=qe({rethrow:!1,handler:Mn})();return cn===Sn&&Xo(Jn),wn}}return{kill:In,join:jn,onComplete:qe,isSuspended:function(){return cn===Sn},run:function(){cn===Sn&&(M.isDraining()?Xo(Jn):M.enqueue(function(){Xo(Jn)}))}}}function Me(nn,xn,re,Jn){var cn=0,q={},ee=0,zn={},He=new Error("[ParAff] Early exit"),bt=null,be=n;function Qe(qe,In,jn){var Mn=In,wn=null,Zn=null,ae=0,Be={},Rt,il;n:for(;;)switch(Rt=null,Mn.tag){case C:if(Mn._3===n&&(Rt=q[Mn._1],Be[ae++]=Rt.kill(qe,function($R){return function(){ae--,ae===0&&jn($R)()}})),wn===null)break n;Mn=wn._2,Zn===null?wn=null:(wn=Zn._1,Zn=Zn._2);break;case l:Mn=Mn._2;break;case s:case p:wn&&(Zn=new h(_,wn,Zn)),wn=Mn,Mn=Mn._1;break}if(ae===0)jn(nn.right(void 0))();else for(il=0,Rt=ae;il<Rt;il++)Be[il]=Be[il]();return Be}function Zu(qe,In,jn){var Mn,wn,Zn,ae,Be,Rt;for(nn.isLeft(qe)?(Mn=qe,wn=null):(wn=qe,Mn=null);;){if(Zn=null,ae=null,Be=null,Rt=null,bt!==null)return;if(In===null){Jn(Mn||wn)();return}if(In._3!==n)return;switch(In.tag){case l:Mn===null?(In._3=nn.right(In._1(nn.fromRight(wn))),wn=In._3):In._3=Mn;break;case s:if(Zn=In._1._3,ae=In._2._3,Mn){if(In._3=Mn,Be=!0,Rt=ee++,zn[Rt]=Qe(He,Mn===Zn?In._2:In._1,function(){return function(){delete zn[Rt],Be?Be=!1:jn===null?Zu(Mn,null,null):Zu(Mn,jn._1,jn._2)}}),Be){Be=!1;return}}else{if(Zn===n||ae===n)return;wn=nn.right(nn.fromRight(Zn)(nn.fromRight(ae))),In._3=wn}break;case p:if(Zn=In._1._3,ae=In._2._3,Zn===n&&nn.isLeft(ae)||ae===n&&nn.isLeft(Zn))return;if(Zn!==n&&nn.isLeft(Zn)&&ae!==n&&nn.isLeft(ae))Mn=wn===Zn?ae:Zn,wn=null,In._3=Mn;else if(In._3=wn,Be=!0,Rt=ee++,zn[Rt]=Qe(He,wn===Zn?In._2:In._1,function(){return function(){delete zn[Rt],Be?Be=!1:jn===null?Zu(wn,null,null):Zu(wn,jn._1,jn._2)}}),Be){Be=!1;return}break}jn===null?In=null:(In=jn._1,jn=jn._2)}}function Ur(qe){return function(In){return function(){delete q[qe._1],qe._3=In,Zu(In,qe._2._1,qe._2._2)}}}function jo(){var qe=E,In=re,jn=null,Mn=null,wn,Zn;n:for(;;)switch(wn=null,Zn=null,qe){case E:switch(In.tag){case l:jn&&(Mn=new h(_,jn,Mn)),jn=new h(l,In._1,n,n),In=In._2;break;case s:jn&&(Mn=new h(_,jn,Mn)),jn=new h(s,n,In._2,n),In=In._1;break;case p:jn&&(Mn=new h(_,jn,Mn)),jn=new h(p,n,In._2,n),In=In._1;break;default:Zn=cn++,qe=pn,wn=In,In=new h(C,Zn,new h(_,jn,Mn),n),wn=qn(nn,xn,wn),wn.onComplete({rethrow:!1,handler:Ur(In)})(),q[Zn]=wn,xn&&xn.register(wn)}break;case pn:if(jn===null)break n;jn._1===n?(jn._1=In,qe=E,In=jn._2,jn._2=n):(jn._2=In,In=jn,Mn===null?jn=null:(jn=Mn._1,Mn=Mn._2))}for(be=In,Zn=0;Zn<cn;Zn++)q[Zn].run()}function Xo(qe,In){bt=nn.left(qe);var jn;for(var Mn in zn)if(zn.hasOwnProperty(Mn)){jn=zn[Mn];for(Mn in jn)jn.hasOwnProperty(Mn)&&jn[Mn]()}zn=null;var wn=Qe(qe,be,In);return function(Zn){return new h(o,function(ae){return function(){for(var Be in wn)wn.hasOwnProperty(Be)&&wn[Be]();return R}})}}return jo(),function(qe){return new h(o,function(In){return function(){return Xo(qe,In)}})}}function ke(nn,xn,re){return new h(o,function(Jn){return function(){return Me(nn,xn,re,Jn)}})}return h.EMPTY=n,h.Pure=F(e),h.Throw=F(t),h.Catch=F(r),h.Sync=F(a),h.Async=F(o),h.Bind=F(u),h.Bracket=F(i),h.Fork=F(f),h.Seq=F(c),h.ParMap=F(l),h.ParApply=F(s),h.ParAlt=F(p),h.Fiber=qn,h.Supervisor=Ln,h.Scheduler=M,h.nonCanceler=R,h})(),Pw=It.Pure,Rw=It.Throw;function Ow(n){return function(e){return It.Catch(n,e)}}function Hw(n){return function(e){return e.tag===It.Pure.tag?It.Pure(n(e._1)):It.Bind(e,function(t){return It.Pure(n(t))})}}function Ww(n){return function(e){return It.Bind(n,e)}}function Dh(n){return function(e){return It.Fork(n,e)}}var $w=It.Sync;function Uw(n){return function(e){return It.ParMap(n,e)}}function kw(n){return function(e){return It.ParApply(n,e)}}var Su=It.Async;function Lm(n){return function(e){return function(t){return It.Bracket(n,e,t)}}}function qw(n,e){return function(){return It.Fiber(n,null,e)}}var Bw=(function(){function n(t,r){return t===0&&typeof setImmediate<"u"?setImmediate(r):setTimeout(r,t)}function e(t,r){return t===0&&typeof clearImmediate<"u"?clearImmediate(r):clearTimeout(r)}return function(t,r){return It.Async(function(a){return function(){var o=n(r,a(t()));return function(){return It.Sync(function(){return t(e(r,o))})}}})}})(),Gw=It.Seq;var cc=function(n){return n.sequential},xu=function(n){return n.parallel};var M$=dn(hn),w$=function(n){var e=cc(n),t=xu(n);return function(r){var a=Pe(r);return function(o){var u=a(o);return function(i){var f=u(function(c){return t(i(c))});return function(c){return e(f(c))}}}}};var cs=function(n){var e=w$(n);return function(t){var r=e(t);return function(a){return r(a)(M$)}}};var Le=function(n){return n()};var S$=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},x$=N(An),yh=se(Pn),Vw=T(Pn);var I$=function(n){return n},Jw=Dh(!1);var A$={map:Uw},Iu={map:Hw},L$=T(Iu),Pm=Dh(!0),N$=(function(){var n=function(r){if(r instanceof V)return r.value0;if(r instanceof Z)return Yt("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[r.constructor.name])},e=function(r){if(r instanceof Z)return r.value0;if(r instanceof V)return Yt("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[r.constructor.name])},t=function(r){if(r instanceof Z)return!0;if(r instanceof V)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[r.constructor.name])};return{isLeft:t,fromLeft:e,fromRight:n,left:Z.create,right:V.create}})(),zw=function(n){return qw(N$,n)},Qw=function(n){return function(){var t=zw(n)();return t.run(),t}},bh=function(n){return yh(Qw(n))};var jw=function(n){return Bw(V.create,n)},P$=function(n){return function(e){return Lm(n)({killed:k(e),failed:k(e),completed:k(e)})}},Xw={apply:kw,Functor0:function(){return A$}};var lc={Applicative0:function(){return At},Bind1:function(){return tt}},tt={bind:Ww,Apply0:function(){return Th(0)}},At={pure:Pw,Apply0:function(){return Th(0)}},Th=S$("applyAff","Effect.Aff",function(){return{apply:Qt(lc),Functor0:function(){return Iu}}}),R$=Th(73),Rm=N(At),Yw=B(tt);var O$=Re(tt);var Kw=function(n){return function(e){return P$(Rm(void 0))(k(n))(k(e))}};var Oi={parallel:A,sequential:Gw,Apply0:function(){return R$},Apply1:function(){return Xw}},H$=xu(Oi),sc={pure:function(n){return H$(Rm(n))},Apply0:function(){return Xw}};var Kt={liftEffect:$w,Monad0:function(){return lc}},Nm=On(Kt),Eh=function(n){return I$(k(Nm(n)))},ss=function(n){return Su(function(e){return Vw(Eh)(n.join(e))})},Zw={map:function(n){return function(e){return Le(zw(L$(n)(ss(e))))}}};var ps=function(n){return function(e){return Yw(Nm(e.isSuspended))(function(t){return t?Nm(yh(e.kill(n,k(x$(void 0))))):Su(function(r){return Vw(Eh)(e.kill(n,r))})})}};var Ch={throwError:Rw,Monad0:function(){return lc}},Om={catchError:Ow,MonadThrow0:function(){return Ch}},W$=ns(Om);var $$=function(n){return function(e){return Qw(O$(function(t){return Nm(n(t))})(W$(e)))}},Hm=function(n){return function(e){return yh($$(n)(e))}};var nF={tailRecM:function(n){var e=function(t){return Yw(n(t))(function(r){if(r instanceof dt)return Rm(r.value0);if(r instanceof wt)return e(r.value0);throw new Error("Failed pattern match at Effect.Aff (line 104, column 7 - line 106, column 23): "+[r.constructor.name])})};return e},Monad0:function(){return lc}};var Mh=k(Rm(void 0));var eF={liftAff:dn(hn),MonadEffect0:function(){return Kt}},pc=function(n){return n.liftAff};var tF=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),rF=A,aF=A;function Fh(n){return function(e){return n===e}}var Hi=Fh;var V$=se(Pn);var J$=B(it);var z$=K(Te),Q$=Pe(An),j$=Q$(gn);var $m=function(n){return n},uF=function(n){return function(e){return n(function(t){return V$(e(t))})}};var iF=function(n){return function(e){return n(e)}};var fF=function(){var e=Vn([])();return{emitter:function(t){return function(){return ge(function(a){return z$(a)([t])})(e)(),ge(VD(Hi)(t))(e)}},listener:function(t){return J$(H(e))(j$(function(r){return r(t)}))}}};var lF=dn(hn);var X$=B_();var sF=function(n){return n},pF=function(n){return n},_s=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Um=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),km=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),_c=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ms=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),vs=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),qm=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ds=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Bm=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Gm=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Vm=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var Ds=function(n){return n};var gs=function(n){return Ri(new vs(n,void 0))};var Jm=function(){return function(n){var e=X$(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return Ri(new ms(aF(new tF(function(i){var f=N(i);return function(c){var l=De(f(v.value))(c),s=r(a)(o);return function(p){return l(s(p))}}},u,lF))))}}}}}},xh=Nn,zm=Nn;var _F=ch,mc={state:function(n){return Ds(Ri(_s.create(n)))},Monad0:function(){return _F}};var Qm=function(n){return{liftEffect:(function(){var e=On(n);return function(t){return Ds(Ri(_c.create(e(t))))}})(),Monad0:function(){return _F}}};var mF=function(n){var e=Qm(n.MonadEffect0());return{liftAff:(function(){var t=pc(n);return function(r){return Ds(Ri(_c.create(t(r))))}})(),MonadEffect0:function(){return e}}};var Wi=lh;var jm=function(n){return Ri(new ds(n,lF))};var vc=Am;var $i=fs;var dc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Dc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),gc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),hc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),yc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var Y$=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var K$=function(n,e){return Ai(n.value0,e.value0)&&Ai(n.value1,e.value1)&&n.value1(n.value3,e.value3)};var vF=function(n){return n.value2(n.value3)};var dF=function(n){var e=function(o){return yr(o.vdom)},t=Y$("patchThunk","Halogen.VDom.Thunk",function(){return function(o,u){var i=K$(o.thunk,u);if(i)return $e(new We(kt(o.vdom),o,t(112),e));var f=hr(o.vdom,n(vF(u)));return $e(new We(kt(f),{vdom:f,thunk:u},t(115),e))}}),r=t(108),a=function(o){return function(u){var i=Kl(o)(n(vF(u)));return $e(new We(kt(i),{thunk:u,vdom:i},r,e))}};return a};var Xm=fl(Wi),Lh=Pe($i)(ar),Z$=T(Wi);var DF=N($i),nU=B_(),eU=fM(),tU=cM(),ys=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ym=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Nh=A,Ph=A,bs=function(n){return function(e){if(e instanceof dc)return Xm(Lh(n.handleAction)(n.initialize))(e.value0);if(e instanceof Dc)return Xm(Lh(n.handleAction)(n.finalize))(e.value0);if(e instanceof gc)return Xm(Lh(n.handleAction)(n.receive(e.value0)))(e.value1);if(e instanceof hc)return Xm(n.handleAction(e.value0))(e.value1);if(e instanceof yc)return zC(function(t){var r=Z$(De(e.value1(void 0))(t));return function(a){return r(n.handleQuery(a))}})(e.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 71): "+[e.constructor.name])}},rU=A,Ts=A;var Au=(function(){return{handleAction:k(DF(void 0)),handleQuery:k(DF(v.value)),receive:k(v.value),initialize:v.value,finalize:v.value}})(),Rh=function(){return function(n){var e=nU(n),t=eU(n),r=tU(n);return function(a){var o=e(a),u=t(a),i=r(a);return function(f){return function(c){return function(l){return function(s){return function(p){return rU({get:o(f)(c),pop:u(f)(c),set:i(f)(c),component:l,input:s,output:p})}}}}}}}};var aU=N(qr);var Cs=function(n){return th(aU(n))},Km=(function(){return th(v.value)})();var Ui=Km("span");var st=Km("div");var Zm=Km("button");var uU=Ft();var Oh=function(n){return uU(Qg(n))};var TF="click";var EU=A;var CU=function(n){return function(e){return eh(n)(function(t){return new m(new Si(e(t)))})}};var Ms=(function(){var n=CU(TF);return function(e){return n(EU(e))}})();var EF=Ft();var CF=function(n){return aw(n)};var Hh=CF(ow);var nv=Hh("id");var ws=(function(){var n=Hh("className"),e=bo(" "),t=T(Fn)(EF);return function(r){return n(e(t(r)))}})(),Ve=(function(){var n=Hh("className");return function(e){return n(EF(e))}})();var Ta=(function(){return uw(v.value)})();var ev=Ta("style");var av=T(Fn),wU=K(Te),FF=en(ci(ut)),tv=at(ot)(vc),ki=ru(mc),Wh=N($i),FU=B(vc),SU=au(mc),rv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),SF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),kh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),qh=(function(){function n(){}return n.value=new n,n})(),Bh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),xU=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Gh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),xF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),IF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),AF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),IU=(function(){function n(){}return n.value=new n,n})(),Uh=(function(){function n(){}return n.value=new n,n})(),$h="http://www.w3.org/2000/svg",AU=function(n){return st([Ve("color-key-item")])([Ui([Ve("color-key-swatch"),ev("background-color: "+n.color)])([]),Ui([Ve("color-key-label")])([lt(n.name)])])},LU=function(n){var e=Wt(n);return e?lt(""):st([Ve("narrative-color-key")])([st([Ve("color-key-title")])([lt("Packages")]),st([Ve("color-key-items")])(av(AU)(n))])},NU=function(n){return st([Ve("narrative-hint")])([lt((function(){if(n instanceof m)return n.value0;if(n instanceof v)return"Click any module to explore its neighborhood.";throw new Error("Failed pattern match at Component.NarrativePanel (line 222, column 16 - line 224, column 31): "+[n.constructor.name])})())])},PU=function(n){return st([Ve("tangle-dropdown")])(av(function(e){return st([ws(wU(["tangle-dropdown-item"])((function(){var t=e===n.current;return t?["tangle-dropdown-item--active"]:[]})())),Ms(function(t){return new AF(n.id,e)})])([lt(e)])})(n.options))},RU=function(n){return function(e){return function(t){if(t instanceof rv)return lt(t.value0);if(t instanceof SF){var r=Wt(t.value1.options);return r?Ui([Ve("tangle-value")])([lt(t.value0)]):Ui([Ve("tangle-control"),Ms(function(a){return new IF(t.value1.id)})])([lt(t.value0),(function(){var a=FF(n.dropdownOpen)(new m(t.value1.id));return a?PU(t.value1):lt("")})()])}throw new Error("Failed pattern match at Component.NarrativePanel (line 184, column 37 - line 201, column 10): "+[t.constructor.name])}}},OU=function(n){return st([Ve("color-key-item")])([Cs($h)("svg")([Ta("width")("24"),Ta("height")("24"),Ve("color-key-circles")])([Cs($h)("circle")([Ta("cx")("12"),Ta("cy")("12"),Ta("r")("10"),ev("fill: "+(n.color+"; fill-opacity: 0.6;"))])([]),Cs($h)("circle")([Ta("cx")("12"),Ta("cy")("12"),Ta("r")("6"),ev("fill: "+(n.intense+"; fill-opacity: 0.9;"))])([])]),Ui([Ve("color-key-label")])([lt(n.label)])])},HU=function(n){return n instanceof du?Zm([Ve("btn-editorial narrative-back"),Ms(function(e){return Uh.value})])([lt("\u2190 Back to overview")]):n instanceof Ei?Zm([Ve("btn-editorial narrative-back"),Ms(function(e){return Uh.value})])([lt("\u2190 Back to neighborhood")]):lt("")},WU=function(n){return{viewState:n.viewState,packagePalette:n.packagePalette,hintText:v.value,dropdownOpen:v.value}},$U=function(n){if(n instanceof Bh)return tv(ki(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.viewState=n.value0,t}))(function(){return Wh(new m(n.value1))});if(n instanceof xU)return tv(ki(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.hintText=n.value0,t}))(function(){return Wh(new m(n.value1))});if(n instanceof Gh)return tv(ki(function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.packagePalette=n.value0,t}))(function(){return Wh(new m(n.value1))});throw new Error("Failed pattern match at Component.NarrativePanel (line 349, column 15 - line 360, column 18): "+[n.constructor.name])},UU=function(n){return function(e){if(e instanceof xF)return ki(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.viewState=e.value0.viewState,r.packagePalette=e.value0.packagePalette,r});if(e instanceof IF)return FU(SU)(function(t){return ki(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.dropdownOpen=(function(){var u=FF(t.dropdownOpen)(new m(e.value0));return u?v.value:new m(e.value0)})(),a})});if(e instanceof AF)return tv(ki(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.dropdownOpen=v.value,r}))(function(){return gs(new kh(e.value0,e.value1))});if(e instanceof IU)return ki(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.dropdownOpen=v.value,r});if(e instanceof Uh)return gs(qh.value);throw new Error("Failed pattern match at Component.NarrativePanel (line 326, column 16 - line 342, column 24): "+[e.constructor.name])}},kU=function(n){var e=HC("[")(n);if(e instanceof v)return v.value;if(e instanceof m){var t=$C("]")(e.value0+1|0)(n);if(t instanceof v)return v.value;if(t instanceof m)return new m({before:R_(e.value0)(n),bracketed:R_((t.value0-e.value0|0)-1|0)(O_(e.value0+1|0)(n)),after:O_(t.value0+1|0)(n)});throw new Error("Failed pattern match at Component.NarrativePanel (line 372, column 7 - line 379, column 14): "+[t.constructor.name])}throw new Error("Failed pattern match at Component.NarrativePanel (line 369, column 3 - line 379, column 14): "+[e.constructor.name])},qU=function(n){return function(e){var t=function(a){return function(o){var u=Jf(a);return pu(function(i){return Jf(i.current)===u||I_(function(f){return Jf(f)===u})(i.options)})(o)}},r=function(a){return function(o){var u=a,i=!1,f;function c(l,s){if(l==="")return i=!0,Ga(s);var p=kU(l);if(p instanceof v)return i=!0,Ga(Ut(new rv(l))(s));if(p instanceof m){var _=(function(){var d=t(p.value0.bracketed)(e);if(d instanceof m)return new SF(p.value0.bracketed,d.value0);if(d instanceof v)return new rv("["+(p.value0.bracketed+"]"));throw new Error("Failed pattern match at Component.NarrativePanel (line 167, column 21 - line 169, column 59): "+[d.constructor.name])})(),D=p.value0.before==="";if(D){u=p.value0.after,o=Ut(_)(s);return}u=p.value0.after,o=Ut(_)(Ut(new rv(p.value0.before))(s));return}throw new Error("Failed pattern match at Component.NarrativePanel (line 163, column 5 - line 172, column 81): "+[p.constructor.name])}for(;!i;)f=c(u,o);return f}};return r(n)([])}},BU=function(n){var e=qC(n.viewState),t=qU(e.text)(e.controls);return st([Ve("narrative-hero")])(av(RU(n)(e.controls))(t))},GU=[{label:"Type Class",color:"#9467bd",intense:"#7b3fa9"},{label:"Data Type",color:"#2ca02c",intense:"#1a8a1a"},{label:"Type Synonym",color:"#17becf",intense:"#0d9fb0"},{label:"Extern Data",color:"#bcbd22",intense:"#9a9b0a"},{label:"Alias",color:"#7f7f7f",intense:"#5f5f5f"},{label:"Value",color:"#1f77b4",intense:"#0d5a91"}],wF=st([Ve("narrative-color-key")])([st([Ve("color-key-title")])([lt("Declaration Types")]),st([Ve("color-key-items")])(av(OU)(GU))]),VU=function(n){return n.viewState instanceof du||n.viewState instanceof Ei?wF:LU(n.packagePalette)},JU=function(n){return st([nv("narrative-panel"),ws(["floating-panel","floating-panel--top-left","narrative-panel"])])([st([Ve("panel-title")])([lt("What Is Being Shown")]),BU(n),NU(n.hintText),VU(n),HU(n.viewState)])},LF=function(n){return Ts({initialState:WU,render:JU,eval:bs({initialize:Au.initialize,finalize:Au.finalize,handleAction:UU(n),handleQuery:$U,receive:function(e){return m.create(xF.create(e))}})})};var Je=function(n){return function(){console.log(n)}},Fs=function(n){return function(){console.warn(n)}};var Ea=function(n){var e=On(n);return function(t){return e(Je(t))}};var Vh=n=>e=>n<e.length?e.charAt(n):"",Jh=n=>e=>t=>t.substring(n,e);function WF(n,e,t,r,a){return function(o,u){var i=n.newXHR(),f=n.fixupUrl(a.url,i);if(i.open(a.method||"GET",f,!0,a.username,a.password),a.headers)try{for(var c=0,l;(l=a.headers[c])!=null;c++)i.setRequestHeader(l.field,l.value)}catch(p){o(p)}var s=function(p){return function(){o(new Error(p))}};return i.onerror=s(t),i.ontimeout=s(e),i.onload=function(){u({status:i.status,statusText:i.statusText,headers:i.getAllResponseHeaders().split(`\r
`).filter(function(p){return p.length>0}).map(function(p){var _=p.indexOf(":");return r(p.substring(0,_))(p.substring(_+2))}),body:i.response})},i.responseType=a.responseType,i.withCredentials=a.withCredentials,i.timeout=a.timeout,i.send(a.content),function(p,_,D){try{i.abort()}catch(d){return _(d)}return D()}}}var uv="application/json",$F="application/x-www-form-urlencoded";var kF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),qF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),BF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),GF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),VF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),zh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Qh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),JF=function(n){return n instanceof zh?new m($F):n instanceof Qh?new m(uv):v.value};var zF=Ft();var iv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),fv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),QF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),jF=function(n){if(n instanceof iv||n instanceof fv)return zF(n.value0);if(n instanceof QF)return n.value1;throw new Error("Failed pattern match at Affjax.RequestHeader (line 26, column 1 - line 26, column 33): "+[n.constructor.name])};var jh=function(n){if(n instanceof iv)return"Accept";if(n instanceof fv)return"Content-Type";if(n instanceof QF)return n.value0;throw new Error("Failed pattern match at Affjax.RequestHeader (line 21, column 1 - line 21, column 32): "+[n.constructor.name])};var XF=dn(hn),Xh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Yh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Kh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),xs=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Zh=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),cv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),YF=function(n){if(n instanceof Xh)return"arraybuffer";if(n instanceof Yh)return"blob";if(n instanceof Kh)return"document";if(n instanceof xs||n instanceof Zh)return"text";if(n instanceof cv)return"";throw new Error("Failed pattern match at Affjax.ResponseFormat (line 44, column 3 - line 50, column 19): "+[n.constructor.name])},KF=function(n){return n instanceof xs?new m(uv):v.value};var ZF=(function(){return new xs(XF)})(),n1=(function(){return new cv(XF)})();var t1=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();function Is(n){return JSON.stringify(n)}function bc(n,e,t,r,a,o,u){return u==null?n():typeof u=="boolean"?e(u):typeof u=="number"?t(u):typeof u=="string"?r(u):Object.prototype.toString.call(u)==="[object Array]"?a(u):o(u)}var uk=function(n){return function(e){return function(t){return t(n)(e)}}},r1=(function(){return uk(v.value)(m.create)})();var a1=Ya;var o1=function(n){return function(e){return function(t){return bc(k(n),k(n),k(n),e,k(n),k(n),t)}}};var ik=function(n){return function(e){return function(t){return bc(k(n),k(n),k(n),k(n),k(n),e,t)}}};var lv=r1(ik),u1=function(n){return function(e){return function(t){return bc(k(n),k(n),e,k(n),k(n),k(n),t)}}};var i1=function(n){return function(e){return function(t){return bc(k(n),e,k(n),k(n),k(n),k(n),t)}}};var fk=function(n){return function(e){return function(t){return bc(k(n),k(n),k(n),k(n),e,k(n),t)}}};var f1=r1(fk);function c1(n,e,t){try{return e(JSON.parse(t))}catch(r){return n(r.message)}}var l1=function(n){return c1(Z.create,V.create,n)};function sk(n){return n.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function s1(n,e,t){try{return e(sk(encodeURIComponent(t)).replace(/%20/g,"+"))}catch(r){return n(r)}}var pv=(function(){return lu(s1)(k(v.value))(m.create)})();var mk=Xn(Va),p1=T(Qn),vk=Ie(Sr)(qr);var dk=function(n){return n};var _1=(function(){var n=function(r){if(r.value1 instanceof v)return pv(r.value0);if(r.value1 instanceof m)return mk(p1(function(a){return function(o){return a+("="+o)}})(pv(r.value0)))(pv(r.value1.value0));throw new Error("Failed pattern match at Data.FormURLEncoded (line 37, column 16 - line 39, column 114): "+[r.constructor.name])},e=p1(bo("&")),t=vk(n);return function(r){return e(t(dk(r)))}})();var gk=(function(){function n(){}return n.value=new n,n})(),ny=(function(){function n(){}return n.value=new n,n})(),hk=(function(){function n(){}return n.value=new n,n})(),m1=(function(){function n(){}return n.value=new n,n})(),v1=(function(){function n(){}return n.value=new n,n})(),d1=(function(){function n(){}return n.value=new n,n})(),yk=(function(){function n(){}return n.value=new n,n})(),bk=(function(){function n(){}return n.value=new n,n})(),Tk=(function(){function n(){}return n.value=new n,n})(),Ek=(function(){function n(){}return n.value=new n,n})(),Ck=(function(){function n(){}return n.value=new n,n})(),Mk=(function(){function n(){}return n.value=new n,n})(),wk=(function(){function n(){}return n.value=new n,n})(),Fk=(function(){function n(){}return n.value=new n,n})(),Sk=(function(){function n(){}return n.value=new n,n})(),D1=(function(){function n(){}return n.value=new n,n})();var xk=function(n){return n},Ik={show:function(n){if(n instanceof gk)return"OPTIONS";if(n instanceof ny)return"GET";if(n instanceof hk)return"HEAD";if(n instanceof m1)return"POST";if(n instanceof v1)return"PUT";if(n instanceof d1)return"DELETE";if(n instanceof yk)return"TRACE";if(n instanceof bk)return"CONNECT";if(n instanceof Tk)return"PROPFIND";if(n instanceof Ek)return"PROPPATCH";if(n instanceof Ck)return"MKCOL";if(n instanceof Mk)return"COPY";if(n instanceof wk)return"MOVE";if(n instanceof Fk)return"LOCK";if(n instanceof Sk)return"UNLOCK";if(n instanceof D1)return"PATCH";throw new Error("Failed pattern match at Data.HTTP.Method (line 43, column 1 - line 59, column 23): "+[n.constructor.name])}};var g1=tr(U(Ik))(xk);var E1=function(n){return Su(function(e){return function(){var r=n(function(a){return e(Z.create(a))()},function(a){return e(V.create(a))()});return function(a){return Su(function(o){return function(){return r(a,function(i){return o(Z.create(i))()},function(i){return o(V.create(i))()}),Mh}})}}})};var ry=N(rc(go)),jk=hm(go),qi=HM(go),C1=vt(wM(nM)(go)),Xk=Ha(us(go)),_v=T(Qn),Yk=Wf(gn)(Ua),Kk=en(ut),Zk=Re(nt),nq=T(Fn),eq=_r(Iu),tq=ns(Om),rq=N(At);var ay=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),oy=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),uy=(function(){function n(){}return n.value=new n,n})(),iy=(function(){function n(){}return n.value=new n,n})(),fy=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),M1=function(n){return function(e){var t=function(l){return l===""?ry(a1):tr(function(s){return jk(Xg.create(s))})(ry)(l1(l))},r=(function(){if(e.responseFormat instanceof Xh)return qi("ArrayBuffer");if(e.responseFormat instanceof Yh)return qi("Blob");if(e.responseFormat instanceof Kh)return function(l){return C1(qi("Document")(l))(C1(qi("XMLDocument")(l))(qi("HTMLDocument")(l)))};if(e.responseFormat instanceof xs)return Xk(function(l){return e.responseFormat.value0(t(l))})(qi("String"));if(e.responseFormat instanceof Zh)return qi("String");if(e.responseFormat instanceof cv)return k(e.responseFormat.value0(ry(void 0)));throw new Error("Failed pattern match at Affjax (line 274, column 18 - line 283, column 57): "+[e.responseFormat.constructor.name])})(),a=function(l){if(l instanceof kF)return new V(l.value0(xo));if(l instanceof qF)return new V(xo(l.value0));if(l instanceof BF)return new V(xo(l.value0));if(l instanceof GF)return new V(xo(l.value0));if(l instanceof VF)return new V(xo(l.value0));if(l instanceof zh)return Nf("Body contains values that cannot be encoded as application/x-www-form-urlencoded")(_v(xo)(_1(l.value0)));if(l instanceof Qh)return new V(xo(Is(l.value0)));throw new Error("Failed pattern match at Affjax (line 235, column 20 - line 250, column 69): "+[l.constructor.name])},o=function(l){return function(s){return l instanceof m&&!Yk(iD(Kk)(jh)(l.value0))(s)?di(s)(l.value0):s}},u=function(l){return o(_v(fv.create)(Zk(JF)(l)))(o(_v(iv.create)(KF(e.responseFormat)))(e.headers))},i=function(l){return{method:g1(e.method),url:e.url,headers:nq(function(s){return{field:jh(s),value:jF(s)}})(u(e.content)),content:l,responseType:YF(e.responseFormat),username:Ye(e.username),password:Ye(e.password),withCredentials:e.withCredentials,timeout:Rn(0)(_v(function(s){return s})(e.timeout))}},f=function(l){return eq(tq(E1(WF(n,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",t1.create,i(l)))))(function(s){if(s instanceof V){var p=Oh(r(s.value0.body));if(p instanceof Z)return new Z(new oy(AM(p.value0),s.value0));if(p instanceof V)return new V({headers:s.value0.headers,status:s.value0.status,statusText:s.value0.statusText,body:p.value0});throw new Error("Failed pattern match at Affjax (line 209, column 9 - line 211, column 52): "+[p.constructor.name])}if(s instanceof Z)return new Z((function(){var _=Zl(s.value0),D=_==="AffjaxTimeoutErrorMessageIdent";if(D)return uy.value;var d=_==="AffjaxRequestFailedMessageIdent";return d?iy.value:new fy(s.value0)})());throw new Error("Failed pattern match at Affjax (line 207, column 144 - line 219, column 28): "+[s.constructor.name])})};if(e.content instanceof v)return f(Ye(v.value));if(e.content instanceof m){var c=a(e.content.value0);if(c instanceof V)return f(Ye(new m(c.value0)));if(c instanceof Z)return rq(new Z(new ay(c.value0)));throw new Error("Failed pattern match at Affjax (line 199, column 7 - line 203, column 48): "+[c.constructor.name])}throw new Error("Failed pattern match at Affjax (line 195, column 3 - line 203, column 48): "+[e.content.constructor.name])}},cy=function(n){if(n instanceof ay)return"There was a problem with the request content: "+n.value0;if(n instanceof oy)return"There was a problem with the response body: "+gm(n.value0);if(n instanceof uy)return"There was a problem making the request: timeout";if(n instanceof iy)return"There was a problem making the request: request failed";if(n instanceof fy)return"There was a problem making the request: "+Zl(n.value0);throw new Error("Failed pattern match at Affjax (line 113, column 14 - line 123, column 66): "+[n.constructor.name])},Lu=(function(){return{method:new Z(ny.value),url:"/",headers:[],content:v.value,username:v.value,password:v.value,withCredentials:!1,responseFormat:n1,timeout:v.value}})();var w1=function(n){return function(e){return function(t){return M1(n)({method:Lu.method,headers:Lu.headers,content:Lu.content,username:Lu.username,password:Lu.password,withCredentials:Lu.withCredentials,timeout:Lu.timeout,url:t,responseFormat:e})}}};var ly={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(n){return n||"/"}};var S1=w1(ly);var Nr=function(n){return ve(fc(n))},x1=function(n){return function(e){return ic(function(t){return new I(n,e)})}};var Tr=function(n){return de(fc(n))};var I1=function(n){var e=Ne(n),t=ue(n),r=Ht(n);return{foldr:function(a){var o=function(u){return function(i){return a(Tr(u))(e(o)(i)(Nr(u)))}};return Gn(o)},foldl:function(a){var o=function(u){return function(i){return t(o)(a(u)(Tr(i)))(Nr(i))}};return o},foldMap:function(a){var o=K(a.Semigroup0()),u=r(a);return function(i){var f=function(c){return o(i(Tr(c)))(u(f)(Nr(c)))};return f}}}};var lq=U(xe);var Za=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),A1=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),py=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),As=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),mv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),vv=(function(){function n(){}return n.value=new n,n})();var Nu=function(n){var e=function(t){if(t instanceof Za)return"  Expected value of type '"+(t.value0+"'.");if(t instanceof A1)return"  Unexpected value "+(Is(t.value0)+".");if(t instanceof py)return"  At array index "+(lq(t.value0)+(`:
`+e(t.value1)));if(t instanceof As)return"  At object key '"+(t.value0+(`':
`+e(t.value1)));if(t instanceof mv)return"  Under '"+(t.value0+(`':
`+e(t.value1)));if(t instanceof vv)return"  No value was found.";throw new Error("Failed pattern match at Data.Argonaut.Decode.Error (line 37, column 8 - line 43, column 44): "+[t.constructor.name])};return`An error occurred while decoding a JSON value:
`+e(n)};var P1=Hf(),Tq=Ht(Ae),Eq=ue(Ae),Cq=Ne(Ae);var Mq=function(n){return P1($l(n))};var my=function(n){return uM(n)};var R1=function(n){return{append:Mq(n)}},Bi=function(n){return P1(U_(n))};var Ls=function(n){var e=Xe(n);return function(t){return function(r){return e(t)(void 0)(r)}}};var O1={foldMap:function(n){var e=Tq(n);return function(t){var r=e(t);return function(a){return r(my(a))}}},foldl:function(n){return function(e){var t=Eq(n)(e);return function(r){return t(my(r))}}},foldr:function(n){return function(e){var t=Cq(n)(e);return function(r){return t(my(r))}}}};var dv=ne,no=function(n){var e=ue(n);return function(t){var r=Ls(t);return e(function(a){return function(o){return r(o)(a)}})(dv)}};var vy=si(Rf);var dy=Ha(Pf);var Fq=Ie(Cm)(gl);var Sq=Du(Qf)(gl);var H1=(function(){return o1(new Z(new Za("String")))(V.create)})(),W1=(function(){return u1(new Z(new Za("Number")))(V.create)})();var xq=(function(){var n=Nf(new Za("Object"));return function(e){return n(lv(e))}})(),Iq=(function(){var n=Nf(new Za("Array"));return function(e){return n(f1(e))}})();var $1=dy((function(){var n=Nf(new Za("Integer"));return function(e){return n(N_(e))}})())(W1);var U1=function(n){return dy((function(){var e=vy(mv.create("ForeignObject")),t=Fq(n);return function(r){return e(t(r))}})())(xq)};var k1=(function(){return i1(new Z(new Za("Boolean")))(V.create)})(),q1=function(n){return dy((function(){var e=vy(mv.create("Array")),t=Sq(function(r){var a=vy(py.create(r));return function(o){return a(n(o))}});return function(r){return e(t(r))}})())(Iq)};var G1=function(n){var e=Ze(n);return function(){return function(){return function(t){return function(r){return function(a){return so(e(t))(r)(a)}}}}}};var V1=B(Pf),Rq=si(Rf),Oq=T(Qn),Ns={gDecodeJson:function(n){return function(e){return new V({})}}},J1=function(n){return n.gDecodeJson};var Lo=function(n){var e=J1(n);return function(){return{decodeJson:function(t){var r=lv(t);if(r instanceof m)return e(r.value0)(Se.value);if(r instanceof v)return new Z(new Za("Object"));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 103, column 5 - line 105, column 46): "+[r.constructor.name])}}}},Dy={decodeJson:H1};var z1={decodeJson:$1},Hq=function(n){return n.decodeJsonField},Pu=function(n){var e=Hq(n);return function(t){var r=J1(t);return function(a){var o=Ze(a),u=G1(a)()();return function(){return function(){return{gDecodeJson:function(i){return function(f){var c=o(Se.value),l=ht(c)(i),s=e(l);if(s instanceof m)return V1(Rq(As.create(c))(s.value0))(function(p){return V1(r(i)(Se.value))(function(_){return new V(u(Se.value)(p)(_))})});if(s instanceof v)return new Z(new As(c,vv.value));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 127, column 5 - line 134, column 44): "+[s.constructor.name])}}}}}}}};var Q1={decodeJson:k1},No=function(n){return n.decodeJson};var Ps=function(n){return{decodeJson:U1(No(n))}};var Ru=function(n){var e=No(n);return{decodeJsonField:function(t){return Oq(e)(t)}}},Rs=function(n){return{decodeJson:q1(No(n))}};var Ca=x1;var Kr=T(Eo),hy=Ar(Ae);var $q=kr(_D),Uq=Ar(I1(Ae)),Os=T(Fn),yy=xD(Et)(gn),j1=ID(Et)(gn),kq=w_(Hl);var Dv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var X1=(function(){return new Dv({left:new J(0,W.value),right:new J(0,W.value)})})(),qq=function(n){return function(e){return function(t){var r=function(a){return function(o){return function(u){return function(i){return function(f){var c=a,l=o,s=u,p=i,_=!1,D;function d(g,y,C,w,b){if(w instanceof W&&b instanceof W)return _=!0,g;if(w instanceof W&&b instanceof J){var h=g+b.value0-y,F=(function(){var R=h<n;return R?g+(n-h):g})();c=F,l=y,s=b.value0,p=W.value,f=b.value1;return}if(w instanceof J&&b instanceof W){var h=g+C-w.value0,F=(function(){var rn=h<n;return rn?g+(n-h):g})();c=F,l=w.value0,s=C,p=w.value1,f=W.value;return}if(w instanceof J&&b instanceof J){var h=g+b.value0-w.value0,F=(function(){var rn=h<n;return rn?g+(n-h):g})();c=F,l=w.value0,s=b.value0,p=w.value1,f=b.value1;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 292, column 3 - line 292, column 67): "+[g.constructor.name,y.constructor.name,C.constructor.name,w.constructor.name,b.constructor.name])}for(;!_;)D=d(c,l,s,p,f);return D}}}}};return r(n)(0)(0)(e.value0.right)(t.value0.left)}}};var Bq=function(n){return function(e){var t=Rn(vn)(n.layerScale),r=Uq(e),a=Os(function(_){return _.x})(r),o=Rn(1)(yy(a)),u=Rn(0)(j1(a)),i=(function(){var _=o-u===0;return _?1:o-u})(),f=function(_){return(_-u)/i*n.size.width},c=Os(function(_){return t(_.depth)})(r),l=Rn(1)(yy(c)),s=function(_){var D=t(_);return D/l*n.size.height},p=function(_){var D=Tr(_),d=Nr(_);return Ca((function(){var g={};for(var y in D)({}).hasOwnProperty.call(D,y)&&(g[y]=D[y]);return g.x=f(D.x),g.y=s(D.depth),g})())(Kr(p)(d))};return p(e)}},Y1=function(n){return function(e){var t=Tr(e),r=vn(t.value1.depth),a=n+t.value0.offset,o=Nr(e),u=Kr(Y1(a))(o);return Ca((function(){var i={};for(var f in t.value1)({}).hasOwnProperty.call(t.value1,f)&&(i[f]=t.value1[f]);return i.x=a,i.y=r,i})())(u)}},Gq=function(n){var e=function(t){var r=he(function(i){if(i instanceof J)return new m(i.value0);if(i instanceof W)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 437, column 17 - line 439, column 27): "+[i.constructor.name])})(t),a=$t(r);if(a instanceof v)return W.value;if(a instanceof m){var o=he(function(i){if(i instanceof J)return new m(i.value1);if(i instanceof W)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 450, column 23 - line 452, column 33): "+[i.constructor.name])})(t),u=Rn(0)(yy(r));return new J(u,e(o))}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 443, column 7 - line 456, column 50): "+[a.constructor.name])};return n.length===0?W.value:e(n)},Vq=function(n){var e=function(t){var r=he(function(i){if(i instanceof J)return new m(i.value0);if(i instanceof W)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 404, column 17 - line 406, column 27): "+[i.constructor.name])})(t),a=$t(r);if(a instanceof v)return W.value;if(a instanceof m){var o=he(function(i){if(i instanceof J)return new m(i.value1);if(i instanceof W)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 417, column 23 - line 419, column 33): "+[i.constructor.name])})(t),u=Rn(0)(j1(r));return new J(u,e(o))}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 410, column 7 - line 423, column 50): "+[a.constructor.name])};return n.length===0?W.value:e(n)},Jq=function(n){return function(e){var t=hy(Ni(I.create)(n)(e));if(t.length===0)return X1;if(t.length===1)return new Dv({left:new J(0,Kr(function(u){return u+t[0].value0})(t[0].value1.value0.left)),right:new J(0,Kr(function(u){return u+t[0].value0})(t[0].value1.value0.right))});var r=Os(function(u){return new Dv({left:Kr(function(i){return i+u.value0})(u.value1.value0.left),right:Kr(function(i){return i+u.value0})(u.value1.value0.right)})})(t),a=Gq(Os(function(u){return u.value0.right})(r)),o=Vq(Os(function(u){return u.value0.left})(r));return new Dv({left:new J(0,o),right:new J(0,a)})}},zq=function(n){var e=Tr(n);return e.value1};var Qq=function(n){return function(e){var t=function(u){if(u instanceof W)return W.value;if(u instanceof J)return u.value1;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 280, column 3 - line 280, column 41): "+[u.constructor.name])},r=function(u){return function(i){return qq(u)(i.value0)(i.value1)}},a=new I(n,e);if(a.value0 instanceof W)return W.value;if(a.value1 instanceof W)return W.value;if(a.value1 instanceof J&&a.value1.value1 instanceof W)return W.value;var o=Ni(I.create)(e)(t(e));return Ni(r)(n)(o)}},jq=function(n){return function(e){return function(t){var r=function(o){if(o instanceof W)return W.value;if(o instanceof J)return o.value1;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 258, column 3 - line 258, column 41): "+[o.constructor.name])},a=function(o){return function(u){return function(i){return function(f){if(o instanceof v)return u;if(o instanceof m)return o.value0(i)(f)+u;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 254, column 3 - line 254, column 67): "+[o.constructor.name,u.constructor.name,i.constructor.name,f.constructor.name])}}}};return t instanceof W?W.value:t instanceof J&&t.value1 instanceof W?W.value:Ni(a(e)(n))(t)(r(t))}}},Xq=function(n){return function(e){return function(t){var r=function(u){return function(i){var f=Tr(u),c=Nr(u);return Ca(new I({offset:i},f.value1))(c)}},a=function(u){var i=Tr(u),f=Nr(u),c=mm(f);if(c===0)return new I(Ca(new I({offset:0},i))(W.value),X1);var l=Kr(a)(f),s=Kr(function($){return $.value0})(l),p=Kr(zq)(s),_=Kr(function($){return $.value1})(l),D=jq(n)(e)(p),d=Qq(D)(_),g=new J(0,kq($q)(0)(d)),y=Rn(0)($t(hy(g))),C=Rn(0)(Di(hy(g))),w=(y+C)/2,b=Kr(function($){return $-w})(g),h=Ni(r)(s)(b),F=Jq(b)(_),R=Ca(new I({offset:w},i))(h);return new I(R,F)},o=a(t);return o.value0}}};var K1=function(n){return function(e){var t=Tr(e),r=Nr(e);return Ca((function(){var a={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a.depth=n,a})())(Kr(K1(n+1|0))(r))}},Z1=function(n){return function(e){var t=K1(0)(e),r=Xq(n.minSeparation)(n.separation)(t),a=Y1(0)(r),o=Bq(n)(a);return o}};var nS=T(Fn),Zq=ft(Nn);var nB=ga(Nn)(gn),eB=K(Te),tB=no(gn)(Nn),eS=Kf(Nn);var tS=function(n){return function(e){var t=Zq(n)(e.maps.linksBySource);if(t instanceof v)return[];if(t instanceof m)return t.value0;throw new Error("Failed pattern match at PSD3.Data.Graph (line 196, column 3 - line 198, column 24): "+[t.constructor.name])}};var rS=function(n){return function(e){return function(t){var r=function(c){return function(l){if(l instanceof v)return new m([c]);if(l instanceof m)return new m(eB(l.value0)([c]));throw new Error("Failed pattern match at PSD3.Data.Graph (line 112, column 5 - line 112, column 68): "+[c.constructor.name,l.constructor.name])}},a=tB(nS(n.getNodeId)(e)),o=nB(nS(function(c){return new I(n.getNodeId(c),c)})(e)),u=ma(function(c){return function(l){var s=n.getLinkTarget(l);return eS(r(l))(s)(c)}})(ne)(t),i=ma(function(c){return function(l){var s=n.getLinkSource(l);return eS(r(l))(s)(c)}})(ne)(t),f={nodeById:o,linksBySource:i,linksByTarget:u,nodeIds:a};return{nodes:e,links:t,maps:f}}}};var oS=B(nt),uS=T(Fn),rB=Bi(Nn),iS=_r(Fn),gv=K(Te),aB=K(R1(Nn)),oB=no(gn)(Nn);var fS=function(n){return function(e){return function(t){var r=function(i){return oS(Fl(i.openPaths))(function(f){return oS($t(f.head))(function(c){var l=tS(c)(t),s=uS(n.getLinkTarget)(l),p=qD(function(g){return!rB(g)(i.nodes)})(s),_=iS(p.no)(function(g){return new I(c,g)}),D=iS(p.yes)(function(g){return Ut(g)(f.head)}),d=Wt(D);return d?new m({nodes:i.nodes,spanningTree:i.spanningTree,openPaths:f.tail,paths:Ut(f.head)(i.paths),redundantEdges:gv(i.redundantEdges)(_)}):new m({paths:i.paths,openPaths:gv(f.tail)(D),nodes:aB(i.nodes)(oB(p.yes)),spanningTree:gv(i.spanningTree)(uS(function(g){return new I(c,g)})(p.yes)),redundantEdges:gv(i.redundantEdges)(_)})})})},a=function(i){var f=!1,c;function l(s){if(Wt(s.openPaths))return f=!0,s;if(le){var p=r(s);if(p instanceof v)return f=!0,s;if(p instanceof m){i=p.value0;return}throw new Error("Failed pattern match at PSD3.Data.Graph.Algorithms (line 68, column 21 - line 70, column 35): "+[p.constructor.name])}throw new Error("Failed pattern match at PSD3.Data.Graph.Algorithms (line 66, column 5 - line 70, column 35): "+[s.constructor.name])}for(;!f;)c=l(i);return c},o={nodes:dv,spanningTree:[],redundantEdges:[],paths:[],openPaths:[[e]]},u=a(o);return{nodes:u.nodes,spanningTree:u.spanningTree,redundantEdges:u.redundantEdges,paths:u.paths}}}};var qt=(function(){function n(){}return n.value=new n,n})(),Bt=(function(){function n(){}return n.value=new n,n})(),Hs=(function(){function n(){}return n.value=new n,n})(),Ws=(function(){function n(){}return n.value=new n,n})(),cS=(function(){function n(){}return n.value=new n,n})(),lS=(function(){function n(){}return n.value=new n,n})();var $s={eq:function(n){return function(e){return n instanceof qt&&e instanceof qt||n instanceof Bt&&e instanceof Bt}}};var iB={eq:function(n){return function(e){return n instanceof Hs&&e instanceof Hs||n instanceof Ws&&e instanceof Ws||n instanceof cS&&e instanceof cS||n instanceof lS&&e instanceof lS}}},fB=en(iB);var hv=function(n){return fB(n.linkType)(Hs.value)};var yv=ft(Nn),cB=Bi(Nn),Zr=ft(Yn),lB=ri(Et),by=qa(Ct),bv=nr(Ct),pS=ii(Nn)(Nn),sB=Bi(pS),pB=T(Eo),Ey=Xe(Nn),_B=ue(Ae),mB=yo(Nn),Ou=B(tt),qs=N(At),Cc=ue(gn),Tc=_r(Qn),ks=T(Fn),vB=Mu(gn),Ev=GM(xr),dB=wi(xr),_S=Xe(Yn),Ty=ga(Yn)(gn),DB=K(Te),gB=Ls(Nn),hB=no(O1)(Nn),yB=no(gn)(pS),Er=B(Pf),Ec=Pu(Ru(Dy)),Tv=Ec(Ns),bB=Rs(Lo(Ec(Tv({reflectSymbol:function(){return"title"}})()())({reflectSymbol:function(){return"kind"}})()())()),mS=No(Ps(bB)),Cy=Pu(Ru(Rs(Dy))),TB={reflectSymbol:function(){return"name"}},EB={reflectSymbol:function(){return"module"}},CB=Pu(Ru(Ps(Lo(Cy(Pu(Ru(Rs(Lo(Ec(Pu(Ru(Q1))(Ec(Tv({reflectSymbol:function(){return"targetModule"}})()())({reflectSymbol:function(){return"target"}})()())({reflectSymbol:function(){return"isCrossModule"}})()())({reflectSymbol:function(){return"identifier"}})()())())))(Ec(Tv(TB)()())(EB)()())({reflectSymbol:function(){return"calls"}})()())({reflectSymbol:function(){return"calledBy"}})()())()))),MB={reflectSymbol:function(){return"functions"}},vS=No(Lo(CB(Ns)(MB)()())());var wB=Pu(Ru(z1));var dS=Tv({reflectSymbol:function(){return"path"}})()(),DS={reflectSymbol:function(){return"depends"}},FB=No(Ps(Lo(Cy(Ec(dS)({reflectSymbol:function(){return"package"}})()())(DS)()())())),SB=No(Ps(Lo(Cy(Ns)(DS)()())())),sS={reflectSymbol:function(){return"loc"}},xB=No(Lo(Pu(Ru(Rs(Lo(wB(dS)(sS)()())())))(Ns)(sS)()())());var IB=function(n){return function(e){return function(t){var r=(function(){var o=yv(t.id)(n);if(o instanceof m){var u=o.value0.y/1e3*500,i=o.value0.x/1e3*2*Al-Al/2,f=u*ur(i),c=u*ir(i);return{cluster:t.cluster,fx:t.fx,fy:t.fy,gridX:t.gridX,gridY:t.gridY,id:t.id,isInTree:t.isInTree,name:t.name,nodeType:t.nodeType,orbitAngle:t.orbitAngle,package:t.package,r:t.r,sources:t.sources,targets:t.targets,vx:t.vx,vy:t.vy,x:t.x,y:t.y,treeX:f,treeY:c}}if(o instanceof v)return t;throw new Error("Failed pattern match at Data.Loader (line 531, column 19 - line 544, column 22): "+[o.constructor.name])})(),a=cB(t.id)(e);return{id:r.id,x:r.x,y:r.y,vx:r.vx,vy:r.vy,fx:r.fx,fy:r.fy,name:r.name,nodeType:r.nodeType,package:r.package,r:r.r,cluster:r.cluster,targets:r.targets,sources:r.sources,gridX:r.gridX,gridY:r.gridY,orbitAngle:r.orbitAngle,treeX:r.treeX,treeY:r.treeY,isInTree:a}}}},AB=function(n){return function(e){return function(t){return function(r){return function(a){var o=Rn(100)(Zr(a)(t)),u=lB(8)(St(vn(o))*.5),i=vn(by(r)(8)),f=(i-vn(by(e)(8))/2)*120,c=vn(bv(r)(8)),l=(c-vn(8)/2+.5)*120,s=2*Al*vn(r)/vn(e);return{id:r,name:a,nodeType:Bt.value,package:a,x:l,y:f,vx:0,vy:0,fx:null,fy:null,r:u,cluster:r,targets:[],sources:[],gridX:l,gridY:f,orbitAngle:s,treeX:0,treeY:0,isInTree:!1}}}}}},LB=function(n){return function(e){var t=new I(e.source,e.target),r=sB(t)(n);return r?{source:e.source,target:e.target,linkType:Hs.value}:{source:e.source,target:e.target,linkType:Ws.value}}},gS=function(n){return function(e){return Ca(n(Tr(e)))(pB(gS(n))(Nr(e)))}},Vi=function(n){return function(e){if(e instanceof Z)return new Z(n(e.value0));if(e instanceof V)return new V(e.value0);throw new Error("Failed pattern match at Data.Loader (line 235, column 1 - line 235, column 62): "+[n.constructor.name,e.constructor.name])}},NB=function(n){return function(e){var t=function(r){return function(a){var o=Tr(r),u=Nr(r),i=Ey(o.id)({x:o.x,y:o.y})(a);return _B(function(f){return function(c){return t(c)(f)}})(i)(u)}};return t(e)(ne)}},PB=function(n){var e=pu(function(r){return r.name==="PSD3.Main"})(n);if(e instanceof m)return e.value0.id;if(e instanceof v){var t=Di(mB(function(r){return Q(r.sources)})(n));if(t instanceof m)return t.value0.id;if(t instanceof v)return 0;throw new Error("Failed pattern match at Data.Loader (line 482, column 7 - line 484, column 21): "+[t.constructor.name])}throw new Error("Failed pattern match at Data.Loader (line 477, column 3 - line 484, column 21): "+[e.constructor.name])},Ji=function(n){return Ou(S1(ZF)(n))(function(e){return qs((function(){if(e instanceof Z)return new Z("Fetch error: "+cy(e.value0));if(e instanceof V)return new V(e.value0.body);throw new Error("Failed pattern match at Data.Loader (line 231, column 10 - line 233, column 42): "+[e.constructor.name])})())})},RB=function(n){var e=Rl(Nl(n))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789._-");if(e instanceof m)return e.value0;if(e instanceof v)return 0;throw new Error("Failed pattern match at Data.Loader (line 762, column 14 - line 764, column 15): "+[e.constructor.name])},OB=function(n){var e=ZD(n);return Cc(function(t){return function(r){return bv((t*31|0)+RB(r)|0)(1e6)}})(0)(e)},HB=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){return function(u){return function(i){return function(f){return function(c){return function(l){var s=ht(n)(t),p=Rn("unknown")(Tc(s)(function(z){return z.package})),_=Rn(0)(Zr(p)(a)),D=ie(f)(_),d=Rn(0)(Tc(D)(function(z){return z.gridY})),g=Rn(0)(Tc(D)(function(z){return z.gridX})),y=Rn("")(Tc(s)(function(z){return z.path})),C=e+u|0,w=Rn([])(yv(C)(l)),b=Rn([])(yv(C)(c)),h=OB(n),F=2*Al*vn(bv(h)(360))/360,R=30+vn(bv(by(h)(360))(30)),$=ur(F)*R,rn=ir(F)*R,_n=Rn(50)(Zr(y)(r)),M=4+St(vn(_n))*.8,Ln=Rn(0)(Zr(p)(a)),Sn=d+rn,E=g+$;return{id:C,name:n,nodeType:qt.value,package:p,x:E,y:Sn,vx:0,vy:0,fx:null,fy:null,r:M,cluster:Ln,targets:b,sources:w,gridX:E,gridY:Sn,orbitAngle:0,treeX:0,treeY:0,isInTree:!1}}}}}}}}}}}},WB=function(n){return function(e){var t=function(a){return he(function(o){var u=o.value0===a;return u?new m(o.value1):v.value})(e)},r=function(a){var o=t(a),u=ks(r)(o);return Ca(a)(vB(u))};return r(n)}},$B=function(n){return function(e){var t=function(r){return function(a){var o=Zr(a.value0)(e);if(o instanceof v)return r;if(o instanceof m){var u=he(function(i){return Zr(i)(e)})(a.value1.depends);return Ey(o.value0)(u)(r)}throw new Error("Failed pattern match at Data.Loader (line 728, column 5 - line 734, column 42): "+[o.constructor.name])}};return Cc(t)(ne)(Ev(n))}},UB=function(n){var e=function(t){return function(r){return Cc(function(a){return function(o){var u=Rn([])(yv(o)(a));return Ey(o)(di(u)(r.value0))(a)}})(t)(r.value1)}};return Cc(e)(ne)(dB(n))},kB=function(n){var e=function(t){return function(r){var a=Rn([])(Zr(r.value1.package)(t));return _S(r.value1.package)(di(a)(r.value0))(t)}};return Cc(e)(ne)(Ev(n))},qB=function(n){return function(e){var t=function(r){return function(a){var o=Rn(50)(Zr(a.value1.path)(e)),u=Rn(0)(Zr(a.value1.package)(r));return _S(a.value1.package)(u+o|0)(r)}};return Cc(t)(ne)(Ev(n))}},BB=function(n){return Ty(ks(function(e){return new I(e.path,e.loc)})(n))},GB=function(n){return function(e){var t=function(r){var a=Zr(r.value0)(e);if(a instanceof v)return[];if(a instanceof m)return he(function(o){return Tc(Zr(o)(e))(function(u){return{source:a.value0,target:u,linkType:Ws.value}})})(r.value1.depends);throw new Error("Failed pattern match at Data.Loader (line 709, column 5 - line 720, column 25): "+[a.constructor.name])};return fi(ks(t)(Ev(n)))}},VB=function(n){return function(e){return function(t){return function(r){var a={size:{width:1e3,height:1e3},minSeparation:1,separation:v.value,layerScale:v.value},o=Tm(e),u=kB(n),i=Ir(function(L){return function(X){return{name:X,depends:Rn([])(Tc(ht(X)(e))(function(pn){return pn.depends})),modules:Rn([])(Zr(X)(u))}}})(o),f=qB(n)(t),c=Ty(Ir(function(L){return function(X){return new I(X,L)}})(o)),l=Q(o),s=Ir(AB(o)(l)(f))(o),p=Tm(n),_=Ty(Ir(function(L){return function(X){return new I(X,L+l|0)}})(p)),D=$B(n)(_),d=UB(D),g=Q(p),y=Ir(function(L){return function(X){return HB(X)(L)(n)(t)(c)(_)(l)(g)(s)(D)(d)}})(p),C=DB(s)(y),w=PB(y),b={getNodeId:function(L){return L.id},getLinkSource:function(L){return L.source},getLinkTarget:function(L){return L.target}},h=GB(n)(_),F=rS(b)(C)(h),R=fS(b)(w)(F),$=WB(w)(R.spanningTree),rn=gS(function(L){return{id:L,x:0,y:0,depth:0,height:0}})($),_n=Z1(a)(rn),M=NB(1e3)(_n),Ln=gB(w)(hB(R.nodes)),Sn=ks(IB(M)(Ln))(C),E=yB(R.spanningTree),z=ks(LB(E))(h);return{nodes:Sn,links:z,packages:i,declarations:r,moduleCount:g,packageCount:l}}}}},zi="http://localhost:8080",hS=function(n){var e=bo(",")(n);return Ou(Ji(zi+("/api/batch-declarations/"+e)))(function(t){return qs(Er(t)(function(r){return Er(Vi(Nu)(mS(r)))(function(a){return new V(a)})}))})},yS=function(n){var e=bo(",")(n);return Ou(Ji(zi+("/api/batch-function-calls/"+e)))(function(t){return qs(Er(t)(function(r){return Er(Vi(Nu)(vS(r)))(function(a){return new V(a.functions)})}))})},bS=(function(){return Ou(Ji(zi+"/data/function-calls.json"))(function(n){return qs(Er(n)(function(e){return Er(Vi(Nu)(vS(e)))(function(t){return new V(t.functions)})}))})})();var TS=(function(){return Ou(Ji(zi+"/data/spago-data/modules.json"))(function(n){return Ou(Ji(zi+"/data/spago-data/packages.json"))(function(e){return Ou(Ji(zi+"/data/spago-data/LOC.json"))(function(t){return Ou(Ji(zi+"/data/spago-data/declarations-summary.json"))(function(r){return qs(Er(n)(function(a){return Er(e)(function(o){return Er(t)(function(u){return Er(r)(function(i){return Er(Vi(Nu)(FB(a)))(function(f){return Er(Vi(Nu)(SB(o)))(function(c){return Er(Vi(Nu)(xB(u)))(function(l){return Er(Vi(Nu)(mS(i)))(function(s){var p=BB(l.loc);return new V(VB(f)(c)(p)(s))})})})})})})})}))})})})})})();var Bs=Math.random;var Cv="http://www.w3.org/1999/xhtml",My={svg:"http://www.w3.org/2000/svg",xhtml:Cv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Po(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),My.hasOwnProperty(e)?{space:My[e],local:n}:n}function jB(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Cv&&e.documentElement.namespaceURI===Cv?e.createElement(n):e.createElementNS(t,n)}}function XB(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Mv(n){var e=Po(n);return(e.local?XB:jB)(e)}function YB(){}function Qi(n){return n==null?YB:function(){return this.querySelector(n)}}function ES(n){typeof n!="function"&&(n=Qi(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=new Array(u),f,c,l=0;l<u;++l)(f=o[l])&&(c=n.call(f,f.__data__,l,o))&&("__data__"in f&&(c.__data__=f.__data__),i[l]=c);return new Ke(r,this._parents)}function wy(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function KB(){return[]}function Gs(n){return n==null?KB:function(){return this.querySelectorAll(n)}}function ZB(n){return function(){return wy(n.apply(this,arguments))}}function CS(n){typeof n=="function"?n=ZB(n):n=Gs(n);for(var e=this._groups,t=e.length,r=[],a=[],o=0;o<t;++o)for(var u=e[o],i=u.length,f,c=0;c<i;++c)(f=u[c])&&(r.push(n.call(f,f.__data__,c,u)),a.push(f));return new Ke(r,a)}function Vs(n){return function(){return this.matches(n)}}function wv(n){return function(e){return e.matches(n)}}var nG=Array.prototype.find;function eG(n){return function(){return nG.call(this.children,n)}}function tG(){return this.firstElementChild}function MS(n){return this.select(n==null?tG:eG(typeof n=="function"?n:wv(n)))}var rG=Array.prototype.filter;function aG(){return Array.from(this.children)}function oG(n){return function(){return rG.call(this.children,n)}}function wS(n){return this.selectAll(n==null?aG:oG(typeof n=="function"?n:wv(n)))}function FS(n){typeof n!="function"&&(n=Vs(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=[],f,c=0;c<u;++c)(f=o[c])&&n.call(f,f.__data__,c,o)&&i.push(f);return new Ke(r,this._parents)}function Fv(n){return new Array(n.length)}function SS(){return new Ke(this._enter||this._groups.map(Fv),this._parents)}function Js(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Js.prototype={constructor:Js,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function xS(n){return function(){return n}}function uG(n,e,t,r,a,o){for(var u=0,i,f=e.length,c=o.length;u<c;++u)(i=e[u])?(i.__data__=o[u],r[u]=i):t[u]=new Js(n,o[u]);for(;u<f;++u)(i=e[u])&&(a[u]=i)}function iG(n,e,t,r,a,o,u){var i,f,c=new Map,l=e.length,s=o.length,p=new Array(l),_;for(i=0;i<l;++i)(f=e[i])&&(p[i]=_=u.call(f,f.__data__,i,e)+"",c.has(_)?a[i]=f:c.set(_,f));for(i=0;i<s;++i)_=u.call(n,o[i],i,o)+"",(f=c.get(_))?(r[i]=f,f.__data__=o[i],c.delete(_)):t[i]=new Js(n,o[i]);for(i=0;i<l;++i)(f=e[i])&&c.get(p[i])===f&&(a[i]=f)}function fG(n){return n.__data__}function IS(n,e){if(!arguments.length)return Array.from(this,fG);var t=e?iG:uG,r=this._parents,a=this._groups;typeof n!="function"&&(n=xS(n));for(var o=a.length,u=new Array(o),i=new Array(o),f=new Array(o),c=0;c<o;++c){var l=r[c],s=a[c],p=s.length,_=cG(n.call(l,l&&l.__data__,c,r)),D=_.length,d=i[c]=new Array(D),g=u[c]=new Array(D),y=f[c]=new Array(p);t(l,s,d,g,y,_,e);for(var C=0,w=0,b,h;C<D;++C)if(b=d[C]){for(C>=w&&(w=C+1);!(h=g[w])&&++w<D;);b._next=h||null}}return u=new Ke(u,r),u._enter=i,u._exit=f,u}function cG(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function AS(){return new Ke(this._exit||this._groups.map(Fv),this._parents)}function LS(n,e,t){var r=this.enter(),a=this,o=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(a=e(a),a&&(a=a.selection())),t==null?o.remove():t(o),r&&a?r.merge(a).order():a}function NS(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,a=t.length,o=r.length,u=Math.min(a,o),i=new Array(a),f=0;f<u;++f)for(var c=t[f],l=r[f],s=c.length,p=i[f]=new Array(s),_,D=0;D<s;++D)(_=c[D]||l[D])&&(p[D]=_);for(;f<a;++f)i[f]=t[f];return new Ke(i,this._parents)}function PS(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],a=r.length-1,o=r[a],u;--a>=0;)(u=r[a])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function RS(n){n||(n=lG);function e(s,p){return s&&p?n(s.__data__,p.__data__):!s-!p}for(var t=this._groups,r=t.length,a=new Array(r),o=0;o<r;++o){for(var u=t[o],i=u.length,f=a[o]=new Array(i),c,l=0;l<i;++l)(c=u[l])&&(f[l]=c);f.sort(e)}return new Ke(a,this._parents).order()}function lG(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function OS(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function HS(){return Array.from(this)}function WS(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length;a<o;++a){var u=r[a];if(u)return u}return null}function $S(){let n=0;for(let e of this)++n;return n}function US(){return!this.node()}function kS(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],o=0,u=a.length,i;o<u;++o)(i=a[o])&&n.call(i,i.__data__,o,a);return this}function sG(n){return function(){this.removeAttribute(n)}}function pG(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _G(n,e){return function(){this.setAttribute(n,e)}}function mG(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function vG(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function dG(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function qS(n,e){var t=Po(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?pG:sG:typeof e=="function"?t.local?dG:vG:t.local?mG:_G)(t,e))}function Sv(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function DG(n){return function(){this.style.removeProperty(n)}}function gG(n,e,t){return function(){this.style.setProperty(n,e,t)}}function hG(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function BS(n,e,t){return arguments.length>1?this.each((e==null?DG:typeof e=="function"?hG:gG)(n,e,t??"")):Hu(this.node(),n)}function Hu(n,e){return n.style.getPropertyValue(e)||Sv(n).getComputedStyle(n,null).getPropertyValue(e)}function yG(n){return function(){delete this[n]}}function bG(n,e){return function(){this[n]=e}}function TG(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function GS(n,e){return arguments.length>1?this.each((e==null?yG:typeof e=="function"?TG:bG)(n,e)):this.node()[n]}function VS(n){return n.trim().split(/^|\s+/)}function Fy(n){return n.classList||new JS(n)}function JS(n){this._node=n,this._names=VS(n.getAttribute("class")||"")}JS.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function zS(n,e){for(var t=Fy(n),r=-1,a=e.length;++r<a;)t.add(e[r])}function QS(n,e){for(var t=Fy(n),r=-1,a=e.length;++r<a;)t.remove(e[r])}function EG(n){return function(){zS(this,n)}}function CG(n){return function(){QS(this,n)}}function MG(n,e){return function(){(e.apply(this,arguments)?zS:QS)(this,n)}}function jS(n,e){var t=VS(n+"");if(arguments.length<2){for(var r=Fy(this.node()),a=-1,o=t.length;++a<o;)if(!r.contains(t[a]))return!1;return!0}return this.each((typeof e=="function"?MG:e?EG:CG)(t,e))}function wG(){this.textContent=""}function FG(n){return function(){this.textContent=n}}function SG(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function XS(n){return arguments.length?this.each(n==null?wG:(typeof n=="function"?SG:FG)(n)):this.node().textContent}function xG(){this.innerHTML=""}function IG(n){return function(){this.innerHTML=n}}function AG(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function YS(n){return arguments.length?this.each(n==null?xG:(typeof n=="function"?AG:IG)(n)):this.node().innerHTML}function LG(){this.nextSibling&&this.parentNode.appendChild(this)}function KS(){return this.each(LG)}function NG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZS(){return this.each(NG)}function nx(n){var e=typeof n=="function"?n:Mv(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function PG(){return null}function ex(n,e){var t=typeof n=="function"?n:Mv(n),r=e==null?PG:typeof e=="function"?e:Qi(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function RG(){var n=this.parentNode;n&&n.removeChild(this)}function tx(){return this.each(RG)}function OG(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function HG(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function rx(n){return this.select(n?HG:OG)}function ax(n){return arguments.length?this.property("__data__",n):this.node().__data__}function WG(n){return function(e){n.call(this,e,this.__data__)}}function $G(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function UG(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,a=e.length,o;t<a;++t)o=e[t],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function kG(n,e,t){return function(){var r=this.__on,a,o=WG(e);if(r){for(var u=0,i=r.length;u<i;++u)if((a=r[u]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),a.value=e;return}}this.addEventListener(n.type,o,t),a={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(a):this.__on=[a]}}function ox(n,e,t){var r=$G(n+""),a,o=r.length,u;if(arguments.length<2){var i=this.node().__on;if(i){for(var f=0,c=i.length,l;f<c;++f)for(a=0,l=i[f];a<o;++a)if((u=r[a]).type===l.type&&u.name===l.name)return l.value}return}for(i=e?kG:UG,a=0;a<o;++a)this.each(i(r[a],e,t));return this}function ux(n,e,t){var r=Sv(n),a=r.CustomEvent;typeof a=="function"?a=new a(e,t):(a=r.document.createEvent("Event"),t?(a.initEvent(e,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(e,!1,!1)),n.dispatchEvent(a)}function qG(n,e){return function(){return ux(this,n,e)}}function BG(n,e){return function(){return ux(this,n,e.apply(this,arguments))}}function ix(n,e){return this.each((typeof e=="function"?BG:qG)(n,e))}function*fx(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length,u;a<o;++a)(u=r[a])&&(yield u)}var Sy=[null];function Ke(n,e){this._groups=n,this._parents=e}function cx(){return new Ke([[document.documentElement]],Sy)}function GG(){return this}Ke.prototype=cx.prototype={constructor:Ke,select:ES,selectAll:CS,selectChild:MS,selectChildren:wS,filter:FS,data:IS,enter:SS,exit:AS,join:LS,merge:NS,selection:GG,order:PS,sort:RS,call:OS,nodes:HS,node:WS,size:$S,empty:US,each:kS,attr:qS,style:BS,property:GS,classed:jS,text:XS,html:YS,raise:KS,lower:ZS,append:nx,insert:ex,remove:tx,clone:rx,datum:ax,on:ox,dispatch:ix,[Symbol.iterator]:fx};var Ro=cx;function $n(n){return typeof n=="string"?new Ke([[document.querySelector(n)]],[document.documentElement]):new Ke([[n]],Sy)}function lx(n){let e;for(;e=n.sourceEvent;)n=e;return n}function fr(n,e){if(n=lx(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[n.clientX-a.left-e.clientLeft,n.clientY-a.top-e.clientTop]}}return[n.pageX,n.pageY]}function sx(n){let e=+this._x.call(null,n),t=+this._y.call(null,n);return px(this.cover(e,t),e,t,n)}function px(n,e,t,r){if(isNaN(e)||isNaN(t))return n;var a,o=n._root,u={data:r},i=n._x0,f=n._y0,c=n._x1,l=n._y1,s,p,_,D,d,g,y,C;if(!o)return n._root=u,n;for(;o.length;)if((d=e>=(s=(i+c)/2))?i=s:c=s,(g=t>=(p=(f+l)/2))?f=p:l=p,a=o,!(o=o[y=g<<1|d]))return a[y]=u,n;if(_=+n._x.call(null,o.data),D=+n._y.call(null,o.data),e===_&&t===D)return u.next=o,a?a[y]=u:n._root=u,n;do a=a?a[y]=new Array(4):n._root=new Array(4),(d=e>=(s=(i+c)/2))?i=s:c=s,(g=t>=(p=(f+l)/2))?f=p:l=p;while((y=g<<1|d)===(C=(D>=p)<<1|_>=s));return a[C]=o,a[y]=u,n}function _x(n){var e,t,r=n.length,a,o,u=new Array(r),i=new Array(r),f=1/0,c=1/0,l=-1/0,s=-1/0;for(t=0;t<r;++t)isNaN(a=+this._x.call(null,e=n[t]))||isNaN(o=+this._y.call(null,e))||(u[t]=a,i[t]=o,a<f&&(f=a),a>l&&(l=a),o<c&&(c=o),o>s&&(s=o));if(f>l||c>s)return this;for(this.cover(f,c).cover(l,s),t=0;t<r;++t)px(this,u[t],i[t],n[t]);return this}function mx(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,a=this._x1,o=this._y1;if(isNaN(t))a=(t=Math.floor(n))+1,o=(r=Math.floor(e))+1;else{for(var u=a-t||1,i=this._root,f,c;t>n||n>=a||r>e||e>=o;)switch(c=(e<r)<<1|n<t,f=new Array(4),f[c]=i,i=f,u*=2,c){case 0:a=t+u,o=r+u;break;case 1:t=a-u,o=r+u;break;case 2:a=t+u,r=o-u;break;case 3:t=a-u,r=o-u;break}this._root&&this._root.length&&(this._root=i)}return this._x0=t,this._y0=r,this._x1=a,this._y1=o,this}function vx(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function dx(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Lt(n,e,t,r,a){this.node=n,this.x0=e,this.y0=t,this.x1=r,this.y1=a}function Dx(n,e,t){var r,a=this._x0,o=this._y0,u,i,f,c,l=this._x1,s=this._y1,p=[],_=this._root,D,d;for(_&&p.push(new Lt(_,a,o,l,s)),t==null?t=1/0:(a=n-t,o=e-t,l=n+t,s=e+t,t*=t);D=p.pop();)if(!(!(_=D.node)||(u=D.x0)>l||(i=D.y0)>s||(f=D.x1)<a||(c=D.y1)<o))if(_.length){var g=(u+f)/2,y=(i+c)/2;p.push(new Lt(_[3],g,y,f,c),new Lt(_[2],u,y,g,c),new Lt(_[1],g,i,f,y),new Lt(_[0],u,i,g,y)),(d=(e>=y)<<1|n>=g)&&(D=p[p.length-1],p[p.length-1]=p[p.length-1-d],p[p.length-1-d]=D)}else{var C=n-+this._x.call(null,_.data),w=e-+this._y.call(null,_.data),b=C*C+w*w;if(b<t){var h=Math.sqrt(t=b);a=n-h,o=e-h,l=n+h,s=e+h,r=_.data}}return r}function gx(n){if(isNaN(l=+this._x.call(null,n))||isNaN(s=+this._y.call(null,n)))return this;var e,t=this._root,r,a,o,u=this._x0,i=this._y0,f=this._x1,c=this._y1,l,s,p,_,D,d,g,y;if(!t)return this;if(t.length)for(;;){if((D=l>=(p=(u+f)/2))?u=p:f=p,(d=s>=(_=(i+c)/2))?i=_:c=_,e=t,!(t=t[g=d<<1|D]))return this;if(!t.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,y=g)}for(;t.data!==n;)if(a=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,a?(o?a.next=o:delete a.next,this):e?(o?e[g]=o:delete e[g],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[y]=t:this._root=t),this):(this._root=o,this)}function hx(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function yx(){return this._root}function bx(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Tx(n){var e=[],t,r=this._root,a,o,u,i,f;for(r&&e.push(new Lt(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(r=t.node,o=t.x0,u=t.y0,i=t.x1,f=t.y1)&&r.length){var c=(o+i)/2,l=(u+f)/2;(a=r[3])&&e.push(new Lt(a,c,l,i,f)),(a=r[2])&&e.push(new Lt(a,o,l,c,f)),(a=r[1])&&e.push(new Lt(a,c,u,i,l)),(a=r[0])&&e.push(new Lt(a,o,u,c,l))}return this}function Ex(n){var e=[],t=[],r;for(this._root&&e.push(new Lt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var a=r.node;if(a.length){var o,u=r.x0,i=r.y0,f=r.x1,c=r.y1,l=(u+f)/2,s=(i+c)/2;(o=a[0])&&e.push(new Lt(o,u,i,l,s)),(o=a[1])&&e.push(new Lt(o,l,i,f,s)),(o=a[2])&&e.push(new Lt(o,u,s,l,c)),(o=a[3])&&e.push(new Lt(o,l,s,f,c))}t.push(r)}for(;r=t.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Cx(n){return n[0]}function Mx(n){return arguments.length?(this._x=n,this):this._x}function wx(n){return n[1]}function Fx(n){return arguments.length?(this._y=n,this):this._y}function ji(n,e,t){var r=new xy(e??Cx,t??wx,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function xy(n,e,t,r,a,o){this._x=n,this._y=e,this._x0=t,this._y0=r,this._x1=a,this._y1=o,this._root=void 0}function Sx(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var cr=ji.prototype=xy.prototype;cr.copy=function(){var n=new xy(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,r;if(!e)return n;if(!e.length)return n._root=Sx(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var a=0;a<4;++a)(r=e.source[a])&&(r.length?t.push({source:r,target:e.target[a]=new Array(4)}):e.target[a]=Sx(r));return n};cr.add=sx;cr.addAll=_x;cr.cover=mx;cr.data=vx;cr.extent=dx;cr.find=Dx;cr.remove=gx;cr.removeAll=hx;cr.root=yx;cr.size=bx;cr.visit=Tx;cr.visitAfter=Ex;cr.x=Mx;cr.y=Fx;function pt(n){return function(){return n}}function Ma(n){return(n()-.5)*1e-6}function VG(n){return n.x+n.vx}function JG(n){return n.y+n.vy}function zs(n){var e,t,r,a=1,o=1;typeof n!="function"&&(n=pt(n==null?1:+n));function u(){for(var c,l=e.length,s,p,_,D,d,g,y=0;y<o;++y)for(s=ji(e,VG,JG).visitAfter(i),c=0;c<l;++c)p=e[c],d=t[p.index],g=d*d,_=p.x+p.vx,D=p.y+p.vy,s.visit(C);function C(w,b,h,F,R){var $=w.data,rn=w.r,_n=d+rn;if($){if($.index>p.index){var M=_-$.x-$.vx,Ln=D-$.y-$.vy,Sn=M*M+Ln*Ln;Sn<_n*_n&&(M===0&&(M=Ma(r),Sn+=M*M),Ln===0&&(Ln=Ma(r),Sn+=Ln*Ln),Sn=(_n-(Sn=Math.sqrt(Sn)))/Sn*a,p.vx+=(M*=Sn)*(_n=(rn*=rn)/(g+rn)),p.vy+=(Ln*=Sn)*_n,$.vx-=M*(_n=1-_n),$.vy-=Ln*_n)}return}return b>_+_n||F<_-_n||h>D+_n||R<D-_n}}function i(c){if(c.data)return c.r=t[c.data.index];for(var l=c.r=0;l<4;++l)c[l]&&c[l].r>c.r&&(c.r=c[l].r)}function f(){if(e){var c,l=e.length,s;for(t=new Array(l),c=0;c<l;++c)s=e[c],t[s.index]=+n(s,c,e)}}return u.initialize=function(c,l){e=c,r=l,f()},u.iterations=function(c){return arguments.length?(o=+c,u):o},u.strength=function(c){return arguments.length?(a=+c,u):a},u.radius=function(c){return arguments.length?(n=typeof c=="function"?c:pt(+c),f(),u):n},u}function zG(n){return n.index}function xx(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function Qs(n){var e=zG,t=s,r,a=pt(30),o,u,i,f,c,l=1;n==null&&(n=[]);function s(g){return 1/Math.min(i[g.source.index],i[g.target.index])}function p(g){for(var y=0,C=n.length;y<l;++y)for(var w=0,b,h,F,R,$,rn,_n;w<C;++w)b=n[w],h=b.source,F=b.target,R=F.x+F.vx-h.x-h.vx||Ma(c),$=F.y+F.vy-h.y-h.vy||Ma(c),rn=Math.sqrt(R*R+$*$),rn=(rn-o[w])/rn*g*r[w],R*=rn,$*=rn,F.vx-=R*(_n=f[w]),F.vy-=$*_n,h.vx+=R*(_n=1-_n),h.vy+=$*_n}function _(){if(u){var g,y=u.length,C=n.length,w=new Map(u.map((h,F)=>[e(h,F,u),h])),b;for(g=0,i=new Array(y);g<C;++g)b=n[g],b.index=g,typeof b.source!="object"&&(b.source=xx(w,b.source)),typeof b.target!="object"&&(b.target=xx(w,b.target)),i[b.source.index]=(i[b.source.index]||0)+1,i[b.target.index]=(i[b.target.index]||0)+1;for(g=0,f=new Array(C);g<C;++g)b=n[g],f[g]=i[b.source.index]/(i[b.source.index]+i[b.target.index]);r=new Array(C),D(),o=new Array(C),d()}}function D(){if(u)for(var g=0,y=n.length;g<y;++g)r[g]=+t(n[g],g,n)}function d(){if(u)for(var g=0,y=n.length;g<y;++g)o[g]=+a(n[g],g,n)}return p.initialize=function(g,y){u=g,c=y,_()},p.links=function(g){return arguments.length?(n=g,_(),p):n},p.id=function(g){return arguments.length?(e=g,p):e},p.iterations=function(g){return arguments.length?(l=+g,p):l},p.strength=function(g){return arguments.length?(t=typeof g=="function"?g:pt(+g),D(),p):t},p.distance=function(g){return arguments.length?(a=typeof g=="function"?g:pt(+g),d(),p):a},p}var QG={value:()=>{}};function Ax(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new xv(t)}function xv(n){this._=n}function jG(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");if(a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}xv.prototype=Ax.prototype={constructor:xv,on:function(n,e){var t=this._,r=jG(n+"",t),a,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((a=(n=r[o]).type)&&(a=XG(t[a],n.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(a=(n=r[o]).type)t[a]=Ix(t[a],n.name,e);else if(e==null)for(a in t)t[a]=Ix(t[a],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new xv(n)},call:function(n,e){if((a=arguments.length-2)>0)for(var t=new Array(a),r=0,a,o;r<a;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],r=0,a=o.length;r<a;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,o=r.length;a<o;++a)r[a].value.apply(e,t)}};function XG(n,e){for(var t=0,r=n.length,a;t<r;++t)if((a=n[t]).name===e)return a.value}function Ix(n,e,t){for(var r=0,a=n.length;r<a;++r)if(n[r].name===e){n[r]=QG,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var Oo=Ax;var Mc=0,Xs=0,js=0,Nx=1e3,Iv,Ys,Av=0,Xi=0,Lv=0,Ks=typeof performance=="object"&&performance.now?performance:Date,Px=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function np(){return Xi||(Px(YG),Xi=Ks.now()+Lv)}function YG(){Xi=0}function Zs(){this._call=this._time=this._next=null}Zs.prototype=wc.prototype={constructor:Zs,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?np():+t)+(e==null?0:+e),!this._next&&Ys!==this&&(Ys?Ys._next=this:Iv=this,Ys=this),this._call=n,this._time=t,Iy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Iy())}};function wc(n,e,t){var r=new Zs;return r.restart(n,e,t),r}function Rx(){np(),++Mc;for(var n=Iv,e;n;)(e=Xi-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Mc}function Lx(){Xi=(Av=Ks.now())+Lv,Mc=Xs=0;try{Rx()}finally{Mc=0,ZG(),Xi=0}}function KG(){var n=Ks.now(),e=n-Av;e>Nx&&(Lv-=e,Av=n)}function ZG(){for(var n,e=Iv,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Iv=t);Ys=n,Iy(r)}function Iy(n){if(!Mc){Xs&&(Xs=clearTimeout(Xs));var e=n-Xi;e>24?(n<1/0&&(Xs=setTimeout(Lx,n-Ks.now()-Lv)),js&&(js=clearInterval(js))):(js||(Av=Ks.now(),js=setInterval(KG,Nx)),Mc=1,Px(Lx))}}function Nv(n,e,t){var r=new Zs;return e=e==null?0:+e,r.restart(a=>{r.stop(),n(a+e)},e,t),r}function Ox(){let n=1;return()=>(n=(1664525*n+1013904223)%4294967296)/4294967296}function Hx(n){return n.x}function Wx(n){return n.y}var n5=10,e5=Math.PI*(3-Math.sqrt(5));function Ay(n){var e,t=1,r=.001,a=1-Math.pow(r,1/300),o=0,u=.6,i=new Map,f=wc(s),c=Oo("tick","end"),l=Ox();n==null&&(n=[]);function s(){p(),c.call("tick",e),t<r&&(f.stop(),c.call("end",e))}function p(d){var g,y=n.length,C;d===void 0&&(d=1);for(var w=0;w<d;++w)for(t+=(o-t)*a,i.forEach(function(b){b(t)}),g=0;g<y;++g)C=n[g],C.fx==null?C.x+=C.vx*=u:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=u:(C.y=C.fy,C.vy=0);return e}function _(){for(var d=0,g=n.length,y;d<g;++d){if(y=n[d],y.index=d,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var C=n5*Math.sqrt(.5+d),w=d*e5;y.x=C*Math.cos(w),y.y=C*Math.sin(w)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function D(d){return d.initialize&&d.initialize(n,l),d}return _(),e={tick:p,restart:function(){return f.restart(s),e},stop:function(){return f.stop(),e},nodes:function(d){return arguments.length?(n=d,_(),i.forEach(D),e):n},alpha:function(d){return arguments.length?(t=+d,e):t},alphaMin:function(d){return arguments.length?(r=+d,e):r},alphaDecay:function(d){return arguments.length?(a=+d,e):+a},alphaTarget:function(d){return arguments.length?(o=+d,e):o},velocityDecay:function(d){return arguments.length?(u=1-d,e):1-u},randomSource:function(d){return arguments.length?(l=d,i.forEach(D),e):l},force:function(d,g){return arguments.length>1?(g==null?i.delete(d):i.set(d,D(g)),e):i.get(d)},find:function(d,g,y){var C=0,w=n.length,b,h,F,R,$;for(y==null?y=1/0:y*=y,C=0;C<w;++C)R=n[C],b=d-R.x,h=g-R.y,F=b*b+h*h,F<y&&($=R,y=F);return $},on:function(d,g){return arguments.length>1?(c.on(d,g),e):c.on(d)}}}function ep(){var n,e,t,r,a=pt(-30),o,u=1,i=1/0,f=.81;function c(_){var D,d=n.length,g=ji(n,Hx,Wx).visitAfter(s);for(r=_,D=0;D<d;++D)e=n[D],g.visit(p)}function l(){if(n){var _,D=n.length,d;for(o=new Array(D),_=0;_<D;++_)d=n[_],o[d.index]=+a(d,_,n)}}function s(_){var D=0,d,g,y=0,C,w,b;if(_.length){for(C=w=b=0;b<4;++b)(d=_[b])&&(g=Math.abs(d.value))&&(D+=d.value,y+=g,C+=g*d.x,w+=g*d.y);_.x=C/y,_.y=w/y}else{d=_,d.x=d.data.x,d.y=d.data.y;do D+=o[d.data.index];while(d=d.next)}_.value=D}function p(_,D,d,g){if(!_.value)return!0;var y=_.x-e.x,C=_.y-e.y,w=g-D,b=y*y+C*C;if(w*w/f<b)return b<i&&(y===0&&(y=Ma(t),b+=y*y),C===0&&(C=Ma(t),b+=C*C),b<u&&(b=Math.sqrt(u*b)),e.vx+=y*_.value*r/b,e.vy+=C*_.value*r/b),!0;if(_.length||b>=i)return;(_.data!==e||_.next)&&(y===0&&(y=Ma(t),b+=y*y),C===0&&(C=Ma(t),b+=C*C),b<u&&(b=Math.sqrt(u*b)));do _.data!==e&&(w=o[_.data.index]*r/b,e.vx+=y*w,e.vy+=C*w);while(_=_.next)}return c.initialize=function(_,D){n=_,t=D,l()},c.strength=function(_){return arguments.length?(a=typeof _=="function"?_:pt(+_),l(),c):a},c.distanceMin=function(_){return arguments.length?(u=_*_,c):Math.sqrt(u)},c.distanceMax=function(_){return arguments.length?(i=_*_,c):Math.sqrt(i)},c.theta=function(_){return arguments.length?(f=_*_,c):Math.sqrt(f)},c}function Fc(n){var e=pt(.1),t,r,a;typeof n!="function"&&(n=pt(n==null?0:+n));function o(i){for(var f=0,c=t.length,l;f<c;++f)l=t[f],l.vx+=(a[f]-l.x)*r[f]*i}function u(){if(t){var i,f=t.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+n(t[i],i,t))?0:+e(t[i],i,t)}}return o.initialize=function(i){t=i,u()},o.strength=function(i){return arguments.length?(e=typeof i=="function"?i:pt(+i),u(),o):e},o.x=function(i){return arguments.length?(n=typeof i=="function"?i:pt(+i),u(),o):n},o}function Sc(n){var e=pt(.1),t,r,a;typeof n!="function"&&(n=pt(n==null?0:+n));function o(i){for(var f=0,c=t.length,l;f<c;++f)l=t[f],l.vy+=(a[f]-l.y)*r[f]*i}function u(){if(t){var i,f=t.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+n(t[i],i,t))?0:+e(t[i],i,t)}}return o.initialize=function(i){t=i,u()},o.strength=function(i){return arguments.length?(e=typeof i=="function"?i:pt(+i),u(),o):e},o.y=function(i){return arguments.length?(n=typeof i=="function"?i:pt(+i),u(),o):n},o}var $x={passive:!1},Yi={capture:!0,passive:!1};function Pv(n){n.stopImmediatePropagation()}function Wu(n){n.preventDefault(),n.stopImmediatePropagation()}function tp(n){var e=n.document.documentElement,t=$n(n).on("dragstart.drag",Wu,Yi);"onselectstart"in e?t.on("selectstart.drag",Wu,Yi):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function rp(n,e){var t=n.document.documentElement,r=$n(n).on("dragstart.drag",null);e&&(r.on("click.drag",Wu,Yi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var ap=n=>()=>n;function op(n,{sourceEvent:e,subject:t,target:r,identifier:a,active:o,x:u,y:i,dx:f,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}op.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function t5(n){return!n.ctrlKey&&!n.button}function r5(){return this.parentNode}function a5(n,e){return e??{x:n.x,y:n.y}}function o5(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ki(){var n=t5,e=r5,t=a5,r=o5,a={},o=Oo("start","drag","end"),u=0,i,f,c,l,s=0;function p(b){b.on("mousedown.drag",_).filter(r).on("touchstart.drag",g).on("touchmove.drag",y,$x).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(b,h){if(!(l||!n.call(this,b,h))){var F=w(this,e.call(this,b,h),b,h,"mouse");F&&($n(b.view).on("mousemove.drag",D,Yi).on("mouseup.drag",d,Yi),tp(b.view),Pv(b),c=!1,i=b.clientX,f=b.clientY,F("start",b))}}function D(b){if(Wu(b),!c){var h=b.clientX-i,F=b.clientY-f;c=h*h+F*F>s}a.mouse("drag",b)}function d(b){$n(b.view).on("mousemove.drag mouseup.drag",null),rp(b.view,c),Wu(b),a.mouse("end",b)}function g(b,h){if(n.call(this,b,h)){var F=b.changedTouches,R=e.call(this,b,h),$=F.length,rn,_n;for(rn=0;rn<$;++rn)(_n=w(this,R,b,h,F[rn].identifier,F[rn]))&&(Pv(b),_n("start",b,F[rn]))}}function y(b){var h=b.changedTouches,F=h.length,R,$;for(R=0;R<F;++R)($=a[h[R].identifier])&&(Wu(b),$("drag",b,h[R]))}function C(b){var h=b.changedTouches,F=h.length,R,$;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),R=0;R<F;++R)($=a[h[R].identifier])&&(Pv(b),$("end",b,h[R]))}function w(b,h,F,R,$,rn){var _n=o.copy(),M=fr(rn||F,h),Ln,Sn,E;if((E=t.call(b,new op("beforestart",{sourceEvent:F,target:p,identifier:$,active:u,x:M[0],y:M[1],dx:0,dy:0,dispatch:_n}),R))!=null)return Ln=E.x-M[0]||0,Sn=E.y-M[1]||0,function z(L,X,pn){var En=M,qn;switch(L){case"start":a[$]=z,qn=u++;break;case"end":delete a[$],--u;case"drag":M=fr(pn||X,h),qn=u;break}_n.call(L,b,new op(L,{sourceEvent:X,subject:E,target:p,identifier:$,active:qn,x:M[0]+Ln,y:M[1]+Sn,dx:M[0]-En[0],dy:M[1]-En[1],dispatch:_n}),R)}}return p.filter=function(b){return arguments.length?(n=typeof b=="function"?b:ap(!!b),p):n},p.container=function(b){return arguments.length?(e=typeof b=="function"?b:ap(b),p):e},p.subject=function(b){return arguments.length?(t=typeof b=="function"?b:ap(b),p):t},p.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:ap(!!b),p):r},p.on=function(){var b=o.on.apply(o,arguments);return b===o?p:b},p.clickDistance=function(b){return arguments.length?(s=(b=+b)*b,p):Math.sqrt(s)},p}function Zi(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Ly(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Rv(n){let e,t,r;n.length!==2?(e=Zi,t=(i,f)=>Zi(n(i),f),r=(i,f)=>n(i)-f):(e=n===Zi||n===Ly?n:u5,t=n,r=n);function a(i,f,c=0,l=i.length){if(c<l){if(e(f,f)!==0)return l;do{let s=c+l>>>1;t(i[s],f)<0?c=s+1:l=s}while(c<l)}return c}function o(i,f,c=0,l=i.length){if(c<l){if(e(f,f)!==0)return l;do{let s=c+l>>>1;t(i[s],f)<=0?c=s+1:l=s}while(c<l)}return c}function u(i,f,c=0,l=i.length){let s=a(i,f,c,l-1);return s>c&&r(i[s-1],f)>-r(i[s],f)?s-1:s}return{left:a,center:u,right:o}}function u5(){return 0}function Ny(n){return n===null?NaN:+n}var Ux=Rv(Zi),kx=Ux.right,i5=Ux.left,f5=Rv(Ny).center,Py=kx;var xc=class extends Map{constructor(e,t=s5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[r,a]of e)this.set(r,a)}get(e){return super.get(qx(this,e))}has(e){return super.has(qx(this,e))}set(e,t){return super.set(c5(this,e),t)}delete(e){return super.delete(l5(this,e))}};function qx({_intern:n,_key:e},t){let r=e(t);return n.has(r)?n.get(r):t}function c5({_intern:n,_key:e},t){let r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function l5({_intern:n,_key:e},t){let r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function s5(n){return n!==null&&typeof n=="object"?n.valueOf():n}var p5=Math.sqrt(50),_5=Math.sqrt(10),m5=Math.sqrt(2);function Ov(n,e,t){let r=(e-n)/Math.max(0,t),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),u=o>=p5?10:o>=_5?5:o>=m5?2:1,i,f,c;return a<0?(c=Math.pow(10,-a)/u,i=Math.round(n*c),f=Math.round(e*c),i/c<n&&++i,f/c>e&&--f,c=-c):(c=Math.pow(10,a)*u,i=Math.round(n/c),f=Math.round(e/c),i*c<n&&++i,f*c>e&&--f),f<i&&.5<=t&&t<2?Ov(n,e,t*2):[i,f,c]}function nf(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];let r=e<n,[a,o,u]=r?Ov(e,n,t):Ov(n,e,t);if(!(o>=a))return[];let i=o-a+1,f=new Array(i);if(r)if(u<0)for(let c=0;c<i;++c)f[c]=(o-c)/-u;else for(let c=0;c<i;++c)f[c]=(o-c)*u;else if(u<0)for(let c=0;c<i;++c)f[c]=(a+c)/-u;else for(let c=0;c<i;++c)f[c]=(a+c)*u;return f}function up(n,e,t){return e=+e,n=+n,t=+t,Ov(n,e,t)[2]}function Ry(n,e,t){e=+e,n=+n,t=+t;let r=e<n,a=r?up(e,n,t):up(n,e,t);return(r?-1:1)*(a<0?1/-a:a)}function Hv(n,e,t){n=+n,e=+e,t=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+t;for(var r=-1,a=Math.max(0,Math.ceil((e-n)/t))|0,o=new Array(a);++r<a;)o[r]=n+r*t;return o}function na(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var Oy=Symbol("implicit");function Ho(){var n=new xc,e=[],t=[],r=Oy;function a(o){let u=n.get(o);if(u===void 0){if(r!==Oy)return r;n.set(o,u=e.push(o)-1)}return t[u%t.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new xc;for(let u of o)n.has(u)||n.set(u,e.push(u)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Ho(e,t).unknown(r)},na.apply(a,arguments),a}function Ic(){var n=Ho().unknown(void 0),e=n.domain,t=n.range,r=0,a=1,o,u,i=!1,f=0,c=0,l=.5;delete n.unknown;function s(){var p=e().length,_=a<r,D=_?a:r,d=_?r:a;o=(d-D)/Math.max(1,p-f+c*2),i&&(o=Math.floor(o)),D+=(d-D-o*(p-f))*l,u=o*(1-f),i&&(D=Math.round(D),u=Math.round(u));var g=Hv(p).map(function(y){return D+o*y});return t(_?g.reverse():g)}return n.domain=function(p){return arguments.length?(e(p),s()):e()},n.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,s()):[r,a]},n.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,i=!0,s()},n.bandwidth=function(){return u},n.step=function(){return o},n.round=function(p){return arguments.length?(i=!!p,s()):i},n.padding=function(p){return arguments.length?(f=Math.min(1,c=+p),s()):f},n.paddingInner=function(p){return arguments.length?(f=Math.min(1,p),s()):f},n.paddingOuter=function(p){return arguments.length?(c=+p,s()):c},n.align=function(p){return arguments.length?(l=Math.max(0,Math.min(1,p)),s()):l},n.copy=function(){return Ic(e(),[r,a]).round(i).paddingInner(f).paddingOuter(c).align(l)},na.apply(s(),arguments)}function Bx(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Bx(e())},n}function Hy(){return Bx(Ic.apply(null,arguments).paddingInner(1))}function Wv(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Wy(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function cp(){}var ip=.7,kv=1/ip,Ac="\\s*([+-]?\\d+)\\s*",fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v5=/^#([0-9a-f]{3,8})$/,d5=new RegExp(`^rgb\\(${Ac},${Ac},${Ac}\\)$`),D5=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),g5=new RegExp(`^rgba\\(${Ac},${Ac},${Ac},${fp}\\)$`),h5=new RegExp(`^rgba\\(${eo},${eo},${eo},${fp}\\)$`),y5=new RegExp(`^hsl\\(${fp},${eo},${eo}\\)$`),b5=new RegExp(`^hsla\\(${fp},${eo},${eo},${fp}\\)$`),Gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wv(cp,Fa,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Vx,formatHex:Vx,formatHex8:T5,formatHsl:E5,formatRgb:Jx,toString:Jx});function Vx(){return this.rgb().formatHex()}function T5(){return this.rgb().formatHex8()}function E5(){return Kx(this).formatHsl()}function Jx(){return this.rgb().formatRgb()}function Fa(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=v5.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?zx(e):t===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?$v(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?$v(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=d5.exec(n))?new Cr(e[1],e[2],e[3],1):(e=D5.exec(n))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=g5.exec(n))?$v(e[1],e[2],e[3],e[4]):(e=h5.exec(n))?$v(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=y5.exec(n))?Xx(e[1],e[2]/100,e[3]/100,1):(e=b5.exec(n))?Xx(e[1],e[2]/100,e[3]/100,e[4]):Gx.hasOwnProperty(n)?zx(Gx[n]):n==="transparent"?new Cr(NaN,NaN,NaN,0):null}function zx(n){return new Cr(n>>16&255,n>>8&255,n&255,1)}function $v(n,e,t,r){return r<=0&&(n=e=t=NaN),new Cr(n,e,t,r)}function C5(n){return n instanceof cp||(n=Fa(n)),n?(n=n.rgb(),new Cr(n.r,n.g,n.b,n.opacity)):new Cr}function Lc(n,e,t,r){return arguments.length===1?C5(n):new Cr(n,e,t,r??1)}function Cr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Wv(Cr,Lc,Wy(cp,{brighter(n){return n=n==null?kv:Math.pow(kv,n),new Cr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ip:Math.pow(ip,n),new Cr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Cr(tf(this.r),tf(this.g),tf(this.b),qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qx,formatHex:Qx,formatHex8:M5,formatRgb:jx,toString:jx}));function Qx(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}`}function M5(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}${ef((isNaN(this.opacity)?1:this.opacity)*255)}`}function jx(){let n=qv(this.opacity);return`${n===1?"rgb(":"rgba("}${tf(this.r)}, ${tf(this.g)}, ${tf(this.b)}${n===1?")":`, ${n})`}`}function qv(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function tf(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ef(n){return n=tf(n),(n<16?"0":"")+n.toString(16)}function Xx(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new wa(n,e,t,r)}function Kx(n){if(n instanceof wa)return new wa(n.h,n.s,n.l,n.opacity);if(n instanceof cp||(n=Fa(n)),!n)return new wa;if(n instanceof wa)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,a=Math.min(e,t,r),o=Math.max(e,t,r),u=NaN,i=o-a,f=(o+a)/2;return i?(e===o?u=(t-r)/i+(t<r)*6:t===o?u=(r-e)/i+2:u=(e-t)/i+4,i/=f<.5?o+a:2-o-a,u*=60):i=f>0&&f<1?0:u,new wa(u,i,f,n.opacity)}function Zx(n,e,t,r){return arguments.length===1?Kx(n):new wa(n,e,t,r??1)}function wa(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Wv(wa,Zx,Wy(cp,{brighter(n){return n=n==null?kv:Math.pow(kv,n),new wa(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ip:Math.pow(ip,n),new wa(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,a=2*t-r;return new Cr($y(n>=240?n-240:n+120,a,r),$y(n,a,r),$y(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new wa(Yx(this.h),Uv(this.s),Uv(this.l),qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=qv(this.opacity);return`${n===1?"hsl(":"hsla("}${Yx(this.h)}, ${Uv(this.s)*100}%, ${Uv(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Yx(n){return n=(n||0)%360,n<0?n+360:n}function Uv(n){return Math.max(0,Math.min(1,n||0))}function $y(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function Uy(n,e,t,r,a){var o=n*n,u=o*n;return((1-3*n+3*o-u)*e+(4-6*o+3*u)*t+(1+3*n+3*o-3*u)*r+u*a)/6}function nI(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),a=n[r],o=n[r+1],u=r>0?n[r-1]:2*a-o,i=r<e-1?n[r+2]:2*o-a;return Uy((t-r/e)*e,u,a,o,i)}}function eI(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e),a=n[(r+e-1)%e],o=n[r%e],u=n[(r+1)%e],i=n[(r+2)%e];return Uy((t-r/e)*e,a,o,u,i)}}var lp=n=>()=>n;function w5(n,e){return function(t){return n+t*e}}function F5(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function tI(n){return(n=+n)==1?Bv:function(e,t){return t-e?F5(e,t,n):lp(isNaN(e)?t:e)}}function Bv(n,e){var t=e-n;return t?w5(n,t):lp(isNaN(n)?e:n)}var rf=(function n(e){var t=tI(e);function r(a,o){var u=t((a=Lc(a)).r,(o=Lc(o)).r),i=t(a.g,o.g),f=t(a.b,o.b),c=Bv(a.opacity,o.opacity);return function(l){return a.r=u(l),a.g=i(l),a.b=f(l),a.opacity=c(l),a+""}}return r.gamma=n,r})(1);function rI(n){return function(e){var t=e.length,r=new Array(t),a=new Array(t),o=new Array(t),u,i;for(u=0;u<t;++u)i=Lc(e[u]),r[u]=i.r||0,a[u]=i.g||0,o[u]=i.b||0;return r=n(r),a=n(a),o=n(o),i.opacity=1,function(f){return i.r=r(f),i.g=a(f),i.b=o(f),i+""}}}var S5=rI(nI),x5=rI(eI);function aI(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),a;return function(o){for(a=0;a<t;++a)r[a]=n[a]*(1-o)+e[a]*o;return r}}function oI(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function uI(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,a=new Array(r),o=new Array(t),u;for(u=0;u<r;++u)a[u]=af(n[u],e[u]);for(;u<t;++u)o[u]=e[u];return function(i){for(u=0;u<r;++u)o[u]=a[u](i);return o}}function iI(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function Gt(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function fI(n,e){var t={},r={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?t[a]=af(n[a],e[a]):r[a]=e[a];return function(o){for(a in t)r[a]=t[a](o);return r}}var qy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(qy.source,"g");function I5(n){return function(){return n}}function A5(n){return function(e){return n(e)+""}}function sp(n,e){var t=qy.lastIndex=ky.lastIndex=0,r,a,o,u=-1,i=[],f=[];for(n=n+"",e=e+"";(r=qy.exec(n))&&(a=ky.exec(e));)(o=a.index)>t&&(o=e.slice(t,o),i[u]?i[u]+=o:i[++u]=o),(r=r[0])===(a=a[0])?i[u]?i[u]+=a:i[++u]=a:(i[++u]=null,f.push({i:u,x:Gt(r,a)})),t=ky.lastIndex;return t<e.length&&(o=e.slice(t),i[u]?i[u]+=o:i[++u]=o),i.length<2?f[0]?A5(f[0].x):I5(e):(e=f.length,function(c){for(var l=0,s;l<e;++l)i[(s=f[l]).i]=s.x(c);return i.join("")})}function af(n,e){var t=typeof e,r;return e==null||t==="boolean"?lp(e):(t==="number"?Gt:t==="string"?(r=Fa(e))?(e=r,rf):sp:e instanceof Fa?rf:e instanceof Date?iI:oI(e)?aI:Array.isArray(e)?uI:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fI:Gt)(n,e)}function By(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var cI=180/Math.PI,Gv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gy(n,e,t,r,a,o){var u,i,f;return(u=Math.sqrt(n*n+e*e))&&(n/=u,e/=u),(f=n*t+e*r)&&(t-=n*f,r-=e*f),(i=Math.sqrt(t*t+r*r))&&(t/=i,r/=i,f/=i),n*r<e*t&&(n=-n,e=-e,f=-f,u=-u),{translateX:a,translateY:o,rotate:Math.atan2(e,n)*cI,skewX:Math.atan(f)*cI,scaleX:u,scaleY:i}}var Vv;function lI(n){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Gv:Gy(e.a,e.b,e.c,e.d,e.e,e.f)}function sI(n){return n==null?Gv:(Vv||(Vv=document.createElementNS("http://www.w3.org/2000/svg","g")),Vv.setAttribute("transform",n),(n=Vv.transform.baseVal.consolidate())?(n=n.matrix,Gy(n.a,n.b,n.c,n.d,n.e,n.f)):Gv)}function pI(n,e,t,r){function a(c){return c.length?c.pop()+" ":""}function o(c,l,s,p,_,D){if(c!==s||l!==p){var d=_.push("translate(",null,e,null,t);D.push({i:d-4,x:Gt(c,s)},{i:d-2,x:Gt(l,p)})}else(s||p)&&_.push("translate("+s+e+p+t)}function u(c,l,s,p){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),p.push({i:s.push(a(s)+"rotate(",null,r)-2,x:Gt(c,l)})):l&&s.push(a(s)+"rotate("+l+r)}function i(c,l,s,p){c!==l?p.push({i:s.push(a(s)+"skewX(",null,r)-2,x:Gt(c,l)}):l&&s.push(a(s)+"skewX("+l+r)}function f(c,l,s,p,_,D){if(c!==s||l!==p){var d=_.push(a(_)+"scale(",null,",",null,")");D.push({i:d-4,x:Gt(c,s)},{i:d-2,x:Gt(l,p)})}else(s!==1||p!==1)&&_.push(a(_)+"scale("+s+","+p+")")}return function(c,l){var s=[],p=[];return c=n(c),l=n(l),o(c.translateX,c.translateY,l.translateX,l.translateY,s,p),u(c.rotate,l.rotate,s,p),i(c.skewX,l.skewX,s,p),f(c.scaleX,c.scaleY,l.scaleX,l.scaleY,s,p),c=l=null,function(_){for(var D=-1,d=p.length,g;++D<d;)s[(g=p[D]).i]=g.x(_);return s.join("")}}}var Vy=pI(lI,"px, ","px)","deg)"),Jy=pI(sI,", ",")",")");var L5=1e-12;function _I(n){return((n=Math.exp(n))+1/n)/2}function N5(n){return((n=Math.exp(n))-1/n)/2}function P5(n){return((n=Math.exp(2*n))-1)/(n+1)}var zy=(function n(e,t,r){function a(o,u){var i=o[0],f=o[1],c=o[2],l=u[0],s=u[1],p=u[2],_=l-i,D=s-f,d=_*_+D*D,g,y;if(d<L5)y=Math.log(p/c)/e,g=function(R){return[i+R*_,f+R*D,c*Math.exp(e*R*y)]};else{var C=Math.sqrt(d),w=(p*p-c*c+r*d)/(2*c*t*C),b=(p*p-c*c-r*d)/(2*p*t*C),h=Math.log(Math.sqrt(w*w+1)-w),F=Math.log(Math.sqrt(b*b+1)-b);y=(F-h)/e,g=function(R){var $=R*y,rn=_I(h),_n=c/(t*C)*(rn*P5(e*$+h)-N5(h));return[i+_n*_,f+_n*D,c*rn/_I(e*$+h)]}}return g.duration=y*1e3*e/Math.SQRT2,g}return a.rho=function(o){var u=Math.max(.001,+o),i=u*u,f=i*i;return n(u,i,f)},a})(Math.SQRT2,2,4);function Qy(n){return function(){return n}}function jy(n){return+n}var mI=[0,1];function Sa(n){return n}function Xy(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Qy(isNaN(e)?NaN:.5)}function R5(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function O5(n,e,t){var r=n[0],a=n[1],o=e[0],u=e[1];return a<r?(r=Xy(a,r),o=t(u,o)):(r=Xy(r,a),o=t(o,u)),function(i){return o(r(i))}}function H5(n,e,t){var r=Math.min(n.length,e.length)-1,a=new Array(r),o=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++u<r;)a[u]=Xy(n[u],n[u+1]),o[u]=t(e[u],e[u+1]);return function(i){var f=Py(n,i,1,r)-1;return o[f](a[f](i))}}function $u(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function of(){var n=mI,e=mI,t=af,r,a,o,u=Sa,i,f,c;function l(){var p=Math.min(n.length,e.length);return u!==Sa&&(u=R5(n[0],n[p-1])),i=p>2?H5:O5,f=c=null,s}function s(p){return p==null||isNaN(p=+p)?o:(f||(f=i(n.map(r),e,t)))(r(u(p)))}return s.invert=function(p){return u(a((c||(c=i(e,n.map(r),Gt)))(p)))},s.domain=function(p){return arguments.length?(n=Array.from(p,jy),l()):n.slice()},s.range=function(p){return arguments.length?(e=Array.from(p),l()):e.slice()},s.rangeRound=function(p){return e=Array.from(p),t=By,l()},s.clamp=function(p){return arguments.length?(u=p?!0:Sa,l()):u!==Sa},s.interpolate=function(p){return arguments.length?(t=p,l()):t},s.unknown=function(p){return arguments.length?(o=p,s):o},function(p,_){return r=p,a=_,l()}}function Yy(){return of()(Sa,Sa)}function vI(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function uf(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function to(n){return n=uf(Math.abs(n)),n?n[1]:NaN}function dI(n,e){return function(t,r){for(var a=t.length,o=[],u=0,i=n[0],f=0;a>0&&i>0&&(f+i+1>r&&(i=Math.max(1,r-f)),o.push(t.substring(a-=i,a+i)),!((f+=i+1)>r));)i=n[u=(u+1)%n.length];return o.reverse().join(e)}}function DI(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var W5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ro(n){if(!(e=W5.exec(n)))throw new Error("invalid format: "+n);var e;return new Jv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ro.prototype=Jv.prototype;function Jv(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Jv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gI(n){n:for(var e=n.length,t=1,r=-1,a;t<e;++t)switch(n[t]){case".":r=a=t;break;case"0":r===0&&(r=t),a=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var Ky;function hI(n,e){var t=uf(n,e);if(!t)return n+"";var r=t[0],a=t[1],o=a-(Ky=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+uf(n,Math.max(0,e+o-1))[0]}function Zy(n,e){var t=uf(n,e);if(!t)return n+"";var r=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var n0={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:vI,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Zy(n*100,e),r:Zy,s:hI,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function e0(n){return n}var yI=Array.prototype.map,bI=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function TI(n){var e=n.grouping===void 0||n.thousands===void 0?e0:dI(yI.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?e0:DI(yI.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",i=n.minus===void 0?"\u2212":n.minus+"",f=n.nan===void 0?"NaN":n.nan+"";function c(s){s=ro(s);var p=s.fill,_=s.align,D=s.sign,d=s.symbol,g=s.zero,y=s.width,C=s.comma,w=s.precision,b=s.trim,h=s.type;h==="n"?(C=!0,h="g"):n0[h]||(w===void 0&&(w=12),b=!0,h="g"),(g||p==="0"&&_==="=")&&(g=!0,p="0",_="=");var F=d==="$"?t:d==="#"&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",R=d==="$"?r:/[%p]/.test(h)?u:"",$=n0[h],rn=/[defgprs%]/.test(h);w=w===void 0?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _n(M){var Ln=F,Sn=R,E,z,L;if(h==="c")Sn=$(M)+Sn,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?f:$(Math.abs(M),w),b&&(M=gI(M)),X&&+M==0&&D!=="+"&&(X=!1),Ln=(X?D==="("?D:i:D==="-"||D==="("?"":D)+Ln,Sn=(h==="s"?bI[8+Ky/3]:"")+Sn+(X&&D==="("?")":""),rn){for(E=-1,z=M.length;++E<z;)if(L=M.charCodeAt(E),48>L||L>57){Sn=(L===46?a+M.slice(E+1):M.slice(E))+Sn,M=M.slice(0,E);break}}}C&&!g&&(M=e(M,1/0));var pn=Ln.length+M.length+Sn.length,En=pn<y?new Array(y-pn+1).join(p):"";switch(C&&g&&(M=e(En+M,En.length?y-Sn.length:1/0),En=""),_){case"<":M=Ln+M+Sn+En;break;case"=":M=Ln+En+M+Sn;break;case"^":M=En.slice(0,pn=En.length>>1)+Ln+M+Sn+En.slice(pn);break;default:M=En+Ln+M+Sn;break}return o(M)}return _n.toString=function(){return s+""},_n}function l(s,p){var _=c((s=ro(s),s.type="f",s)),D=Math.max(-8,Math.min(8,Math.floor(to(p)/3)))*3,d=Math.pow(10,-D),g=bI[8+D/3];return function(y){return _(d*y)+g}}return{format:c,formatPrefix:l}}var zv,Nc,Qv;t0({thousands:",",grouping:[3],currency:["$",""]});function t0(n){return zv=TI(n),Nc=zv.format,Qv=zv.formatPrefix,zv}function r0(n){return Math.max(0,-to(Math.abs(n)))}function a0(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(to(e)/3)))*3-to(Math.abs(n)))}function o0(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,to(e)-to(n))+1}function u0(n,e,t,r){var a=Ry(n,e,t),o;switch(r=ro(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(o=a0(a,u))&&(r.precision=o),Qv(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=o0(a,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=r0(a))&&(r.precision=o-(r.type==="%")*2);break}}return Nc(r)}function pp(n){var e=n.domain;return n.ticks=function(t){var r=e();return nf(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var a=e();return u0(a[0],a[a.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),a=0,o=r.length-1,u=r[a],i=r[o],f,c,l=10;for(i<u&&(c=u,u=i,i=c,c=a,a=o,o=c);l-- >0;){if(c=up(u,i,t),c===f)return r[a]=u,r[o]=i,e(r);if(c>0)u=Math.floor(u/c)*c,i=Math.ceil(i/c)*c;else if(c<0)u=Math.ceil(u*c)/c,i=Math.floor(i*c)/c;else break;f=c}return n},n}function _p(){var n=Yy();return n.copy=function(){return $u(n,_p())},na.apply(n,arguments),pp(n)}function i0(n,e){n=n.slice();var t=0,r=n.length-1,a=n[t],o=n[r],u;return o<a&&(u=t,t=r,r=u,u=a,a=o,o=u),n[t]=e.floor(a),n[r]=e.ceil(o),n}function EI(n){return Math.log(n)}function CI(n){return Math.exp(n)}function $5(n){return-Math.log(-n)}function U5(n){return-Math.exp(-n)}function k5(n){return isFinite(n)?+("1e"+n):n<0?0:n}function q5(n){return n===10?k5:n===Math.E?Math.exp:e=>Math.pow(n,e)}function B5(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function MI(n){return(e,t)=>-n(-e,t)}function G5(n){let e=n(EI,CI),t=e.domain,r=10,a,o;function u(){return a=B5(r),o=q5(r),t()[0]<0?(a=MI(a),o=MI(o),n($5,U5)):n(EI,CI),e}return e.base=function(i){return arguments.length?(r=+i,u()):r},e.domain=function(i){return arguments.length?(t(i),u()):t()},e.ticks=i=>{let f=t(),c=f[0],l=f[f.length-1],s=l<c;s&&([c,l]=[l,c]);let p=a(c),_=a(l),D,d,g=i==null?10:+i,y=[];if(!(r%1)&&_-p<g){if(p=Math.floor(p),_=Math.ceil(_),c>0){for(;p<=_;++p)for(D=1;D<r;++D)if(d=p<0?D/o(-p):D*o(p),!(d<c)){if(d>l)break;y.push(d)}}else for(;p<=_;++p)for(D=r-1;D>=1;--D)if(d=p>0?D/o(-p):D*o(p),!(d<c)){if(d>l)break;y.push(d)}y.length*2<g&&(y=nf(c,l,g))}else y=nf(p,_,Math.min(_-p,g)).map(o);return s?y.reverse():y},e.tickFormat=(i,f)=>{if(i==null&&(i=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=ro(f)).precision==null&&(f.trim=!0),f=Nc(f)),i===1/0)return f;let c=Math.max(1,r*i/e.ticks().length);return l=>{let s=l/o(Math.round(a(l)));return s*r<r-.5&&(s*=r),s<=c?f(l):""}},e.nice=()=>t(i0(t(),{floor:i=>o(Math.floor(a(i))),ceil:i=>o(Math.ceil(a(i)))})),e}function mp(){let n=G5(of()).domain([1,10]);return n.copy=()=>$u(n,mp()).base(n.base()),na.apply(n,arguments),n}function wI(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function FI(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function V5(n){var e=1,t=n(wI(e),FI(e));return t.constant=function(r){return arguments.length?n(wI(e=+r),FI(e)):e},pp(t)}function vp(){var n=V5(of());return n.copy=function(){return $u(n,vp()).constant(n.constant())},na.apply(n,arguments)}function SI(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function J5(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function z5(n){return n<0?-n*n:n*n}function Q5(n){var e=n(Sa,Sa),t=1;function r(){return t===1?n(Sa,Sa):t===.5?n(J5,z5):n(SI(t),SI(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,r()):t},pp(e)}function Pc(){var n=Q5(of());return n.copy=function(){return $u(n,Pc()).exponent(n.exponent())},na.apply(n,arguments),n}function f0(){return Pc.apply(null,arguments).exponent(.5)}function xI(n){for(var e=n.length/6|0,t=new Array(e),r=0;r<e;)t[r]="#"+n.slice(r*6,++r*6);return t}var dp=xI("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ff(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}var j5=Ho(dp),jv=null,Xv=()=>{jv&&(jv.stop(),jv=null);let n=document.getElementById("atomic-view-panel");n&&n.remove()},II=n=>()=>{Xv();let{module:e,name:t,calls:r,calledBy:a}=n,o=document.createElement("div");o.id="atomic-view-panel",o.style.cssText=`
    position: fixed;
    top: 60px;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    height: 500px;
    background: rgba(20, 20, 30, 0.95);
    border: 1px solid #444;
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    z-index: 2000;
    overflow: hidden;
  `;let u=document.createElement("div");u.style.cssText=`
    padding: 12px 16px;
    background: rgba(40, 40, 50, 0.9);
    border-bottom: 1px solid #444;
    display: flex;
    justify-content: space-between;
    align-items: center;
  `;let i=document.createElement("div");i.innerHTML=`
    <span style="color: #888; font-size: 12px;">Function Call Graph</span><br/>
    <span style="color: #fff; font-size: 16px; font-weight: 500;">${e}.<span style="color: #7dd3fc;">${t}</span></span>
  `,u.appendChild(i);let f=document.createElement("button");f.textContent="\xD7",f.style.cssText=`
    background: none;
    border: none;
    color: #888;
    font-size: 24px;
    cursor: pointer;
    padding: 0 8px;
    line-height: 1;
  `,f.onclick=Xv,f.onmouseenter=()=>f.style.color="#fff",f.onmouseleave=()=>f.style.color="#888",u.appendChild(f),o.appendChild(u);let c=document.createElement("div");c.style.cssText=`
    padding: 8px 16px;
    background: rgba(30, 30, 40, 0.9);
    border-bottom: 1px solid #333;
    display: flex;
    gap: 24px;
    font-size: 12px;
  `,c.innerHTML=`
    <div><span style="color: #888;">Calls:</span> <span style="color: #4ade80;">${r.length}</span></div>
    <div><span style="color: #888;">Called by:</span> <span style="color: #f97316;">${a.length}</span></div>
    <div style="margin-left: auto; color: #666;">Drag nodes to rearrange \u2022 Click outside to close</div>
  `,o.appendChild(c);let l=document.createElement("div");l.id="atomic-view-svg",l.style.cssText=`
    width: 100%;
    height: calc(100% - 90px);
  `,o.appendChild(l),document.body.appendChild(o);let s=M=>{o.contains(M.target)||(Xv(),document.removeEventListener("click",s))};setTimeout(()=>document.addEventListener("click",s),100);let p=[],_=[],D={id:`${e}.${t}`,label:t,module:e,type:"center",fx:400,fy:205};p.push(D);let d=new Set;r.forEach((M,Ln)=>{let Sn=`${M.targetModule}.${M.identifier}`;!d.has(Sn)&&Sn!==D.id&&(d.add(Sn),p.push({id:Sn,label:M.identifier,module:M.targetModule,type:"outgoing"}),_.push({source:D.id,target:Sn,type:"outgoing"}))});let g=new Set;a.forEach((M,Ln)=>{if(!g.has(M)&&M!==D.id){g.add(M);let Sn=M.lastIndexOf("."),E=Sn>0?M.substring(0,Sn):"Unknown",z=Sn>0?M.substring(Sn+1):M;p.push({id:M,label:z,module:E,type:"incoming"}),_.push({source:M,target:D.id,type:"incoming"})}});let y=800,C=410,w=$n("#atomic-view-svg").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${y} ${C}`),b=w.append("defs");b.append("marker").attr("id","arrow-outgoing").attr("viewBox","0 -5 10 10").attr("refX",20).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill","#4ade80").attr("d","M0,-5L10,0L0,5"),b.append("marker").attr("id","arrow-incoming").attr("viewBox","0 -5 10 10").attr("refX",20).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill","#f97316").attr("d","M0,-5L10,0L0,5");let F=w.append("g").attr("class","links").selectAll("line").data(_).enter().append("line").attr("stroke",M=>M.type==="outgoing"?"#4ade80":"#f97316").attr("stroke-width",1.5).attr("stroke-opacity",.6).attr("marker-end",M=>M.type==="outgoing"?"url(#arrow-outgoing)":"url(#arrow-incoming)"),$=w.append("g").attr("class","nodes").selectAll("g").data(p).enter().append("g").attr("class","node").style("cursor","grab");$.append("circle").attr("r",M=>M.type==="center"?20:12).attr("fill",M=>M.type==="center"?"#7dd3fc":j5(M.module)).attr("stroke",M=>M.type==="center"?"#fff":"#333").attr("stroke-width",M=>M.type==="center"?3:1),$.append("text").text(M=>M.label).attr("dy",M=>M.type==="center"?35:25).attr("text-anchor","middle").attr("fill","#fff").attr("font-size",M=>M.type==="center"?"14px":"11px").attr("font-weight",M=>M.type==="center"?"bold":"normal"),$.append("text").text(M=>M.module.split(".").pop()).attr("dy",M=>M.type==="center"?50:38).attr("text-anchor","middle").attr("fill","#888").attr("font-size","9px");let rn=Ay(p).force("link",Qs(_).id(M=>M.id).distance(120).strength(.5)).force("charge",ep().strength(-300)).force("x",Fc().x(M=>M.type==="center"?y/2:M.type==="incoming"?y*.2:y*.8).strength(.3)).force("y",Sc(C/2).strength(.1)).force("collide",zs().radius(40));jv=rn;let _n=Ki().on("start",(M,Ln)=>{M.active||rn.alphaTarget(.3).restart(),Ln.fx=Ln.x,Ln.fy=Ln.y}).on("drag",(M,Ln)=>{Ln.fx=M.x,Ln.fy=M.y}).on("end",(M,Ln)=>{M.active||rn.alphaTarget(0),Ln.type!=="center"&&(Ln.fx=null,Ln.fy=null)});$.call(_n),rn.on("tick",()=>{F.attr("x1",M=>M.source.x).attr("y1",M=>M.source.y).attr("x2",M=>M.target.x).attr("y2",M=>M.target.y),$.attr("transform",M=>`translate(${M.x},${M.y})`)})};var AI=function(n){return II({module:n.module,name:n.name,calls:n.calls,calledBy:n.calledBy})};var LI=n=>e=>t=>()=>{let a=$n(n).append("g").datum(e).attr("class",`module-pack pack-${e.id} ${t?"reexport-module":"empty-module"}`).attr("transform",`translate(${e.x},${e.y})`);t?(a.append("circle").attr("cx",0).attr("cy",0).attr("r",e.r*1.5).attr("fill","none").attr("stroke","#9467bd").attr("stroke-width",3).attr("stroke-dasharray","5,3").attr("class","reexport-ring"),a.append("circle").attr("cx",0).attr("cy",0).attr("r",4).attr("fill","#9467bd").attr("class","reexport-center")):a.append("circle").attr("cx",0).attr("cy",0).attr("r",e.r).attr("fill","#ccc").attr("stroke","#999").attr("stroke-width",1).attr("class","empty-module-circle")},NI=n=>e=>t=>()=>{let r=new Set(e),a=new Set(t);$n("#explorer-nodes").selectAll("g.module-pack").each(function(){let o=$n(this),u=o.datum();if(!u)return;let i=u.name;o.classed("highlight-caller",!1).classed("highlight-callee",!1).classed("highlight-source",!1).classed("highlight-dimmed",!1),i===n?o.classed("highlight-source",!0):r.has(i)?o.classed("highlight-caller",!0):a.has(i)?o.classed("highlight-callee",!0):o.classed("highlight-dimmed",!0)}),$n("#explorer-links").selectAll("line").each(function(){$n(this).classed("highlight-dimmed",!0)})},PI=()=>{$n("#explorer-nodes").selectAll("g.module-pack").classed("highlight-caller",!1).classed("highlight-callee",!1).classed("highlight-source",!1).classed("highlight-dimmed",!1),$n("#explorer-links").selectAll("line").classed("highlight-dimmed",!1)},RI=n=>e=>t=>r=>a=>o=>u=>i=>()=>{$n(n).append("g").datum(e).attr("class",`module-pack pack-${e.id}`).attr("transform",`translate(${e.x},${e.y})`).selectAll("circle").data(t).enter().append("circle").attr("cx",l=>l.x-r).attr("cy",l=>l.y-r).attr("r",l=>l.r).attr("fill",l=>a(l)()).attr("fill-opacity",l=>l.depth===0?.3:l.depth===1?.6:.8).attr("stroke","#fff").attr("stroke-width",.5).attr("class",l=>l.depth===0?"pack-module":l.depth===1?"pack-category":"pack-declaration").style("cursor",l=>l.depth===2?"pointer":"default").on("click",function(l,s){s.depth===2&&(l.stopPropagation(),o(e.name)(s.data_)(s.category)())}).on("mouseenter",function(l,s){s.depth===2&&($n(this).attr("stroke","#000").attr("stroke-width",2),s.category==="value"&&u(e.name)(s.data_)(s.category)())}).on("mouseleave",function(l,s){s.depth===2&&($n(this).attr("stroke","#fff").attr("stroke-width",.5),s.category==="value"&&i())})};var Pr=U(xe),ea=U(vr),Oc=GD(Ff),Z5=K(Te),ao=T(Fn),kI=xf(Et),n4=Pe(An)(gn),gp=ri(Et),e4=Xe(Nn),t4=ga(Nn)(gn),r4=yo(Et),p0=ue(gn),a4=ri(Nn),m0=nr(Ct);var c0=T(Qn),l0=Xn(Va),Rc=B(nt),OI=B(Oa),o4=N(sl),$o=ft(Nn),qI=N(qr),u4=T_(gn),i4=ml(Et),f4=U(nu(xe)),c4=U(nu(vr)),Uo=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Wo=(function(){function n(){}return n.value=new n,n})(),BI=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),GI=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var HI=function(n){return function(e){return function(t){var r=Oc(e)(t),a=Oc(n)(t);if(a instanceof m&&r instanceof m){var o=r.value0>a.value0;if(o){var u=UD(a.value0+1|0)(t),i=x_(r.value0)(t);return Z5(u)(i)}var f=r.value0<a.value0;return f?Sl(r.value0)(a.value0+1|0)(t):t}return t}}},l4=function(n){return function(e){var t=function(i){return function(f){return function(c){return function(l){var s=c+i*l.value0.y,p=f+i*l.value0.x,_=i*l.value0.r;return new Uo({data_:l.value0.data_,depth:l.value0.depth,height:l.value0.height,value:l.value0.value,x:p,y:s,r:_,children:ao(t(i)(p)(s))(l.value0.children)})}}}},r=kI(n.size.width)(n.size.height)/(2*e.value0.r),a=r*e.value0.r,o=n.size.height/2,u=n.size.width/2;return new Uo({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x:u,y:o,r:a,children:ao(t(r)(u)(o))(e.value0.children)})}},s4=function(n){return n4(function(e){return Je("  Overlap: circles "+(Pr(e.i)+(" and "+(Pr(e.j)+(" overlap by "+(ea(e.overlap)+" pixels"))))))})(n)},VI=function(n){return function(e){return function(t){var r=n.y-e.y,a=n.x-e.x,o=a*a+r*r,u=o!==0;if(u){var i=(n.r+t.r)*(n.r+t.r),f=(e.r+t.r)*(e.r+t.r),c=f>i;if(c){var l=(o+i-f)/(2*o),s=St(gp(0)(i/o-l*l));return{x:n.x-l*a-s*r,y:n.y-l*r+s*a,r:t.r}}var l=(o+f-i)/(2*o),s=St(gp(0)(f/o-l*l));return{x:e.x+l*a-s*r,y:e.y+l*r+s*a,r:t.r}}return{x:e.x+t.r,y:e.y,r:t.r}}}},p4=function(n){return function(e){return function(t){return function(r){var a=Oc(n)(r);if(a instanceof v)return r;if(a instanceof m)return Rn(r)(BD(a.value0+1|0)(t)(r));throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 178, column 3 - line 182, column 62): "+[a.constructor.name])}}}},WI=function(n){return function(e){return function(t){return function(r){var a=e4(r.nextId)(t)(r.circles),o=p4(n)(e)(r.nextId)(r.frontChain);return{circles:a,frontChain:o,nextId:r.nextId+1|0}}}}},_4=function(n){return function(e){return function(t){var r={r:e.r,x:n.r,y:0},a={r:n.r,x:-e.r,y:0},o=VI(r)(a)(t),u=t4([new I(0,a),new I(1,r),new I(2,o)]),i=Le(Je("   Initial positions: c0=("+(ea(a.x)+(","+(ea(a.y)+(") c1=("+(ea(r.x)+(","+(ea(r.y)+(") c2=("+(ea(o.x)+(","+(ea(o.y)+")")))))))))))));return{circles:u,frontChain:[0,2,1],nextId:3}}}},JI=function(n){var e=function(t){return function(r){if(t.children instanceof v)return new Uo({data_:t.data_,depth:r,height:0,value:Rn(0)(t.value),children:[],x:0,y:0,r:0});if(t.children instanceof m){var a=ao(function(c){return e(c)(r+1|0)})(t.children.value0),o=r4(function(c){return-c.value0.value})(a),u=p0(function(c){return function(l){return c+l.value0.value}})(0)(o),i=ao(function(c){return c.value0.height})(o),f=p0(a4)(0)(i);return new Uo({data_:t.data_,depth:r,height:f+1|0,value:u,children:o,x:0,y:0,r:0})}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 779, column 5 - line 811, column 14): "+[t.children.constructor.name])}};return e(n)(0)},$I=function(n){return function(e){var t=Oc(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=Q(e),a=m0((t.value0-1|0)+r|0)(r);return ie(e)(a)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 245, column 3 - line 252, column 34): "+[t.constructor.name])}},Yv=function(n){return function(e){var t=Oc(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=m0(t.value0+1|0)(Q(e));return ie(e)(r)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 234, column 3 - line 240, column 34): "+[t.constructor.name])}},zI=function(n){return function(e){var t=Oc(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=m0(t.value0+1|0)(Q(e));return ie(e)(r)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 142, column 3 - line 148, column 34): "+[t.constructor.name])}};var QI=1e-6,UI=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r+e.r-QI;return a>0&&a*a>r*r+t*t}},m4=1e-9,jI=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r-e.r+gp(n.r)(gp(e.r)(1))*m4;return a>0&&a*a>r*r+t*t}},s0=function(n){return function(e){return JD(jI(n))(e)}},Kv=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r-e.r;return a<0||a*a<r*r+t*t}},XI=function(n){return function(e){return function(t){var r=n.x*n.x+n.y*n.y-n.r*n.r,a=r-e.x*e.x-e.y*e.y+e.r*e.r,o=r-t.x*t.x-t.y*t.y+t.r*t.r,u=t.r-n.r,i=e.r-n.r,f=n.y-t.y,c=n.y-e.y,l=n.x-t.x,s=n.x-e.x,p=l*c-s*f,_=(c*o-f*a)/(p*2)-n.x,D=(f*i-c*u)/p,d=(l*a-s*o)/(p*2)-n.y,g=_*_+d*d-n.r*n.r,y=(s*u-l*i)/p,C=D*D+y*y-1,w=2*(n.r+_*D+d*y),b=(function(){var h=XD(C)>QI;return h?-(w+St(w*w-4*C*g))/(2*C):-g/w})();return{x:n.x+_+D*b,y:n.y+d+y*b,r:b}}}},Dp=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=e.r-n.r,o=St(r*r+t*t);return{x:(n.x+e.x+r/o*a)/2,y:(n.y+e.y+t/o*a)/2,r:(o+n.r+e.r)/2}}},v4=function(n){return function(e){if(s0(e)(n))return[e];if(le){var t=Q(n),r=function(f){var c=!1,l;function s(p){if(p>=t)return c=!0,v.value;if(le){var _=ie(n)(p);if(_ instanceof m){var D=Dp(_.value0)(e),d=Kv(e)(_.value0)&&s0(D)(n);if(d)return c=!0,new m([_.value0,e]);f=p+1|0;return}if(_ instanceof v){f=p+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 653, column 13 - line 660, column 52): "+[_.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 649, column 7 - line 649, column 56): "+[p.constructor.name])}for(;!c;)l=s(f);return l},a=function(f){return function(c){var l=f,s=!1,p;function _(D,d){if(d>=t)return s=!0,v.value;if(le){var g=ie(n)(d),y=ie(n)(D);if(y instanceof m&&g instanceof m){var C=Dp(g.value0)(e),w=Dp(y.value0)(e),b=Dp(y.value0)(g.value0),h=XI(y.value0)(g.value0)(e),F=Kv(b)(e)&&Kv(w)(g.value0)&&Kv(C)(y.value0)&&s0(h)(n);if(F)return s=!0,new m([y.value0,g.value0,e]);l=D,c=d+1|0;return}l=D,c=d+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 670, column 7 - line 670, column 58): "+[D.constructor.name,d.constructor.name])}for(;!s;)p=_(l,c);return p}},o=function(f){var c=!1,l;function s(p){if(p>=(t-1|0))return c=!0,v.value;if(le){var _=a(p)(p+1|0);if(_ instanceof m)return c=!0,new m(_.value0);if(_ instanceof v){f=p+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 666, column 13 - line 668, column 54): "+[_.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 662, column 7 - line 662, column 58): "+[p.constructor.name])}for(;!c;)l=s(f);return l},u=r(0);if(u instanceof m)return u.value0;if(u instanceof v){var i=o(0);if(i instanceof m)return i.value0;if(i instanceof v)return n;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 643, column 11 - line 645, column 29): "+[i.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 640, column 7 - line 645, column 29): "+[u.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 636, column 1 - line 636, column 54): "+[n.constructor.name,e.constructor.name])}},d4=function(n){return{x:n.x,y:n.y,r:n.r}},D4=function(n){var e=Q(n);return e===1?Rn({x:0,y:0,r:0})(c0(d4)(ie(n)(0))):e===2?Rn({x:0,y:0,r:0})(l0(c0(Dp)(ie(n)(0)))(ie(n)(1))):e===3?Rn({x:0,y:0,r:0})(l0(l0(c0(XI)(ie(n)(0)))(ie(n)(1)))(ie(n)(2))):{x:0,y:0,r:0}},g4=function(n){var e=Q(n),t=function(r){return function(a){return function(o){var u=r,i=a,f=!1,c;function l(s,p,_){if(s>=e){if(_ instanceof m)return f=!0,_.value0;if(_ instanceof v)return f=!0,{x:0,y:0,r:0};throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 694, column 9 - line 696, column 48): "+[_.constructor.name])}if(le){var D=ie(n)(s);if(D instanceof v){u=s+1|0,i=p,o=_;return}if(D instanceof m){if(_ instanceof m&&jI(_.value0)(D.value0)){u=s+1|0,i=p,o=_;return}var d=v4(p)(D.value0),g=D4(d);u=0,i=d,o=new m(g);return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 698, column 9 - line 709, column 44): "+[D.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 691, column 3 - line 691, column 54): "+[s.constructor.name,p.constructor.name,_.constructor.name])}for(;!f;)c=l(u,i,o);return c}}};return t(0)([])(v.value)},h4=function(n){var e=function(a){return function(o){return Rc(ie(a)(o.value0))(function(u){return Rc(ie(a)(o.value1))(function(i){var f=u.r+i.r,c=i.y-u.y,l=i.x-u.x,s=St(l*l+c*c),p=f-s,_=p>.1;return _?new m({i:o.value0,j:o.value1,overlap:p}):v.value})})}},t=Q(n),r=OI(_a(0)(t-2|0))(function(a){return OI(_a(a+1|0)(t-1|0))(function(o){return o4(new I(a,o))})});return he(e(n))(r)},YI=(function(){return{size:{width:1,height:1},padding:0,radius:v.value}})(),y4=function(n){return function(e){var t=n.r+e.r,r=(n.x*e.r+e.x*n.r)/t,a=(n.y*e.r+e.y*n.r)/t;return r*r+a*a}},b4=function(n){return function(e){return Rc($o(n)(e.circles))(function(t){return Rc(zI(n)(e.frontChain))(function(r){return Rc($o(r)(e.circles))(function(a){return qI({nodeId:n,score:y4(t)(a)})})})})}},T4=function(n){var e=he(function(r){return b4(r)(n)})(n.frontChain),t=u4(i4(function(r){return r.score}))(e);if(t instanceof v)return v.value;if(t instanceof m)return Rc(zI(t.value0.nodeId)(n.frontChain))(function(r){return qI(new I(t.value0.nodeId,r))});throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 169, column 5 - line 173, column 40): "+[t.constructor.name])},E4=function(n){return function(e){return function(t){return function(r){var a=function(c){return function(l){return function(s){return function(p){var _=c,D=l,d=s,g=!1,y;function C(w,b,h,F){var R=h<=F;if(R){var M=$o(w)(r.circles);if(M instanceof m){var $=UI(M.value0)(t);if($)return g=!0,new BI(w);var rn=Yv(w)(r.frontChain);if(rn instanceof m){var _n=Yv(b)(r.frontChain);if(_n instanceof m&&rn.value0===_n.value0)return g=!0,Wo.value;_=rn.value0,D=b,d=h+M.value0.r,p=F;return}if(rn instanceof v)return g=!0,Wo.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 284, column 13 - line 290, column 37): "+[rn.constructor.name])}if(M instanceof v)return g=!0,Wo.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 278, column 7 - line 291, column 31): "+[M.constructor.name])}var M=$o(b)(r.circles);if(M instanceof m){var Ln=UI(M.value0)(t);if(Ln)return g=!0,new GI(b);var rn=$I(b)(r.frontChain);if(rn instanceof m){var _n=Yv(rn.value0)(r.frontChain);if(_n instanceof m&&w===_n.value0)return g=!0,Wo.value;_=w,D=rn.value0,d=h,p=F+M.value0.r;return}if(rn instanceof v)return g=!0,Wo.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 300, column 13 - line 306, column 37): "+[rn.constructor.name])}if(M instanceof v)return g=!0,Wo.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 294, column 7 - line 307, column 31): "+[M.constructor.name])}for(;!g;)y=C(_,D,d,p);return y}}}},o=$o(e)(r.circles),u=$o(n)(r.circles);if(u instanceof m&&o instanceof m){var i=$I(n)(r.frontChain),f=Yv(e)(r.frontChain);return f instanceof m&&i instanceof m?a(f.value0)(i.value0)(o.value0.r)(u.value0.r):Wo.value}return Wo.value}}}},C4=function(n){return function(e){return function(t){return function(r){return function(a){var o=n,u=e,i=t,f=r,c=!1,l;function s(p,_,D,d,g){if(p<=0){var y=Le(Je("\u274C RETRY LIMIT HIT! Failed to place circle r="+ea(_.r)));return c=!0,WI(D)(d)(_)(g)}if(le){var y=$o(d)(g.circles),C=$o(D)(g.circles);if(C instanceof m&&y instanceof m){var w=VI(y.value0)(C.value0)(_),b=Le(Je("  Try r="+(ea(_.r)+(" at ("+(Pr(D)+(","+(Pr(d)+")"))))))),h=E4(D)(d)(w)(g);if(h instanceof Wo){var F=Le(Je("    \u2705 Placed at ("+(ea(w.x)+(", "+(ea(w.y)+")")))));return c=!0,WI(D)(d)(w)(g)}if(h instanceof BI){var F=Le(Je("    \u26A0\uFE0F Collision at j="+(Pr(h.value0)+(" - b:="+Pr(h.value0))))),R=HI(D)(h.value0)(g.frontChain),$={circles:g.circles,nextId:g.nextId,frontChain:R};o=p-1|0,u=_,i=D,f=h.value0,a=$;return}if(h instanceof GI){var F=Le(Je("    \u26A0\uFE0F Collision at k="+(Pr(h.value0)+(" - a:="+Pr(h.value0))))),R=HI(h.value0)(d)(g.frontChain),$={circles:g.circles,nextId:g.nextId,frontChain:R};o=p-1|0,u=_,i=h.value0,f=d,a=$;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 396, column 13 - line 425, column 101): "+[h.constructor.name])}return c=!0,g}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 374, column 1 - line 374, column 91): "+[p.constructor.name,_.constructor.name,D.constructor.name,d.constructor.name,g.constructor.name])}for(;!c;)l=s(o,u,i,f,a);return l}}}}},M4=C4(100),KI=function(n){return function(e){if(e.value0.children.length===0){var t=(function(){if(n.radius instanceof m)return n.radius.value0(e.value0.data_);if(n.radius instanceof v)return St(e.value0.value);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 846, column 13 - line 848, column 37): "+[n.radius.constructor.name])})();return new Uo({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,children:e.value0.children,x:e.value0.x,y:e.value0.y,r:gp(0)(t)})}return new Uo({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x:e.value0.x,y:e.value0.y,r:e.value0.r,children:ao(KI(n))(e.value0.children)})}},w4=function(n){return function(e){var t=Le(Je(`
\u27A4 Adding circle r=`+(ea(n.r)+(" (total circles so far: "+(Pr($_(e.circles))+")"))))),r=Le(Je("  Current front chain: "+f4(e.frontChain))),a=T4(e);if(a instanceof v)return e;if(a instanceof m){var o=Le(Je("  Best pair: ("+(Pr(a.value0.value0)+(","+(Pr(a.value0.value1)+")"))))),u=M4(n)(a.value0.value0)(a.value0.value1)(e);return u}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 442, column 5 - line 450, column 17): "+[a.constructor.name])}},F4=function(n){var e=Q(n),t=Le(Je("\u{1F4E6} packSiblingsMap called with "+(Pr(e)+" circles"))),r=Le(Je("   Radii: "+c4(ao(function(h){return h.r})(n)))),a=e===0;if(a)return{circles:[],radius:0};var o=e===1;if(o){var c=ie(n)(0);if(c instanceof m)return{circles:[{r:c.value0.r,x:0,y:0}],radius:c.value0.r};if(c instanceof v)return{circles:[],radius:0};throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 464, column 7 - line 466, column 48): "+[c.constructor.name])}var u=e===2;if(u){var c=ie(n)(1),l=ie(n)(0);if(l instanceof m&&c instanceof m){var i={r:c.value0.r,x:l.value0.r,y:0},f={r:l.value0.r,x:-c.value0.r,y:0};return{circles:[f,i],radius:l.value0.r+c.value0.r}}return{circles:[],radius:0}}var c=ie(n)(2),l=ie(n)(1),s=ie(n)(0);if(s instanceof m&&l instanceof m&&c instanceof m){var p=x_(3)(n),_=_4(s.value0)(l.value0)(c.value0),D=p0(Gn(w4))(_)(p),d=he(function(h){return $o(h)(D.circles)})(_a(0)(e-1|0)),g=g4(d),y=ao(function(h){return{r:h.r,x:h.x-g.x,y:h.y-g.y}})(d),C=h4(y),w=(function(){var h=Q(C)>0;return h?Le(Je("\u26A0\uFE0F OVERLAPS DETECTED: "+(Pr(Q(C))+" pairs"))):void 0})(),b=Le(s4(C));return{circles:y,radius:g.r}}return{circles:[],radius:0}},_0=function(n){return function(e){return function(t){var r=function(D){return function(d){return new Uo({data_:D.value0.data_,depth:D.value0.depth,height:D.value0.height,value:D.value0.value,children:D.value0.children,r:D.value0.r,x:d.x,y:d.y})}},a=function(D){return function(d){return{x:d.x,y:d.y,r:d.r-D}}},o=function(D){return{x:D.value0.x,y:D.value0.y,r:D.value0.r}},u=function(D){return function(d){return{x:d.x,y:d.y,r:d.r+D}}};if(t.value0.children.length===0)return new Uo(t.value0);var i=e.padding*n,f=ao(_0(n)(e))(t.value0.children),c=ao((function(){var D=u(i);return function(d){return D(o(d))}})())(f),l=F4(c),s=ao(a(i))(l.circles),p=dr(r)(f)(s),_={data_:t.value0.data_,depth:t.value0.depth,height:t.value0.height,value:t.value0.value,x:t.value0.x,y:t.value0.y,r:l.radius+i,children:p};return new Uo(_)}}},ZI=function(n){return function(e){var t=KI(n)(e),r=_0(1)({size:n.size,radius:n.radius,padding:0})(t),a=r.value0.r/kI(n.size.width)(n.size.height),o=_0(a)(n)(t),u=l4(n)(o);return u}};var x4=N(An),I4=xl(Yn),Zv=T(Fn),A4=yo(Nn),L4=B(Oa),N4=K(Te),v0=Ea(ce),nA=U(xe),P4=function(n){return function(e){return LI("#explorer-nodes")(n)(e)}},R4=function(n){return{x:n.node.value0.x,y:n.node.value0.y,r:n.node.value0.r,depth:n.node.value0.depth,data_:n.node.value0.data_,category:n.category}};var eA=NI,O4=function(n){var e=I4(Zv(function(r){return r.kind})(n)),t=Zv(function(r){return{kind:r,decls:je(function(a){return a.kind===r})(n)}})(e);return A4(function(r){return-Q(r.decls)|0})(je(function(r){return!Wt(r.decls)})(t))},tA=function(n){return function(e){var t=(function(){var a=n.value0.depth===1;return a?n.value0.data_:e})(),r=L4(n.value0.children)(function(a){return tA(a)(t)});return N4([{node:n,category:t}])(r)}},rA=PI,H4=function(n){return n==="typeClass"?"#7b3fa9":n==="data"?"#1a8a1a":n==="typeSynonym"?"#0d9fb0":n==="externData"?"#9a9b0a":n==="alias"?"#5f5f5f":n==="value"?"#0d5a91":"#999999"},W4=function(n){return n==="typeClass"?"#9467bd":n==="data"?"#2ca02c":n==="typeSynonym"?"#17becf":n==="externData"?"#bcbd22":n==="alias"?"#7f7f7f":n==="value"?"#1f77b4":"#cccccc"},$4=function(n){return n.depth===0?"#333":n.depth===1?W4(n.data_):H4(n.category)},U4=function(n){return x4($4(n))},k4=function(n){return{data_:n.title,value:new m(1),children:v.value}},q4=function(n){var e=Wt(n.decls);return e?v.value:new m({data_:n.kind,value:v.value,children:new m(Zv(k4)(n.decls))})},B4=function(n){return function(e){var t=O4(e),r=he(q4)(t);return{data_:n,value:v.value,children:(function(){var a=Wt(r);return a?v.value:new m(r)})()}}},aA=function(n){return function(e){return function(t){return function(r){return function(a){var o=Rn([])(ht(a.name)(n)),u=Wt(o);if(u){var i=!Wt(a.targets);return function(){return(function(){return i?v0("[BubblePack] Re-export module: "+(a.name+(" (depends on "+(nA(Q(a.targets))+" modules)"))))():v0("[BubblePack] Empty module: "+a.name)()})(),P4(a)(i)(),a.r}}return function(){v0("[BubblePack] Rendering "+(a.name+(" with "+(nA(Q(o))+" declarations"))))();var c=B4(a.name)(o),l=JI(c),s=a.r*3,p={radius:YI.radius,size:{width:s,height:s},padding:1},_=ZI(p)(l),D=tA(_)(""),d=Zv(R4)(D),g=s/2;return RI("#explorer-nodes")(a)(d)(g)(U4)(e)(t)(r)(),_.value0.r}}}}}};function iA(n){return ep().strength(n.strength).theta(n.theta).distanceMin(n.distanceMin).distanceMax(n.distanceMax)}function fA(n){return Qs().distance(n.distance).strength(n.strength).iterations(n.iterations)}function cA(n){return Fc(n.x).strength(n.strength)}function lA(n){return Sc(n.y).strength(n.strength)}function sA(n){return Fc().x(e=>e.gridX).strength(n)}function pA(n){return Sc().y(e=>e.gridY).strength(n)}function _A(n){return function(e){return function(t){return zs().radius(r=>r.r+n).strength(e).iterations(t)}}}function mA(n){return function(e){return function(){let t=performance.now();n.initialize&&n.initialize(e,Math.random);let r=performance.now()-t;return r>1&&console.log(`[InitForce] Took ${r.toFixed(1)}ms for ${e.length} nodes`),n}}}function vA(n){return function(e){return function(t){return function(){n.initialize&&n.initialize(e,Math.random);let r=t.map(a=>({...a}));return n.links(r),n}}}}function dA(n){return function(e){return function(){let t=performance.now();n(e);let r=performance.now()-t;r>5&&console.log(`[Force] ${n.name||"unknown"} took ${r.toFixed(1)}ms`)}}}var nd=0;function DA(n){return function(e){return function(){let t=performance.now();if(nd%100===0){let a=n.find(o=>o.fx==null);console.log(a?`[IntegrateDebug tick=${nd}] free node ${a.id}: x=${a.x?.toFixed(1)}, y=${a.y?.toFixed(1)}, vx=${a.vx?.toFixed(3)}, vy=${a.vy?.toFixed(3)}`:`[IntegrateDebug tick=${nd}] NO FREE NODES! All ${n.length} nodes have fx set`)}nd++;for(let a=0;a<n.length;a++){let o=n[a];o.fx!=null?(o.x=o.fx,o.vx=0):(o.vx*=e,o.x+=o.vx),o.fy!=null?(o.y=o.fy,o.vy=0):(o.vy*=e,o.y+=o.vy)}let r=performance.now()-t;r>2&&console.log(`[Integrate] Took ${r.toFixed(1)}ms for ${n.length} nodes`)}}}function gA(n){return function(e){return function(t){return function(r){let a=n+(r-n)*t;return a<e?0:a}}}}function hA(n){return function(){for(let e=0;e<n.length;e++){let t=n[e];t.index=e,t.vx===void 0&&(t.vx=0),t.vy===void 0&&(t.vy=0),t.x===void 0&&(t.x=Math.random()*100-50),t.y===void 0&&(t.y=Math.random()*100-50),t.id===93&&(t.__simMarker__=!0,console.log(`[InitNodes] Marked node 93 with __simMarker__, x=${t.x?.toFixed(1)}`))}}}var ko={count:0,totalTime:0,maxTime:0,lastReport:Date.now()},oA=performance.now(),Uu={total:0,max:0,count:0},uA=!0,V4=8;function d0(n){return function(){let e=performance.now(),t=e-oA,r,a=function(o){let u=performance.now(),i=u-e,f=performance.now();n(o||u)();let c=performance.now()-f;oA=performance.now(),ko.count++,ko.totalTime+=c,ko.maxTime=Math.max(ko.maxTime,c),Uu.total+=i,Uu.max=Math.max(Uu.max,i),Uu.count++;let l=Date.now();if(l-ko.lastReport>2e3){let s=ko.totalTime/ko.count,p=Uu.total/Uu.count;console.log(`[AnimLoop] ${ko.count} ticks, work=${s.toFixed(1)}ms, wait=${p.toFixed(0)}ms (max=${Uu.max.toFixed(0)}ms) [${uA?"setTimeout":"rAF"}]`),ko={count:0,totalTime:0,maxTime:0,lastReport:l},Uu={total:0,max:0,count:0}}};return uA?(r=setTimeout(a,V4),function(){clearTimeout(r)}):(r=requestAnimationFrame(a),function(){cancelAnimationFrame(r)})}}function yA(){return function(){return{cancel:function(){}}}}function D0(n){return function(e){return function(){n.cancel=e}}}function bA(n){return function(){return n.cancel}}function TA(n){return function(e){return function(t){return function(){let r=$n(e).node();if(!r){console.warn("[attachGroupDragWithReheat] Container not found:",e);return}let a=Ki().subject(function(o){let u=o.sourceEvent.target;for(;u&&!u.classList?.contains("module-pack");)u=u.parentElement;return u?.__data__}).on("start",function(o){t(),o.subject.fx=o.subject.x,o.subject.fy=o.subject.y}).on("drag",function(o){let[u,i]=fr(o,r);o.subject.fx=u,o.subject.fy=i}).on("end",function(o){o.subject.fx=null,o.subject.fy=null});n.forEach(function(o){$n(o).call(a).style("cursor","grab")})}}}}var z4=B(it),Q4=zt(An),j4=dn(hn),X4=zr(An)(gn);var EA=function(n){return function(){var t=yA(),r=function(o){return function(){var i=n(o)();return Q4(i)(function(){var c=d0(r)();return D0(t)(c)()})()}},a=d0(r)();return D0(t)(a)(),z4(bA(t))(j4)}};var CA=DA,MA=hA,g0=vA,lr=mA,wA=gA;var ed=iA,h0=fA,FA=pA;var td=lA,SA=sA;var rd=cA,y0=_A;var xA=TA;var Y4=dA,IA=function(n){return function(e){return X4(n)(function(t){return Y4(t)(e)})}};var AA=n=>()=>{$n(n).selectAll("circle").attr("cx",e=>e.x).attr("cy",e=>e.y)},LA=n=>()=>{$n(n).selectAll("line").attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y)},NA=n=>()=>{$n(n).selectAll("g.module-pack").attr("transform",e=>`translate(${e.x},${e.y})`)};var T0=Ft();var ad=function(n){return LA(T0(n))},PA=function(n){return NA(T0(n))},RA=function(n){return AA(T0(n))};function HA(n){return function(e){return function(){let t=e.value;for(let r=0;r<t.length;r++){let a=t[r],o=n[a.id];o&&(a.x=o.x,a.y=o.y)}}}}function WA(n){return function(e){return function(t){return function(r){return function(){let a=r.value;for(let o=0;o<a.length;o++){let u=a[o],i=String(u.id),f=n[i],c=e[i];f&&c&&(u.x=f.x+(c.x-f.x)*t,u.y=f.y+(c.y-f.y)*t)}}}}}}var hp={alpha:1,alphaMin:.001,alphaDecay:.0228,alphaTarget:0,velocityDecay:.4};var tV=Ar(Ae),$A=N(An),E0=ni(An),rV=zr(An)(gn),aV=wi(xr);var UA=function(n){return function(e){return HA(n)(e.nodes)}};var oV=function(n){return function(){var t=H(n.nodes)(),r=H(n.forces)(),a=H(n.alpha)(),o=tV(kl(r));IA(o)(a)(),CA(t)(n.config.velocityDecay)();var u=wA(a)(n.config.alphaMin)(n.config.alphaDecay)(n.config.alphaTarget);Dn(u)(n.alpha)();var i=H(n.tickCallback)();return i(),u}};var C0=function(n){return function(){var t=H(n.running)();return E0(t)(function(){Dn(!0)(n.running)();var a=EA(function(o){return function(){var i=H(n.running)();if(i){var f=oV(n)(),c=f>0;return E0(c)(Dn(!1)(n.running))(),c}return!1}})();return Dn(a)(n.cancelAnimation)()})()}},od=function(n){return function(e){return function(){MA(n)(),Dn(n)(e.nodes)();var r=H(e.forces)();return rV(aV(r))(function(a){return function(){return lr(a.value1)(n)(),void 0}})()}}};var cf=function(n){return function(){Dn(1)(n.alpha)();var t=H(n.running)();return E0(t)(C0(n))()}};var ud=function(n){return function(e){return Dn(n)(e.tickCallback)}};var kA=function(n){return function(e){return function(t){return function(r){return WA(n)(e)(t)(r.nodes)}}}},xa=function(n){return H(n.nodes)};var qA=(function(){return{alphaMin:hp.alphaMin,alphaDecay:hp.alphaDecay,alphaTarget:hp.alphaTarget,velocityDecay:hp.velocityDecay}})(),BA=function(n){return function(){var t=Vn([])(),r=Vn([])(),a=Vn(ne)(),o=Vn(1)(),u=Vn(!1)(),i=Vn($A(void 0))(),f=Vn($A(void 0))();return{nodes:t,links:r,forces:a,alpha:o,config:n,running:u,cancelAnimation:i,tickCallback:f}}};function id(n){return function(e){let t=e.value;for(let r=0;r<t.length;r++){let a=t[r];for(let o=0;o<n.length;o++){let u=n[o];if(u.select(a)){let i=u.apply(a);Object.assign(a,i);break}}}}}var ku=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),qu=(function(){function n(){}return n.value=new n,n})();var JA=function(n){var e=vn(n)/16.67;return 1/e};var zA=function(n){var e=n<.5;return e?4*n*n*n:1-(-2*n+2)*(-2*n+2)*(-2*n+2)/2};var Bu=Ea(ce),fd=N(An),cV=zr(An)(gn),lV=wi(xr),sV=Io(gn),pV=T(Fn),QA=U(xe),_V=xf(Et),mV=JA(2e3),vV=function(n){return function(){return Bu("[Scene] Starting CSS transition: "+(n.property+(" -> "+n.targetValue)))(),void 0}},jA=function(n){return function(e){return ge(function(t){return{currentScene:t.currentScene,nodesGroupId:t.nodesGroupId,simulation:t.simulation,transition:t.transition,linksGroupId:new m(n)}})(e)}},dV=function(n){if(n.currentScene instanceof v)return fd(void 0);if(n.currentScene instanceof m){if(n.currentScene.value0.stableMode instanceof ku)return fd(void 0);if(n.currentScene.value0.stableMode instanceof qu)return fd(void 0);throw new Error("Failed pattern match at Engine.Scene (line 288, column 17 - line 290, column 33): "+[n.currentScene.value0.stableMode.constructor.name])}throw new Error("Failed pattern match at Engine.Scene (line 286, column 25 - line 290, column 33): "+[n.currentScene.constructor.name])},DV=function(n){return function(){var t=H(n.nodes)(),r=H(n.forces)();return cV(lV(r))(function(a){return function(){return lr(a.value1)(t)(),Bu("[Scene] Re-initialized force: "+a.value0)()}})()}},XA=function(n){return function(e){return{simulation:n,currentScene:v.value,transition:v.value,nodesGroupId:e,linksGroupId:v.value}}},M0=function(n){return ge(function(e){return{currentScene:e.currentScene,nodesGroupId:e.nodesGroupId,simulation:e.simulation,transition:e.transition,linksGroupId:v.value}})(n)},gV=function(n){return sV(pV(function(e){return new I(QA(e.id),{x:e.x,y:e.y})})(n))},YA=function(n){return function(e){var t=id(n)(e.nodes);return fd(void 0)}},hV=function(n){return function(e){return function(t){return function(){Bu("[Scene] Transition complete: "+n.targetScene.name)(),UA(n.targetPositions)(t.simulation)();var a=xa(t.simulation)(),o=n.targetScene.finalRules(a);return YA(o)(t.simulation)(),Bu("[Scene] Applied "+(QA(Q(o))+" final rules"))(),DV(t.simulation)(),(function(){if(n.targetScene.stableMode instanceof ku)return Bu("[Scene] Entering Physics mode")(),cf(t.simulation)();if(n.targetScene.stableMode instanceof qu)return Bu("[Scene] Entering Static mode")(),void 0;throw new Error("Failed pattern match at Engine.Scene (line 270, column 3 - line 276, column 16): "+[n.targetScene.stableMode.constructor.name])})(),Dn({linksGroupId:t.linksGroupId,nodesGroupId:t.nodesGroupId,simulation:t.simulation,currentScene:new m(n.targetScene),transition:v.value})(e)()}}}},yV=function(n){return function(e){return function(t){var r=_V(1)(n.progress+mV),a=r>=1;if(a)return hV(n)(e)(t);var o=zA(r);return function(){return kA(n.startPositions)(n.targetPositions)(o)(t.simulation)(),Dn({currentScene:t.currentScene,linksGroupId:t.linksGroupId,nodesGroupId:t.nodesGroupId,simulation:t.simulation,transition:new m({startPositions:n.startPositions,targetPositions:n.targetPositions,targetScene:n.targetScene,progress:r})})(e)()}}}},w0=function(n){return function(){var t=H(n)();if((function(){if(t.transition instanceof m)return yV(t.transition.value0)(n)(t)();if(t.transition instanceof v)return dV(t)();throw new Error("Failed pattern match at Engine.Scene (line 215, column 3 - line 217, column 37): "+[t.transition.constructor.name])})(),RA(t.nodesGroupId)(),t.linksGroupId instanceof m)return ad(t.linksGroupId.value0)();if(t.linksGroupId instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Scene (line 223, column 3 - line 225, column 25): "+[t.linksGroupId.constructor.name])}},KA=function(n){return function(e){return function(){var r=H(e)();if(r.transition instanceof m)return Bu("[Scene] Already transitioning, ignoring")();if(r.transition instanceof v){Bu("[Scene] Starting transition to: "+n.name)();var a=xa(r.simulation)(),o=gV(a);YA(n.initRules)(r.simulation)();var u=xa(r.simulation)(),i=n.layout(u);return(function(){if(n.cssTransition instanceof m)return vV(n.cssTransition.value0)();if(n.cssTransition instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Scene (line 175, column 7 - line 177, column 29): "+[n.cssTransition.constructor.name])})(),Dn({currentScene:r.currentScene,linksGroupId:r.linksGroupId,nodesGroupId:r.nodesGroupId,simulation:r.simulation,transition:new m({targetScene:n,startPositions:o,targetPositions:i,progress:0})})(e)(),cf(r.simulation)()}throw new Error("Failed pattern match at Engine.Scene (line 158, column 3 - line 190, column 34): "+[r.transition.constructor.name])}}};var TV=qa(Ct),EV=nr(Ct),ZA=T(Fn),CV=en($s),MV=Io(gn),wV=U(xe),Gu=4e3,Vu=2500,nL=function(n){if(n.nodeType instanceof Bt)return n.id;if(n.nodeType instanceof qt)return n.cluster;throw new Error("Failed pattern match at Viz.SpagoGridTest.GridLayout (line 75, column 22 - line 77, column 29): "+[n.nodeType.constructor.name])},eL=function(n){var e=Gu/Vu,t=Bf(St(vn(n)*e)),r=Bf(vn(n)/vn(t)),a=Vu*.8/vn(r),o=Gu*.8/vn(t);return{gridCols:t,gridColsN:vn(t),gridRowsN:vn(r),spacingX:o,spacingY:a}},tL=function(n){return function(e){var t=TV(e)(n.gridCols),r=(vn(t)-n.gridRowsN/2+.5)*n.spacingY,a=EV(e)(n.gridCols),o=(vn(a)-n.gridColsN/2+.5)*n.spacingX;return{x:o,y:r}}},rL=function(n){return function(e){var t=eL(e),r=function(a){var o=tL(t)(nL(a));return{cluster:a.cluster,fx:a.fx,fy:a.fy,id:a.id,isInTree:a.isInTree,name:a.name,nodeType:a.nodeType,orbitAngle:a.orbitAngle,package:a.package,r:a.r,sources:a.sources,targets:a.targets,treeX:a.treeX,treeY:a.treeY,vx:a.vx,vy:a.vy,gridX:o.x,gridY:o.y,x:o.x,y:o.y}};return ZA(r)(n)}},F0=function(n){var e=Q(je(function(r){return CV(r.nodeType)(Bt.value)})(n)),t=eL(e);return MV(ZA(function(r){return new I(wV(r.id),tL(t)(nL(r)))})(n))};var Rr=900;var Hc=Io(gn),Wc=T(Fn),ta=U(xe),S0=en($s),SV=qa(Ct),xV=nr(Ct),oL=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:null,fy:null}},IV=function(n){return Hc(Wc(function(e){return new I(ta(e.id),{x:e.x,y:e.y})})(n))};var AV=function(n){var e=ir(n.orbitAngle)*Rr,t=ur(n.orbitAngle)*Rr;return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:t,fy:e,gridX:t,gridY:e}},cd=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:n.x,fy:n.y}},$c={name:"pinAll",select:k(!0),apply:cd},yp=function(n){return S0(n.nodeType)(qt.value)&&n.isInTree},LV=function(n){var e=function(t){var r=yp(t);return r?new I(ta(t.id),{x:t.treeX,y:t.treeY}):new I(ta(t.id),{x:t.x,y:t.y})};return Hc(Wc(e)(n))},uL=(function(){return{name:"TreeForm",initRules:[$c],layout:LV,finalRules:function(n){return[{name:"pinTreeModulesAtTree",select:yp,apply:function(e){return{id:e.id,x:e.x,y:e.y,vx:e.vx,vy:e.vy,name:e.name,nodeType:e.nodeType,package:e.package,r:e.r,cluster:e.cluster,targets:e.targets,sources:e.sources,gridX:e.gridX,gridY:e.gridY,orbitAngle:e.orbitAngle,treeX:e.treeX,treeY:e.treeY,isInTree:e.isInTree,fx:e.treeX,fy:e.treeY}}},{name:"pinOthersAtCurrent",select:function(e){return!yp(e)},apply:cd}]},stableMode:qu.value,cssTransition:v.value}})(),iL=(function(){return{name:"TreeRun",initRules:[$c],layout:IV,finalRules:function(n){return[{name:"unpinTreeModules",select:yp,apply:oL},{name:"pinOthersAtCurrent",select:function(e){return!yp(e)},apply:cd}]},stableMode:new ku({}),cssTransition:v.value}})(),Ju=function(n){return S0(n.nodeType)(Bt.value)},fL=function(n){var e=je(Ju)(n),t=function(o){var u=ir(o.orbitAngle)*Rr,i=ur(o.orbitAngle)*Rr;return new I(ta(o.id),{x:i,y:u})},r=Hc(Wc(t)(e)),a=function(o){return function(u){if(u.nodeType instanceof Bt){var i=ir(u.orbitAngle)*Rr,f=ur(u.orbitAngle)*Rr;return new I(ta(u.id),{x:f,y:i})}if(u.nodeType instanceof qt){var c=ht(ta(u.cluster))(o);if(c instanceof m)return new I(ta(u.id),c.value0);if(c instanceof v)return new I(ta(u.id),{x:u.x,y:u.y});throw new Error("Failed pattern match at Engine.Scenes (line 256, column 9 - line 258, column 67): "+[c.constructor.name])}throw new Error("Failed pattern match at Engine.Scenes (line 250, column 35 - line 258, column 67): "+[u.nodeType.constructor.name])}};return Hc(Wc(a(r))(n))};var ld=function(n){return S0(n.nodeType)(qt.value)},NV=function(n){var e=je(Ju)(n),t=function(a){var o=ir(a.orbitAngle)*Rr,u=ur(a.orbitAngle)*Rr;return new I(ta(a.id),{x:u,y:o})},r=Hc(Wc(t)(e));return[{name:"pinPackagesAtOrbit",select:Ju,apply:function(a){var o=ir(a.orbitAngle)*Rr,u=ur(a.orbitAngle)*Rr;return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:u,fy:o,gridX:u,gridY:o}}},{name:"pinModulesAtOrbit",select:ld,apply:function(a){var o=ht(ta(a.cluster))(r);if(o instanceof m)return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:o.value0.x,fy:o.value0.y,gridX:o.value0.x,gridY:o.value0.y};if(o instanceof v)return cd(a);throw new Error("Failed pattern match at Engine.Scenes (line 288, column 11 - line 295, column 38): "+[o.constructor.name])}}]},cL=(function(){return{name:"OrbitForm",initRules:[$c],layout:fL,finalRules:NV,stableMode:qu.value,cssTransition:v.value}})(),PV=function(n){var e=je(Ju)(n),t=function(a){var o=ir(a.orbitAngle)*Rr,u=ur(a.orbitAngle)*Rr;return new I(ta(a.id),{x:u,y:o})},r=Hc(Wc(t)(e));return[{name:"pinPackagesAtOrbit",select:Ju,apply:AV},{name:"unpinModulesSetGridToOrbit",select:ld,apply:function(a){var o=ht(ta(a.cluster))(r);if(o instanceof m)return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:null,fy:null,gridX:o.value0.x,gridY:o.value0.y};if(o instanceof v)return oL(a);throw new Error("Failed pattern match at Engine.Scenes (line 318, column 11 - line 325, column 35): "+[o.constructor.name])}}]},lL=(function(){return{name:"OrbitRun",initRules:[$c],layout:fL,finalRules:PV,stableMode:new ku({}),cssTransition:v.value}})(),sL=function(n){var e=Q(je(Ju)(n)),t=Gu/Vu,r=Bf(St(vn(e)*t)),a=vn(r),o=Bf(vn(e)/vn(r)),u=vn(o),i=Vu*.8/vn(o),f=Gu*.8/vn(r);return{pkgGridPos:function(c){var l=SV(c)(r),s=(vn(l)-u/2+.5)*i,p=xV(c)(r),_=(vn(p)-a/2+.5)*f;return{x:_,y:s}}}},RV=function(n){var e=sL(n);return[{name:"pinPackagesAtGrid",select:Ju,apply:function(t){var r=e.pkgGridPos(t.id);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}},{name:"pinModulesAtGrid",select:ld,apply:function(t){var r=e.pkgGridPos(t.cluster);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}}]},pL=(function(){return{name:"GridForm",initRules:[$c],layout:F0,finalRules:RV,stableMode:qu.value,cssTransition:v.value}})(),OV=function(n){var e=sL(n);return[{name:"pinPackagesAtGrid",select:Ju,apply:function(t){var r=e.pkgGridPos(t.id);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}},{name:"unpinModulesSetGrid",select:ld,apply:function(t){var r=e.pkgGridPos(t.cluster);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:null,fy:null,gridX:r.x,gridY:r.y}}}]},x0=(function(){return{name:"GridRun",initRules:[$c],layout:F0,finalRules:OV,stableMode:new ku({}),cssTransition:v.value}})();var _L=n=>{let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t].key,n[t].value);return e},mL=n=>e=>e.get(n),vL=n=>n==null;var kV=U(xe),qV=T(Fn),dL=B(nt),BV=N(qr),DL=function(n){return function(e){var t=ie(n)(e);if(t instanceof m)return t.value0;if(t instanceof v)return Yt("swizzleLinks: Array index out of bounds: "+kV(e));throw new Error("Failed pattern match at PSD3.ForceEngine.Links (line 115, column 26 - line 117, column 85): "+[t.constructor.name])}},hL=function(n){return function(e){return function(t){var r=function(a){return function(o){var u=DL(n)(o.target),i=DL(n)(o.source);return t(i)(u)(a)(o)}};return Ir(r)(e)}}},gL=function(n){return function(e){var t=mL(n)(e),r=vL(t);return r?v.value:new m(t)}};var GV=function(n){return function(e){return _L(qV(function(t){return{key:n(t),value:t}})(e))}},yL=function(n){return function(e){return function(t){return function(r){var a=function(i){return function(f){return dL(gL(f.source)(i))(function(c){return dL(gL(f.target)(i))(function(l){return BV({src:c,tgt:l,link:f})})})}},o=function(i){return function(f){return r(f.src)(f.tgt)(i)(f.link)}},u=GV(n)(e);return Ir(o)(he(a(u))(t))}}}};var i8=_p(),f8=mp(),c8=Pc(),l8=f0(),s8=vp(),p8=Ho(),_8=Ic(),m8=Hy();var bp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Tp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),I0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var lf=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),sf=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Ep=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Cp={toAttr:function(n){return function(e){return new lf(e,new bp(n))}}},Mp={toAttr:function(n){return function(e){return new sf(e,function(t){return bp.create(n(t))})}}};var TL={toAttr:function(n){return function(e){return new lf(e,new Tp(n))}}},oo={toAttr:function(n){return function(e){return new sf(e,function(t){return Tp.create(n(t))})}}};var sr=function(n){return n.toAttr};var EL=function(n){var e=sr(n);return function(t){return e(t)("viewBox")}};var CL=function(n){var e=sr(n);return function(t){return e(t)("x1")}},ML=function(n){var e=sr(n);return function(t){return e(t)("x2")}};var wL=function(n){var e=sr(n);return function(t){return e(t)("y1")}},FL=function(n){var e=sr(n);return function(t){return e(t)("y2")}};var A0=function(n){var e=sr(n);return function(t){return e(t)("stroke-width")}};var L0=function(n){var e=sr(n);return function(t){return e(t)("stroke")}},SL=function(n){var e=sr(n);return function(t){return e(t)("r")}},xL=function(n){var e=sr(n);return function(t){return e(t)("opacity")}},IL=function(n){var e=sr(n);return function(t){return e(t)("id")}};var AL=function(n){var e=sr(n);return function(t){return e(t)("fill")}};var LL=function(n){var e=sr(n);return function(t){return e(t)("d")}},NL=function(n){var e=sr(n);return function(t){return e(t)("cy")}},PL=function(n){var e=sr(n);return function(t){return e(t)("cx")}},N0=function(n){var e=sr(n);return function(t){return e(t)("class")}};var RL=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var OL=(function(){function n(){}return n.value=new n,n})(),HL=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),sd=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),R0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),WL=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),O0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),H0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),wp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),$L=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),UL=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),pd=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),kL=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var W0=(function(){return wp.create})();var $0=(function(){return H0.create})();var U0=(function(){return O0.create})();var qL=function(n){return function(e){return{scaleExtent:n,targetSelector:e}}};var BL=function(n){return n.selectAll},GL=function(n){return n.select};var VL=function(n){return n.on};var JL=function(n){return n.appendData};var zL=function(n){return n.appendChild};function QL(n){return function(e){return function(t){return function(){let r=n+" "+e;document.querySelectorAll(r).forEach(o=>{let u=o.__data__;if(u!==void 0){let i=t(u);i&&o.classList.add(i)}})}}}}function jL(n){return function(e){return function(t){return function(){let r=n+" "+e;document.querySelectorAll(r).forEach(o=>{t.forEach(u=>{o.classList.remove(u)})})}}}}var Fp=jL,q0=QL;function _d(n){return function(){return n.__data__}}function Sp(n){return function(e){return function(){e.__data__=n}}}function md(n){return function(e){return function(){e.textContent=n}}}function vd(n){return n.offsetX}function dd(n){return n.offsetY}function XL(n){return function(){let e=document.querySelector(n);e&&(e.innerHTML="")}}function YL(n){return JSON.stringify(n)}var b8=Oo("start","end","cancel","interrupt"),T8=[],nN=0,KL=1,gd=2,Dd=3,ZL=4,hd=5,xp=6;function zu(n,e,t,r,a,o){var u=n.__transition;if(!u)n.__transition={};else if(t in u)return;E8(n,t,{name:e,index:r,group:a,on:b8,tween:T8,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:nN})}function Ip(n,e){var t=yt(n,e);if(t.state>nN)throw new Error("too late; already scheduled");return t}function Vt(n,e){var t=yt(n,e);if(t.state>Dd)throw new Error("too late; already running");return t}function yt(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function E8(n,e,t){var r=n.__transition,a;r[e]=t,t.timer=wc(o,0,t.time);function o(c){t.state=KL,t.timer.restart(u,t.delay,t.time),t.delay<=c&&u(c-t.delay)}function u(c){var l,s,p,_;if(t.state!==KL)return f();for(l in r)if(_=r[l],_.name===t.name){if(_.state===Dd)return Nv(u);_.state===ZL?(_.state=xp,_.timer.stop(),_.on.call("interrupt",n,n.__data__,_.index,_.group),delete r[l]):+l<e&&(_.state=xp,_.timer.stop(),_.on.call("cancel",n,n.__data__,_.index,_.group),delete r[l])}if(Nv(function(){t.state===Dd&&(t.state=ZL,t.timer.restart(i,t.delay,t.time),i(c))}),t.state=gd,t.on.call("start",n,n.__data__,t.index,t.group),t.state===gd){for(t.state=Dd,a=new Array(p=t.tween.length),l=0,s=-1;l<p;++l)(_=t.tween[l].value.call(n,n.__data__,t.index,t.group))&&(a[++s]=_);a.length=s+1}}function i(c){for(var l=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(f),t.state=hd,1),s=-1,p=a.length;++s<p;)a[s].call(n,l);t.state===hd&&(t.on.call("end",n,n.__data__,t.index,t.group),f())}function f(){t.state=xp,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function pf(n,e){var t=n.__transition,r,a,o=!0,u;if(t){e=e==null?null:e+"";for(u in t){if((r=t[u]).name!==e){o=!1;continue}a=r.state>gd&&r.state<hd,r.state=xp,r.timer.stop(),r.on.call(a?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[u]}o&&delete n.__transition}}function eN(n){return this.each(function(){pf(this,n)})}function C8(n,e){var t,r;return function(){var a=Vt(this,n),o=a.tween;if(o!==t){r=t=o;for(var u=0,i=r.length;u<i;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}a.tween=r}}function M8(n,e,t){var r,a;if(typeof t!="function")throw new Error;return function(){var o=Vt(this,n),u=o.tween;if(u!==r){a=(r=u).slice();for(var i={name:e,value:t},f=0,c=a.length;f<c;++f)if(a[f].name===e){a[f]=i;break}f===c&&a.push(i)}o.tween=a}}function tN(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=yt(this.node(),t).tween,a=0,o=r.length,u;a<o;++a)if((u=r[a]).name===n)return u.value;return null}return this.each((e==null?C8:M8)(t,n,e))}function Uc(n,e,t){var r=n._id;return n.each(function(){var a=Vt(this,r);(a.value||(a.value={}))[e]=t.apply(this,arguments)}),function(a){return yt(a,r).value[e]}}function yd(n,e){var t;return(typeof e=="number"?Gt:e instanceof Fa?rf:(t=Fa(e))?(e=t,rf):sp)(n,e)}function w8(n){return function(){this.removeAttribute(n)}}function F8(n){return function(){this.removeAttributeNS(n.space,n.local)}}function S8(n,e,t){var r,a=t+"",o;return function(){var u=this.getAttribute(n);return u===a?null:u===r?o:o=e(r=u,t)}}function x8(n,e,t){var r,a=t+"",o;return function(){var u=this.getAttributeNS(n.space,n.local);return u===a?null:u===r?o:o=e(r=u,t)}}function I8(n,e,t){var r,a,o;return function(){var u,i=t(this),f;return i==null?void this.removeAttribute(n):(u=this.getAttribute(n),f=i+"",u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i)))}}function A8(n,e,t){var r,a,o;return function(){var u,i=t(this),f;return i==null?void this.removeAttributeNS(n.space,n.local):(u=this.getAttributeNS(n.space,n.local),f=i+"",u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i)))}}function rN(n,e){var t=Po(n),r=t==="transform"?Jy:yd;return this.attrTween(n,typeof e=="function"?(t.local?A8:I8)(t,r,Uc(this,"attr."+n,e)):e==null?(t.local?F8:w8)(t):(t.local?x8:S8)(t,r,e))}function L8(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function N8(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function P8(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&N8(n,o)),t}return a._value=e,a}function R8(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&L8(n,o)),t}return a._value=e,a}function aN(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=Po(n);return this.tween(t,(r.local?P8:R8)(r,e))}function O8(n,e){return function(){Ip(this,n).delay=+e.apply(this,arguments)}}function H8(n,e){return e=+e,function(){Ip(this,n).delay=e}}function oN(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?O8:H8)(e,n)):yt(this.node(),e).delay}function W8(n,e){return function(){Vt(this,n).duration=+e.apply(this,arguments)}}function $8(n,e){return e=+e,function(){Vt(this,n).duration=e}}function uN(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?W8:$8)(e,n)):yt(this.node(),e).duration}function U8(n,e){if(typeof e!="function")throw new Error;return function(){Vt(this,n).ease=e}}function iN(n){var e=this._id;return arguments.length?this.each(U8(e,n)):yt(this.node(),e).ease}function k8(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Vt(this,n).ease=t}}function fN(n){if(typeof n!="function")throw new Error;return this.each(k8(this._id,n))}function cN(n){typeof n!="function"&&(n=Vs(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=[],f,c=0;c<u;++c)(f=o[c])&&n.call(f,f.__data__,c,o)&&i.push(f);return new pr(r,this._parents,this._name,this._id)}function lN(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,a=t.length,o=Math.min(r,a),u=new Array(r),i=0;i<o;++i)for(var f=e[i],c=t[i],l=f.length,s=u[i]=new Array(l),p,_=0;_<l;++_)(p=f[_]||c[_])&&(s[_]=p);for(;i<r;++i)u[i]=e[i];return new pr(u,this._parents,this._name,this._id)}function q8(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function B8(n,e,t){var r,a,o=q8(e)?Ip:Vt;return function(){var u=o(this,n),i=u.on;i!==r&&(a=(r=i).copy()).on(e,t),u.on=a}}function sN(n,e){var t=this._id;return arguments.length<2?yt(this.node(),t).on.on(n):this.each(B8(t,n,e))}function G8(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function pN(){return this.on("end.remove",G8(this._id))}function _N(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Qi(n));for(var r=this._groups,a=r.length,o=new Array(a),u=0;u<a;++u)for(var i=r[u],f=i.length,c=o[u]=new Array(f),l,s,p=0;p<f;++p)(l=i[p])&&(s=n.call(l,l.__data__,p,i))&&("__data__"in l&&(s.__data__=l.__data__),c[p]=s,zu(c[p],e,t,p,c,yt(l,t)));return new pr(o,this._parents,e,t)}function mN(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Gs(n));for(var r=this._groups,a=r.length,o=[],u=[],i=0;i<a;++i)for(var f=r[i],c=f.length,l,s=0;s<c;++s)if(l=f[s]){for(var p=n.call(l,l.__data__,s,f),_,D=yt(l,t),d=0,g=p.length;d<g;++d)(_=p[d])&&zu(_,e,t,d,p,D);o.push(p),u.push(l)}return new pr(o,u,e,t)}var V8=Ro.prototype.constructor;function vN(){return new V8(this._groups,this._parents)}function J8(n,e){var t,r,a;return function(){var o=Hu(this,n),u=(this.style.removeProperty(n),Hu(this,n));return o===u?null:o===t&&u===r?a:a=e(t=o,r=u)}}function dN(n){return function(){this.style.removeProperty(n)}}function z8(n,e,t){var r,a=t+"",o;return function(){var u=Hu(this,n);return u===a?null:u===r?o:o=e(r=u,t)}}function Q8(n,e,t){var r,a,o;return function(){var u=Hu(this,n),i=t(this),f=i+"";return i==null&&(f=i=(this.style.removeProperty(n),Hu(this,n))),u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i))}}function j8(n,e){var t,r,a,o="style."+e,u="end."+o,i;return function(){var f=Vt(this,n),c=f.on,l=f.value[o]==null?i||(i=dN(e)):void 0;(c!==t||a!==l)&&(r=(t=c).copy()).on(u,a=l),f.on=r}}function DN(n,e,t){var r=(n+="")=="transform"?Vy:yd;return e==null?this.styleTween(n,J8(n,r)).on("end.style."+n,dN(n)):typeof e=="function"?this.styleTween(n,Q8(n,r,Uc(this,"style."+n,e))).each(j8(this._id,n)):this.styleTween(n,z8(n,r,e),t).on("end.style."+n,null)}function X8(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Y8(n,e,t){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&X8(n,u,t)),r}return o._value=e,o}function gN(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Y8(n,e,t??""))}function K8(n){return function(){this.textContent=n}}function Z8(n){return function(){var e=n(this);this.textContent=e??""}}function hN(n){return this.tween("text",typeof n=="function"?Z8(Uc(this,"text",n)):K8(n==null?"":n+""))}function nJ(n){return function(e){this.textContent=n.call(this,e)}}function eJ(n){var e,t;function r(){var a=n.apply(this,arguments);return a!==t&&(e=(t=a)&&nJ(a)),e}return r._value=n,r}function yN(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,eJ(n))}function bN(){for(var n=this._name,e=this._id,t=bd(),r=this._groups,a=r.length,o=0;o<a;++o)for(var u=r[o],i=u.length,f,c=0;c<i;++c)if(f=u[c]){var l=yt(f,e);zu(f,n,t,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new pr(r,this._parents,n,t)}function TN(){var n,e,t=this,r=t._id,a=t.size();return new Promise(function(o,u){var i={value:u},f={value:function(){--a===0&&o()}};t.each(function(){var c=Vt(this,r),l=c.on;l!==n&&(e=(n=l).copy(),e._.cancel.push(i),e._.interrupt.push(i),e._.end.push(f)),c.on=e}),a===0&&o()})}var tJ=0;function pr(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function EN(n){return Ro().transition(n)}function bd(){return++tJ}var qo=Ro.prototype;pr.prototype=EN.prototype={constructor:pr,select:_N,selectAll:mN,selectChild:qo.selectChild,selectChildren:qo.selectChildren,filter:cN,merge:lN,selection:vN,transition:bN,call:qo.call,nodes:qo.nodes,node:qo.node,size:qo.size,empty:qo.empty,each:qo.each,on:sN,attr:rN,attrTween:aN,style:DN,styleTween:gN,text:hN,textTween:yN,remove:pN,tween:tN,delay:oN,duration:uN,ease:iN,easeVarying:fN,end:TN,[Symbol.iterator]:qo[Symbol.iterator]};var B0=n=>+n;function G0(n){return n*n}function V0(n){return n*(2-n)}function kc(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function J0(n){return n*n*n}function z0(n){return--n*n*n+1}function Qu(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var CN=Math.PI,MN=CN/2;function Q0(n){return+n==1?1:1-Math.cos(n*MN)}function j0(n){return Math.sin(n*MN)}function qc(n){return(1-Math.cos(CN*n))/2}function uo(n){return(Math.pow(2,-10*n)-.0009765625)*1.0009775171065494}function X0(n){return uo(1-+n)}function Y0(n){return 1-uo(n)}function Bc(n){return((n*=2)<=1?uo(1-n):2-uo(n-1))/2}function K0(n){return 1-Math.sqrt(1-n*n)}function Z0(n){return Math.sqrt(1- --n*n)}function Gc(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var nb=.36363636363636365,rJ=6/11,aJ=8/11,oJ=3/4,uJ=9/11,iJ=10/11,fJ=15/16,cJ=21/22,lJ=63/64,Td=1/nb/nb;function eb(n){return 1-Bo(1-n)}function Bo(n){return(n=+n)<nb?Td*n*n:n<aJ?Td*(n-=rJ)*n+oJ:n<iJ?Td*(n-=uJ)*n+fJ:Td*(n-=cJ)*n+lJ}function tb(n){return((n*=2)<=1?1-Bo(1-n):Bo(n-1)+1)/2}var rb=1.70158,ab=(function n(e){e=+e;function t(r){return(r=+r)*r*(e*(r-1)+r)}return t.overshoot=n,t})(rb),ob=(function n(e){e=+e;function t(r){return--r*r*((r+1)*e+r)+1}return t.overshoot=n,t})(rb),Vc=(function n(e){e=+e;function t(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return t.overshoot=n,t})(rb);var Jc=2*Math.PI,ub=1,ib=.3,fb=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Jc);function a(o){return e*uo(- --o)*Math.sin((r-o)/t)}return a.amplitude=function(o){return n(o,t*Jc)},a.period=function(o){return n(e,o)},a})(ub,ib),zc=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Jc);function a(o){return 1-e*uo(o=+o)*Math.sin((o+r)/t)}return a.amplitude=function(o){return n(o,t*Jc)},a.period=function(o){return n(e,o)},a})(ub,ib),cb=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Jc);function a(o){return((o=o*2-1)<0?e*uo(-o)*Math.sin((r-o)/t):2-e*uo(o)*Math.sin((r+o)/t))/2}return a.amplitude=function(o){return n(o,t*Jc)},a.period=function(o){return n(e,o)},a})(ub,ib);var sJ={time:null,delay:0,duration:250,ease:Qu};function pJ(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function wN(n){var e,t;n instanceof pr?(e=n._id,n=n._name):(e=bd(),(t=sJ).time=np(),n=n==null?null:n+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var u=r[o],i=u.length,f,c=0;c<i;++c)(f=u[c])&&zu(f,n,e,c,u,t||pJ(f,e));return new pr(r,this._parents,n,e)}Ro.prototype.interrupt=eN;Ro.prototype.transition=wN;var Ap=n=>()=>n;function lb(n,{sourceEvent:e,target:t,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Ia(n,e,t){this.k=n,this.x=e,this.y=t}Ia.prototype={constructor:Ia,scale:function(n){return n===1?this:new Ia(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Ia(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lp=new Ia(1,0,0);sb.prototype=Ia.prototype;function sb(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Lp;return n.__zoom}function Ed(n){n.stopImmediatePropagation()}function Qc(n){n.preventDefault(),n.stopImmediatePropagation()}function _J(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function mJ(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function FN(){return this.__zoom||Lp}function vJ(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function dJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function DJ(n,e,t){var r=n.invertX(e[0][0])-t[0][0],a=n.invertX(e[1][0])-t[1][0],o=n.invertY(e[0][1])-t[0][1],u=n.invertY(e[1][1])-t[1][1];return n.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function pb(){var n=_J,e=mJ,t=DJ,r=vJ,a=dJ,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],i=250,f=zy,c=Oo("start","zoom","end"),l,s,p,_=500,D=150,d=0,g=10;function y(E){E.property("__zoom",FN).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",rn).on("dblclick.zoom",_n).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",Ln).on("touchend.zoom touchcancel.zoom",Sn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(E,z,L,X){var pn=E.selection?E.selection():E;pn.property("__zoom",FN),E!==pn?h(E,z,L,X):pn.interrupt().each(function(){F(this,arguments).event(X).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},y.scaleBy=function(E,z,L,X){y.scaleTo(E,function(){var pn=this.__zoom.k,En=typeof z=="function"?z.apply(this,arguments):z;return pn*En},L,X)},y.scaleTo=function(E,z,L,X){y.transform(E,function(){var pn=e.apply(this,arguments),En=this.__zoom,qn=L==null?b(pn):typeof L=="function"?L.apply(this,arguments):L,Me=En.invert(qn),ke=typeof z=="function"?z.apply(this,arguments):z;return t(w(C(En,ke),qn,Me),pn,u)},L,X)},y.translateBy=function(E,z,L,X){y.transform(E,function(){return t(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),u)},null,X)},y.translateTo=function(E,z,L,X,pn){y.transform(E,function(){var En=e.apply(this,arguments),qn=this.__zoom,Me=X==null?b(En):typeof X=="function"?X.apply(this,arguments):X;return t(Lp.translate(Me[0],Me[1]).scale(qn.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof L=="function"?-L.apply(this,arguments):-L),En,u)},X,pn)};function C(E,z){return z=Math.max(o[0],Math.min(o[1],z)),z===E.k?E:new Ia(z,E.x,E.y)}function w(E,z,L){var X=z[0]-L[0]*E.k,pn=z[1]-L[1]*E.k;return X===E.x&&pn===E.y?E:new Ia(E.k,X,pn)}function b(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function h(E,z,L,X){E.on("start.zoom",function(){F(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(X).end()}).tween("zoom",function(){var pn=this,En=arguments,qn=F(pn,En).event(X),Me=e.apply(pn,En),ke=L==null?b(Me):typeof L=="function"?L.apply(pn,En):L,nn=Math.max(Me[1][0]-Me[0][0],Me[1][1]-Me[0][1]),xn=pn.__zoom,re=typeof z=="function"?z.apply(pn,En):z,Jn=f(xn.invert(ke).concat(nn/xn.k),re.invert(ke).concat(nn/re.k));return function(cn){if(cn===1)cn=re;else{var q=Jn(cn),ee=nn/q[2];cn=new Ia(ee,ke[0]-q[0]*ee,ke[1]-q[1]*ee)}qn.zoom(null,cn)}})}function F(E,z,L){return!L&&E.__zooming||new R(E,z)}function R(E,z){this.that=E,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,z),this.taps=0}R.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,z){return this.mouse&&E!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var z=$n(this.that).datum();c.call(E,this.that,new lb(E,{sourceEvent:this.sourceEvent,target:y,type:E,transform:this.that.__zoom,dispatch:c}),z)}};function $(E,...z){if(!n.apply(this,arguments))return;var L=F(this,z).event(E),X=this.__zoom,pn=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,r.apply(this,arguments)))),En=fr(E);if(L.wheel)(L.mouse[0][0]!==En[0]||L.mouse[0][1]!==En[1])&&(L.mouse[1]=X.invert(L.mouse[0]=En)),clearTimeout(L.wheel);else{if(X.k===pn)return;L.mouse=[En,X.invert(En)],pf(this),L.start()}Qc(E),L.wheel=setTimeout(qn,D),L.zoom("mouse",t(w(C(X,pn),L.mouse[0],L.mouse[1]),L.extent,u));function qn(){L.wheel=null,L.end()}}function rn(E,...z){if(p||!n.apply(this,arguments))return;var L=E.currentTarget,X=F(this,z,!0).event(E),pn=$n(E.view).on("mousemove.zoom",ke,!0).on("mouseup.zoom",nn,!0),En=fr(E,L),qn=E.clientX,Me=E.clientY;tp(E.view),Ed(E),X.mouse=[En,this.__zoom.invert(En)],pf(this),X.start();function ke(xn){if(Qc(xn),!X.moved){var re=xn.clientX-qn,Jn=xn.clientY-Me;X.moved=re*re+Jn*Jn>d}X.event(xn).zoom("mouse",t(w(X.that.__zoom,X.mouse[0]=fr(xn,L),X.mouse[1]),X.extent,u))}function nn(xn){pn.on("mousemove.zoom mouseup.zoom",null),rp(xn.view,X.moved),Qc(xn),X.event(xn).end()}}function _n(E,...z){if(n.apply(this,arguments)){var L=this.__zoom,X=fr(E.changedTouches?E.changedTouches[0]:E,this),pn=L.invert(X),En=L.k*(E.shiftKey?.5:2),qn=t(w(C(L,En),X,pn),e.apply(this,z),u);Qc(E),i>0?$n(this).transition().duration(i).call(h,qn,X,E):$n(this).call(y.transform,qn,X,E)}}function M(E,...z){if(n.apply(this,arguments)){var L=E.touches,X=L.length,pn=F(this,z,E.changedTouches.length===X).event(E),En,qn,Me,ke;for(Ed(E),qn=0;qn<X;++qn)Me=L[qn],ke=fr(Me,this),ke=[ke,this.__zoom.invert(ke),Me.identifier],pn.touch0?!pn.touch1&&pn.touch0[2]!==ke[2]&&(pn.touch1=ke,pn.taps=0):(pn.touch0=ke,En=!0,pn.taps=1+!!l);l&&(l=clearTimeout(l)),En&&(pn.taps<2&&(s=ke[0],l=setTimeout(function(){l=null},_)),pf(this),pn.start())}}function Ln(E,...z){if(this.__zooming){var L=F(this,z).event(E),X=E.changedTouches,pn=X.length,En,qn,Me,ke;for(Qc(E),En=0;En<pn;++En)qn=X[En],Me=fr(qn,this),L.touch0&&L.touch0[2]===qn.identifier?L.touch0[0]=Me:L.touch1&&L.touch1[2]===qn.identifier&&(L.touch1[0]=Me);if(qn=L.that.__zoom,L.touch1){var nn=L.touch0[0],xn=L.touch0[1],re=L.touch1[0],Jn=L.touch1[1],cn=(cn=re[0]-nn[0])*cn+(cn=re[1]-nn[1])*cn,q=(q=Jn[0]-xn[0])*q+(q=Jn[1]-xn[1])*q;qn=C(qn,Math.sqrt(cn/q)),Me=[(nn[0]+re[0])/2,(nn[1]+re[1])/2],ke=[(xn[0]+Jn[0])/2,(xn[1]+Jn[1])/2]}else if(L.touch0)Me=L.touch0[0],ke=L.touch0[1];else return;L.zoom("touch",t(w(qn,Me,ke),L.extent,u))}}function Sn(E,...z){if(this.__zooming){var L=F(this,z).event(E),X=E.changedTouches,pn=X.length,En,qn;for(Ed(E),p&&clearTimeout(p),p=setTimeout(function(){p=null},_),En=0;En<pn;++En)qn=X[En],L.touch0&&L.touch0[2]===qn.identifier?delete L.touch0:L.touch1&&L.touch1[2]===qn.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(qn=fr(qn,this),Math.hypot(s[0]-qn[0],s[1]-qn[1])<g)){var Me=$n(this).on("dblclick.zoom");Me&&Me.apply(this,arguments)}}}return y.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Ap(+E),y):r},y.filter=function(E){return arguments.length?(n=typeof E=="function"?E:Ap(!!E),y):n},y.touchable=function(E){return arguments.length?(a=typeof E=="function"?E:Ap(!!E),y):a},y.extent=function(E){return arguments.length?(e=typeof E=="function"?E:Ap([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),y):e},y.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],y):[o[0],o[1]]},y.translateExtent=function(E){return arguments.length?(u[0][0]=+E[0][0],u[1][0]=+E[1][0],u[0][1]=+E[0][1],u[1][1]=+E[1][1],y):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},y.constrain=function(E){return arguments.length?(t=E,y):t},y.duration=function(E){return arguments.length?(i=+E,y):i},y.interpolate=function(E){return arguments.length?(f=E,y):f},y.on=function(){var E=c.on.apply(c,arguments);return E===c?y:E},y.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,y):Math.sqrt(d)},y.tapDistance=function(E){return arguments.length?(g=+E,y):g},y}function _b(n){return e=>t=>r=>()=>{let a=$n(n),o=a.select(r);function u(f){o.attr("transform",f.transform)}let i=pb().scaleExtent([e,t]).on("zoom",u);return a.call(i),n}}function mb(n){return()=>()=>{let e=$n(n),t={x:0,y:0};function r(u){$n(this).raise()}function a(u){t.x+=u.dx,t.y+=u.dy,$n(this).attr("transform",`translate(${t.x},${t.y})`)}let o=Ki().on("start",r).on("drag",a);return e.call(o),n}}function vb(n){return e=>()=>{let t=$n(n);return t.on("click",function(r){e()}),t.style("cursor","pointer"),n}}function db(n){return e=>()=>{let t=$n(n);return t.on("click",function(r,a){e(a)()}),t.style("cursor","pointer"),n}}function Db(n){return e=>()=>($n(n).on("mouseenter",function(r,a){e(a)()}),n)}function gb(n){return e=>()=>($n(n).on("mouseleave",function(r,a){e(a)()}),n)}function hb(n){return e=>t=>()=>{let r=$n(n);return r.on("mouseenter",function(a){let o=$n(this);o.raise(),e.forEach(u=>{o.attr(u.attr,u.value)})}),r.on("mouseleave",function(a){let o=$n(this);t.forEach(u=>{o.attr(u.attr,u.value)})}),n}}function yb(n){return e=>()=>(n.addEventListener("mousemove",function(t){let r=this.__data__;e(r,t)}),n)}function bb(n){return e=>()=>(n.addEventListener("mouseenter",function(t){let r=this.__data__;e(r,t)}),n)}function Tb(n){return e=>()=>(n.addEventListener("mouseleave",function(t){let r=this.__data__;e(r,t)}),n)}var SN=vi(),xN=zf(To),IN=function(n){var e=en(n);return function(t){return function(r){return function(a){var o=function(i){return function(f){return function(c){var l=a(c),s=gi(function(g){return e(a(g.datum))(l)})(f.remainingOld);if(s instanceof v){var p={datum:c,newIndex:i};return{remainingOld:f.remainingOld,matchedIndices:f.matchedIndices,update:f.update,enter:Ut(p)(f.enter)}}if(s instanceof m){var _=Rn(f.remainingOld)(Il(s.value0)(f.remainingOld)),D=SN(f.remainingOld)(s.value0),d={element:D.element,oldDatum:c,newDatum:c,newIndex:i};return{enter:f.enter,update:Ut(d)(f.update),remainingOld:_,matchedIndices:Ut(s.value0)(f.matchedIndices)}}throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 167, column 9 - line 189, column 18): "+[s.constructor.name])}}},u=xN(o)({remainingOld:r,enter:[],update:[],matchedIndices:[]})(t);return{enter:Ga(u.enter),update:Ga(u.update),exit:u.remainingOld}}}}},AN=function(n){var e=en(n);return function(t){return function(r){var a=function(u){return function(i){return function(f){var c=gi(function(D){return e(D.datum)(f)})(i.remainingOld);if(c instanceof v){var l={datum:f,newIndex:u};return{remainingOld:i.remainingOld,matchedIndices:i.matchedIndices,update:i.update,enter:Ut(l)(i.enter)}}if(c instanceof m){var s=Rn(i.remainingOld)(Il(c.value0)(i.remainingOld)),p=SN(i.remainingOld)(c.value0),_={element:p.element,oldDatum:f,newDatum:f,newIndex:u};return{enter:i.enter,update:Ut(_)(i.update),remainingOld:s,matchedIndices:Ut(c.value0)(i.matchedIndices)}}throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 100, column 7 - line 122, column 16): "+[c.constructor.name])}}},o=xN(a)({remainingOld:r,enter:[],update:[],matchedIndices:[]})(t);return{enter:Ga(o.enter),update:Ga(o.update),exit:o.remainingOld}}}};var Nt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Kn=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ue=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Jt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Go=(function(){function n(){}return n.value=new n,n})(),io=(function(){function n(){}return n.value=new n,n})(),_f=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),mf=(function(){function n(){}return n.value=new n,n})(),Cd=(function(){function n(){}return n.value=new n,n})(),jc=(function(){function n(){}return n.value=new n,n})(),vf=(function(){function n(){}return n.value=new n,n})(),Md=(function(){function n(){}return n.value=new n,n})(),Vo=(function(){function n(){}return n.value=new n,n})(),Xc=(function(){function n(){}return n.value=new n,n})(),wd=(function(){function n(){}return n.value=new n,n})(),Fd=(function(){function n(){}return n.value=new n,n})(),Sd=(function(){function n(){}return n.value=new n,n})(),xd=(function(){function n(){}return n.value=new n,n})(),Id=(function(){function n(){}return n.value=new n,n})(),Ad=(function(){function n(){}return n.value=new n,n})(),Ld=(function(){function n(){}return n.value=new n,n})(),Nd=(function(){function n(){}return n.value=new n,n})();var LN=function(n){if(n instanceof mf||n instanceof Cd||n instanceof jc||n instanceof vf||n instanceof Md||n instanceof Vo||n instanceof Xc)return Go.value;if(n instanceof wd||n instanceof Fd||n instanceof Sd||n instanceof xd||n instanceof Id||n instanceof Ad||n instanceof Ld||n instanceof Nd)return io.value;throw new Error("Failed pattern match at PSD3v2.Selection.Types (line 201, column 1 - line 201, column 47): "+[n.constructor.name])};function Np(n){return function(e){return function(t){return function(r){return function(){let a=$n(r).transition();if(a=a.duration(n),e!=null&&(a=a.delay(e)),t!=null){let o=TJ(t);o&&(a=a.ease(o))}return a}}}}}function Jo(n){return function(e){return function(t){return function(){t.attr(n,e)}}}}function Rd(n){return function(){n.remove()}}function TJ(n){return{linear:B0,quad:kc,quadIn:G0,quadOut:V0,quadInOut:kc,cubic:Qu,cubicIn:J0,cubicOut:z0,cubicInOut:Qu,sin:qc,sinIn:Q0,sinOut:j0,sinInOut:qc,exp:Bc,expIn:X0,expOut:Y0,expInOut:Bc,circle:Gc,circleIn:K0,circleOut:Z0,circleInOut:Gc,elastic:zc,elasticIn:fb,elasticOut:zc,elasticInOut:cb,back:Vc,backIn:ab,backOut:ob,backInOut:Vc,bounce:Bo,bounceIn:eb,bounceOut:Bo,bounceInOut:tb}[n]}var EJ=(function(){function n(){}return n.value=new n,n})(),CJ=(function(){function n(){}return n.value=new n,n})(),MJ=(function(){function n(){}return n.value=new n,n})(),wJ=(function(){function n(){}return n.value=new n,n})(),FJ=(function(){function n(){}return n.value=new n,n})(),SJ=(function(){function n(){}return n.value=new n,n})(),xJ=(function(){function n(){}return n.value=new n,n})(),IJ=(function(){function n(){}return n.value=new n,n})(),AJ=(function(){function n(){}return n.value=new n,n})(),LJ=(function(){function n(){}return n.value=new n,n})(),NJ=(function(){function n(){}return n.value=new n,n})(),PJ=(function(){function n(){}return n.value=new n,n})(),RJ=(function(){function n(){}return n.value=new n,n})(),OJ=(function(){function n(){}return n.value=new n,n})(),HJ=(function(){function n(){}return n.value=new n,n})(),WJ=(function(){function n(){}return n.value=new n,n})(),$J=(function(){function n(){}return n.value=new n,n})(),UJ=(function(){function n(){}return n.value=new n,n})(),kJ=(function(){function n(){}return n.value=new n,n})(),qJ=(function(){function n(){}return n.value=new n,n})(),BJ=(function(){function n(){}return n.value=new n,n})(),GJ=(function(){function n(){}return n.value=new n,n})(),VJ=(function(){function n(){}return n.value=new n,n})(),JJ=(function(){function n(){}return n.value=new n,n})(),zJ=(function(){function n(){}return n.value=new n,n})(),QJ=(function(){function n(){}return n.value=new n,n})(),jJ=(function(){function n(){}return n.value=new n,n})(),XJ=(function(){function n(){}return n.value=new n,n})(),YJ=(function(){function n(){}return n.value=new n,n})(),KJ=(function(){function n(){}return n.value=new n,n})(),ZJ=(function(){function n(){}return n.value=new n,n})(),n6=(function(){function n(){}return n.value=new n,n})(),e6=(function(){function n(){}return n.value=new n,n})(),NN={show:function(n){if(n instanceof EJ)return"linear";if(n instanceof CJ)return"cubic";if(n instanceof MJ)return"cubicIn";if(n instanceof wJ)return"cubicOut";if(n instanceof FJ)return"cubicInOut";if(n instanceof SJ)return"quad";if(n instanceof xJ)return"quadIn";if(n instanceof IJ)return"quadOut";if(n instanceof AJ)return"quadInOut";if(n instanceof LJ)return"sin";if(n instanceof NJ)return"sinIn";if(n instanceof PJ)return"sinOut";if(n instanceof RJ)return"sinInOut";if(n instanceof OJ)return"exp";if(n instanceof HJ)return"expIn";if(n instanceof WJ)return"expOut";if(n instanceof $J)return"expInOut";if(n instanceof UJ)return"circle";if(n instanceof kJ)return"circleIn";if(n instanceof qJ)return"circleOut";if(n instanceof BJ)return"circleInOut";if(n instanceof GJ)return"elastic";if(n instanceof VJ)return"elasticIn";if(n instanceof JJ)return"elasticOut";if(n instanceof zJ)return"elasticInOut";if(n instanceof QJ)return"back";if(n instanceof jJ)return"backIn";if(n instanceof XJ)return"backOut";if(n instanceof YJ)return"backInOut";if(n instanceof KJ)return"bounce";if(n instanceof ZJ)return"bounceIn";if(n instanceof n6)return"bounceOut";if(n instanceof e6)return"bounceInOut";throw new Error("Failed pattern match at PSD3v2.Transition.Types (line 79, column 1 - line 112, column 35): "+[n.constructor.name])}};var r6=U(NN),Od=function(n){if(n instanceof v)return Ye(v.value);if(n instanceof m)return Ye(new m(n.value0));throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 53, column 1 - line 53, column 69): "+[n.constructor.name])},a6=function(n){return r6(n)},Hd=function(n){if(n instanceof v)return Ye(v.value);if(n instanceof m)return Ye(new m(a6(n.value0)));throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 58, column 1 - line 58, column 57): "+[n.constructor.name])};var zo=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),RN=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ON=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),HN=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),WN=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var df=function(n){return function(e){return function(){return e[n]}}},u6=df("URL"),i6=df("documentURI"),f6=df("origin"),c6=df("compatMode"),l6=df("characterSet"),s6=df("contentType");var p6=df("documentElement");function Eb(n){return function(e){return function(){return e.createElement(n)}}}function $N(n){return function(e){return function(t){return function(){return t.createElementNS(n,e)}}}}var UN=function(n){return $N(Ye(n))};var Aa=function(n){return function(e){return function(){return e[n]}}};var v6=Aa("baseURI"),d6=Aa("ownerDocument"),kN=Aa("parentNode"),D6=Aa("parentElement");var qN=Aa("childNodes"),BN=Aa("firstChild"),g6=Aa("lastChild"),h6=Aa("previousSibling"),GN=Aa("nextSibling"),y6=Aa("nodeValue");var b6=Aa("textContent");function Cb(n){return function(e){return function(t){return function(){t.insertBefore(n,e)}}}}function Qo(n){return function(e){return function(){e.appendChild(n)}}}function Df(n){return function(e){return function(){e.removeChild(n)}}}var Mb=T(Pn);var Yc=(function(){var n=Mb(fe);return function(e){return n(kN(e))}})();var VN=(function(){var n=Mb(fe);return function(e){return n(GN(e))}})();var JN=(function(){var n=Mb(fe);return function(e){return n(BN(e))}})();function $d(n){return function(){return[].slice.call(n)}}var ra=function(){return window};var ju=A;var Pp=A;function jN(n,e,t){var r=Object.prototype.toString.call(t);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(t):n}var XN=A;var wb=function(n){return jN(v.value,m.create,n)};function aa(n){return function(){return n.document}}function Wp(n){return n.clientX}function $p(n){return n.clientY}function Up(n){return n.pageX}function kp(n){return n.pageY}var a7=B(it),Zc=N(An);var hf=Pe(An)(gn),yf=Ie(Sr)(An),fo=se(Pn),o7=at(ot),oa=K(Te),Or=On(ce),gf=Ea(ce),Hr=U(xe),rP=_r(Qn),kd=tn(Nn),Mr=_r(Fn),u7=U(vr),i7=U(If),Vp=lg(An)(To),Sb=vi(),Jp=Du(Qf)(An),aP=nr(Ct),Kc=$l(Yn),Pt=T(Fn),qp=Xe(Yn),f7=t_(Oa);var c7=function(n){return n==="circle"?mf.value:n==="rect"?Cd.value:n==="path"?jc.value:n==="line"?vf.value:n==="text"?Md.value:n==="g"?Vo.value:n==="svg"?Xc.value:n==="div"?wd.value:n==="span"?Fd.value:n==="table"?Sd.value:n==="tr"?xd.value:n==="td"?Id.value:n==="th"?Ad.value:n==="tbody"?Ld.value:n==="thead"?Nd.value:Vo.value},oP=function(n){var e=On(n);return function(t){return e(function(){var a=a7(ra)(aa)(),o=Pp(a),u=ju(a),i=Fo(t)(u)();if(i instanceof v)return new Nt({parentElements:[],document:o});if(i instanceof m)return new Nt({parentElements:[i.value0],document:o});throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 90, column 3 - line 98, column 8): "+[i.constructor.name])})}};var qd=function(n){var e=On(n);return function(t){return e((function(){var r=(function(){if(t instanceof Jt)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 324, column 34 - line 325, column 30): "+[t.constructor.name])})();return hf(function(a){var o=Xt(a);return function(){var i=Yc(o)();if(i instanceof m)return Df(o)(i.value0)();if(i instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 329, column 5 - line 331, column 27): "+[i.constructor.name])}})(r.elements)})())}},Bp=qd(ce),nl=function(n){return function(e){return function(){var r=yf(function(a){var o=kg(a);return function(){var i=nm(n)(o)(),f=$d(i)();return he(qg)(f)}})(e)();return fi(r)}}},uP=function(n){return function(e){var t=function(o){if(o instanceof Nt)return o.value0.parentElements;if(o instanceof Kn)return o.value0.elements;if(o instanceof Ue)return o.value0.parentElements;if(o instanceof Jt)return o.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 871, column 3 - line 871, column 59): "+[o.constructor.name])},r=function(o){return function(u){if(o instanceof sd)return fo(_b(u)(o.value0.scaleExtent.value0)(o.value0.scaleExtent.value1)(o.value0.targetSelector));if(o instanceof R0&&o.value0 instanceof OL)return fo(mb(u)(void 0));if(o instanceof R0&&o.value0 instanceof HL)return Zc(void 0);if(o instanceof WL)return fo(vb(u)(o.value0));if(o instanceof O0)return fo(db(u)(o.value0));if(o instanceof H0)return fo(Db(u)(o.value0));if(o instanceof wp)return fo(gb(u)(o.value0));if(o instanceof $L)return fo(hb(u)(o.value0.enter)(o.value0.leave));if(o instanceof UL)return fo(yb(u)(function(i,f){return o.value0({datum:i,clientX:vn(Wp(f)),clientY:vn($p(f)),pageX:vn(Up(f)),pageY:vn(kp(f)),offsetX:vd(f),offsetY:dd(f)})()}));if(o instanceof pd)return fo(bb(u)(function(i,f){return o.value0({datum:i,clientX:vn(Wp(f)),clientY:vn($p(f)),pageX:vn(Up(f)),pageY:vn(kp(f)),offsetX:vd(f),offsetY:dd(f)})()}));if(o instanceof kL)return fo(Tb(u)(function(i,f){return o.value0({datum:i,clientX:vn(Wp(f)),clientY:vn($p(f)),pageX:vn(Up(f)),pageY:vn(kp(f)),offsetX:vd(f),offsetY:dd(f)})()}));throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 878, column 3 - line 878, column 60): "+[o.constructor.name,u.constructor.name])}},a=t(e);return function(){return hf(r(n))(a)(),e}}},xb=function(n){var e=N(n.Monad0().Applicative0());return function(t){return function(r){var a=(function(){if(t instanceof Kn)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 502, column 68 - line 503, column 28): "+[t.constructor.name])})(),o=(function(){if(r instanceof Kn)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 505, column 53 - line 506, column 28): "+[r.constructor.name])})();return e(new Kn({elements:oa(a.elements)(o.elements),data:oa(a.data)(o.data),indices:v.value,document:a.document}))}}},Ib=function(n){var e=On(n);return function(t){var r=Ar(t);return function(a){var o=IN(a);return function(u){return function(i){return function(f){return function(c){return e((function(){var l=(function(){if(c instanceof Nt)return c.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 626, column 55 - line 627, column 28): "+[c.constructor.name])})();return function(){var p=nl(f)(l.parentElements)(),_=yf(function(F){return function(){var $=_d(F)(),rn=fe($);return{element:F,datum:rn}}})(p)();Or(gf("joinDataWithKey: found "+(Hr(Q(p))+(" existing elements with selector '"+(f+"'")))))(),Or(gf("joinDataWithKey: "+(Hr(Q(he(function(F){return F.datum})(_)))+" of those have data bound")))();var D=he(function(F){return rP(F.datum)(function(R){return{element:F.element,datum:R}})})(_),d=r(u),g=o(d)(D)(i),y=ho(function(F){return function(R){return kd(F.newIndex)(R.newIndex)}})(g.enter),C=new Ue({parentElements:l.parentElements,pendingData:Mr(y)(function(F){return F.datum}),indices:new m(Mr(y)(function(F){return F.newIndex})),document:l.document}),w=ho(function(F){return function(R){return kd(F.newIndex)(R.newIndex)}})(g.update),b=new Kn({elements:Mr(w)(function(F){return F.element}),data:Mr(w)(function(F){return F.newDatum}),indices:new m(Mr(w)(function(F){return F.newIndex})),document:l.document}),h=new Jt({elements:Mr(g.exit)(function(F){return F.element}),data:Mr(g.exit)(function(F){return F.datum}),document:l.document});return new _f({enter:C,update:b,exit:h})}})())}}}}}}},l7=Ib(ce)(gn)(ut),Bd=function(n){var e=On(n);return function(t){var r=Ar(t);return function(a){var o=AN(a.Eq0());return function(u){return function(i){return function(f){return e((function(){var c=(function(){if(f instanceof Nt)return f.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 537, column 55 - line 538, column 28): "+[f.constructor.name])})();return function(){var s=nl(i)(c.parentElements)(),p=yf(function(h){return function(){var R=_d(h)(),$=fe(R);return{element:h,datum:$}}})(s)();Or(gf("joinData: found "+(Hr(Q(s))+(" existing elements with selector '"+(i+"'")))))(),Or(gf("joinData: "+(Hr(Q(he(function(h){return h.datum})(p)))+" of those have data bound")))();var _=he(function(h){return rP(h.datum)(function(F){return{element:h.element,datum:F}})})(p),D=r(u),d=o(D)(_),g=ho(function(h){return function(F){return kd(h.newIndex)(F.newIndex)}})(d.enter),y=new Ue({parentElements:c.parentElements,pendingData:Mr(g)(function(h){return h.datum}),indices:new m(Mr(g)(function(h){return h.newIndex})),document:c.document}),C=ho(function(h){return function(F){return kd(h.newIndex)(F.newIndex)}})(d.update),w=new Kn({elements:Mr(C)(function(h){return h.element}),data:Mr(C)(function(h){return h.newDatum}),indices:new m(Mr(C)(function(h){return h.newIndex})),document:c.document}),b=new Jt({elements:Mr(d.exit)(function(h){return h.element}),data:Mr(d.exit)(function(h){return h.datum}),document:c.document});return new _f({enter:y,update:w,exit:b})}})())}}}}}},s7=Bd(ce)(gn),YN=function(n){var e=(function(){if(n instanceof Jt)return n.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1071, column 52 - line 1072, column 30): "+[n.constructor.name])})();return dr(I.create)(e.elements)(e.data)},iP=function(n){if(n instanceof Nt||n instanceof Kn||n instanceof Ue||n instanceof Jt)return Zc(n.value0.document);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 815, column 1 - line 815, column 82): "+[n.constructor.name])},fP=function(n){var e=On(n);return function(t){return function(r){return e(function(){var o=iP(r)(),u=(function(){if(r instanceof Nt)return r.value0.parentElements;if(r instanceof Kn)return r.value0.elements;if(r instanceof Ue)return r.value0.parentElements;if(r instanceof Jt)return r.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 122, column 19 - line 126, column 48): "+[r.constructor.name])})();return new Nt({parentElements:u,document:o})})}}},cP=function(n){var e=On(n);return function(t){return function(r){return e(function(){var o=iP(r)(),u=(function(){if(r instanceof Nt)return nl(t)(r.value0.parentElements)();if(r instanceof Kn)return nl(t)(r.value0.elements)();if(r instanceof Ue)return nl(t)(r.value0.parentElements)();if(r instanceof Jt)return nl(t)(r.value0.elements)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 154, column 15 - line 162, column 50): "+[r.constructor.name])})(),i=yf(function(f){return function(){var l=_d(f)(),s=fe(l);if(s instanceof m)return s.value0;if(s instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 168, column 16 - line 170, column 39): "+[s.constructor.name])}})(u)();return new Kn({elements:u,data:i,indices:v.value,document:o})})}}},KN=function(n){var e=(function(){if(n instanceof Kn)return n.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1083, column 52 - line 1084, column 28): "+[n.constructor.name])})();return dr(I.create)(e.elements)(e.data)},ZN=function(n){if(n instanceof mf)return"circle";if(n instanceof Cd)return"rect";if(n instanceof jc)return"path";if(n instanceof vf)return"line";if(n instanceof Md)return"text";if(n instanceof Vo)return"g";if(n instanceof Xc)return"svg";if(n instanceof wd)return"div";if(n instanceof Fd)return"span";if(n instanceof Sd)return"table";if(n instanceof xd)return"tr";if(n instanceof Id)return"td";if(n instanceof Ad)return"th";if(n instanceof Ld)return"tbody";if(n instanceof Nd)return"thead";throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 962, column 1 - line 962, column 45): "+[n.constructor.name])},Gd=function(n){return function(e){var t=LN(n);if(t instanceof Go)return UN(new m("http://www.w3.org/2000/svg"))(ZN(n))(e);if(t instanceof io)return Eb(ZN(n))(e);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 825, column 3 - line 831, column 64): "+[t.constructor.name])}},lP=function(n){var e=On(n);return function(t){return e(XL(t))}},co=function(n){if(n instanceof bp)return n.value0;if(n instanceof Tp)return u7(n.value0);if(n instanceof I0)return i7(n.value0);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 957, column 1 - line 957, column 51): "+[n.constructor.name])},Ud=function(n){return function(e){return function(t){var r=Od(n.delay),a=Hd(n.easing);return Vp(function(o){return function(u){return function(){var f=Np(n.duration)(r)(a)(u.value0)();return hf(function(c){if(c instanceof lf)return Jo(c.value0)(co(c.value1))(f);if(c instanceof sf)return Jo(c.value0)(co(c.value1(u.value1)))(f);if(c instanceof Ep)return Jo(c.value0)(co(c.value1(u.value1)(o)))(f);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1023, column 32 - line 1031, column 103): "+[c.constructor.name])})(t)()}}})(e)}}},nP=function(n){return function(e){return function(t){var r=Od(n.delay),a=Hd(n.easing);return Vp(function(o){return function(u){return function(){var f=Np(n.duration)(r)(a)(u.value0)();return hf(function(c){if(c instanceof lf)return Jo(c.value0)(co(c.value1))(f);if(c instanceof sf)return Jo(c.value0)(co(c.value1(u.value1)))(f);if(c instanceof Ep)return Jo(c.value0)(co(c.value1(u.value1)(o)))(f);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1051, column 32 - line 1059, column 103): "+[c.constructor.name])})(t)(),Rd(f)()}}})(e)}}},bf=function(n){return function(e){return function(t){return function(r){return hf(function(a){if(a instanceof lf){var o=a.value0==="textContent";return o?md(co(a.value1))(n):Xl(a.value0)(co(a.value1))(n)}if(a instanceof sf){var u=co(a.value1(e)),i=a.value0==="textContent";return i?md(u)(n):Xl(a.value0)(u)(n)}if(a instanceof Ep){var u=co(a.value1(e)(t)),f=a.value0==="textContent";return f?md(u)(n):Xl(a.value0)(u)(n)}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 938, column 30 - line 955, column 51): "+[a.constructor.name])})(r)}}}},p7=function(n){var e=On(n);return function(t){return function(r){return e((function(){if(r instanceof Kn){var a=dr(I.create)(r.value0.data)(r.value0.elements);return function(){return Vp(function(u){return function(i){var f=t(i.value0);return bf(i.value1)(i.value0)(u)(f)}})(a)(),r}}return Zc(r)})())}}},Ab=function(n){var e=On(n);return function(t){return function(r){return e((function(){var a=(function(){if(r instanceof Kn)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 260, column 76 - line 261, column 28): "+[r.constructor.name])})(),o=dr(I.create)(a.data)(a.elements);return function(){return Vp(function(i){return function(f){var c=(function(){if(a.indices instanceof m)return Sb(a.indices.value0)(i);if(a.indices instanceof v)return i;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 266, column 22 - line 268, column 30): "+[a.indices.constructor.name])})();return bf(f.value1)(f.value0)(c)(t)}})(o)(),new Kn({elements:a.elements,data:a.data,indices:a.indices,document:a.document})}})())}}},eP=Ab(ce),Lb=function(n){var e=On(n);return function(t){return function(r){return e((function(){var a=(function(){if(r instanceof Jt)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 295, column 67 - line 296, column 30): "+[r.constructor.name])})(),o=dr(I.create)(a.data)(a.elements);return function(){return Vp(function(i){return function(f){return bf(f.value1)(f.value0)(i)(t)}})(o)(),new Jt({elements:a.elements,data:a.data,document:a.document})}})())}}},tP=Lb(ce),_7=function(n){return function(e){return function(t){return function(r){return function(a){return function(){return Sp(e)(n)(),r instanceof zo?bf(n)(e)(t)(r.value0.attrs)():void 0}}}}}},m7=function(n){return function(e){return function(t){var r=(function(){if(t instanceof Kn)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1705, column 66 - line 1706, column 32): "+[t.constructor.name])})();return Jp(function(a){return function(o){var u=ie(r.elements)(a);if(u instanceof v)return Yt("renderTemplatesForBoundSelection: index out of bounds");if(u instanceof m){var i=e(o),f=new Kn({elements:[u.value0],data:[o],indices:new m([a]),document:r.document});return function(){return _7(u.value0)(o)(a)(i)(r.document)(),new I(u.value0,ne)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1711, column 9 - line 1735, column 43): "+[u.constructor.name])}})(r.data)}}},sP=function(n){var e=On(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Kn)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 455, column 82 - line 456, column 28): "+[a.constructor.name])})();return function(){var i=Jp(function(f){return function(c){return function(){var s=Gd(t)(o.document)();Sp(c.value1)(s)(),bf(s)(c.value1)(f)(r)();var p=Xt(s),_=Xt(c.value0);return Qo(p)(_)(),s}}})(dr(I.create)(o.elements)(o.data))();return new Kn({elements:i,data:o.data,indices:v.value,document:o.document})}})())}}}},Nb=function(n){var e=On(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Nt)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 399, column 55 - line 400, column 28): "+[a.constructor.name])})();return function(){var i=yf(function(f){return function(){var l=Gd(t)(o.document)();bf(l)(void 0)(0)(r)();var s=Xt(l),p=Xt(f);return Qo(s)(p)(),l}})(o.parentElements)();return new Nt({parentElements:i,document:o.document})}})())}}}},v7=Nb(ce),Gp=function(n){return function(e){return function(t){var r=(function(){if(t instanceof Ue)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1656, column 68 - line 1657, column 34): "+[t.constructor.name])})();return Jp(function(a){return function(o){var u=aP(a)(Q(r.parentElements)),i=ie(r.parentElements)(u);if(i instanceof v)return Yt("renderTemplatesForPendingSelection: no parent elements");if(i instanceof m){var f=e(o),c=new Nt({parentElements:[i.value0],document:r.document});return function(){var s=Vd(n)(c)(f)();return Sp(o)(s.value0)(),new I(s.value0,s.value1)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1665, column 9 - line 1685, column 49): "+[i.constructor.name])}})(r.pendingData)}}},Vd=function(n){var e=s7(n),t=m7(n);return function(r){return function(a){if(a instanceof zo)return function(){var i=v7(a.value0.elemType)(a.value0.attrs)(r)(),f=(function(){if(i instanceof Nt){var p=$t(i.value0.parentElements);if(p instanceof m)return p.value0;if(p instanceof v)return Yt("renderTree: appendChild returned empty selection");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1108, column 29 - line 1110, column 102): "+[p.constructor.name])}return Yt("renderTree: appendChild should return EmptySelection")})(),c=yf(Vd(n)(i))(a.value0.children)(),l=ma(Kc)(ne)(Pt(ve)(c)),s=(function(){if(a.value0.name instanceof m)return qp(a.value0.name.value0)(i)(l);if(a.value0.name instanceof v)return l;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1119, column 21 - line 1121, column 34): "+[a.value0.name.constructor.name])})();return new I(f,s)};if(a instanceof RN)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)();Or((function(){var R=(function(){return i.value0.enter instanceof Ue?Q(i.value0.enter.value0.pendingData):0})(),$=(function(){return i.value0.update instanceof Kn?Q(i.value0.update.value0.data):0})(),rn=(function(){return i.value0.exit instanceof Kn?Q(i.value0.exit.value0.data):i.value0.exit instanceof Jt?Q(i.value0.exit.value0.data):0})();return gf("Tree API Join '"+(a.value0.name+("': enter="+(Hr(R)+(", update="+(Hr($)+(", exit="+Hr(rn))))))))})())(),Bp(i.value0.exit)();var f=Gp(n)(a.value0.template)(i.value0.enter)(),c=Pt(de)(f),l=Pt(ve)(f),s=t(a.value0.template)(i.value0.update)(),p=Pt(de)(s),_=Pt(ve)(s),D=oa(c)(p),d=oa(l)(_),g=ma(Kc)(ne)(d),y=(function(){if(i.value0.enter instanceof Ue)return i.value0.enter.value0.document;if(i.value0.update instanceof Kn)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1181, column 12 - line 1182, column 43): "+[i.value0.update.constructor.name])})(),C=(function(){return i.value0.enter instanceof Ue?i.value0.enter.value0.pendingData:[]})(),w=(function(){return i.value0.update instanceof Kn?i.value0.update.value0.data:[]})(),b=new Kn({elements:D,data:oa(C)(w),indices:new m(_a(0)(Q(D)-1|0)),document:y}),h=qp(a.value0.name)(b)(g),F=(function(){var R=$t(D);if(R instanceof m)return R.value0;if(R instanceof v)return Yt("renderTree Join: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1208, column 20 - line 1210, column 88): "+[R.constructor.name])})();return new I(F,h)};if(a instanceof ON)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)(),f=d7(n)(a.value0.decompose)(a.value0.template)(c7(a.value0.key))(i.value0.enter)(),c=Pt(de)(f),l=Pt(ve)(f),s=ma(Kc)(ne)(l),p=(function(){if(i.value0.enter instanceof Ue)return i.value0.enter.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1234, column 52 - line 1235, column 34): "+[i.value0.enter.constructor.name])})(),_=new Kn({elements:c,data:p.pendingData,indices:new m(_a(0)(Q(c)-1|0)),document:p.document}),D=qp(a.value0.name)(_)(s),d=(function(){var g=$t(c);if(g instanceof m)return g.value0;if(g instanceof v)return Yt("renderTree NestedJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1251, column 20 - line 1253, column 94): "+[g.constructor.name])})();return new I(d,D)};if(a instanceof HN)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)();Or((function(){var R=(function(){return i.value0.enter instanceof Ue?Q(i.value0.enter.value0.pendingData):0})(),$=(function(){return i.value0.update instanceof Kn?Q(i.value0.update.value0.data):0})(),rn=(function(){return i.value0.exit instanceof Kn?Q(i.value0.exit.value0.data):i.value0.exit instanceof Jt?Q(i.value0.exit.value0.data):0})();return gf("Tree API SceneJoin '"+(a.value0.name+("': enter="+(Hr(R)+(", update="+(Hr($)+(", exit="+Hr(rn))))))))})())(),(function(){if(a.value0.exitBehavior instanceof m){if(a.value0.exitBehavior.value0.transition instanceof m){var R=YN(i.value0.exit);return Or(nP(a.value0.exitBehavior.value0.transition.value0)(R)(a.value0.exitBehavior.value0.attrs))()}if(a.value0.exitBehavior.value0.transition instanceof v)return tP(a.value0.exitBehavior.value0.attrs)(i.value0.exit)(),Bp(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1293, column 7 - line 1301, column 20): "+[a.value0.exitBehavior.value0.transition.constructor.name])}if(a.value0.exitBehavior instanceof v)return Bp(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1291, column 3 - line 1305, column 16): "+[a.value0.exitBehavior.constructor.name])})();var f=(function(){if(a.value0.enterBehavior instanceof m){var R=function(rn){var _n=a.value0.template(rn);return _n instanceof zo?new zo({name:_n.value0.name,elemType:_n.value0.elemType,children:_n.value0.children,attrs:oa(_n.value0.attrs)(a.value0.enterBehavior.value0.initialAttrs)}):_n},$=Gp(n)(R)(i.value0.enter)();return(function(){if(a.value0.enterBehavior.value0.transition instanceof m){var rn=Pt(de)($),_n=(function(){if(i.value0.enter instanceof Ue)return i.value0.enter.value0.pendingData;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1334, column 41 - line 1335, column 54): "+[i.value0.enter.constructor.name])})(),M=dr(I.create)(rn)(_n);return Or(hf(function(Ln){var Sn=(function(){var E=a.value0.template(Ln.value1);return E instanceof zo?E.value0.attrs:[]})();return Ud(a.value0.enterBehavior.value0.transition.value0)([new I(Ln.value0,Ln.value1)])(Sn)})(M))()}if(a.value0.enterBehavior.value0.transition instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1329, column 7 - line 1344, column 29): "+[a.value0.enterBehavior.value0.transition.constructor.name])})(),$}if(a.value0.enterBehavior instanceof v)return Gp(n)(a.value0.template)(i.value0.enter)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1316, column 27 - line 1349, column 68): "+[a.value0.enterBehavior.constructor.name])})(),c=Pt(de)(f),l=Pt(ve)(f),s=(function(){if(a.value0.updateBehavior instanceof m)return(function(){if(a.value0.updateBehavior.value0.transition instanceof m){var R=KN(i.value0.update);return Or(Ud(a.value0.updateBehavior.value0.transition.value0)(R)(a.value0.updateBehavior.value0.attrs))()}if(a.value0.updateBehavior.value0.transition instanceof v)return eP(a.value0.updateBehavior.value0.attrs)(i.value0.update)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1358, column 7 - line 1366, column 20): "+[a.value0.updateBehavior.value0.transition.constructor.name])})(),t(a.value0.template)(i.value0.update)();if(a.value0.updateBehavior instanceof v)return t(a.value0.template)(i.value0.update)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1355, column 28 - line 1372, column 67): "+[a.value0.updateBehavior.constructor.name])})(),p=Pt(de)(s),_=Pt(ve)(s),D=oa(c)(p),d=oa(l)(_),g=ma(Kc)(ne)(d),y=(function(){if(i.value0.enter instanceof Ue)return i.value0.enter.value0.document;if(i.value0.update instanceof Kn)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1389, column 12 - line 1390, column 43): "+[i.value0.update.constructor.name])})(),C=(function(){return i.value0.enter instanceof Ue?i.value0.enter.value0.pendingData:[]})(),w=(function(){return i.value0.update instanceof Kn?i.value0.update.value0.data:[]})(),b=new Kn({elements:D,data:oa(C)(w),indices:new m(_a(0)(Q(D)-1|0)),document:y}),h=qp(a.value0.name)(b)(g),F=(function(){var R=$t(D);if(R instanceof m)return R.value0;if(R instanceof v)return Yt("renderTree SceneJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1415, column 20 - line 1417, column 93): "+[R.constructor.name])})();return new I(F,h)};if(a instanceof WN){var o=f7(Pt(a.value0.decompose)(a.value0.joinData));return function(){var i=l7(o)(YL)(a.value0.key)(r)();Or((function(){var h=(function(){return i.value0.enter instanceof Ue?Q(i.value0.enter.value0.pendingData):0})(),F=(function(){return i.value0.update instanceof Kn?Q(i.value0.update.value0.data):0})(),R=(function(){return i.value0.exit instanceof Kn?Q(i.value0.exit.value0.data):i.value0.exit instanceof Jt?Q(i.value0.exit.value0.data):0})();return gf("Tree API SceneNestedJoin '"+(a.value0.name+("': enter="+(Hr(h)+(", update="+(Hr(F)+(", exit="+Hr(R))))))))})())(),(function(){if(a.value0.exitBehavior instanceof m){if(a.value0.exitBehavior.value0.transition instanceof m){var h=YN(i.value0.exit);return Or(nP(a.value0.exitBehavior.value0.transition.value0)(h)(a.value0.exitBehavior.value0.attrs))()}if(a.value0.exitBehavior.value0.transition instanceof v)return tP(a.value0.exitBehavior.value0.attrs)(i.value0.exit)(),Bp(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1468, column 7 - line 1476, column 20): "+[a.value0.exitBehavior.value0.transition.constructor.name])}if(a.value0.exitBehavior instanceof v)return Bp(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1466, column 3 - line 1479, column 16): "+[a.value0.exitBehavior.constructor.name])})();var f=(function(){if(a.value0.enterBehavior instanceof m){var h=function(R){var $=a.value0.template(R);return $ instanceof zo?new zo({name:$.value0.name,elemType:$.value0.elemType,children:$.value0.children,attrs:oa($.value0.attrs)(a.value0.enterBehavior.value0.initialAttrs)}):$},F=Gp(n)(h)(i.value0.enter)();return(function(){if(a.value0.enterBehavior.value0.transition instanceof m){var R=Pt(de)(F),$=(function(){if(i.value0.enter instanceof Ue)return i.value0.enter.value0.pendingData;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1512, column 41 - line 1513, column 54): "+[i.value0.enter.constructor.name])})(),rn=dr(I.create)(R)($);return Or(hf(function(_n){var M=(function(){var Ln=a.value0.template(_n.value1);return Ln instanceof zo?Ln.value0.attrs:[]})();return Ud(a.value0.enterBehavior.value0.transition.value0)([new I(_n.value0,_n.value1)])(M)})(rn))()}if(a.value0.enterBehavior.value0.transition instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1507, column 7 - line 1522, column 29): "+[a.value0.enterBehavior.value0.transition.constructor.name])})(),F}if(a.value0.enterBehavior instanceof v)return Gp(n)(a.value0.template)(i.value0.enter)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1496, column 27 - line 1525, column 92): "+[a.value0.enterBehavior.constructor.name])})(),c=(function(){if(a.value0.updateBehavior instanceof m)return(function(){if(a.value0.updateBehavior.value0.transition instanceof m){var h=KN(i.value0.update);return Or(Ud(a.value0.updateBehavior.value0.transition.value0)(h)(a.value0.updateBehavior.value0.attrs))()}if(a.value0.updateBehavior.value0.transition instanceof v)return eP(a.value0.updateBehavior.value0.attrs)(i.value0.update)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1531, column 7 - line 1539, column 20): "+[a.value0.updateBehavior.value0.transition.constructor.name])})(),t(a.value0.template)(i.value0.update)();if(a.value0.updateBehavior instanceof v)return t(a.value0.template)(i.value0.update)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1528, column 28 - line 1542, column 91): "+[a.value0.updateBehavior.constructor.name])})(),l=Pt(de)(c),s=Pt(de)(f),p=oa(s)(l),_=Pt(ve)(c),D=Pt(ve)(f),d=oa(D)(_),g=ma(Kc)(ne)(d),y=(function(){if(i.value0.enter instanceof Ue)return i.value0.enter.value0.document;if(i.value0.update instanceof Kn)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1563, column 12 - line 1564, column 43): "+[i.value0.update.constructor.name])})(),C=new Kn({elements:p,data:o,indices:new m(_a(0)(Q(p)-1|0)),document:y}),w=qp(a.value0.name)(C)(g),b=(function(){var h=$t(p);if(h instanceof m)return h.value0;if(h instanceof v)return Yt("renderTree SceneNestedJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1578, column 20 - line 1580, column 99): "+[h.constructor.name])})();return new I(b,w)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1094, column 1 - line 1099, column 74): "+[r.constructor.name,a.constructor.name])}}},d7=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){if(a instanceof Ue)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1601, column 68 - line 1602, column 34): "+[a.constructor.name])})();return Jp(function(u){return function(i){var f=aP(u)(Q(o.parentElements)),c=ie(o.parentElements)(f);if(c instanceof v)return Yt("renderNestedTemplatesForPendingSelection: no parent elements");if(c instanceof m)return function(){var s=Gd(r)(o.document)(),p=Xt(s),_=Xt(c.value0);Qo(p)(_)();var D=e(i),d=yf(function(y){var C=t(y),w=new Nt({parentElements:[s],document:o.document});return function(){var h=Vd(n)(w)(C)();return h.value1}})(D)(),g=ma(Kc)(ne)(d);return new I(s,g)};throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1607, column 9 - line 1636, column 57): "+[c.constructor.name])}})(o.pendingData)}}}}};var pP=function(n){var e=Vd(n);return function(t){return function(r){return function(){var o=e(t)(r)();return o.value1}}}},Jd=function(n){var e=On(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Ue)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 204, column 77 - line 205, column 30): "+[a.constructor.name])})(),u=(function(){var i=$t(o.parentElements);if(i instanceof m)return i.value0;if(i instanceof v)return Sb(o.parentElements)(0);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 210, column 14 - line 212, column 68): "+[i.constructor.name])})();return function(){var f=Jp(function(c){return function(l){var s=(function(){if(o.indices instanceof m)return Sb(o.indices.value0)(c);if(o.indices instanceof v)return c;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 217, column 22 - line 219, column 30): "+[o.indices.constructor.name])})();return function(){var _=Gd(t)(o.document)();bf(_)(l)(s)(r)(),Sp(l)(_)();var D=Xt(_),d=Xt(u);return Qo(D)(d)(),_}}})(o.pendingData)();return new Kn({elements:f,data:o.pendingData,indices:o.indices,document:o.document})}})())}}}},D7=Jd(ce),_P=function(n){var e=On(n);return function(t){var r=Ar(t);return function(a){return function(o){return function(u){return function(i){return e((function(){var f=(function(){if(i instanceof Nt)return i.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 771, column 55 - line 772, column 28): "+[i.constructor.name])})(),c=r(o),l=new Ue({parentElements:f.parentElements,pendingData:c,indices:new m(_a(0)(Q(c)-1|0)),document:f.document});return D7(a)(u)(l)})())}}}}}},mP=function(n){var e=n.Monad0(),t=e.Bind1(),r=B(t),a=Bd(n),o=Jd(n),u=N(e.Applicative0()),i=p7(n),f=o7(t),c=qd(n),l=xb(n);return function(s){var p=a(s);return function(_){var D=p(_);return function(d){return function(g){return function(y){return function(C){return function(w){return function(b){return function(h){return r(D(g)(y)(C))(function(F){return r(r(o(d)([])(F.value0.enter))(function(R){if(w instanceof v)return u(R);if(w instanceof m)return i(w.value0)(R);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 724, column 5 - line 726, column 55): "+[w.constructor.name])}))(function(R){return r((function(){if(b instanceof v)return u(F.value0.update);if(b instanceof m)return i(b.value0)(F.value0.update);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 729, column 18 - line 731, column 54): "+[b.constructor.name])})())(function($){return f((function(){if(h instanceof v)return c(F.value0.exit);if(h instanceof m)return r(i(h.value0)(F.value0.exit))(function(){return c(F.value0.exit)});throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 734, column 3 - line 738, column 18): "+[h.constructor.name])})())(function(){return l(R)($)})})})})}}}}}}}}}};function Pb(n){return function(e){return function(){return n.add(e)}}}function Rb(n){return function(e){return function(){return n.remove(e)}}}var b7=function(n){if(n instanceof Nt)return n.value0.parentElements;if(n instanceof Kn)return n.value0.elements;if(n instanceof Ue)return n.value0.parentElements;if(n instanceof Jt)return n.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Query (line 146, column 46 - line 150, column 35): "+[n.constructor.name])};var dP=b7;var E7=oP(ce),DP=fP(ce),C7=cP(ce),M7=mP(ce),w7=_P(ce),F7=Bd(ce),gP=Ib(ce),S7=Jd(ce),x7=Ab(ce),I7=Lb(ce),A7=qd(ce),L7=lP(ce),N7=xb(ce),P7=Nb(ce),R7=sP(ce),O7=T(Ul);var H7=function(n){return n};var W7=sa,el={select:function(n){return function(){var t=E7(n)();return t}},selectAll:function(n){return function(e){return function(){var r=DP(n)(e)();return r}}},openSelection:function(n){return function(e){return function(){var r=DP(e)(n)();return r}}},selectAllWithData:function(n){return function(e){return function(){var r=C7(n)(e)();return r}}},renderData:function(n){var e=M7(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(i){return function(f){return function(c){return function(l){return function(){var p=r(a)(o)(u)(i)(f)(c)(l)();return p}}}}}}}}}},appendData:function(n){var e=w7(n);return function(t){return function(r){return function(a){return function(o){return function(){var i=e(t)(r)(a)(o)();return i}}}}}},joinData:function(n){var e=F7(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(){var f=r(a)(o)(u)();return new _f({enter:f.value0.enter,update:f.value0.update,exit:f.value0.exit})}}}}}},joinDataWithKey:function(n){var e=gP(n);return function(t){var r=e(t.Eq0());return function(a){return function(o){return function(u){return function(i){return function(){var c=r(a)(o)(u)(i)();return new _f({enter:c.value0.enter,update:c.value0.update,exit:c.value0.exit})}}}}}}},updateJoin:function(n){var e=gP(n);return function(t){var r=e(t.Eq0());return function(a){return function(o){return function(u){return function(i){return function(f){return function(){var l=r(u)(i)(f)(a)();return new _f({enter:l.value0.enter,update:l.value0.update,exit:l.value0.exit})}}}}}}}},append:function(n){return function(e){return function(t){return function(){var a=S7(n)(e)(t)();return a}}}},setAttrs:function(n){return function(e){return function(){var r=x7(n)(e)();return r}}},setAttrsExit:function(n){return function(e){return function(){var r=I7(n)(e)();return r}}},remove:function(n){return A7(n)},clear:function(n){return L7(n)},merge:function(n){return function(e){return function(){var r=N7(n)(e)();return r}}},appendChild:function(n){return function(e){return function(t){return function(){var a=P7(n)(e)(t)();return a}}}},appendChildInheriting:function(n){return function(e){return function(t){return function(){var a=R7(n)(e)(t)();return a}}}},on:function(n){return function(e){return function(){var r=uP(n)(e)();return r}}},renderTree:function(n){var e=pP(n);return function(t){return function(r){return function(){var o=e(t)(r)();return O7(H7)(o)}}}},Monad0:function(){return W7}};var hP=it;var yP=An,Tf=function(n){return n};var bP=function(n){return dP(n)};var tl=null,TP=()=>(tl||(tl=document.createElement("div"),tl.className="psd3-tooltip",tl.style.cssText=`
      position: fixed;
      display: none;
      background: rgba(20, 20, 30, 0.95);
      color: #f0f0f0;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 13px;
      max-width: 300px;
      pointer-events: none;
      z-index: 10000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    `,document.body.appendChild(tl)),tl),EP=n=>e=>t=>()=>{let r=TP();r.innerHTML=n,r.style.display="block";let a=r.getBoundingClientRect(),o=window.innerWidth,u=window.innerHeight,i=e+15,f=t+10;i+a.width>o&&(i=e-a.width-15),f+a.height>u&&(f=t-a.height-10),r.style.left=i+"px",r.style.top=f+"px"},Ob=()=>{TP().style.display="none"};var Hb=(function(){return new wp(function(n){return Ob})})(),Wb=function(n){var e=function(t){return EP(n(t.datum))(t.pageX)(t.pageY)};return new pd(e)},CP=Ob;var Xu=U(vr);var MP=function(n){return function(e){return function(t){return function(r){var a=St(t*t+r*r),o=St(n*n+e*e),u=(o+a)/2,i=L_(r)(t),f=u*ur(i),c=u*ir(i),l=L_(e)(n),s=u*ur(l),p=u*ir(l);return"M"+(Xu(n)+(","+(Xu(e)+("C"+(Xu(s)+(","+(Xu(p)+(" "+(Xu(f)+(","+(Xu(c)+(" "+(Xu(t)+(","+Xu(r)))))))))))))))}}}};var wP=ft(Nn);var B7=at(ot),ye=Ea(ce),G7=U(If),Na=Xe(Yn),Fe=B(hP),Ef=GL(el),jp=JL(el)(gn),xP=CL(oo),IP=wL(oo),AP=ML(oo),LP=FL(oo),Bb=L0(Mp),Gb=A0(oo),Vb=xL(oo),Xp=N0(Mp),ol=N(yP),_t=U(xe),V7=N(An),J7=Io(gn),z7=Ie(Sr)(An),Q7=LL(Mp),Jb=AL(Mp),al=no(gn)(Nn),Xd=T(Fn),Cf=Bi(Nn),j7=ga(Nn)(gn),FP=xl(Yn),$r=B7(tt),zp=Ea(Kt),rl=B(tt),qb=N(At),Wr=On(Kt),X7=zr(An)(gn),Y7=BL(el),$b=zt(An),SP=K(Te),NP=PL(oo),PP=NL(oo),RP=SL(oo),OP=L0(Cp),HP=A0(TL),La=VL(el),zd=zL(el),K7=EL(Cp),Qd=U(vr),jd=IL(Cp),Z7=N0(Cp);var Ub=function(n){return function(){var t=ra(),r=aa(t)(),a=ju(r),o=Fo("#explorer-nodes")(a)();if(o instanceof m){var u=K_(o.value0)();return(function(){return n?Pb(u)("tree-scene")():Rb(u)("tree-scene")()})(),ye("[Explorer] Set tree-scene class: "+G7(n))()}if(o instanceof v)return ye("[Explorer] Could not find #explorer-nodes for CSS class")();throw new Error("Failed pattern match at Engine.Explorer (line 638, column 3 - line 644, column 77): "+[o.constructor.name])}},n9=function(n){return function(e){return function(){Dn(ne)(e.forces)();var r=ed({strength:-200,theta:.9,distanceMin:1,distanceMax:1e10});lr(r)(n)(),ge(Na("charge")(r))(e.forces)();var a=y0(10)(.7)(1);lr(a)(n)(),ge(Na("collide")(a))(e.forces)();var o=rd({x:0,strength:.05});lr(o)(n)(),ge(Na("x")(o))(e.forces)();var u=td({y:0,strength:.05});return lr(u)(n)(),ge(Na("y")(u))(e.forces)(),ye("[Explorer] Neighborhood forces set (charge, collide, center)")()}}};var e9=function(n){var e=function(o){return o.target.y},t=function(o){return o.target.x},r=function(o){return o.source.y},a=function(o){return o.source.x};return Fe(Ef("#explorer-links"))(function(o){return Fe(jp(vf.value)(n)([xP(a),IP(r),AP(t),LP(e),Bb(function(u){return"#666"}),Gb(function(u){return 1.5}),Vb(function(u){return .6}),Xp(function(u){return"neighborhood-link"})])(o))(function(){return ol(void 0)})})},t9=function(n){var e=function(o){return o.target.y},t=function(o){return o.target.x},r=function(o){return o.source.y},a=function(o){return o.source.x};return Fe(Ef("#explorer-links"))(function(o){return Fe(jp(vf.value)(n)([xP(a),IP(r),AP(t),LP(e),Bb(function(u){return"#666"}),Gb(function(u){return 1}),Vb(function(u){return .6}),Xp(function(u){return"force-link"})])(o))(function(){return ol(void 0)})})},r9=function(n){return function(e){var t=je(hv)(e);return function(){ye("[Explorer] Rendering "+(_t(Q(t))+" force links"))();var a=hL(n)(t)(function(o){return function(u){return function(i){return function(f){return{source:o,target:u,linkType:f.linkType}}}}});return Tf(t9(a))(),void 0}}},a9=function(n){var e=function(a){if(a.nodeType instanceof Bt)return new m(new I(_t(a.id),{x:a.gridX,y:a.gridY}));if(a.nodeType instanceof qt)return v.value;throw new Error("Failed pattern match at Engine.Explorer (line 277, column 21 - line 279, column 26): "+[a.nodeType.constructor.name])},t=J7(he(e)(n)),r=function(a){if(a.nodeType instanceof Bt)return V7(a);if(a.nodeType instanceof qt)return function(){var u=Bs(),i=Bs(),f=(function(){var s=ht(_t(a.cluster))(t);if(s instanceof m)return s.value0;if(s instanceof v)return{x:0,y:0};throw new Error("Failed pattern match at Engine.Explorer (line 287, column 32 - line 289, column 40): "+[s.constructor.name])})(),c=(u-.5)*100,l=(i-.5)*100;return{cluster:a.cluster,nodeType:a.nodeType,fx:a.fx,fy:a.fy,gridX:a.gridX,gridY:a.gridY,id:a.id,isInTree:a.isInTree,name:a.name,orbitAngle:a.orbitAngle,package:a.package,r:a.r,sources:a.sources,targets:a.targets,treeX:a.treeX,treeY:a.treeY,vx:a.vx,vy:a.vy,x:f.x+c,y:f.y+l}};throw new Error("Failed pattern match at Engine.Explorer (line 281, column 25 - line 292, column 58): "+[a.nodeType.constructor.name])};return z7(r)(n)};var o9=rA,u9=function(n){return function(e){return n-e*vn(Ll(n/e))}},WP="#explorer-nodes",$P=function(n){var e=u9(vn(n.cluster)*.618033988749895)(1);return ff(e)},UP=function(n){if(n.nodeType instanceof Bt)return"node package-node";if(n.nodeType instanceof qt){if(n.isInTree)return"node tree-module";if(le)return"node non-tree-module"}throw new Error("Failed pattern match at Engine.Explorer (line 489, column 15 - line 493, column 42): "+[n.nodeType.constructor.name])},i9=function(n){return function(e){var t=wP(e.target)(n),r=wP(e.source)(n);return r instanceof m&&t instanceof m?MP(r.value0.treeX)(r.value0.treeY)(t.value0.treeX)(t.value0.treeY):""}},f9=function(n){return function(e){return Fe(Ef("#explorer-links"))(function(t){return Fe(jp(jc.value)(e)([Q7(i9(n)),Jb(function(r){return"none"}),Bb(function(r){return"#888"}),Gb(function(r){return 1.5}),Vb(function(r){return .5}),Xp(function(r){return"tree-link"})])(t))(function(){return ol(void 0)})})}},Yu=(function(){return Le(Vn(new Dt(jr.value)))})(),ul=(function(){return Le(Vn(v.value))})(),zb=Le(Vn({projectName:"",moduleCount:0,packageCount:0})),Yd=Le(Vn([])),c9=function(n){return function(){var t=H(Yd)(),r=al(Xd(function(u){return u.id})(n)),a=je(function(u){return Cf(u.source)(r)&&Cf(u.target)(r)})(t);ye("[Explorer] Rendering "+(_t(Q(a))+" neighborhood links"))();var o=yL(function(u){return u.id})(n)(a)(function(u){return function(i){return function(f){return function(c){return{source:u,target:i,linkType:c.linkType}}}}});return Tf(e9(o))(),void 0}};var l9=function(n){return function(){var t=H(Yd)(),r=je(hv)(t);ye("[Explorer] Rendering "+(_t(Q(r))+" tree links"))();var a=j7(Xd(function(o){return new I(o.id,o)})(n));return Tf(f9(a)(r))(),void 0}},Kd=Le(Vn(Ya)),s9=function(n){return function(e){return function(t){return function(){ye("[Explorer] Declaration clicked: "+(n+("."+(e+(" (kind: "+(t+")"))))))();var a=t!=="value";if(a)return ye("[Explorer] Skipping - "+(t+" declarations don't have call data"))();var o=H(Kd)(),u=n+("."+e),i=ht(u)(o);if(i instanceof v)return ye("[Explorer] No function call data for: "+u)();if(i instanceof m)return ye("[Explorer] Found "+(_t(Q(i.value0.calls))+(" outgoing calls, "+(_t(Q(i.value0.calledBy))+" callers"))))(),AI(i.value0)();throw new Error("Failed pattern match at Engine.Explorer (line 1144, column 5 - line 1149, column 32): "+[i.constructor.name])}}}},kb=(function(){return Le(Vn({focusedNodeId:v.value,fullNodes:[]}))})(),p9=Le(Vn(Ya)),kP=function(n){var e=function(r){if(r instanceof Bt)return"Package";if(r instanceof qt)return"Module";throw new Error("Failed pattern match at Engine.Explorer (line 410, column 3 - line 410, column 38): "+[r.constructor.name])},t=function(r){return function(a){return'<div class="tooltip-metric">'+('<span class="metric-label">'+(r+("</span>"+('<span class="metric-value">'+(a+"</span></div>")))))}};return'<div class="tooltip-header">'+(n.name+("</div>"+('<div class="tooltip-package">'+(n.package+("</div>"+('<div class="tooltip-metrics">'+(t("Type")(e(n.nodeType))+(t("Dependencies")(_t(Q(n.targets)))+(t("Dependents")(_t(Q(n.sources)))+"</div>")))))))))},qP="#explorer-links",_9=function(n){if(n.nodeType instanceof Bt)return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:n.gridX,fy:n.gridY};if(n.nodeType instanceof qt)return n;throw new Error("Failed pattern match at Engine.Explorer (line 267, column 27 - line 269, column 21): "+[n.nodeType.constructor.name])},m9=function(n){var e=function(u){return function(i){var f=u,c=!1,l;function s(p,_){if(_===-1)return c=!0,-1;var D=Vh(_)(p)===".";if(D)return c=!0,_;f=p,i=_-1|0}for(;!c;)l=s(f,i);return l}},t=(function(){var u=function(i){return function(f){var c=i,l=!1,s;function p(_,D){var d=Vh(_)(D);if(d==="")return l=!0,_;c=_+1|0,f=D}for(;!l;)s=p(c,f);return s}};return u(0)})(),r=function(u){var i=t(u),f=e(u)(i-1|0),c=f<0;return c?{module:"",name:u}:{module:Jh(0)(f)(u),name:Jh(f+1|0)(i)(u)}},a=r(n),o=a.module==="";return o?v.value:new m(a.module)},v9=function(n){return function(e){return function(t){return function(){var a=H(Kd)(),o=n+("."+e),u=ht(o)(a);if(u instanceof v)return void 0;if(u instanceof m){var i=FP(Xd(function(c){return c.targetModule})(u.value0.calls)),f=FP(he(m9)(u.value0.calledBy));return eA(n)(f)(i)()}throw new Error("Failed pattern match at Engine.Explorer (line 1158, column 3 - line 1165, column 64): "+[u.constructor.name])}}}},BP=function(n){var e=function(t){return function(){var a=JN(t)();if(a instanceof m)return Df(a.value0)(t)(),e(t)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Explorer (line 625, column 5 - line 629, column 27): "+[a.constructor.name])}};return e(Xt(n))},GP=function(){var e=ra(),t=aa(e)(),r=ju(t),a=Fo("#explorer-nodes")(r)();if(a instanceof m)return BP(a.value0)();if(a instanceof v)return ye("[Explorer] Could not find #explorer-nodes")();throw new Error("Failed pattern match at Engine.Explorer (line 1078, column 3 - line 1080, column 63): "+[a.constructor.name])},Qp=function(){var e=ra(),t=aa(e)(),r=ju(t),a=Fo("#explorer-links")(r)();if(a instanceof m)return BP(a.value0)(),ye("[Explorer] Cleared tree links")();if(a instanceof v)return ye("[Explorer] Could not find #explorer-links")();throw new Error("Failed pattern match at Engine.Explorer (line 610, column 3 - line 615, column 63): "+[a.constructor.name])},d9=function(){return PA(WP)(),ad(qP)()},D9=function(n){return function(e){return function(){ye("[Explorer] Focusing on neighborhood with "+(_t(Q(n))+" nodes"))(),CP(),Qp(),GP(),od(n)(e)();var r=xa(e)();return n9(r)(e)(),bh((function(){var a=he(function(o){var u=o.name!=="";return u?new m(o.name):v.value})(r);return $r(zp("[Explorer] Fetching batch data for "+(_t(Q(a))+" modules")))(function(){return rl(hS(a))(function(o){return $r((function(){if(o instanceof Z)return zp("[Explorer] Batch declarations error: "+o.value0);if(o instanceof V)return qb(void 0);throw new Error("Failed pattern match at Engine.Explorer (line 817, column 5 - line 819, column 27): "+[o.constructor.name])})())(function(){var u=(function(){if(o instanceof V)return o.value0;if(o instanceof Z)return Ya;throw new Error("Failed pattern match at Engine.Explorer (line 820, column 24 - line 822, column 33): "+[o.constructor.name])})();return rl(yS(a))(function(i){return $r((function(){if(i instanceof Z)return zp("[Explorer] Batch function calls error: "+i.value0);if(i instanceof V)return qb(void 0);throw new Error("Failed pattern match at Engine.Explorer (line 826, column 5 - line 828, column 27): "+[i.constructor.name])})())(function(){var f=(function(){if(i instanceof V)return i.value0;if(i instanceof Z)return Ya;throw new Error("Failed pattern match at Engine.Explorer (line 829, column 25 - line 831, column 33): "+[i.constructor.name])})();return $r(Wr(Dn(f)(Kd)))(function(){return $r(Wr(ye("[Explorer] Batch fetched: "+(_t(is(u))+(" modules with declarations, "+(_t(is(f))+" function entries"))))))(function(){return Wr(function(){X7(r)(function(s){return function(){return aA(u)(s9)(v9)(o9)(s)(),void 0}})();var l=Tf(Fe(Ef("#explorer-nodes"))(function(s){return Fe(Y7("g.module-pack")(s))(function(p){return ol(bP(p))})}))();return xA(l)("#explorer-zoom-group")(cf(e))(),c9(r)(),ud(d9)(e)(),cf(e)()})})})})})})})})})())(),void 0}}};var g9=function(n){return function(e){return function(t){var r=je(hv)(e);return function(){ye("[Explorer] Setting up force-directed tree with "+(_t(Q(r))+" links"))(),Dn(ne)(t.forces)();var o=h0({distance:0,strength:1,iterations:1});g0(o)(n)(r)(),ge(Na("link")(o))(t.forces)();var u=ed({strength:-50,theta:.9,distanceMin:1,distanceMax:1e10});lr(u)(n)(),ge(Na("charge")(u))(t.forces)();var i=rd({x:0,strength:.1});lr(i)(n)(),ge(Na("x")(i))(t.forces)();var f=td({y:0,strength:.1});return lr(f)(n)(),ge(Na("y")(f))(t.forces)(),ye("[Explorer] Tree forces added (link, charge, x, y)")()}}}};var VP=function(n){return function(e){var t=y0(5)(.7)(1);return function(){lr(t)(n)(),ge(Na("collide")(t))(e.forces)();var a=SA(.5);lr(a)(n)(),ge(Na("gridX")(a))(e.forces)();var o=FA(.5);return lr(o)(n)(),ge(Na("gridY")(o))(e.forces)(),ye("[Explorer] Grid forces added")()}}},JP=function(n){return function(e){return function(){return ye("[Explorer] Restoring grid forces")(),Dn(ne)(e.forces)(),VP(n)(e)()}}},Zd=function(n){return function(e){var t=function(a){return a==="GridForm"||a==="GridRun"||a==="OrbitForm"||a==="OrbitRun"},r=(function(){return n==="GridForm"?new m(pL):n==="GridRun"?new m(x0):n==="OrbitForm"?new m(cL):n==="OrbitRun"?new m(lL):n==="TreeForm"?new m(uL):n==="TreeRun"?new m(iL):v.value})();if(r instanceof m)return function(){return $b(n==="TreeForm")(function(){var u=H(e)(),i=xa(u.simulation)();return Qp(),l9(i)(),Ub(!0)()})(),$b(n==="TreeRun")(function(){var u=H(e)(),i=xa(u.simulation)(),f=H(Yd)();return Qp(),g9(i)(f)(u.simulation)(),r9(i)(f)(),jA(qP)(e)(),Ub(!0)()})(),$b(t(n))(function(){var u=H(e)(),i=xa(u.simulation)();return JP(i)(u.simulation)(),Qp(),M0(e)(),Ub(!1)()})(),KA(r.value0)(e)()};if(r instanceof v)return ye("[Explorer] Unknown scene: "+n);throw new Error("Failed pattern match at Engine.Explorer (line 226, column 3 - line 257, column 63): "+[r.constructor.name])}},zP=function(n){return function(){var t=H(kb)(),r=H(ul)();if(r instanceof v)return ye("[Explorer] No state ref available")();if(r instanceof m){var a=H(r.value0)();if(t.focusedNodeId instanceof m&&t.focusedNodeId.value0===n.id)return ye("[Explorer] Unfocusing from node "+_t(n.id))(),h9(t.fullNodes)(a.simulation)(),Dn({focusedNodeId:v.value,fullNodes:[]})(kb)();var o=xa(a.simulation)(),u=(function(){var l=Wt(t.fullNodes);return l?o:t.fullNodes})(),i=al(SP([n.id])(SP(n.targets)(n.sources))),f=je(function(l){return Cf(l.id)(i)})(o);ye("[Explorer] Focusing on node "+(_t(n.id)+(" (neighborhood: "+(_t(Q(f))+" nodes)"))))(),Dn({focusedNodeId:new m(n.id),fullNodes:u})(kb)();var c=new du(n.name);return Dn(c)(Yu)(),D9(f)(a.simulation)()}throw new Error("Failed pattern match at Engine.Explorer (line 745, column 3 - line 785, column 65): "+[r.constructor.name])}},h9=function(n){return function(e){return function(){od(n)(e)(),JP(n)(e)(),Qp(),GP(),Tf(y9(n))();var r=H(ul)();(function(){if(r instanceof m)return M0(r.value0)(),ud(w0(r.value0))(e)();if(r instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Explorer (line 1031, column 3 - line 1035, column 25): "+[r.constructor.name])})();var a=new Dt(jr.value);return Dn(a)(Yu)(),cf(e)(),void 0}}},y9=function(n){return Fe(Ef("#explorer-nodes"))(function(e){return Fe(jp(mf.value)(n)([NP(function(t){return t.x}),PP(function(t){return t.y}),RP(function(t){return t.r}),Jb($P),OP("#fff"),HP(.5),Xp(UP)])(e))(function(){return Fe(Ef("#explorer-nodes circle"))(function(t){var r=["highlighted-source","highlighted-upstream","highlighted-downstream","dimmed"];return Fe(La($0(function(a){return function(){Fp("#explorer-nodes")("circle")(r)();var u=al(a.targets),i=al(a.sources);return q0("#explorer-nodes")("circle")(function(f){var c=f.id===a.id;if(c)return"highlighted-source";var l=Cf(f.id)(u);if(l)return"highlighted-upstream";var s=Cf(f.id)(i);return s?"highlighted-downstream":"dimmed"})()}}))(t))(function(){return Fe(La(W0(function(a){return Fp("#explorer-nodes")("circle")(r)}))(t))(function(){return Fe(La(Wb(kP))(t))(function(){return Fe(La(Hb)(t))(function(){return Fe(La(U0(zP))(t))(function(){return ol(void 0)})})})})})})})})};var b9=function(n){return function(e){return Fe(Ef(n))(function(t){return Fe(zd(Xc.value)([K7(Qd(-Gu/2)+(" "+(Qd(-Vu/2)+(" "+(Qd(Gu)+(" "+Qd(Vu))))))),jd("explorer-svg"),Z7("ce-viz")])(t))(function(r){return Fe(zd(Vo.value)([jd("explorer-zoom-group")])(r))(function(a){return Fe(zd(Vo.value)([jd("explorer-links")])(a))(function(){return Fe(zd(Vo.value)([jd("explorer-nodes")])(a))(function(o){return Fe(jp(mf.value)(e)([NP(function(u){return u.x}),PP(function(u){return u.y}),RP(function(u){return u.r}),Jb($P),OP("#fff"),HP(.5),Xp(UP)])(o))(function(u){return Fe(La(new sd(qL(new RL(.1,10))("#explorer-zoom-group")))(r))(function(){var i=["highlighted-source","highlighted-upstream","highlighted-downstream","dimmed"];return Fe(La($0(function(f){return function(){Fp("#explorer-nodes")("circle")(i)();var l=al(f.targets),s=al(f.sources);return q0("#explorer-nodes")("circle")(function(p){var _=p.id===f.id;if(_)return"highlighted-source";var D=Cf(p.id)(l);if(D)return"highlighted-upstream";var d=Cf(p.id)(s);return d?"highlighted-downstream":"dimmed"})()}}))(u))(function(){return Fe(La(W0(function(f){return Fp("#explorer-nodes")("circle")(i)}))(u))(function(){return Fe(La(Wb(kP))(u))(function(){return Fe(La(Hb)(u))(function(){return Fe(La(U0(zP))(u))(function(){return ol({nodeSel:u})})})})})})})})})})})})})}},T9=function(n){return function(e){return function(){ye("[Explorer] Initializing with new Scene Engine")(),Dn({projectName:"purescript-d3-dataviz",moduleCount:n.moduleCount,packageCount:n.packageCount})(zb)();var r=rL(n.nodes)(n.packageCount),a=a9(r)(),o=Xd(_9)(a),u=BA(qA)();od(o)(u)(),VP(o)(u)();var i=xa(u)();Tf(b9(e)(i))();var f=XA(u)(WP),c=Vn(f)();return ud(w0(c))(u)(),C0(u)(),ge(function(l){return{linksGroupId:l.linksGroupId,nodesGroupId:l.nodesGroupId,simulation:l.simulation,transition:l.transition,currentScene:new m(x0)}})(c)(),c}}},QP=function(n){var e=new Dt(jr.value);return function(){return Dn(e)(Yu)(),ye("[Explorer] ViewState initialized (Halogen NarrativePanel polls this)")(),bh($r(zp("[Explorer] BUILD: 2025-12-03 - Immediate TangleJS init"))(function(){return $r(zp("[Explorer] Loading data..."))(function(){return rl(TS)(function(r){if(r instanceof Z)return Wr(ye("[Explorer] Error: "+r.value0));if(r instanceof V)return $r(Wr(ye("[Explorer] Loaded: "+(_t(r.value0.moduleCount)+(" modules, "+(_t(r.value0.packageCount)+" packages"))))))(function(){return $r(Wr(Dn(r.value0.links)(Yd)))(function(){return $r(Wr(Dn(r.value0.declarations)(p9)))(function(){return rl(Wr(T9(r.value0)(n)))(function(a){return $r(Wr(Dn(new m(a))(ul)))(function(){return $r(Wr(ye("[Explorer] Ready - loading function calls in background...")))(function(){return rl(Pm(rl(bS)(function(o){if(o instanceof Z)return Wr(ye("[Explorer] Warning: Could not load function calls: "+o.value0));if(o instanceof V)return $r(Wr(Dn(o.value0)(Kd)))(function(){return Wr(ye("[Explorer] Function calls loaded: "+(_t(is(o.value0))+" functions")))});throw new Error("Failed pattern match at Engine.Explorer (line 157, column 11 - line 161, column 116): "+[o.constructor.name])})))(function(){return qb(void 0)})})})})})})});throw new Error("Failed pattern match at Engine.Explorer (line 140, column 5 - line 162, column 18): "+[r.constructor.name])})})}))()}};var C9=Rh();var jP=function(){return function(n){var e=C9(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(i){return function(f){return rw(new ys(r(a)(o)(u)(i)(function(c){return m.create(f(c))})))}}}}}}}};var L9=se(Wi);var N9=Jm();var Qb=function(){return function(n){var e=N9(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return L9(r(a)(o)(u(void 0)))}}}}}};var R9=at(ot),ZP=U(xe),Yp=B(vc),Yb=au(mc),ua=R9(vc),nD=zt($i),nR=ti(kC),jb=ru(mc),Xb=se(Wi),eR={reflectSymbol:function(){return"narrativePanel"}},KP=Qb()(eR)(_l),O9=ti(ei(sD()(a_(a_(lD)()({reflectSymbol:function(){return"name"}})(ut))()({reflectSymbol:function(){return"color"}})(ut)))),H9=jP()(eR)(_l),tR=(function(){function n(){}return n.value=new n,n})(),rR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),aR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),oR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),W9=function(){var e=H(ul)();if(e instanceof m)return Dn(new Dt(jr.value))(Yu)();if(e instanceof v)return void 0;throw new Error("Failed pattern match at Component.SpagoGridApp (line 205, column 3 - line 209, column 25): "+[e.constructor.name])},$9=function(n){return function(e){return function(t){if(n==="layout")return e==="grid"&&t instanceof Dt?new Dt(t.value0):e==="grid"&&t instanceof Dr?new Dt(t.value0):e==="grid"&&t instanceof gr?new Dt(t.value0):e==="orbit"&&t instanceof Dt?new Dr(t.value0):e==="orbit"&&t instanceof Dr?new Dr(t.value0):e==="orbit"&&t instanceof gr?new Dr(t.value0):e==="tree"&&t instanceof Dt?new gr(t.value0):e==="tree"&&t instanceof Dr?new gr(t.value0):e==="tree"&&t instanceof gr?new gr(t.value0):t;if(n==="scope"){var r=(function(){var a=e==="project";return a?Ti.value:jr.value})();return t instanceof Dt?new Dt(r):t instanceof Dr?new Dr(r):t instanceof gr?new gr(r):t}return t}}},U9=function(n){return function(e){return function(){var r=H(Yu)(),a=$9(n)(e)(r);Dn(a)(Yu)();var o=H(ul)();if(o instanceof m)return n==="layout"&&a instanceof Dt?Zd("GridRun")(o.value0)():n==="layout"&&a instanceof Dr?Zd("OrbitRun")(o.value0)():n==="layout"&&a instanceof gr?Zd("TreeRun")(o.value0)():void 0;if(o instanceof v)return void 0;throw new Error("Failed pattern match at Component.SpagoGridApp (line 164, column 3 - line 174, column 25): "+[o.constructor.name])}}},Kb=(function(){return Se.value})(),uR=function(n){var e=On(Qm(n.MonadEffect0())),t=pc(mF(n)),r=function(o){return function(u){return o-u*vn(Ll(o/u))}},a=function(o){return function(u){var i=r(vn(o)*.618033988749895)(1);return{name:"Package "+ZP(o+1|0),color:ff(i)}}};return Yp(e(H(Yu)))(function(o){return Yp(e(H(zb)))(function(u){return Yp(Yb)(function(i){return ua(nD(nR(i.viewState)(o))(Zb(n)(new rR(o))))(function(){return ua(nD(Wt(i.packagePalette)&&u.packageCount>0)((function(){var f=Ir(a)(kD(u.packageCount)(void 0));return Zb(n)(new aR(f))})()))(function(){return ua(t(jw(100)))(function(){return uR(n)})})})})})})},Zb=function(n){var e=Qm(n.MonadEffect0()),t=Ea(e),r=On(e);return function(a){if(a instanceof tR)return ua(t("[SpagoGridApp] Initializing..."))(function(){return ua(r(QP("#viz")))(function(){return ua(jb(function(o){var u={};for(var i in o)({}).hasOwnProperty.call(o,i)&&(u[i]=o[i]);return u.initialized=!0,u}))(function(){return Xb(jm(uR(n)))})})});if(a instanceof rR)return Yp(Yb)(function(o){return nD(nR(o.viewState)(a.value0))(ua(t("[SpagoGridApp] ViewState changed"))(function(){return ua(jb(function(u){var i={};for(var f in u)({}).hasOwnProperty.call(u,f)&&(i[f]=u[f]);return i.viewState=a.value0,i}))(function(){return Xb(KP(Kb)(void 0)(Bh.create(a.value0)))})}))});if(a instanceof aR)return Yp(Yb)(function(o){return nD(O9(o.packagePalette)(a.value0))(ua(t("[SpagoGridApp] Package palette changed ("+(ZP(Q(a.value0))+" packages)")))(function(){return ua(jb(function(u){var i={};for(var f in u)({}).hasOwnProperty.call(u,f)&&(i[f]=u[f]);return i.packagePalette=a.value0,i}))(function(){return Xb(KP(Kb)(void 0)(Gh.create(a.value0)))})}))});if(a instanceof oR){if(a.value0 instanceof kh)return ua(t("[SpagoGridApp] Control changed: "+(a.value0.value0+(" -> "+a.value0.value1))))(function(){return r(U9(a.value0.value0)(a.value0.value1))});if(a.value0 instanceof qh)return ua(t("[SpagoGridApp] Back button clicked"))(function(){return r(W9)});throw new Error("Failed pattern match at Component.SpagoGridApp (line 115, column 5 - line 123, column 39): "+[a.value0.constructor.name])}throw new Error("Failed pattern match at Component.SpagoGridApp (line 87, column 16 - line 123, column 39): "+[a.constructor.name])}},k9=function(n){var e=LF(n);return function(t){return st([Ve("explorer-app")])([H9(Kb)(void 0)(e)({viewState:t.viewState,packagePalette:t.packagePalette})(oR.create),(function(){if(t.error instanceof m)return st([ws(["floating-panel","floating-panel--bottom-right","error-message"])])([lt(t.error.value0)]);if(t.error instanceof v)return lt("");throw new Error("Failed pattern match at Component.SpagoGridApp (line 76, column 7 - line 80, column 30): "+[t.error.constructor.name])})(),st([nv("viz")])([])])}},iR=function(n){return Ts({initialState:function(e){return{initialized:!1,error:v.value,viewState:new Dt(jr.value),packagePalette:[]}},render:k9(n),eval:bs({handleQuery:Au.handleQuery,receive:Au.receive,finalize:Au.finalize,handleAction:Zb(n),initialize:new m(tR.value)})})};var B9=B(tt),G9=On(Kt),V9=Re(it),J9=Ha(it),z9=N(At),Q9=Re(nt),j9=N(An);var fR=function(n){return B9(G9(V9(J9((function(){var e=Fo(n);return function(t){return e(ju(t))}})())(aa))(ra)))(function(e){return z9(Q9(wb)(e))})},cR=Hm(tr(Tu)(k(j9(void 0))));var eD={suspend:Jw,fork:Pm,join:ss,Monad0:function(){return lc},Functor1:function(){return Zw}};var tD=function(n){return n.fork};var sR=A,Pa=A,pR=function(n){var e=Pe(n)(ar);return function(t){return Pa(function(r){return e(t)(r.rendering)})}},Y9=A,_R=function(n){return function(e){return Pa(function(t){return Y9(e(t.rendering))})}},K9=A,rD=function(n){return function(e){return n(e)}},mR=function(n){return function(e){return function(t){return function(r){return function(){var o=Vn({})(),u=Vn(Zf)(),i=Vn(Zf)(),f=Vn(t)(),c=Vn(new m(W.value))(),l=Vn(new m(W.value))(),s=Vn(v.value)(),p=Vn(1)(),_=Vn(new m(ne))(),D=Vn(ne)(),d={component:n,state:n.initialState(e),refs:ne,children:Zf,childrenIn:u,childrenOut:i,selfRef:o,handlerRef:f,pendingQueries:c,pendingOuts:l,pendingHandlers:s,rendering:v.value,fresh:p,subscriptions:_,forks:D,lifecycleHandlers:r};return Dn(d)(o)(),K9(o)}}}}};var Z9=Pe(An)(ar),nz=Re(nt),ez=ft(xh),ze=B(tt),Ce=On(Kt),tz=at(ot),Ra=tz(tt),yR=Pe(At),rz=yR(Ae),bR=tD(eD),az=cs(Oi)(sc)(Ae),lo=N(At),oz=T(fg),vR=xu(Oi),uz=T(Iu),dR=cc(Oi),iz=T(Qn),fz=Xe(xh),cz=_w(sc),lz=Yf(zm),sz=sE(sa),pz=Xe(zm),DR=yR(ar),gR=ft(zm),_z=ft(Yn),mz=Sw(nF),vz=Kf(Yn),dz=function(n){return function(e){return function(){var r=H(e)(),a=H(r.subscriptions)();return Z9($m)(nz(ez(n))(a))()}}},aD=function(n){return function(e){return ze(Ce(H(n)))(function(t){if(t instanceof v)return e;if(t instanceof m)return Ce(Dn(new m(new J(e,t.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 188, column 33 - line 190, column 57): "+[t.constructor.name])})}},oD=function(n){return function(e){return Ra(Ce(Dn({initializers:W.value,finalizers:W.value})(n)))(function(){return ze(Ce(e))(function(t){return ze(Ce(H(n)))(function(r){return Ra(rz(bR)(r.finalizers))(function(){return Ra(az(r.initializers))(function(){return lo(t)})})})})})}},Mf=Hm(tr(Tu)(k(N(An)(void 0)))),hR=function(n){return function(e){return ze(Ce(H(e)))(function(t){return Ce(gD(function(r){return{state:r+1|0,value:n(r)}})(t.fresh))})}},eT=function(n){return function(e){return function(t){return ze(Ce(H(e)))(function(r){return Ku(n)(e)(r.component.eval(new yc(oz(m.create)(jC(t)),k(v.value))))})}}},Ku=function(n){return function(e){return function(t){var r=function(o){return function(u){return ze(Ce(H(o)))(function(i){return rF(function(f){var c=function(l){return vR(ze(Ce(H(l)))(function(s){return Pa(function(p){return eT(n)(p.selfRef)(f.value1)})(s)}))};return uz(f.value2)(dR(f.value0(sc)(c)(i.children)))})(u)})}},a=function(o){return function(u){if(u instanceof _s)return ze(Ce(H(o)))(function(i){var f=u.value0(i.state);if(Hi(i.state)(f.value1))return lo(f.value0);if(le)return Ra(Ce(Dn({component:i.component,refs:i.refs,children:i.children,childrenIn:i.childrenIn,childrenOut:i.childrenOut,selfRef:i.selfRef,handlerRef:i.handlerRef,pendingQueries:i.pendingQueries,pendingOuts:i.pendingOuts,pendingHandlers:i.pendingHandlers,rendering:i.rendering,fresh:i.fresh,subscriptions:i.subscriptions,forks:i.forks,lifecycleHandlers:i.lifecycleHandlers,state:f.value1})(o)))(function(){return Ra(oD(i.lifecycleHandlers)(n(i.lifecycleHandlers)(o)))(function(){return lo(f.value0)})});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[f.constructor.name])});if(u instanceof Um)return ze(hR(sF)(o))(function(i){return ze(Ce(uF(u.value0(i))(function(f){return Mf(tT(n)(o)(new Si(f)))})))(function(f){return ze(Ce(H(o)))(function(c){return Ra(Ce(ge(iz(fz(i)(f)))(c.subscriptions)))(function(){return lo(u.value1(i))})})})});if(u instanceof km)return Ra(Ce(dz(u.value0)(o)))(function(){return lo(u.value1)});if(u instanceof _c)return u.value0;if(u instanceof ms)return r(o)(u.value0);if(u instanceof vs)return ze(Ce(H(o)))(function(i){return ze(Ce(H(i.handlerRef)))(function(f){return Ra(aD(i.pendingOuts)(f(u.value0)))(function(){return lo(u.value1)})})});if(u instanceof qm)return dR(cz(oh((function(){var i=Ku(n)(o);return function(f){return vR(i(f))}})())(u.value0)));if(u instanceof ds)return ze(hR(pF)(o))(function(i){return ze(Ce(H(o)))(function(f){return ze(Ce(Vn(!1)))(function(c){return ze(bR(Kw(Ce(function(){return ge(lz(i))(f.forks)(),Dn(!0)(c)()}))(Ku(n)(o)(u.value0))))(function(l){return Ra(Ce(sz(H(c))(ge(pz(i)(l))(f.forks))))(function(){return lo(u.value1(i))})})})})});if(u instanceof Bm)return ze(Ce(H(o)))(function(i){return ze(Ce(H(i.forks)))(function(f){return Ra(DR(ss)(gR(u.value0)(f)))(function(){return lo(u.value1)})})});if(u instanceof Gm)return ze(Ce(H(o)))(function(i){return ze(Ce(H(i.forks)))(function(f){return Ra(DR(ps(Qa("Cancelled")))(gR(u.value0)(f)))(function(){return lo(u.value1)})})});if(u instanceof Vm)return ze(Ce(H(o)))(function(i){return lo(u.value1(_z(u.value0)(i.refs)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 139, column 33): "+[u.constructor.name])}};return mz(a(e))(t)}}},tT=function(n){return function(e){return function(t){if(t instanceof Eg)return Ce(Gn(ge)(e)(rD(function(r){return{component:r.component,state:r.state,children:r.children,childrenIn:r.childrenIn,childrenOut:r.childrenOut,selfRef:r.selfRef,handlerRef:r.handlerRef,pendingQueries:r.pendingQueries,pendingOuts:r.pendingOuts,pendingHandlers:r.pendingHandlers,rendering:r.rendering,fresh:r.fresh,subscriptions:r.subscriptions,forks:r.forks,lifecycleHandlers:r.lifecycleHandlers,refs:vz(k(t.value1))(t.value0)(r.refs)}})));if(t instanceof Si)return ze(Ce(H(e)))(function(r){return Ku(n)(e)(r.component.eval(new hc(t.value0,void 0)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[t.constructor.name])}}};var gz=B(it),hz=at(ot),SR=zr(An)(ar),xR=Pe(At)(Ae),IR=tD(eD),Zp=Re(it),AR=Pe(An),LR=AR(ar),TR=AR(Fi),ER=hz(tt),yz=cs(Oi)(sc)(Ae),Kp=On(Kt),CR=N(An),rT=T(Pn),aT=N(At),oT=zt(An),bz=_R(Pn),Tz=se(Iu),MR=lM(An),Ez=pR(An),Cz=Vr(TE),Mz=fl(Pn),uT=B(tt),wz=On(ce),wR=(function(){return Vn({initializers:W.value,finalizers:W.value})})(),FR=function(n){return function(){var t=H(n)();return Dn(v.value)(n)(),SR(t)((function(){var r=xR(IR);return function(a){return Mf(r(Cu(a)))}})())()}},Fz=function(n){return function(){return Zp(LR(TR($m)))(H(n.subscriptions))(),Dn(v.value)(n.subscriptions)(),Zp(TR((function(){var t=ps(Qa("finalized"));return function(r){return Mf(t(r))}})()))(H(n.forks))(),Dn(ne)(n.forks)()}},NR=function(n){return function(e){return function(t){var r=function(l){return function(s){return Pa(function(p){var _=Ku(u)(p.selfRef)(p.component.eval(new dc(void 0)));return ge(function(D){return{initializers:new J(ER(yz(Cu(D.initializers)))(function(){return ER(_)(function(){return Kp(function(){return FR(p.pendingQueries)(),FR(p.pendingOuts)()})})}),s),finalizers:D.finalizers}})(l)})}},a=function(l){return function(s){return function(p){return Ph(function(_){return function(){var d=wR(),g=mR(_)(p)(s)(d)(),y=H(l)();return Dn({initializers:W.value,finalizers:y.finalizers})(l)(),Zp(Pa((function(){var C=u(l);return function(w){return C((function(b){return b.selfRef})(w))}})()))(H(g))(),Zp(r(l)(y.initializers))(H(g))(),g}})}}},o=function(l){return function(s){return function(p){return function(_){return Nh(function(D){return function(){var g=rT(D.pop)(H(p))(),y=(function(){if(g instanceof m){Dn(g.value0.value1)(p)();var w=H(g.value0.value0)();return Pa(function(b){return function(){return Gn(Dn)(b.handlerRef)((function(){var F=De(aT(void 0))(s);return function(R){return F(D.output(R))}})())(),Mf(Ku(u)(b.selfRef)(b.component.eval(new gc(D.input,void 0))))()}})(w)(),g.value0.value0}if(g instanceof v)return a(l)((function(){var b=De(aT(void 0))(s);return function(h){return b(D.output(h))}})())(D.input)(D.component)();throw new Error("Failed pattern match at Halogen.Aff.Driver (line 213, column 14 - line 222, column 98): "+[g.constructor.name])})(),C=rT(function(w){return Dl(D.get(w))})(H(_))();return oT(C)(Fs("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),ge(D.set(y))(_)(),gz(H(y))(bz(function(w){if(w instanceof v)return TM("Halogen internal error: child was not initialized in renderChild");if(w instanceof m)return CR(n.renderChild(w.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 227, column 37 - line 229, column 50): "+[w.constructor.name])}))()}})}}}},u=function(l){return function(s){return function(){var _=H(s)(),D=rT(uu)(H(_.pendingHandlers))();oT(D)(Dn(new m(W.value))(_.pendingHandlers))(),Dn(Zf)(_.childrenOut)(),Dn(_.children)(_.childrenIn)();var d=(function(){var b=aD(_.pendingHandlers),h=tT(u)(_.selfRef);return function(F){return b(Tz(h(F)))}})(),g=(function(){var b=aD(_.pendingQueries);return function(h){return b(d(Si.create(h)))}})(),y=n.render(function(b){return Mf(d(b))})(o(l)(g)(_.childrenIn)(_.childrenOut))(_.component.render(_.state))(_.rendering)(),C=H(_.childrenOut)(),w=H(_.childrenIn)();return MR(w)(function(b){return function(){var F=H(b)();return Ez(n.removeChild)(F)(),i(l)(F)()}})(),Gn(ge)(_.selfRef)(rD(function(b){return{component:b.component,state:b.state,refs:b.refs,childrenIn:b.childrenIn,childrenOut:b.childrenOut,selfRef:b.selfRef,handlerRef:b.handlerRef,pendingQueries:b.pendingQueries,pendingOuts:b.pendingOuts,pendingHandlers:b.pendingHandlers,fresh:b.fresh,subscriptions:b.subscriptions,forks:b.forks,lifecycleHandlers:b.lifecycleHandlers,rendering:new m(y),children:C}}))(),oT(D)(Gn(Cz)(void 0)(function(b){return function(){var F=H(_.pendingHandlers)();Dn(new m(W.value))(_.pendingHandlers)(),LR((function(){var rn=xR(IR);return function(_n){return Mf(rn(Cu(_n)))}})())(F)();var R=H(_.pendingHandlers)(),$=De(!1)(FM)(R);return $?Mz(Dn(v.value)(_.pendingHandlers))(new dt(void 0))():new wt(void 0)}}))()}}},i=function(l){return Pa(function(s){return function(){Fz(s)();var _=Ku(u)(s.selfRef)(s.component.eval(new Dc(void 0)));return ge(function(D){return{initializers:D.initializers,finalizers:new J(_,D.finalizers)}})(l)(),MR(s.children)(function(D){return function(){var g=H(D)();return i(l)(g)()}})()}})},f=function(l){return function(s){return function(p){return uT(Kp(H(l)))(function(_){return _?aT(v.value):eT(u)(s)(p)})}}},c=function(l){return function(s){return function(p){return oD(s)(function(){var D=H(l)();return D?void 0:(Dn(!0)(l)(),i(s)(p)(),Pa(function(d){return function(){var y=wz(H(d.selfRef))();return SR(y.rendering)(n.dispose)()}})(p)())})}}};return uT(Kp(wR))(function(l){return uT(Kp(Vn(!1)))(function(s){return oD(l)(function(){var _=fF(),D=Zp(H)(a(l)((function(){var d=iF(_.listener);return function(g){return Kp(d(g))}})())(t)(e))();return Pa(function(d){return CR({query:f(s)(d.selfRef),messages:_.emitter,dispose:c(s)(l)(D)})})(D)()})})})}}};var iT=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},fT=se(Pn),xz=N(An),Iz=Pe(An)(ar),Az=Ft(),Lz=zt(An),Nz=eu(DD(DD(Ua))),Pz=dn(hn),Rz=B(tt),Oz=On(Kt),Hz=T(Pn),Wz=Re(it);var $z=function(n){return function(e){return function(t){return e instanceof m&&t instanceof m?fT(Cb(n)(e.value0)(t.value0)):e instanceof v&&t instanceof m?fT(Qo(n)(t.value0)):xz(void 0)}}},PR=function(n){return function(){var t=Yc(n.node)();return Iz(function(r){return Df(n.node)(r)})(t)()}},Uz=function(n){return function(e){return function(t){var r=sR(function(i){return i.node}),a=function(i){return i instanceof m?yr(i.value0):void 0},o=function(i){var f=dF(Az)(i),c=iT("patch","Halogen.VDom.Driver",function(){return function(d,g){if(d instanceof m){if(g instanceof ys)return yr(d.value0),s(100)(g.value0);if(g instanceof Ym){var y=hr(d.value0,g.value0);return $e(new We(kt(y),new m(y),c(103),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 97, column 22 - line 103, column 79): "+[g.constructor.name])}return l(104)(g)}}),l=iT("render","Halogen.VDom.Driver",function(){return function(d){if(d instanceof ys)return s(86)(d.value0);if(d instanceof Ym){var g=f(d.value0);return $e(new We(kt(g),new m(g),c(89),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 84, column 7 - line 89, column 75): "+[d.constructor.name])}}),s=iT("renderComponentSlot","Halogen.VDom.Driver",function(){return function(d){var g=H(e)(),y=g(d)(),C=r(y);return $e(new We(C,v.value,c(117),a))}}),p=c(91),_=l(82),D=s(109);return _},u=ZM(n);return{buildWidget:o,buildAttributes:u,document:t}}}},kz=function(n){return function(e){var t=function(r){return function(a){return function(o){return function(u){if(u instanceof v)return function(){var f=Vn(a)(),c=Uz(r)(f)(n),l=Kl(c)(o),s=kt(l);return fT(Qo(s)(XN(e)))(),{machine:l,node:s,renderChildRef:f}};if(u instanceof m)return function(){Dn(a)(u.value0.renderChildRef)();var f=Yc(u.value0.node)(),c=VN(u.value0.node)(),l=hr(u.value0.machine,o),s=kt(l);return Lz(Nz(Hi)(u.value0.node)(s))($z(s)(c)(f))(),{machine:l,node:s,renderChildRef:u.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 157, column 5 - line 173, column 80): "+[u.constructor.name])}}}};return{render:t,renderChild:Pz,removeChild:PR,dispose:PR}}},RR=function(n){return function(e){return function(t){return Rz(Oz(Hz(Pp)(Wz(aa)(ra))))(function(r){return NR(kz(r)(t))(n)(e)})}}};var Bz=at(ot),OR=B(tt),HR=On(Kt),Gz=Bz(tt),Vz=iR(eF),Jz=N(At),WR=function(){return Je("[Main] Starting with Halogen wrapper around SpagoGridTest...")(),Je("[Main] IMPORTANT: Using selectElement to mount into #app (not body)")(),cR(OR(fR("#app"))(function(e){if(e instanceof v)return HR(Je("[Main] ERROR: Could not find #app element!"));if(e instanceof m)return Gz(HR(Je("[Main] Found #app, mounting Halogen...")))(function(){return OR(RR(Vz)(void 0)(e.value0))(function(){return Jz(void 0)})});throw new Error("Failed pattern match at Main (line 21, column 5 - line 26, column 18): "+[e.constructor.name])}))()};WR();})();
