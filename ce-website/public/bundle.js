/* Generated by Spago v0.93.44 */
(()=>{var pE=function(n){return function(e){for(var t=n.length,r=e.length,a=new Array(t*r),o=0,u=0;u<t;u++)for(var i=n[u],f=0;f<r;f++)a[o++]=i(e[f]);return a}};var T_={compose:function(n){return function(e){return function(t){return n(e(t))}}}};var Dn=function(n){return n.identity},yn={identity:function(n){return n},Semigroupoid0:function(){return T_}};var le=!0;var XD=function(n){return function(e){return function(t){return function(r){return n(e(t))(e(r))}}}},Qn=function(n){return function(e){return function(t){return n(t)(e)}}},H=function(n){return function(e){return n}};var _E=function(n){return function(e){return e(n)}};var mE=function(n){return function(e){for(var t=e.length,r=new Array(t),a=0;a<t;a++)r[a]=n(e[a]);return r}};var Re=(function(){function n(){}return n.value=new n,n})();var T=function(n){return n.map},Mr=function(n){var e=T(n);return function(t){return function(r){return e(r)(t)}}},_e=function(n){return T(n)(H(void 0))},Wl=function(n){var e=T(n);return function(t){return function(r){return e(H(r))(t)}}};var gn={map:mE};var UO=Dn(yn);var w_={apply:pE,Functor0:function(){return gn}},Zn=function(n){return n.apply};var Uf=function(n){var e=Zn(n),t=T(n.Functor0());return function(r){return function(a){return e(t(H(UO))(r))(a)}}},Pt=function(n){var e=Zn(n),t=T(n.Functor0());return function(r){return function(a){return function(o){return e(t(r)(a))(o)}}}};var L=function(n){return n.pure},hi=function(n){var e=L(n);return function(t){return function(r){if(!t)return r;if(t)return e(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}},Zt=function(n){var e=L(n);return function(t){return function(r){if(t)return r;if(!t)return e(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[t.constructor.name,r.constructor.name])}}},$l=function(n){var e=Zn(n.Apply0()),t=L(n);return function(r){return function(a){return e(t(r))(a)}}};var dE=typeof Array.prototype.flatMap=="function"?function(n){return function(e){return n.flatMap(e)}}:function(n){return function(e){for(var t=[],r=n.length,a=0;a<r;a++)for(var o=e(n[a]),u=o.length,i=0;i<u;i++)t.push(o[i]);return t}};var VO=Dn(yn),et=function(n){return n.discard};var yu={bind:dE,Apply0:function(){return w_}},V=function(n){return n.bind},Ue=function(n){return Qn(V(n))},ro=function(n){var e=Ue(n);return function(t){return function(r){return function(a){return e(t)(r(a))}}}};var tt={discard:function(n){return V(n)}};var C_=function(n){var e=V(n);return function(t){return e(t)(VO)}};var JO=Number.POSITIVE_INFINITY,zO=Number.NEGATIVE_INFINITY;var M_=function(n){return function(e){return function(t){return function(r){return function(a){return r<a?n:r===a?e:t}}}}};var DE=M_,gE=M_,hE=M_,yE=M_;var kl=function(n){return function(e){return n===e}},bE=kl,TE=kl,EE=kl,wE=kl,CE=kl,ME=function(n){return function(e){return function(t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r])(t[r]))return!1;return!0}}};var ct=function(n){return n.reflectSymbol};var ao=function(n){return function(e){return e[n]}},Ho=function(n){return function(e){return function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r[n]=e,r}}};var KD={eq:function(n){return function(e){return!0}}},ht={eq:CE},ZD={eqRecord:function(n){return function(e){return function(t){return!0}}}},FE=function(n){return n.eqRecord},ng=function(){return function(n){return{eq:FE(n)(Re.value)}}};var eg={eq:EE},Bf={eq:TE},SE={eq:wE},xE={eq:bE};var tn=function(n){return n.eq},ZO=tn(xE),Wo=function(n){return{eq:ME(tn(n))}};var F_=function(n){var e=FE(n);return function(){return function(t){var r=ct(t);return function(a){var o=tn(a);return{eqRecord:function(u){return function(i){return function(f){var c=e(Re.value)(i)(f),l=r(Re.value),s=ao(l);return o(s(i))(s(f))&&c}}}}}}}},yi=function(n){var e=tn(n);return function(t){return function(r){return ZO(e(t)(r))(!1)}}};var Z=(function(){function n(){}return n.value=new n,n})(),K=(function(){function n(){}return n.value=new n,n})(),vn=(function(){function n(){}return n.value=new n,n})();var bu={eq:function(n){return function(e){return n instanceof Z&&e instanceof Z||n instanceof K&&e instanceof K||n instanceof vn&&e instanceof vn}}};var IE=function(n){return function(e){return n-e|0}};var AE=function(n){return function(e){return n+e|0}},LE=function(n){return function(e){return n*e|0}},NE=function(n){return function(e){return n+e}},PE=function(n){return function(e){return n*e}};var tg={add:NE,zero:0,mul:PE,one:1},S_={add:AE,zero:0,mul:LE,one:1};var na=function(n){return n.add};var rg={sub:IE,Semiring0:function(){return S_}};var ql={compare:function(n){return function(e){return vn.value}},Eq0:function(){return KD}},ee=(function(){return{compare:hE(Z.value)(vn.value)(K.value),Eq0:function(){return ht}}})();var lt=(function(){return{compare:gE(Z.value)(vn.value)(K.value),Eq0:function(){return eg}}})(),In=(function(){return{compare:DE(Z.value)(vn.value)(K.value),Eq0:function(){return Bf}}})(),x_=(function(){return{compare:yE(Z.value)(vn.value)(K.value),Eq0:function(){return SE}}})();var on=function(n){return n.compare};var Ul=function(n){var e=on(n);return function(t){return function(r){return function(a){return e(t(r))(t(a))}}}};var ko=function(n){var e=on(n);return function(t){return function(r){var a=e(t)(r);if(a instanceof Z)return r;if(a instanceof vn||a instanceof K)return t;throw new Error("Failed pattern match at Data.Ord (line 181, column 3 - line 184, column 12): "+[a.constructor.name])}}},wu=function(n){var e=on(n);return function(t){return function(r){var a=e(t)(r);if(a instanceof Z||a instanceof vn)return t;if(a instanceof K)return r;throw new Error("Failed pattern match at Data.Ord (line 172, column 3 - line 175, column 12): "+[a.constructor.name])}}};var Sa=function(n){return n.top};var I_={top:2147483647,bottom:-2147483648,Ord0:function(){return In}},bi={top:"\uFFFF",bottom:"\0",Ord0:function(){return x_}};var xa=function(n){return n.bottom};var OE=function(n){return n.toString()},HE=function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"};var WE=function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,function(t,r){switch(t){case'"':case"\\":return"\\"+t;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var a=r+1,o=a<e&&n[a]>="0"&&n[a]<="9"?"\\&":"";return"\\"+t.charCodeAt(0).toString(10)+o})+'"'};var Fr={show:WE};var nr={show:HE},Ae={show:OE};var Vf={show:function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[n.constructor.name])}},q=function(n){return n.show};var kE=function(n){return function(e){return n&&e}},qE=function(n){return function(e){return n||e}},UE=function(n){return!n};var Bl=function(n){return n.tt};var Cu=function(n){return n.not};var og=function(n){return n.implies};var zf=function(n){return n.ff};var Ti=function(n){return n.disj},uo={ff:!1,tt:!0,implies:function(n){return function(e){return Ti(uo)(Cu(uo)(n))(e)}},conj:kE,disj:qE,not:UE};var Gl=function(n){return n.conj},ug=function(n){var e=zf(n),t=Bl(n),r=og(n),a=Gl(n),o=Ti(n),u=Cu(n);return{ff:function(i){return e},tt:function(i){return t},implies:function(i){return function(f){return function(c){return r(i(c))(f(c))}}},conj:function(i){return function(f){return function(c){return a(i(c))(f(c))}}},disj:function(i){return function(f){return function(c){return o(i(c))(f(c))}}},not:function(i){return function(f){return u(i(f))}}}};var BE=function(n){return Math.min(Math.abs(n),2147483647)},GE=function(n){return function(e){return e===0?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},VE=function(n){return function(e){if(e===0)return 0;var t=Math.abs(e);return(n%t+t)%t}};var JE={Ring0:function(){return rg}};var er=function(n){return n.mod};var Ft={degree:BE,div:GE,mod:VE,CommutativeRing0:function(){return JE}},fo=function(n){return n.div};var jE=function(n){return function(e){return n.length===0?e:e.length===0?n:n.concat(e)}};var ve={append:jE};var Q=function(n){return n.append};var fe=function(n){return n.mempty};var S=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),A_=function(n){return function(e){return n(e.value0)(e.value1)}};var De=function(n){return n.value1};var Mu={map:function(n){return function(e){return new S(e.value0,n(e.value1))}}};var Me=function(n){return n.value0};var XE=function(n){var e=tn(n);return function(t){var r=tn(t);return{eq:function(a){return function(o){return e(a.value0)(o.value0)&&r(a.value1)(o.value1)}}}}},wi=function(n){var e=on(n),t=XE(n.Eq0());return function(r){var a=on(r),o=t(r.Eq0());return{compare:function(u){return function(i){var f=e(u.value0)(i.value0);return f instanceof Z?Z.value:f instanceof K?K.value:a(u.value1)(i.value1)}},Eq0:function(){return o}}}};var lo=function(n){return n.state};var Fu=function(n){var e=lo(n);return function(t){return e(function(r){return new S(void 0,t(r))})}};var Su=function(n){return lo(n)(function(e){return new S(e,e)})};var YE=function(n,e){for(var t=n>e?-1:1,r=new Array(t*(e-n)+1),a=n,o=0;a!==e;)r[o++]=a,a+=t;return r[o]=a,r},gH=function(n,e){if(n<1)return[];var t=new Array(n);return t.fill(e)},hH=function(n,e){for(var t=[],r=0,a=0;a<n;a++)t[r++]=e;return t},KE=typeof Array.prototype.fill=="function"?gH:hH,ZE=(function(){function n(a,o){this.head=a,this.tail=o}var e={};function t(a){return function(o){return new n(a,o)}}function r(a){for(var o=[],u=0,i=a;i!==e;)o[u++]=i.head,i=i.tail;return o}return function(a,o){return r(a(t)(e)(o))}})(),X=function(n){return n.length},nw=function(n,e,t){return t.length===0?n({}):e(t[0])(t.slice(1))},ew=function(n,e,t,r){return r<0||r>=t.length?e:n(t[r])};var tw=function(n,e,t,r){for(var a=0,o=r.length;a<o;a++)if(t(r[a]))return n(a);return e};var rw=function(n,e,t,r,a){if(t<0||t>a.length)return e;var o=a.slice();return o.splice(t,0,r),n(o)},aw=function(n,e,t,r){if(t<0||t>=r.length)return e;var a=r.slice();return a.splice(t,1),n(a)};var Ia=function(n){return n.slice().reverse()},Ci=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var e=[],t=0,r=n.length;t<r;t++)for(var a=n[t],o=0,u=a.length;o<u;o++)e.push(a[o]);return e},ow=function(n,e){return e.filter(n)},uw=function(n,e){for(var t=[],r=[],a=0;a<e.length;a++){var o=e[a];n(o)?t.push(o):r.push(o)}return{yes:t,no:r}};var iw=(function(){function n(e,t,r,a,o,u){var i,f,c,l,s,p,_;for(i=o+(u-o>>1),i-o>1&&n(e,t,a,r,o,i),u-i>1&&n(e,t,a,r,i,u),f=o,c=i,l=o;f<i&&c<u;)s=a[f],p=a[c],_=t(e(s)(p)),_>0?(r[l++]=p,++c):(r[l++]=s,++f);for(;f<i;)r[l++]=a[f++];for(;c<u;)r[l++]=a[c++]}return function(e,t,r){var a;return r.length<2?r:(a=r.slice(0),n(e,t,a,r.slice(0),0,r.length),a)}})(),fw=function(n,e,t){return t.slice(n,e)},cw=function(n,e,t){for(var r=e.length<t.length?e.length:t.length,a=new Array(r),o=0;o<r;o++)a[o]=n(e[o])(t[o]);return a},lw=function(n,e){for(var t=e.length,r=0;r<t;r++)if(n(e[r]))return!0;return!1},sw=function(n,e){for(var t=e.length,r=0;r<t;r++)if(!n(e[r]))return!1;return!0},pw=function(n,e){return n[e]};var St=function(n){return n.alt};var mw=function(n){var e=V(n.Bind1()),t=hi(n.Applicative0());return function(r){return function(a){return e(r)(function(o){return t(o)(a)})}}};var tr=function(n){var e=V(n.Bind1()),t=L(n.Applicative0());return function(r){return function(a){return e(r)(function(o){return e(a)(function(u){return t(o(u))})})}}};var bH=Dn(yn),v=(function(){function n(){}return n.value=new n,n})(),m=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Fe=function(n){return function(e){return function(t){if(t instanceof v)return n;if(t instanceof m)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},Iu=Fe(!0)(H(!1)),Vl=Fe(!1)(H(!0));var Xn={map:function(n){return function(e){return e instanceof m?new m(n(e.value0)):v.value}}},TH=T(Xn);var An=function(n){return Fe(n)(bH)},Aa=function(){return function(n){if(n instanceof m)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var Au=function(n){var e=tn(n);return{eq:function(t){return function(r){return t instanceof v&&r instanceof v?!0:t instanceof m&&r instanceof m?e(t.value0)(r.value0):!1}}}};var so={apply:function(n){return function(e){if(n instanceof m)return TH(n.value0)(e);if(n instanceof v)return v.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return Xn}};var st={bind:function(n){return function(e){if(n instanceof m)return e(n.value0);if(n instanceof v)return v.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,e.constructor.name])}},Apply0:function(){return so}};var ea=(function(){return{pure:m.create,Apply0:function(){return so}}})();var en=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),B=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var jf=function(n){return Fe(new en(n))(B.create)};var Bo={map:function(n){return function(e){if(e instanceof en)return new en(e.value0);if(e instanceof B)return new B(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},EH=T(Bo);var mr=function(n){return function(e){return function(t){if(t instanceof en)return n(t.value0);if(t instanceof B)return e(t.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}};var P_={apply:function(n){return function(e){if(n instanceof en)return new en(n.value0);if(n instanceof B)return EH(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return Bo}};var Qf={bind:mr(function(n){return function(e){return new en(n)}})(function(n){return function(e){return e(n)}}),Apply0:function(){return P_}};var Xf=(function(){return{pure:B.create,Apply0:function(){return P_}}})();var Go=function(n){return n};var Jl={map:function(n){return function(e){return n(e)}}};var dw={apply:function(n){return function(e){return n(e)}},Functor0:function(){return Jl}},wH={bind:function(n){return function(e){return e(n)}},Apply0:function(){return dw}},CH={pure:Go,Apply0:function(){return dw}},Vo={Applicative0:function(){return CH},Bind1:function(){return wH}};var Dw=function(n){return function(){return n}},gw=function(n){return function(e){return function(){return e(n())()}}};var hw=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},La={Applicative0:function(){return Pn},Bind1:function(){return yt}},yt={bind:gw,Apply0:function(){return bw(0)}},Pn={pure:Dw,Apply0:function(){return bw(0)}},yw=hw("functorEffect","Effect",function(){return{map:$l(Pn)}}),bw=hw("applyEffect","Effect",function(){return{apply:tr(La),Functor0:function(){return yw(0)}}}),Ln=yw(20);var Tw=function(n){return function(){return{value:n}}};var R=function(n){return function(){return n.value}},Ew=function(n){return function(e){return function(){var t=n(e.value);return e.value=t.state,t.value}}},rn=function(n){return function(e){return function(){e.value=n}}};var SH=_e(Ln),zn=Tw,ig=Ew,ww=function(n){return ig(function(e){var t=n(e);return{state:t,value:t}})},ge=function(n){return function(e){return SH(ww(n)(e))}};var LH=Ue(yt),NH=T(Ln),Ot=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),xt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),aa=function(n){return n.tailRecM};var Cw={tailRecM:function(n){return function(e){var t=function(r){if(r instanceof xt)return r.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 137, column 30 - line 137, column 44): "+[r.constructor.name])};return function(){var a=LH(zn)(n(e))();return(function(){for(;!(function(){var u=R(a)();if(u instanceof Ot){var i=n(u.value0)();return rn(i)(a)(),!1}if(u instanceof xt)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 128, column 22 - line 133, column 28): "+[u.constructor.name])})(););return{}})(),NH(t)(R(a))()}}},Monad0:function(){return La}};var Mw=function(n){return function(e){return function(){return n(e())}}},Fw=function(n){return function(){return n}},Sw=function(n){return function(e){return function(){return e(n())()}}};var zl=function(n){return function(e){return function(){for(var t=0,r=n.length;t<r;t++)e(n[t])()}}};var HH=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var Mi={map:Mw};var cg={Applicative0:function(){return R_},Bind1:function(){return lg}},lg={bind:Sw,Apply0:function(){return Lw(0)}},R_={pure:Fw,Apply0:function(){return Lw(0)}},Lw=HH("applyST","Control.Monad.ST.Internal",function(){return{apply:tr(cg),Functor0:function(){return Mi}}});function Nw(n){return n}var Pw=Nw,Rw=Nw;function WH(n){return n.slice()}var Ow=WH;var Hw=function(n,e){return e.push(n)};var Ql=function(e){return function(t){return function(){return e(t)}}},sg=function(e){return function(t){return function(r){return function(){return e(t,r)}}}};var Ww=Ql(Rw),O_=Ql(Pw);var GH=Ql(Ow),$w=function(n){return function(e){return function(){var r=GH(e)();return n(r)(),O_(r)()}}};var H_=sg(Hw);var qw=function(n){return function(e){return function(t){for(var r=e,a=t.length,o=a-1;o>=0;o--)r=n(t[o])(r);return r}}},Uw=function(n){return function(e){return function(t){for(var r=e,a=t.length,o=0;o<a;o++)r=n(r)(t[o]);return r}}};var vr=function(n){return n.empty};var QH=Dn(yn),po=function(n){return n.bimap};var Fi=function(n){var e=po(n);return function(t){return e(t)(QH)}};var Yf={bimap:function(n){return function(e){return function(t){if(t instanceof en)return new en(n(t.value0));if(t instanceof B)return new B(e(t.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 38, column 1 - line 40, column 36): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}}};var q_=function(n){return n};var e3=function(n){var e=Ti(n);return{append:function(t){return function(r){return e(t)(r)}}}};var vg=function(n){var e=e3(n);return{mempty:zf(n),Semigroup0:function(){return e}}};var A=function(n){return n};var Zf=function(){return A};var Jw=Zf();var Ht=function(){return Jw};var dg=function(){return function(){return function(){return function(){return function(n){return Jw}}}}};var jw=tn(bu);var u3=dg()()()(),Oe=function(n){return n.foldr};var Ve=function(n){var e=Uf(n.Apply0()),t=L(n);return function(r){var a=Oe(r);return function(o){return a(function(u){return e(o(u))})(t(void 0))}}},ua=function(n){var e=Ve(n);return function(t){return Qn(e(t))}};var Yn=function(n){return n.foldl};var Qw=function(n){var e=Yn(n);return function(t){var r=function(a){return function(o){if(a instanceof v)return new m(o);if(a instanceof m)return new m((function(){var u=jw(t(a.value0)(o))(K.value);return u?a.value0:o})());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(v.value)}},Yl=function(n){var e=on(n);return function(t){return Qw(t)(e)}},V_=function(n){var e=Yn(n);return function(t){var r=function(a){return function(o){if(a instanceof v)return new m(o);if(a instanceof m)return new m((function(){var u=jw(t(a.value0)(o))(Z.value);return u?a.value0:o})());throw new Error("Failed pattern match at Data.Foldable (line 454, column 3 - line 454, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(v.value)}},gg=function(n){var e=on(n);return function(t){return V_(t)(e)}};var dr={foldr:function(n){return function(e){return function(t){if(t instanceof v)return e;if(t instanceof m)return n(t.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},foldl:function(n){return function(e){return function(t){if(t instanceof v)return e;if(t instanceof m)return n(e)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},foldMap:function(n){var e=fe(n);return function(t){return function(r){if(r instanceof v)return e;if(r instanceof m)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var Xw=function(n){var e=Oe(n);return function(t){var r=Q(t.Semigroup0()),a=fe(t);return function(o){return e(function(u){return function(i){return r(o(u))(i)}})(a)}}},cn={foldr:qw,foldl:Uw,foldMap:function(n){return Xw(cn)(n)}};var Jt=function(n){return n.foldMap};var nc=function(n){var e=Jt(n);return function(t){return u3(q_)(e(vg(t)))}};var ia=function(n){return function(e){return function(t){return n(e,t)}}},Pu=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},Si=function(n){return function(e){return function(t){return function(r){return function(a){return n(e,t,r,a)}}}}},hg=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){return n(e,t,r,a,o)}}}}}};var Yw=function(n){return function(e){for(var t=e.length,r=Array(t),a=0;a<t;a++)r[a]=n(a)(e[a]);return r}};var Ru=function(n){return n.mapWithIndex};var xi={mapWithIndex:Yw,Functor0:function(){return gn}};var eC=(function(){function n(a){return[a]}function e(a){return function(o){return[a,o]}}function t(a){return function(o){return function(u){return[a,o,u]}}}function r(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(i){return function(f){function c(l,s){switch(s-l){case 0:return u([]);case 1:return o(n)(i(f[l]));case 2:return a(o(e)(i(f[l])))(i(f[l+1]));case 3:return a(a(o(t)(i(f[l])))(i(f[l+1])))(i(f[l+2]));default:var p=l+Math.floor((s-l)/4)*2;return a(o(r)(c(l,p)))(c(p,s))}}return c(0,f.length)}}}}}})();var rc=function(n){return n};var T3={map:function(n){return function(e){return function(t){var r=rc(e)(t);return{accum:r.accum,value:n(r.value)}}}}};var E3={apply:function(n){return function(e){return function(t){var r=rc(n)(t),a=rc(e)(r.accum);return{accum:a.accum,value:r.value(a.value)}}}},Functor0:function(){return T3}};var Eg={pure:function(n){return function(e){return{accum:e,value:n}}},Apply0:function(){return E3}};var U3=Dn(yn),He=function(n){return n.traverse};var _C=function(n){var e=He(n);return function(t){return e(t)(U3)}},Vr={traverse:function(n){var e=n.Apply0();return eC(Zn(e))(T(e.Functor0()))(L(n))},sequence:function(n){return _C(Vr)(n)},Functor0:function(){return gn},Foldable1:function(){return cn}},Ii=function(n){return n.sequence};var B3=function(n){var e=He(n)(Eg);return function(t){return function(r){return function(a){return rc(e(function(o){return function(u){return t(u)(o)}})(a))(r)}}}},Q_=function(n){var e=B3(n);return function(t){return function(r){return function(a){return e(function(o){return function(u){var i=t(o)(u);return{accum:i,value:i}}})(r)(a).value}}}};var mC=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);if(n(f))return u;var c=e(f);u.push(t(c)),i=r(c)}}}}}}};var vC=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);u.push(t(f));var c=r(f);if(n(c))return u;i=e(c)}}}}}}};var K3=Aa();var Mg={unfoldr1:vC(Iu)(K3)(Me)(De)};var nW=Aa(),Na=function(n){return n.unfoldr};var Jr={unfoldr:mC(Iu)(nW)(Me)(De),Unfoldable10:function(){return Mg}};var eW=_e(Mi);var tW=T(Xn),rW=T(gn),aW=T(Mi),gC=Aa(),oW=Zt(R_),uW=yi(bu);var iW=Q(ve);var Sr=Pu(cw);var Ai=function(){return ia(pw)},hC=Ai(),Ou=(function(){return Pu(nw)(H(v.value))(function(n){return function(e){return new m({head:n,tail:e})}})})(),Fg=function(n){var e=Na(n);return function(t){var r=X(t),a=function(o){if(o<r)return new m(new S(hC(t)(o),o+1|0));if(le)return v.value;throw new Error("Failed pattern match at Data.Array (line 163, column 3 - line 165, column 26): "+[o.constructor.name])};return e(a)(0)}};var _o=function(n){return Pu(iw)(n)(function(e){if(e instanceof K)return 1;if(e instanceof vn)return 0;if(e instanceof Z)return-1;throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[e.constructor.name])})},Jo=function(n){var e=Ul(n);return function(t){return _o(e(t))}},fW=Jo(In);var zr=function(n){return function(e){return $w(H_(e))(n)()}},Li=Pu(fw);var Sg=function(n){return function(e){var t=n<1;return t?[]:Li(0)(n)(e)}},Y_=function(n){return[n]};var xg=ia(KE),zo=ia(YE),Ig=ia(uw),rt=function(n){return X(n)===0};var gr=Ru(xi);var Ag=(function(){return hg(rw)(m.create)(v.value)})();var oe=(function(){return Si(ew)(m.create)(v.value)})(),Ni=function(n){return oe(n)(X(n)-1|0)};var zt=function(n){return oe(n)(0)},yC=function(n){return function(e){var t=_o(function(a){return function(o){return n(De(a))(De(o))}})(gr(S.create)(e)),r=zt(t);if(r instanceof v)return[];if(r instanceof m)return rW(De)(fW(Me)((function(){var o=Ww(Y_(r.value0))();return zl(t)(function(u){return function(){var f=aW((function(){var c=function(l){return gC(Ni(l))};return function(l){return De(c(l))}})())(O_(o))();return oW(uW(n(f)(u.value1))(vn.value))(eW(H_(u)(o)))()}})(),O_(o)()})()));throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): "+[r.constructor.name])}},es=function(n){return yC(on(n))};var jr=function(n){return ia(ZE)(Oe(n))};var Pa=Yn(cn);var Pi=(function(){return Si(tw)(m.create)(v.value)})(),mo=function(n){return function(e){return tW(hC(e))(Pi(n)(e))}},Le=ia(ow);var Lg=function(n){var e=tn(n);return function(t){return Pi(function(r){return e(r)(t)})}};var K_=function(n){return function(e){var t=n<1;return t?e:Li(n)(X(e))(e)}};var ts=(function(){return Si(aw)(m.create)(v.value)})(),Ng=function(n){return function(e){return function(t){return t.length===0?[]:Fe(t)(function(r){return gC(ts(r)(t))})(Pi(n(e))(t))}}};var pt=function(n){return function(e){return iW([n])(e)}};var Pg=Qn(V(yu)),Te=function(n){return Pg((function(){var e=Fe([])(Y_);return function(t){return e(n(t))}})())};var Z_=ia(lw);var Rg=ia(sw);function Ri(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Og(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function nm(n){let e,t,r;n.length!==2?(e=Ri,t=(i,f)=>Ri(n(i),f),r=(i,f)=>n(i)-f):(e=n===Ri||n===Og?n:cW,t=n,r=n);function a(i,f,c=0,l=i.length){if(c<l){if(e(f,f)!==0)return l;do{let s=c+l>>>1;t(i[s],f)<0?c=s+1:l=s}while(c<l)}return c}function o(i,f,c=0,l=i.length){if(c<l){if(e(f,f)!==0)return l;do{let s=c+l>>>1;t(i[s],f)<=0?c=s+1:l=s}while(c<l)}return c}function u(i,f,c=0,l=i.length){let s=a(i,f,c,l-1);return s>c&&r(i[s-1],f)>-r(i[s],f)?s-1:s}return{left:a,center:u,right:o}}function cW(){return 0}function Hg(n){return n===null?NaN:+n}var bC=nm(Ri),TC=bC.right,lW=bC.left,sW=nm(Hg).center,Wg=TC;var ac=class extends Map{constructor(e,t=mW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[r,a]of e)this.set(r,a)}get(e){return super.get(EC(this,e))}has(e){return super.has(EC(this,e))}set(e,t){return super.set(pW(this,e),t)}delete(e){return super.delete(_W(this,e))}};function EC({_intern:n,_key:e},t){let r=e(t);return n.has(r)?n.get(r):t}function pW({_intern:n,_key:e},t){let r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function _W({_intern:n,_key:e},t){let r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function mW(n){return n!==null&&typeof n=="object"?n.valueOf():n}var vW=Math.sqrt(50),dW=Math.sqrt(10),DW=Math.sqrt(2);function em(n,e,t){let r=(e-n)/Math.max(0,t),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),u=o>=vW?10:o>=dW?5:o>=DW?2:1,i,f,c;return a<0?(c=Math.pow(10,-a)/u,i=Math.round(n*c),f=Math.round(e*c),i/c<n&&++i,f/c>e&&--f,c=-c):(c=Math.pow(10,a)*u,i=Math.round(n/c),f=Math.round(e/c),i*c<n&&++i,f*c>e&&--f),f<i&&.5<=t&&t<2?em(n,e,t*2):[i,f,c]}function Oi(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];let r=e<n,[a,o,u]=r?em(e,n,t):em(n,e,t);if(!(o>=a))return[];let i=o-a+1,f=new Array(i);if(r)if(u<0)for(let c=0;c<i;++c)f[c]=(o-c)/-u;else for(let c=0;c<i;++c)f[c]=(o-c)*u;else if(u<0)for(let c=0;c<i;++c)f[c]=(a+c)/-u;else for(let c=0;c<i;++c)f[c]=(a+c)*u;return f}function rs(n,e,t){return e=+e,n=+n,t=+t,em(n,e,t)[2]}function $g(n,e,t){e=+e,n=+n,t=+t;let r=e<n,a=r?rs(e,n,t):rs(n,e,t);return(r?-1:1)*(a<0?1/-a:a)}function tm(n,e,t){n=+n,e=+e,t=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+t;for(var r=-1,a=Math.max(0,Math.ceil((e-n)/t))|0,o=new Array(a);++r<a;)o[r]=n+r*t;return o}function fa(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var kg=Symbol("implicit");function Hi(){var n=new ac,e=[],t=[],r=kg;function a(o){let u=n.get(o);if(u===void 0){if(r!==kg)return r;n.set(o,u=e.push(o)-1)}return t[u%t.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new ac;for(let u of o)n.has(u)||n.set(u,e.push(u)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Hi(e,t).unknown(r)},fa.apply(a,arguments),a}function oc(){var n=Hi().unknown(void 0),e=n.domain,t=n.range,r=0,a=1,o,u,i=!1,f=0,c=0,l=.5;delete n.unknown;function s(){var p=e().length,_=a<r,d=_?a:r,g=_?r:a;o=(g-d)/Math.max(1,p-f+c*2),i&&(o=Math.floor(o)),d+=(g-d-o*(p-f))*l,u=o*(1-f),i&&(d=Math.round(d),u=Math.round(u));var D=tm(p).map(function(b){return d+o*b});return t(_?D.reverse():D)}return n.domain=function(p){return arguments.length?(e(p),s()):e()},n.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,s()):[r,a]},n.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,i=!0,s()},n.bandwidth=function(){return u},n.step=function(){return o},n.round=function(p){return arguments.length?(i=!!p,s()):i},n.padding=function(p){return arguments.length?(f=Math.min(1,c=+p),s()):f},n.paddingInner=function(p){return arguments.length?(f=Math.min(1,p),s()):f},n.paddingOuter=function(p){return arguments.length?(c=+p,s()):c},n.align=function(p){return arguments.length?(l=Math.max(0,Math.min(1,p)),s()):l},n.copy=function(){return oc(e(),[r,a]).round(i).paddingInner(f).paddingOuter(c).align(l)},fa.apply(s(),arguments)}function wC(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return wC(e())},n}function qg(){return wC(oc.apply(null,arguments).paddingInner(1))}function rm(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Ug(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function us(){}var as=.7,um=1/as,uc="\\s*([+-]?\\d+)\\s*",os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gW=/^#([0-9a-f]{3,8})$/,hW=new RegExp(`^rgb\\(${uc},${uc},${uc}\\)$`),yW=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),bW=new RegExp(`^rgba\\(${uc},${uc},${uc},${os}\\)$`),TW=new RegExp(`^rgba\\(${vo},${vo},${vo},${os}\\)$`),EW=new RegExp(`^hsl\\(${os},${vo},${vo}\\)$`),wW=new RegExp(`^hsla\\(${os},${vo},${vo},${os}\\)$`),CC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rm(us,Oa,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:MC,formatHex:MC,formatHex8:CW,formatHsl:MW,formatRgb:FC,toString:FC});function MC(){return this.rgb().formatHex()}function CW(){return this.rgb().formatHex8()}function MW(){return NC(this).formatHsl()}function FC(){return this.rgb().formatRgb()}function Oa(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=gW.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?SC(e):t===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?am(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?am(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hW.exec(n))?new xr(e[1],e[2],e[3],1):(e=yW.exec(n))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bW.exec(n))?am(e[1],e[2],e[3],e[4]):(e=TW.exec(n))?am(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=EW.exec(n))?AC(e[1],e[2]/100,e[3]/100,1):(e=wW.exec(n))?AC(e[1],e[2]/100,e[3]/100,e[4]):CC.hasOwnProperty(n)?SC(CC[n]):n==="transparent"?new xr(NaN,NaN,NaN,0):null}function SC(n){return new xr(n>>16&255,n>>8&255,n&255,1)}function am(n,e,t,r){return r<=0&&(n=e=t=NaN),new xr(n,e,t,r)}function FW(n){return n instanceof us||(n=Oa(n)),n?(n=n.rgb(),new xr(n.r,n.g,n.b,n.opacity)):new xr}function ic(n,e,t,r){return arguments.length===1?FW(n):new xr(n,e,t,r??1)}function xr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}rm(xr,ic,Ug(us,{brighter(n){return n=n==null?um:Math.pow(um,n),new xr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?as:Math.pow(as,n),new xr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new xr($i(this.r),$i(this.g),$i(this.b),im(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xC,formatHex:xC,formatHex8:SW,formatRgb:IC,toString:IC}));function xC(){return`#${Wi(this.r)}${Wi(this.g)}${Wi(this.b)}`}function SW(){return`#${Wi(this.r)}${Wi(this.g)}${Wi(this.b)}${Wi((isNaN(this.opacity)?1:this.opacity)*255)}`}function IC(){let n=im(this.opacity);return`${n===1?"rgb(":"rgba("}${$i(this.r)}, ${$i(this.g)}, ${$i(this.b)}${n===1?")":`, ${n})`}`}function im(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function $i(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Wi(n){return n=$i(n),(n<16?"0":"")+n.toString(16)}function AC(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ra(n,e,t,r)}function NC(n){if(n instanceof Ra)return new Ra(n.h,n.s,n.l,n.opacity);if(n instanceof us||(n=Oa(n)),!n)return new Ra;if(n instanceof Ra)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,a=Math.min(e,t,r),o=Math.max(e,t,r),u=NaN,i=o-a,f=(o+a)/2;return i?(e===o?u=(t-r)/i+(t<r)*6:t===o?u=(r-e)/i+2:u=(e-t)/i+4,i/=f<.5?o+a:2-o-a,u*=60):i=f>0&&f<1?0:u,new Ra(u,i,f,n.opacity)}function PC(n,e,t,r){return arguments.length===1?NC(n):new Ra(n,e,t,r??1)}function Ra(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}rm(Ra,PC,Ug(us,{brighter(n){return n=n==null?um:Math.pow(um,n),new Ra(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?as:Math.pow(as,n),new Ra(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,a=2*t-r;return new xr(Bg(n>=240?n-240:n+120,a,r),Bg(n,a,r),Bg(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new Ra(LC(this.h),om(this.s),om(this.l),im(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=im(this.opacity);return`${n===1?"hsl(":"hsla("}${LC(this.h)}, ${om(this.s)*100}%, ${om(this.l)*100}%${n===1?")":`, ${n})`}`}}));function LC(n){return n=(n||0)%360,n<0?n+360:n}function om(n){return Math.max(0,Math.min(1,n||0))}function Bg(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function Gg(n,e,t,r,a){var o=n*n,u=o*n;return((1-3*n+3*o-u)*e+(4-6*o+3*u)*t+(1+3*n+3*o-3*u)*r+u*a)/6}function RC(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),a=n[r],o=n[r+1],u=r>0?n[r-1]:2*a-o,i=r<e-1?n[r+2]:2*o-a;return Gg((t-r/e)*e,u,a,o,i)}}function OC(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e),a=n[(r+e-1)%e],o=n[r%e],u=n[(r+1)%e],i=n[(r+2)%e];return Gg((t-r/e)*e,a,o,u,i)}}var is=n=>()=>n;function xW(n,e){return function(t){return n+t*e}}function IW(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function HC(n){return(n=+n)==1?fm:function(e,t){return t-e?IW(e,t,n):is(isNaN(e)?t:e)}}function fm(n,e){var t=e-n;return t?xW(n,t):is(isNaN(n)?e:n)}var ki=(function n(e){var t=HC(e);function r(a,o){var u=t((a=ic(a)).r,(o=ic(o)).r),i=t(a.g,o.g),f=t(a.b,o.b),c=fm(a.opacity,o.opacity);return function(l){return a.r=u(l),a.g=i(l),a.b=f(l),a.opacity=c(l),a+""}}return r.gamma=n,r})(1);function WC(n){return function(e){var t=e.length,r=new Array(t),a=new Array(t),o=new Array(t),u,i;for(u=0;u<t;++u)i=ic(e[u]),r[u]=i.r||0,a[u]=i.g||0,o[u]=i.b||0;return r=n(r),a=n(a),o=n(o),i.opacity=1,function(f){return i.r=r(f),i.g=a(f),i.b=o(f),i+""}}}var AW=WC(RC),LW=WC(OC);function $C(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),a;return function(o){for(a=0;a<t;++a)r[a]=n[a]*(1-o)+e[a]*o;return r}}function kC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function qC(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,a=new Array(r),o=new Array(t),u;for(u=0;u<r;++u)a[u]=qi(n[u],e[u]);for(;u<t;++u)o[u]=e[u];return function(i){for(u=0;u<r;++u)o[u]=a[u](i);return o}}function UC(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function jt(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function BC(n,e){var t={},r={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?t[a]=qi(n[a],e[a]):r[a]=e[a];return function(o){for(a in t)r[a]=t[a](o);return r}}var Jg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vg=new RegExp(Jg.source,"g");function NW(n){return function(){return n}}function PW(n){return function(e){return n(e)+""}}function fs(n,e){var t=Jg.lastIndex=Vg.lastIndex=0,r,a,o,u=-1,i=[],f=[];for(n=n+"",e=e+"";(r=Jg.exec(n))&&(a=Vg.exec(e));)(o=a.index)>t&&(o=e.slice(t,o),i[u]?i[u]+=o:i[++u]=o),(r=r[0])===(a=a[0])?i[u]?i[u]+=a:i[++u]=a:(i[++u]=null,f.push({i:u,x:jt(r,a)})),t=Vg.lastIndex;return t<e.length&&(o=e.slice(t),i[u]?i[u]+=o:i[++u]=o),i.length<2?f[0]?PW(f[0].x):NW(e):(e=f.length,function(c){for(var l=0,s;l<e;++l)i[(s=f[l]).i]=s.x(c);return i.join("")})}function qi(n,e){var t=typeof e,r;return e==null||t==="boolean"?is(e):(t==="number"?jt:t==="string"?(r=Oa(e))?(e=r,ki):fs:e instanceof Oa?ki:e instanceof Date?UC:kC(e)?$C:Array.isArray(e)?qC:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?BC:jt)(n,e)}function zg(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var GC=180/Math.PI,cm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jg(n,e,t,r,a,o){var u,i,f;return(u=Math.sqrt(n*n+e*e))&&(n/=u,e/=u),(f=n*t+e*r)&&(t-=n*f,r-=e*f),(i=Math.sqrt(t*t+r*r))&&(t/=i,r/=i,f/=i),n*r<e*t&&(n=-n,e=-e,f=-f,u=-u),{translateX:a,translateY:o,rotate:Math.atan2(e,n)*GC,skewX:Math.atan(f)*GC,scaleX:u,scaleY:i}}var lm;function VC(n){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?cm:jg(e.a,e.b,e.c,e.d,e.e,e.f)}function JC(n){return n==null?cm:(lm||(lm=document.createElementNS("http://www.w3.org/2000/svg","g")),lm.setAttribute("transform",n),(n=lm.transform.baseVal.consolidate())?(n=n.matrix,jg(n.a,n.b,n.c,n.d,n.e,n.f)):cm)}function zC(n,e,t,r){function a(c){return c.length?c.pop()+" ":""}function o(c,l,s,p,_,d){if(c!==s||l!==p){var g=_.push("translate(",null,e,null,t);d.push({i:g-4,x:jt(c,s)},{i:g-2,x:jt(l,p)})}else(s||p)&&_.push("translate("+s+e+p+t)}function u(c,l,s,p){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),p.push({i:s.push(a(s)+"rotate(",null,r)-2,x:jt(c,l)})):l&&s.push(a(s)+"rotate("+l+r)}function i(c,l,s,p){c!==l?p.push({i:s.push(a(s)+"skewX(",null,r)-2,x:jt(c,l)}):l&&s.push(a(s)+"skewX("+l+r)}function f(c,l,s,p,_,d){if(c!==s||l!==p){var g=_.push(a(_)+"scale(",null,",",null,")");d.push({i:g-4,x:jt(c,s)},{i:g-2,x:jt(l,p)})}else(s!==1||p!==1)&&_.push(a(_)+"scale("+s+","+p+")")}return function(c,l){var s=[],p=[];return c=n(c),l=n(l),o(c.translateX,c.translateY,l.translateX,l.translateY,s,p),u(c.rotate,l.rotate,s,p),i(c.skewX,l.skewX,s,p),f(c.scaleX,c.scaleY,l.scaleX,l.scaleY,s,p),c=l=null,function(_){for(var d=-1,g=p.length,D;++d<g;)s[(D=p[d]).i]=D.x(_);return s.join("")}}}var Qg=zC(VC,"px, ","px)","deg)"),Xg=zC(JC,", ",")",")");var RW=1e-12;function jC(n){return((n=Math.exp(n))+1/n)/2}function OW(n){return((n=Math.exp(n))-1/n)/2}function HW(n){return((n=Math.exp(2*n))-1)/(n+1)}var Yg=(function n(e,t,r){function a(o,u){var i=o[0],f=o[1],c=o[2],l=u[0],s=u[1],p=u[2],_=l-i,d=s-f,g=_*_+d*d,D,b;if(g<RW)b=Math.log(p/c)/e,D=function(P){return[i+P*_,f+P*d,c*Math.exp(e*P*b)]};else{var I=Math.sqrt(g),M=(p*p-c*c+r*g)/(2*c*t*I),h=(p*p-c*c-r*g)/(2*p*t*I),y=Math.log(Math.sqrt(M*M+1)-M),C=Math.log(Math.sqrt(h*h+1)-h);b=(C-y)/e,D=function(P){var k=P*b,sn=jC(y),U=c/(t*I)*(sn*HW(e*k+y)-OW(y));return[i+U*_,f+U*d,c*sn/jC(e*k+y)]}}return D.duration=b*1e3*e/Math.SQRT2,D}return a.rho=function(o){var u=Math.max(.001,+o),i=u*u,f=i*i;return n(u,i,f)},a})(Math.SQRT2,2,4);function Kg(n){return function(){return n}}function Zg(n){return+n}var QC=[0,1];function Ha(n){return n}function nh(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Kg(isNaN(e)?NaN:.5)}function WW(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function $W(n,e,t){var r=n[0],a=n[1],o=e[0],u=e[1];return a<r?(r=nh(a,r),o=t(u,o)):(r=nh(r,a),o=t(o,u)),function(i){return o(r(i))}}function kW(n,e,t){var r=Math.min(n.length,e.length)-1,a=new Array(r),o=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++u<r;)a[u]=nh(n[u],n[u+1]),o[u]=t(e[u],e[u+1]);return function(i){var f=Wg(n,i,1,r)-1;return o[f](a[f](i))}}function Hu(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ui(){var n=QC,e=QC,t=qi,r,a,o,u=Ha,i,f,c;function l(){var p=Math.min(n.length,e.length);return u!==Ha&&(u=WW(n[0],n[p-1])),i=p>2?kW:$W,f=c=null,s}function s(p){return p==null||isNaN(p=+p)?o:(f||(f=i(n.map(r),e,t)))(r(u(p)))}return s.invert=function(p){return u(a((c||(c=i(e,n.map(r),jt)))(p)))},s.domain=function(p){return arguments.length?(n=Array.from(p,Zg),l()):n.slice()},s.range=function(p){return arguments.length?(e=Array.from(p),l()):e.slice()},s.rangeRound=function(p){return e=Array.from(p),t=zg,l()},s.clamp=function(p){return arguments.length?(u=p?!0:Ha,l()):u!==Ha},s.interpolate=function(p){return arguments.length?(t=p,l()):t},s.unknown=function(p){return arguments.length?(o=p,s):o},function(p,_){return r=p,a=_,l()}}function eh(){return Ui()(Ha,Ha)}function XC(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Bi(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Do(n){return n=Bi(Math.abs(n)),n?n[1]:NaN}function YC(n,e){return function(t,r){for(var a=t.length,o=[],u=0,i=n[0],f=0;a>0&&i>0&&(f+i+1>r&&(i=Math.max(1,r-f)),o.push(t.substring(a-=i,a+i)),!((f+=i+1)>r));)i=n[u=(u+1)%n.length];return o.reverse().join(e)}}function KC(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var qW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function go(n){if(!(e=qW.exec(n)))throw new Error("invalid format: "+n);var e;return new sm({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}go.prototype=sm.prototype;function sm(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}sm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZC(n){n:for(var e=n.length,t=1,r=-1,a;t<e;++t)switch(n[t]){case".":r=a=t;break;case"0":r===0&&(r=t),a=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var th;function nM(n,e){var t=Bi(n,e);if(!t)return n+"";var r=t[0],a=t[1],o=a-(th=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Bi(n,Math.max(0,e+o-1))[0]}function rh(n,e){var t=Bi(n,e);if(!t)return n+"";var r=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var ah={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:XC,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>rh(n*100,e),r:rh,s:nM,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function oh(n){return n}var eM=Array.prototype.map,tM=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function rM(n){var e=n.grouping===void 0||n.thousands===void 0?oh:YC(eM.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?oh:KC(eM.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",i=n.minus===void 0?"\u2212":n.minus+"",f=n.nan===void 0?"NaN":n.nan+"";function c(s){s=go(s);var p=s.fill,_=s.align,d=s.sign,g=s.symbol,D=s.zero,b=s.width,I=s.comma,M=s.precision,h=s.trim,y=s.type;y==="n"?(I=!0,y="g"):ah[y]||(M===void 0&&(M=12),h=!0,y="g"),(D||p==="0"&&_==="=")&&(D=!0,p="0",_="=");var C=g==="$"?t:g==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",P=g==="$"?r:/[%p]/.test(y)?u:"",k=ah[y],sn=/[defgprs%]/.test(y);M=M===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function U(J){var jn=C,Hn=P,E,G,x;if(y==="c")Hn=k(J)+Hn,J="";else{J=+J;var j=J<0||1/J<0;if(J=isNaN(J)?f:k(Math.abs(J),M),h&&(J=ZC(J)),j&&+J==0&&d!=="+"&&(j=!1),jn=(j?d==="("?d:i:d==="-"||d==="("?"":d)+jn,Hn=(y==="s"?tM[8+th/3]:"")+Hn+(j&&d==="("?")":""),sn){for(E=-1,G=J.length;++E<G;)if(x=J.charCodeAt(E),48>x||x>57){Hn=(x===46?a+J.slice(E+1):J.slice(E))+Hn,J=J.slice(0,E);break}}}I&&!D&&(J=e(J,1/0));var mn=jn.length+J.length+Hn.length,Cn=mn<b?new Array(b-mn+1).join(p):"";switch(I&&D&&(J=e(Cn+J,Cn.length?b-Hn.length:1/0),Cn=""),_){case"<":J=jn+J+Hn+Cn;break;case"=":J=jn+Cn+J+Hn;break;case"^":J=Cn.slice(0,mn=Cn.length>>1)+jn+J+Hn+Cn.slice(mn);break;default:J=Cn+jn+J+Hn;break}return o(J)}return U.toString=function(){return s+""},U}function l(s,p){var _=c((s=go(s),s.type="f",s)),d=Math.max(-8,Math.min(8,Math.floor(Do(p)/3)))*3,g=Math.pow(10,-d),D=tM[8+d/3];return function(b){return _(g*b)+D}}return{format:c,formatPrefix:l}}var pm,fc,_m;uh({thousands:",",grouping:[3],currency:["$",""]});function uh(n){return pm=rM(n),fc=pm.format,_m=pm.formatPrefix,pm}function ih(n){return Math.max(0,-Do(Math.abs(n)))}function fh(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(e)/3)))*3-Do(Math.abs(n)))}function ch(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Do(e)-Do(n))+1}function lh(n,e,t,r){var a=$g(n,e,t),o;switch(r=go(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(o=fh(a,u))&&(r.precision=o),_m(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ch(a,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ih(a))&&(r.precision=o-(r.type==="%")*2);break}}return fc(r)}function cs(n){var e=n.domain;return n.ticks=function(t){var r=e();return Oi(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var a=e();return lh(a[0],a[a.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),a=0,o=r.length-1,u=r[a],i=r[o],f,c,l=10;for(i<u&&(c=u,u=i,i=c,c=a,a=o,o=c);l-- >0;){if(c=rs(u,i,t),c===f)return r[a]=u,r[o]=i,e(r);if(c>0)u=Math.floor(u/c)*c,i=Math.ceil(i/c)*c;else if(c<0)u=Math.ceil(u*c)/c,i=Math.floor(i*c)/c;else break;f=c}return n},n}function ls(){var n=eh();return n.copy=function(){return Hu(n,ls())},fa.apply(n,arguments),cs(n)}function sh(n,e){n=n.slice();var t=0,r=n.length-1,a=n[t],o=n[r],u;return o<a&&(u=t,t=r,r=u,u=a,a=o,o=u),n[t]=e.floor(a),n[r]=e.ceil(o),n}function aM(n){return Math.log(n)}function oM(n){return Math.exp(n)}function UW(n){return-Math.log(-n)}function BW(n){return-Math.exp(-n)}function GW(n){return isFinite(n)?+("1e"+n):n<0?0:n}function VW(n){return n===10?GW:n===Math.E?Math.exp:e=>Math.pow(n,e)}function JW(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function uM(n){return(e,t)=>-n(-e,t)}function zW(n){let e=n(aM,oM),t=e.domain,r=10,a,o;function u(){return a=JW(r),o=VW(r),t()[0]<0?(a=uM(a),o=uM(o),n(UW,BW)):n(aM,oM),e}return e.base=function(i){return arguments.length?(r=+i,u()):r},e.domain=function(i){return arguments.length?(t(i),u()):t()},e.ticks=i=>{let f=t(),c=f[0],l=f[f.length-1],s=l<c;s&&([c,l]=[l,c]);let p=a(c),_=a(l),d,g,D=i==null?10:+i,b=[];if(!(r%1)&&_-p<D){if(p=Math.floor(p),_=Math.ceil(_),c>0){for(;p<=_;++p)for(d=1;d<r;++d)if(g=p<0?d/o(-p):d*o(p),!(g<c)){if(g>l)break;b.push(g)}}else for(;p<=_;++p)for(d=r-1;d>=1;--d)if(g=p>0?d/o(-p):d*o(p),!(g<c)){if(g>l)break;b.push(g)}b.length*2<D&&(b=Oi(c,l,D))}else b=Oi(p,_,Math.min(_-p,D)).map(o);return s?b.reverse():b},e.tickFormat=(i,f)=>{if(i==null&&(i=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=go(f)).precision==null&&(f.trim=!0),f=fc(f)),i===1/0)return f;let c=Math.max(1,r*i/e.ticks().length);return l=>{let s=l/o(Math.round(a(l)));return s*r<r-.5&&(s*=r),s<=c?f(l):""}},e.nice=()=>t(sh(t(),{floor:i=>o(Math.floor(a(i))),ceil:i=>o(Math.ceil(a(i)))})),e}function ss(){let n=zW(Ui()).domain([1,10]);return n.copy=()=>Hu(n,ss()).base(n.base()),fa.apply(n,arguments),n}function iM(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function fM(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function jW(n){var e=1,t=n(iM(e),fM(e));return t.constant=function(r){return arguments.length?n(iM(e=+r),fM(e)):e},cs(t)}function ps(){var n=jW(Ui());return n.copy=function(){return Hu(n,ps()).constant(n.constant())},fa.apply(n,arguments)}function cM(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function QW(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function XW(n){return n<0?-n*n:n*n}function YW(n){var e=n(Ha,Ha),t=1;function r(){return t===1?n(Ha,Ha):t===.5?n(QW,XW):n(cM(t),cM(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,r()):t},cs(e)}function cc(){var n=YW(Ui());return n.copy=function(){return Hu(n,cc()).exponent(n.exponent())},fa.apply(n,arguments),n}function ph(){return cc.apply(null,arguments).exponent(.5)}function lM(n){for(var e=n.length/6|0,t=new Array(e),r=0;r<e;)t[r]="#"+n.slice(r*6,++r*6);return t}var mm=lM("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function _s(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}var m$=ls(),v$=ss(),d$=cc(),D$=ph(),g$=ps(),h$=Hi(),y$=oc(),b$=qg();function xe(n){return mm[Math.abs(n)%10]}var lc=(function(){function n(){}return n.value=new n,n})(),w$=(function(){function n(){}return n.value=new n,n})(),C$=(function(){function n(){}return n.value=new n,n})(),M$=(function(){function n(){}return n.value=new n,n})(),F$=(function(){return{name:"Issue Involvement",description:"Colors represent involvement in issue discussions",legendItems:[{label:"High",category:"high",color:"#d62728",description:v.value},{label:"Medium",category:"medium",color:"#ff7f0e",description:v.value},{label:"Low",category:"low",color:"#1f77b4",description:v.value},{label:"None",category:"none",color:"#cccccc",description:v.value}],colorMapping:function(n){return n==="high"?"#d62728":n==="medium"?"#ff7f0e":n==="low"?"#1f77b4":"#cccccc"}}})(),S$=(function(){return{name:"Git Activity",description:"Colors represent commit frequency and recency",legendItems:[{label:"Very Active",category:"veryActive",color:"#2ca02c",description:v.value},{label:"Active",category:"active",color:"#98df8a",description:v.value},{label:"Moderate",category:"moderate",color:"#ffbb78",description:v.value},{label:"Inactive",category:"inactive",color:"#ff7f0e",description:v.value},{label:"Stale",category:"stale",color:"#d62728",description:v.value}],colorMapping:function(n){return n==="veryActive"?"#2ca02c":n==="active"?"#98df8a":n==="moderate"?"#ffbb78":n==="inactive"?"#ff7f0e":n==="stale"?"#d62728":"#cccccc"}}})();var x$=function(n){return n==="typeClass"?xe(0):n==="data"?xe(1):n==="typeSynonym"?xe(2):n==="externData"?xe(3):n==="alias"?xe(4):n==="value"?xe(5):n==="typeClassInstance"?xe(6):n==="externValue"?xe(7):xe(8)},I$=(function(){return{name:"Declaration Types",description:"Colors represent different PureScript declaration types",legendItems:[{label:"Type Class",category:"typeClass",color:xe(0),description:new m("Type classes define interfaces")},{label:"Data Type",category:"data",color:xe(1),description:new m("Data types and type constructors")},{label:"Type Synonym",category:"typeSynonym",color:xe(2),description:new m("Type aliases")},{label:"Extern Data",category:"externData",color:xe(3),description:new m("Foreign data types")},{label:"Alias",category:"alias",color:xe(4),description:new m("Value aliases")},{label:"Value",category:"value",color:xe(5),description:new m("Functions and values")},{label:"Type Class Instance",category:"typeClassInstance",color:xe(6),description:new m("Instance implementations")},{label:"Extern Value",category:"externValue",color:xe(7),description:new m("Foreign functions")}],colorMapping:x$}})(),A$=(function(){return{name:"Author Activity",description:"Colors represent different authors/contributors",legendItems:[{label:"Author 1",category:"author1",color:xe(0),description:v.value},{label:"Author 2",category:"author2",color:xe(1),description:v.value},{label:"Author 3",category:"author3",color:xe(2),description:v.value},{label:"Author 4",category:"author4",color:xe(3),description:v.value},{label:"Others",category:"others",color:"#cccccc",description:v.value}],colorMapping:function(n){return n==="author1"?xe(0):n==="author2"?xe(1):n==="author3"?xe(2):n==="author4"?xe(3):"#cccccc"}}})(),mh=function(n){if(n instanceof lc)return I$;if(n instanceof w$)return S$;if(n instanceof C$)return F$;if(n instanceof M$)return A$;throw new Error("Failed pattern match at Data.ColorPalette (line 70, column 1 - line 70, column 43): "+[n.constructor.name])},vh=function(n){return function(e){var t=mh(n);return t.colorMapping(e)}};var L$=typeof Array.from=="function",N$=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",P$=typeof String.prototype.fromCodePoint=="function",R$=typeof String.prototype.codePointAt=="function",pM=function(n){return R$?function(e){return e.codePointAt(0)}:n};var _M=function(n){return P$?String.fromCodePoint:n},mM=function(n){return function(e){return N$?function(t){for(var r="",a=t[Symbol.iterator](),o=0;o<e;++o){var u=a.next();if(u.done)return r;r+=u.value}return r}:n(e)}},vM=function(n){return function(e){return L$?function(t){return Array.from(t,e)}:n}};function Wu(n){return n.charCodeAt(0)}function dM(n){return String.fromCharCode(n)}var DM=xa(bi),gM=Sa(bi);var sc=function(n){return n.toEnum};var Dh=function(n){return n.fromEnum},hM=function(n){var e=sc(n),t=Dh(n),r=xa(n.Bounded0());return function(a){return function(o){return function(u){var i=e(u);if(i instanceof m)return i.value0;if(i instanceof v){var f=u<t(r);return f?a:o}throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[i.constructor.name])}}}};var Gi=function(n){return function(e){return function(t){return n(e(t)+1|0)}}},Vi=function(n){return function(e){return function(t){return n(e(t)-1|0)}}};var dh=function(n){return n>=Wu(DM)&&n<=Wu(gM)?new m(dM(n)):v.value},q$={succ:Gi(dh)(Wu),pred:Vi(dh)(Wu),Ord0:function(){return x_}};var gh=(function(){return{cardinality:Wu(gM)-Wu(DM)|0,toEnum:dh,fromEnum:Wu,Bounded0:function(){return bi},Enum1:function(){return q$}}})();var yM=function(n){return function(e){return function(t){return(t|0)===t?n(t):e}}},Tn=function(n){return n};var vm=isFinite;var hh=Math.abs;var dm=function(n){return function(e){return Math.atan2(n,e)}},yh=Math.ceil,hr=Math.cos;var bh=Math.floor;var yr=Math.sin,It=Math.sqrt;var ms=3.141592653589793;var bM=Sa(I_),TM=xa(I_);var Dm=(function(){return yM(m.create)(v.value)})(),EM=function(n){if(!vm(n))return 0;if(n>=Tn(bM))return bM;if(n<=Tn(TM))return TM;if(le)return An(0)(Dm(n));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[n.constructor.name])};var gm=function(n){return EM(bh(n))};var pc=function(n){return EM(yh(n))};var Th=function(n){return n.split("")},vs=function(n){return n};var _c=function(n){return n.length};var wM=function(n){return function(e){return function(t){return function(r){var a=r.indexOf(t);return a===-1?e:n(a)}}}};var ds=function(n){return function(e){return e.substr(0,n)}},mc=function(n){return function(e){return e.substring(n)}};var ku=function(n){return function(e){if(n>=0&&n<e.length)return e.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Ds=(function(){return wM(m.create)(v.value)})();var vc=function(n){return n.toLowerCase()};var jo=function(n){return function(e){return e.join(n)}};var gs=Dh(gh),Ch=T(Xn),ak=Na(Jr),ok=fo(Ft),uk=er(Ft);var MM=function(n){return function(e){return(((n-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var FM=function(n){return 56320<=n&&n<=57343},SM=function(n){return 55296<=n&&n<=56319},xM=function(n){var e=_c(n);if(e===0)return v.value;if(e===1)return new m({head:gs(ku(0)(n)),tail:""});var t=gs(ku(1)(n)),r=gs(ku(0)(n)),a=SM(r)&&FM(t);return a?new m({head:MM(r)(t),tail:mc(2)(n)}):new m({head:r,tail:mc(1)(n)})},ik=function(n){return Ch(function(e){return new S(e.head,e.tail)})(xM(n))},fk=function(n){return ak(ik)(n)},ck=function(n){var e=gs(ku(0)(n)),t=SM(e)&&_c(n)>1;if(t){var r=gs(ku(1)(n)),a=FM(r);return a?MM(e)(r):e}return e},lk=pM(ck),sk=vM(fk)(lk),IM=function(n){return X(sk(n))};var AM=function(n){return function(e){return Ch(function(t){return IM(ds(t)(e))})(Ds(n)(e))}},wh=(function(){var n=hM(gh)(xa(bi))(Sa(bi));return function(e){return vs(n(e))}})(),pk=function(n){if(n<=65535)return wh(n);var e=ok(n-65536|0)(1024)+55296|0,t=uk(n-65536|0)(1024)+56320|0;return wh(e)+wh(t)};var _k=_M(pk),LM=function(n){return function(e){if(n<1)return"";var t=xM(e);return t instanceof m?_k(t.value0.head)+LM(n-1|0)(t.value0.tail):e}},ym=mM(LM);var bm=function(n){return function(e){return mc(_c(ym(n)(e)))(e)}},NM=function(n){return function(e){return function(t){var r=bm(e)(t);return Ch(function(a){return e+IM(ds(a)(r))|0})(Ds(n)(r))}}};var ue={liftEffect:Dn(yn),Monad0:function(){return La}},Rn=function(n){return n.liftEffect};var yo=function(n){return function(){console.log(n)}},hs=function(n){return function(){console.warn(n)}};var Qt=function(n){var e=Rn(n);return function(t){return e(yo(t))}};var Wa=(function(){function n(){}return n.value=new n,n})(),ar=(function(){function n(){}return n.value=new n,n})(),Ar=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),bt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),or=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ur=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Qr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ca=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Tm=function(n){if(n instanceof Wa)return"project";if(n instanceof ar)return"all";throw new Error("Failed pattern match at Engine.ViewState (line 118, column 1 - line 118, column 35): "+[n.constructor.name])},Em=function(n){if(n instanceof Wa)return"project";if(n instanceof ar)return"all";throw new Error("Failed pattern match at Engine.ViewState (line 114, column 1 - line 114, column 35): "+[n.constructor.name])},yk={eq:function(n){return function(e){return n instanceof Wa&&e instanceof Wa||n instanceof ar&&e instanceof ar}}},wm=tn(yk),kM={eq:function(n){return function(e){return n instanceof Ar&&e instanceof Ar||n instanceof bt&&e instanceof bt||n instanceof or&&e instanceof or||n instanceof ur&&e instanceof ur?wm(n.value0)(e.value0):n instanceof Qr&&e instanceof Qr||n instanceof ca&&e instanceof ca?n.value0===e.value0:!1}}};var qM=function(n){if(n instanceof Ar)return{text:"["+("Grid"+("] of ["+(Em(n.value0)+"] modules, sized by lines of code"))),controls:[{id:"layout",current:"grid",options:["grid","orbit"]},{id:"scope",current:Tm(n.value0),options:["project","all"]}]};if(n instanceof bt)return{text:"["+("Grid"+("] of ["+(Em(n.value0)+"] packages"))),controls:[{id:"layout",current:"grid",options:["grid","orbit"]},{id:"scope",current:Tm(n.value0),options:["project","all"]}]};if(n instanceof or)return{text:"["+("Orbit"+("] of ["+(Em(n.value0)+"] modules, grouped by package"))),controls:[{id:"layout",current:"orbit",options:["grid","orbit","tree"]},{id:"scope",current:Tm(n.value0),options:["project","all"]}]};if(n instanceof ur)return{text:"["+("Dependency tree"+("] of ["+(Em(n.value0)+"] module dependencies"))),controls:[{id:"layout",current:"tree",options:["grid","orbit","tree"]},{id:"scope",current:Tm(n.value0),options:["project","all"]}]};if(n instanceof Qr)return{text:"Neighborhood of ["+(n.value0+"] \u2014 imports and dependents"),controls:[{id:"module",current:n.value0,options:[]}]};if(n instanceof ca)return{text:"Function calls in ["+(n.value0+"]"),controls:[{id:"module",current:n.value0,options:[]}]};throw new Error("Failed pattern match at Engine.ViewState (line 52, column 15 - line 101, column 6): "+[n.constructor.name])};var Sh=A,UM=A;var Ek=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var JM=function(n){return function(e){return Sh(function(t){return n(t.value0)(t.value1)})(e)}};var zM=function(n){return function(e){return UM(new Ek(n,e))}},xh={map:function(n){return function(e){return Sh(function(t){return zM(function(r){return n(t.value0(r))})(t.value1)})(e)}}};var jM=zM(Dn(yn));var wk=Oe(cn),QM=Ru(xi),Ck=Yn(cn);var zi=function(n){return n.foldrWithIndex},Ah=function(n){var e=Uf(n.Apply0()),t=L(n);return function(r){var a=zi(r);return function(o){return a(function(u){var i=o(u);return function(f){return e(i(f))}})(t(void 0))}}};var dc=function(n){return n.foldlWithIndex};var Mk=function(n){var e=zi(n);return function(t){var r=Q(t.Semigroup0()),a=fe(t);return function(o){return e(function(u){return function(i){return function(f){return r(o(u)(i))(f)}}})(a)}}},Qo={foldrWithIndex:function(n){return function(e){var t=wk(function(a){return function(o){return n(a.value0)(a.value1)(o)}})(e),r=QM(S.create);return function(a){return t(r(a))}}},foldlWithIndex:function(n){return function(e){var t=Ck(function(a){return function(o){return n(o.value0)(a)(o.value1)}})(e),r=QM(S.create);return function(a){return t(r(a))}}},foldMapWithIndex:function(n){return Mk(Qo)(n)},Foldable0:function(){return cn}};var Fk=function(n){var e=Ii(n.Traversable2()),t=Ru(n.FunctorWithIndex0());return function(r){var a=e(r);return function(o){var u=t(o);return function(i){return a(u(i))}}}},Uu=function(n){return n.traverseWithIndex};var Dc={traverseWithIndex:function(n){return Fk(Dc)(n)},FunctorWithIndex0:function(){return xi},FoldableWithIndex1:function(){return Qo},Traversable2:function(){return Vr}};var ka=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var Lh=function(n){var e=vr(n);return function(t){return new ka(t,e)}};var Ak=Dn(yn),$=(function(){function n(){}return n.value=new n,n})(),Y=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Nh=function(n){return n},Lk=function(n){return new Y(n.value0,n.value1)};var Nk=function(n){var e=function(t){return function(r){var a=t,o=!1,u;function i(f,c){if(c instanceof Y&&c.value1 instanceof Y&&c.value1.value1 instanceof Y){a=new Y(c,f),r=c.value1.value1.value1;return}var l=function(p){return p instanceof Y&&p.value1 instanceof Y&&p.value1.value1 instanceof $?new Y(n(p.value0),new Y(n(p.value1.value0),$.value)):p instanceof Y&&p.value1 instanceof $?new Y(n(p.value0),$.value):$.value},s=function(p){return function(_){var d=p,g=!1,D;function b(I,M){if(I instanceof Y&&I.value0 instanceof Y&&I.value0.value1 instanceof Y&&I.value0.value1.value1 instanceof Y){d=I.value1,_=new Y(n(I.value0.value0),new Y(n(I.value0.value1.value0),new Y(n(I.value0.value1.value1.value0),M)));return}return g=!0,M}for(;!g;)D=b(d,_);return D}};return o=!0,s(f)(l(c))}for(;!o;)u=i(a,r);return u}};return e($.value)},Xo={map:Nk};var We={foldr:function(n){return function(e){var t=(function(){var a=function(o){return function(u){var i=o,f=!1,c;function l(s,p){if(p instanceof $)return f=!0,s;if(p instanceof Y){i=new Y(p.value0,s),u=p.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[s.constructor.name,p.constructor.name])}for(;!f;)c=l(i,u);return c}};return a($.value)})(),r=Yn(We)(Qn(n))(e);return function(a){return r(t(a))}}},foldl:function(n){var e=function(t){return function(r){var a=t,o=!1,u;function i(f,c){if(c instanceof $)return o=!0,f;if(c instanceof Y){a=n(f)(c.value0),r=c.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[c.constructor.name])}for(;!o;)u=i(a,r);return u}};return e},foldMap:function(n){var e=Q(n.Semigroup0()),t=fe(n);return function(r){return Yn(We)(function(a){var o=e(a);return function(u){return o(r(u))}})(t)}}},XM=Yn(We),Pk=Oe(We);var Ph={append:function(n){return function(e){return Pk(Y.create)(e)(n)}}},KM=Q(Ph);var ZM={append:function(n){return function(e){return new ka(n.value0,KM(n.value1)(Lk(e)))}}};var ys={traverse:function(n){var e=n.Apply0(),t=T(e.Functor0()),r=Pt(e),a=L(n);return function(o){var u=t(XM(Qn(Y.create))($.value)),i=XM(function(f){var c=r(Qn(Y.create))(f);return function(l){return c(o(l))}})(a($.value));return function(f){return u(i(f))}}},sequence:function(n){return He(ys)(n)(Ak)},Functor0:function(){return Xo},Foldable1:function(){return We}};var Rk={alt:KM,Functor0:function(){return Xo}},nF=(function(){return{empty:$.value,Alt0:function(){return Rk}}})();var ji=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var Ok=T(Xn);var ye=(function(){function n(){}return n.value=new n,n})(),he=(function(){function n(e,t,r,a,o,u){this.value0=e,this.value1=t,this.value2=r,this.value3=a,this.value4=o,this.value5=u}return n.create=function(e){return function(t){return function(r){return function(a){return function(o){return function(u){return new n(e,t,r,a,o,u)}}}}}},n})(),rF=(function(){function n(){}return n.value=new n,n})(),Rh=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),Wh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var Mm=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),eF=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),la=function(n,e,t,r){if(t instanceof ye){if(r instanceof ye)return new he(1,1,n,e,t,r);if(r instanceof he)return new he(1+r.value0|0,1+r.value1|0,n,e,t,r);throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): "+[r.constructor.name])}if(t instanceof he){if(r instanceof ye)return new he(1+t.value0|0,1+t.value1|0,n,e,t,r);if(r instanceof he)return new he(1+(function(){var a=t.value0>r.value0;return a?t.value0:r.value0})()|0,(1+t.value1|0)+r.value1|0,n,e,t,r);throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): "+[t.constructor.name])},Hk=(function(){return Qn(Wh.create)(rF.value)})(),Wk=function(n){return function(e){return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof rF)return o=!0,t(void 0);if(f instanceof Rh)return o=!0,e(f.value0,f.value1,f.value2);if(f instanceof Wh){a=n(f.value1)(f.value0);return}throw new Error("Failed pattern match at Data.Map.Internal (line 940, column 8 - line 946, column 20): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}}};var bs=function(n){return function(e){return new he(1,1,n,e,ye.value,ye.value)}},qa=(function(){var n=function(r){if(r instanceof ye)return 0;if(r instanceof he)return r.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): "+[r.constructor.name])},e=function(r,a,o,u,i,f,c){return f instanceof he&&f.value0>n(c)?la(f.value2,f.value3,la(r,a,o,f.value4),la(u,i,f.value5,c)):la(u,i,la(r,a,o,f),c)},t=function(r,a,o,u,i,f,c){return f instanceof he&&n(i)<=f.value0?la(f.value2,f.value3,la(o,u,i,f.value4),la(r,a,f.value5,c)):la(o,u,i,la(r,a,f,c))};return function(r,a,o,u){if(o instanceof ye)return u instanceof ye?bs(r)(a):u instanceof he&&u.value0>1?e(r,a,o,u.value2,u.value3,u.value4,u.value5):la(r,a,o,u);if(o instanceof he){if(u instanceof he){if(u.value0>(o.value0+1|0))return e(r,a,o,u.value2,u.value3,u.value4,u.value5);if(o.value0>(u.value0+1|0))return t(r,a,o.value2,o.value3,o.value4,o.value5,u)}return u instanceof ye&&o.value0>1?t(r,a,o.value2,o.value3,o.value4,o.value5,u):la(r,a,o,u)}throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): "+[o.constructor.name])}})(),Oh=ji("unsafeSplit","Data.Map.Internal",function(){return function(n,e,t){if(t instanceof ye)return new Mm(v.value,ye.value,ye.value);if(t instanceof he){var r=n(e)(t.value2);if(r instanceof Z){var a=Oh(793)(n,e,t.value4);return new Mm(a.value0,a.value1,qa(t.value2,t.value3,a.value2,t.value5))}if(r instanceof K){var a=Oh(796)(n,e,t.value5);return new Mm(a.value0,qa(t.value2,t.value3,t.value4,a.value1),a.value2)}if(r instanceof vn)return new Mm(new m(t.value3),t.value4,t.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): "+[t.constructor.name])}}),$h=Oh(786),aF=ji("unsafeSplitLast","Data.Map.Internal",function(){return function(n,e,t,r){if(r instanceof ye)return new eF(n,e,t);if(r instanceof he){var a=aF(779)(r.value2,r.value3,r.value4,r.value5);return new eF(a.value0,a.value1,qa(n,e,t,a.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 776, column 37 - line 780, column 57): "+[r.constructor.name])}}),$k=aF(775),kh=function(n,e){if(n instanceof ye)return e;if(n instanceof he){var t=$k(n.value2,n.value3,n.value4,n.value5);return qa(t.value0,t.value1,t.value2,e)}throw new Error("Failed pattern match at Data.Map.Internal (line 764, column 25 - line 768, column 38): "+[n.constructor.name,e.constructor.name])};var Hh=ji("unsafeUnionWith","Data.Map.Internal",function(){return function(n,e,t,r){if(t instanceof ye)return r;if(r instanceof ye)return t;if(r instanceof he){var a=$h(n,r.value2,t),o=Hh(809)(n,e,a.value1,r.value4),u=Hh(810)(n,e,a.value2,r.value5);if(a.value0 instanceof m)return qa(r.value2,e(a.value0.value0)(r.value3),o,u);if(a.value0 instanceof v)return qa(r.value2,r.value3,o,u);throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): "+[a.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): "+[t.constructor.name,r.constructor.name])}}),kk=Hh(803),qh=function(n){var e=on(n);return function(t){return function(r){return function(a){return kk(e,t,r,a)}}}},Ts=function(n){return qh(n)(H)};var Uh=function(n){var e=on(n);return function(t){return function(r){var a=$h(e,t,r);return Ok(function(o){return new S(o,kh(a.value1,a.value2))})(a.value0)}}},Sm=function(n){var e=on(n);return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof ye)return o=!0,!1;if(f instanceof he){var c=e(t)(f.value2);if(c instanceof Z){a=f.value4;return}if(c instanceof K){a=f.value5;return}if(c instanceof vn)return o=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}};var Tt=function(n){var e=on(n);return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof ye)return o=!0,v.value;if(f instanceof he){var c=e(t)(f.value2);if(c instanceof Z){a=f.value4;return}if(c instanceof K){a=f.value5;return}if(c instanceof vn)return o=!0,new m(f.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}};var qk=(function(){var n=function(e){return function(t){var r=e,a=!1,o;function u(i,f){if(f instanceof ye)return a=!0,i;if(f instanceof he){if(f.value5 instanceof ye){r=new Rh(f.value2,f.value3,i),t=f.value4;return}r=new Rh(f.value2,f.value3,new Wh(f.value5,i)),t=f.value4;return}throw new Error("Failed pattern match at Data.Map.Internal (line 951, column 13 - line 958, column 48): "+[f.constructor.name])}for(;!a;)o=u(r,t);return o}};return n})(),Uk=Wk(qk);var Bk=(function(){var n=function(e,t,r){return new m(new S(new S(e,t),r))};return Uk(n)(function(e){return v.value})})(),Qi=function(n){var e=Na(n)(Bk);return function(t){return e(Hk(t))}};var at=function(n){var e=on(n);return function(t){return function(r){var a=function(o){if(o instanceof ye)return bs(t)(r);if(o instanceof he){var u=e(t)(o.value2);if(u instanceof Z)return qa(o.value2,o.value3,a(o.value4),o.value5);if(u instanceof K)return qa(o.value2,o.value3,o.value4,a(o.value5));if(u instanceof vn)return new he(o.value0,o.value1,t,r,o.value4,o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): "+[u.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): "+[o.constructor.name])};return a}}},Es={map:function(n){var e=function(t){if(t instanceof ye)return ye.value;if(t instanceof he)return new he(t.value0,t.value1,t.value2,n(t.value3),e(t.value4),e(t.value5));throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 10 - line 150, column 39): "+[t.constructor.name])};return e}};var Xi={foldr:function(n){return function(e){var t=ji("go","Data.Map.Internal",function(){return function(a,o){if(a instanceof ye)return o;if(a instanceof he)return t(172)(a.value4,n(a.value3)(t(172)(a.value5,o)));throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): "+[a.constructor.name])}}),r=t(169);return function(a){return r(a,e)}}},foldl:function(n){return function(e){var t=ji("go","Data.Map.Internal",function(){return function(a,o){if(o instanceof ye)return a;if(o instanceof he)return t(178)(n(t(178)(a,o.value4))(o.value3),o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): "+[o.constructor.name])}}),r=t(175);return function(a){return r(e,a)}}},foldMap:function(n){var e=fe(n),t=Q(n.Semigroup0());return function(r){var a=function(o){if(o instanceof ye)return e;if(o instanceof he)return t(a(o.value4))(t(r(o.value3))(a(o.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): "+[o.constructor.name])};return a}}},xm={foldrWithIndex:function(n){return function(e){var t=ji("go","Data.Map.Internal",function(){return function(a,o){if(a instanceof ye)return o;if(a instanceof he)return t(192)(a.value4,n(a.value2)(a.value3)(t(192)(a.value5,o)));throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): "+[a.constructor.name])}}),r=t(189);return function(a){return r(a,e)}}},foldlWithIndex:function(n){return function(e){var t=ji("go","Data.Map.Internal",function(){return function(a,o){if(o instanceof ye)return a;if(o instanceof he)return t(198)(n(o.value2)(t(198)(a,o.value4))(o.value3),o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): "+[o.constructor.name])}}),r=t(195);return function(a){return r(e,a)}}},foldMapWithIndex:function(n){var e=fe(n),t=Q(n.Semigroup0());return function(r){var a=function(o){if(o instanceof ye)return e;if(o instanceof he)return t(a(o.value4))(t(r(o.value2)(o.value3))(a(o.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): "+[o.constructor.name])};return a}},Foldable0:function(){return Xi}},oF=(function(){return zi(xm)(function(n){return function(e){return function(t){return new Y(n,t)}}})($.value)})();var ws=(function(){return Oe(Xi)(Y.create)($.value)})();var ie=(function(){return ye.value})(),Ua=function(n){var e=at(n);return function(t){return Yn(t)(function(r){return function(a){return e(a.value0)(a.value1)(r)}})(ie)}};var yc=function(n){var e=on(n);return function(t){var r=function(a){if(a instanceof ye)return ye.value;if(a instanceof he){var o=e(t)(a.value2);if(o instanceof Z)return qa(a.value2,a.value3,r(a.value4),a.value5);if(o instanceof K)return qa(a.value2,a.value3,a.value4,r(a.value5));if(o instanceof vn)return kh(a.value4,a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 7 - line 501, column 43): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 8 - line 501, column 43): "+[a.constructor.name])};return r}};var bc=function(n){var e=on(n);return function(t){return function(r){return function(a){var o=$h(e,r,a),u=t(o.value0);if(u instanceof v)return kh(o.value1,o.value2);if(u instanceof m)return qa(r,u.value0,o.value1,o.value2);throw new Error("Failed pattern match at Data.Map.Internal (line 514, column 3 - line 518, column 41): "+[u.constructor.name])}}}};var Vk=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})();var Im=function(n){return Vk.create(tn(n.Eq0()))(on(n))},Jk={eq:function(n){return function(e){return n.value0(n.value2)(e.value2)}}},uF={compare:function(n){return function(e){return n.value1(n.value2)(e.value2)}},Eq0:function(){return Jk}};var Bh=wi(ee)(uF);var Yk=Uh(Bh),Kk=Tt(Bh),Zk=at(Bh);var iF=function(){return function(n){var e=ct(n);return function(t){var r=Im(t);return function(a){return function(o){return function(u){return Yk(new S(e(a),r(o)))(u)}}}}}},Am=function(){return function(n){var e=ct(n);return function(t){var r=Im(t);return function(a){return function(o){return function(u){return Kk(new S(e(a),r(o)))(u)}}}}}},fF=function(){return function(n){var e=ct(n);return function(t){var r=Im(t);return function(a){return function(o){return function(u){return function(i){return Zk(new S(e(a),r(o)))(u)(i)}}}}}}},cF=function(n){var e=Ve(n)(Xi);return function(t){return function(r){return e(function(a){return r(a)})(t)}}},Tc=ie;var Gh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Yi=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();function sF(n,e,t){return n==null?e:t(n)}function Fs(n){return n}var ot=Fe(null)(Fs),se=function(n){return sF(n,v.value,m.create)};var ze=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Ss=A,Lr=function(n,e){return n.value2(n.value1,e)},je=A,Nr=function(n){return n.value3(n.value1)},Xt=Ss(function(n){return n.value0});var pF=T(gn),gq=T(Mu);var Bu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Yo=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Gu=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Vu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ko=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),hq=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),_F=function(n){return function(e){return n(e)}};var yq=A;var bq={bimap:function(n){return function(e){return _F(function(t){return yq(new hq(function(r){return n(t.value0(r))},function(r){return e(t.value1(r))},t.value2))})}}},Tq=po(bq);var Ki=_F(function(n){var e=function(t){if(t instanceof Bu)return new Bu(t.value0);if(t instanceof Yo)return new Yo(t.value0,t.value1,n.value0(t.value2),pF(e)(t.value3));if(t instanceof Gu)return new Gu(t.value0,t.value1,n.value0(t.value2),pF(gq(e))(t.value3));if(t instanceof Vu)return new Vu(n.value1(t.value0));if(t instanceof Ko)return new Ko(Tq(n.value0)(n.value1)(t.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[t.constructor.name])};return e(n.value2)});function Zi(n,e){return e[n]}function Jh(n,e){return e.hasOwnProperty(n)}function Zo(n,e,t){t[n]=e}function zh(n,e){for(var t=[],r=0;r<n.length;r++)t.push(e(r,n[r]));return t}function jh(n,e){for(var t=0;t<n.length;t++)e(n[t])}function Qh(n,e){for(var t=Object.keys(n),r=0;r<t.length;r++){var a=t[r];e(a,n[a])}}function Xh(n,e,t,r,a){for(var o=[],u=n.length,i=e.length,f=0;;){if(f<u)f<i?o.push(t(f,n[f],e[f])):r(f,n[f]);else if(f<i)o.push(a(f,e[f]));else break;f++}return o}function xs(n,e,t){for(var r={},a=0;a<n.length;a++){var o=n[a],u=e(o);r[u]=t(u,a,o)}return r}function Is(n,e,t,r,a,o){for(var u={},i=0;i<e.length;i++){var f=e[i],c=t(f);n.hasOwnProperty(c)?u[c]=r(c,i,n[c],f):u[c]=o(c,i,f)}for(var c in n)c in u||a(c,n[c]);return u}function nf(n,e){return n===e}function Yh(n,e){return e.createTextNode(n)}function Kh(n,e){e.textContent=n}function Pm(n,e,t){return n!=null?t.createElementNS(n,e):t.createElement(e)}function Ju(n,e,t){var r=t.childNodes.item(n)||null;r!==e&&t.insertBefore(e,r)}function As(n,e){e&&n.parentNode===e&&e.removeChild(n)}function Ls(n){return n.parentNode}function Rm(n,e,t,r){n!=null?r.setAttributeNS(n,e,t):r.setAttribute(e,t)}function Om(n,e,t){n!=null?t.removeAttributeNS(n,e):t.removeAttribute(e)}function Zh(n,e,t){return n!=null?t.hasAttributeNS(n,e):t.hasAttribute(e)}function ny(n,e,t){t.addEventListener(n,e,!1)}function ey(n,e,t){t.removeEventListener(n,e,!1)}var ty=void 0;var Ns=function(){return{}};function Hm(n){return function(e){return function(t){return function(){return t[n]=e,t}}}}var ry=Zi,ay=A,oy=Zo,uy=Ns;var Wm=function(n){return function(e){return e[n]}},Fq=Wm("namespaceURI"),Sq=Wm("prefix"),xq=Wm("localName"),Iq=Wm("tagName");function $m(n){return function(){return n.classList}}function Ps(n){return function(e){return function(t){return function(){t.setAttribute(n,e)}}}}var km=function(n){return function(e){return function(){return e[n]}}},Lq=km("children"),Nq=km("firstElementChild"),Pq=km("lastElementChild"),Rq=km("childElementCount");function vF(n){return function(e){return function(){return e.querySelector(n)}}}function qm(n){return function(e){return function(){return e.querySelectorAll(n)}}}var Hq=T(Ln);var Ba=function(n){var e=Hq(se),t=vF(n);return function(r){return e(t(r))}};function dF(n,e,t,r){if(typeof window<"u"){var a=window[t];if(a!=null&&r instanceof a)return e(r)}for(var o=r;o!=null;){var u=Object.getPrototypeOf(o),i=u.constructor.name;if(i===t)return e(r);if(i==="Object")return n;o=u}return n}var ln=function(n){return function(e){return dF(v.value,m.create,n,e)}};var fy=A;var ir=A;var cy=ln("Element");var Os=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var ly=function(n){return Nr(n.widget)},sy=Os("patchWidget","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Ko)return sy(291)(n,Ki(e.value0));if(e instanceof Vu){var t=Lr(n.widget,e.value0),r=Ss(function(a){return je(new ze(a.value0,{build:n.build,widget:t},sy(296),ly))})(t);return r}return ly(n),n.build(e)}}),qq=sy(286),Bm=function(n){var e=Ls(n.node);return As(n.node,e)},Gm=Os("patchText","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Ko)return Gm(82)(n,Ki(e.value0));if(e instanceof Bu){if(n.value===e.value0)return je(new ze(n.node,n,Gm(85),Bm));if(le){var t={build:n.build,node:n.node,value:e.value0};return Kh(e.value0,n.node),je(new ze(n.node,t,Gm(89),Bm))}}return Bm(n),n.build(e)}}),Uq=Gm(77),Vm=function(n){var e=Ls(n.node);return As(n.node,e),Qh(n.children,function(t,r){return Nr(r)}),Nr(n.attrs)},Jm=function(n){var e=Ls(n.node);return As(n.node,e),jh(n.children,Nr),Nr(n.attrs)},DF=function(n,e,t,r){var a=e===r;return a?n instanceof m&&t instanceof m&&n.value0===t.value0||n instanceof v&&t instanceof v:!1},zm=Os("patchElem","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Ko)return zm(135)(n,Ki(e.value0));if(e instanceof Yo&&DF(n.ns,n.name,e.value0,e.value1)){var t=X(e.value3),r=X(n.children);if(r===0&&t===0){var f=Lr(n.attrs,e.value2),c={build:n.build,node:n.node,attrs:f,ns:e.value0,name:e.value1,children:n.children};return je(new ze(n.node,c,zm(149),Jm))}var a=function(l,s){return Nr(s)},o=function(l,s,p){var _=Lr(s,p);return Ju(l,Xt(_),n.node),_},u=function(l,s){var p=n.build(s);return Ju(l,Xt(p),n.node),p},i=Xh(n.children,e.value3,o,a,u),f=Lr(n.attrs,e.value2),c={build:n.build,node:n.node,attrs:f,ns:e.value0,name:e.value1,children:i};return je(new ze(n.node,c,zm(172),Jm))}return Jm(n),n.build(e)}}),Bq=zm(130),jm=Os("patchKeyed","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof Ko)return jm(222)(n,Ki(e.value0));if(e instanceof Gu&&DF(n.ns,n.name,e.value0,e.value1)){var t=X(e.value3);if(n.length===0&&t===0){var i=Lr(n.attrs,e.value2),f={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:n.children,length:0};return je(new ze(n.node,f,jm(237),Vm))}var r=function(c,l){return Nr(l)},a=function(c,l,s,p){var _=Lr(s,p.value1);return Ju(l,Xt(_),n.node),_},o=function(c,l,s){var p=n.build(s.value1);return Ju(l,Xt(p),n.node),p},u=Is(n.children,e.value3,Me,a,r,o),i=Lr(n.attrs,e.value2),f={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:u,length:t};return je(new ze(n.node,f,jm(261),Vm))}return Vm(n),n.build(e)}}),Gq=jm(217),Vq=function(n,e,t){var r=n.buildWidget(n)(t),a=Ss(function(o){return je(new ze(o.value0,{build:e,widget:r},qq,ly))})(r);return a},Jq=function(n,e,t){var r=Yh(t,n.document),a={build:e,node:r,value:t};return je(new ze(r,a,Uq,Bm))},zq=function(n,e,t,r,a,o){var u=Pm(ot(t),r,n.document),i=ir(u),f=function(p,_,d){var g=e(d.value1);return Ju(_,Xt(g),i),g},c=xs(o,Me,f),l=n.buildAttributes(u)(a),s={build:e,node:i,attrs:l,ns:t,name:r,children:c,length:X(o)};return je(new ze(i,s,Gq,Vm))},jq=function(n,e,t,r,a,o){var u=Pm(ot(t),r,n.document),i=ir(u),f=function(p,_){var d=e(_);return Ju(p,Xt(d),i),d},c=zh(o,f),l=n.buildAttributes(u)(a),s={build:e,node:i,attrs:l,ns:t,name:r,children:c};return je(new ze(i,s,Bq,Jm))},Hs=function(n){var e=Os("build","Halogen.VDom.DOM",function(){return function(r){if(r instanceof Bu)return Jq(n,e(59),r.value0);if(r instanceof Yo)return jq(n,e(60),r.value0,r.value1,r.value2,r.value3);if(r instanceof Gu)return zq(n,e(61),r.value0,r.value1,r.value2,r.value3);if(r instanceof Vu)return Vq(n,e(62),r.value0);if(r instanceof Ko)return e(63)(Ki(r.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[r.constructor.name])}}),t=e(58);return t};function Qm(n){return typeof n}function Xm(n){return Object.prototype.toString.call(n).slice(8,-1)}var hF=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function bo(n){return new Error(n)}function Ws(n){return n.message}function zu(n){return function(){throw n}}var bF=function(n){return zu(bo(n))};var Pr=function(n){return n.throwError};var To=function(n){return n.catchError};var $s=function(n){var e=To(n),t=n.MonadThrow0().Monad0(),r=T(t.Bind1().Apply0().Functor0()),a=L(t.Applicative0());return function(o){return e(r(B.create)(o))(function(u){return a(en.create(u))})}};var Kq=T(Bo);var my=function(n){return n};var vy=function(n){return n};var Zm=function(n){return function(e){return n(e)}},TF=function(n){var e=T(n);return{map:function(t){return Zm(e(Kq(t)))}}};var EF=function(n){return{Applicative0:function(){return Mc(n)},Bind1:function(){return Vs(n)}}},Vs=function(n){var e=V(n.Bind1()),t=L(n.Applicative0());return{bind:function(r){return function(a){return e(r)(mr(function(o){return t(en.create(o))})(function(o){var u=a(o);return u}))}},Apply0:function(){return dy(n)}}},dy=function(n){var e=TF(n.Bind1().Apply0().Functor0());return{apply:tr(EF(n)),Functor0:function(){return e}}},Mc=function(n){return{pure:(function(){var e=L(n.Applicative0());return function(t){return my(e(B.create(t)))}})(),Apply0:function(){return dy(n)}}};var wF=function(n){var e=EF(n);return{throwError:(function(){var t=L(n.Applicative0());return function(r){return my(t(en.create(r)))}})(),Monad0:function(){return e}}};var CF=function(n){var e=Q(n);return function(t){var r=t.Bind1(),a=V(r),o=L(t.Applicative0()),u=TF(r.Apply0().Functor0());return{alt:function(i){return function(f){return a(i)(function(c){if(c instanceof B)return o(new B(c.value0));if(c instanceof en)return a(f)(function(l){if(l instanceof B)return o(new B(l.value0));if(l instanceof en)return o(new en(e(c.value0)(l.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[l.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[c.constructor.name])})}},Functor0:function(){return u}}}};var aU=Yn(We);var Qu=(function(){var n=function(e){return function(t){var r=e,a=!1,o;function u(i,f){if(f instanceof $)return a=!0,i;if(f instanceof Y){r=new Y(f.value0,i),t=f.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[i.constructor.name,f.constructor.name])}for(;!a;)o=u(r,t);return o}};return n($.value)})();var tf=function(n){return function(e){return function(t){var r=function(a){return function(o){return function(u){var i=a,f=o,c=!1,l;function s(p,_,d){if(p instanceof $||_ instanceof $)return c=!0,d;if(p instanceof Y&&_ instanceof Y){i=p.value1,f=_.value1,u=new Y(n(p.value0)(_.value0),d);return}throw new Error("Failed pattern match at Data.List (line 779, column 3 - line 779, column 21): "+[p.constructor.name,_.constructor.name,d.constructor.name])}for(;!c;)l=s(i,f,u);return l}}};return Qu(r(e)(t)($.value))}}};var MF=function(n){return n instanceof $};var nv=aU(function(n){return function(e){return n+1|0}})(0);var Xu=function(n){return Oe(n)(Y.create)($.value)};var FF=function(n){return n()};var SF=function(n){throw new Error(n)};var xF=function(){return SF};var fU=xF(),cU=FF,fr=function(n){return cU(function(){return fU(n)})};var tv=(function(){var n=Lh(nF);return function(e){return Nh(n(e))}})();var IF=function(n){return n.value0};var AF=function(n){return function(e){return new ka(n,new Y(e.value0,e.value1))}};var _U=q(Fr),mU=q(Ae);var Dy=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),gy=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),PF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),RF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),eu=A,vU=A;var av=function(n){if(n instanceof Dy)return n.value0;if(n instanceof PF)return"Error at array index "+(mU(n.value0)+(": "+av(n.value1)));if(n instanceof RF)return"Error at property "+(_U(n.value0)+(": "+av(n.value1)));if(n instanceof gy)return"Type mismatch: expected "+(n.value0+(", found "+n.value1));throw new Error("Failed pattern match at Foreign (line 78, column 1 - line 78, column 45): "+[n.constructor.name])};var ov=function(n){var e=Pr(wF(n));return function(t){return e(tv(t))}};var OF=function(n){var e=L(Mc(n)),t=ov(n);return function(r){return function(a){if(Xm(a)===r)return e(vU(a));if(le)return t(new gy(r,Xm(a)));throw new Error("Failed pattern match at Foreign (line 123, column 1 - line 123, column 104): "+[r.constructor.name,a.constructor.name])}}};function HF(n){return function(){var e={};for(var t in n)hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}}var Rr={};function iv(n){return n()}function WF(n,e){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=e(n[r]));return t}function $F(n,e){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=e(r)(n[r]));return t}function kF(n){return function(e){return function(t){return function(r){var a=t;function o(i){return function(f){return e(f)(i)(r[i])}}for(var u in r)hasOwnProperty.call(r,u)&&(a=n(a)(o(u)));return a}}}}function fv(n){var e=0;for(var t in n)hasOwnProperty.call(n,t)&&++e;return e}function qF(n,e,t,r){return t in r?e(r[t]):n}function Fc(n){return function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(n(r)(e[r]));return t}}var cv=Object.keys||Fc(function(n){return function(){return n}});var gU=_e(Mi),UF=Oe(cn),hU=Dn(yn);var yU=Fc(function(n){return function(e){return e}}),BF=function(n){var e=Fg(n),t=Fc(S.create);return function(r){return e(t(r))}};var bU=HF;var TU=function(n){return function(e){return iv(function(){var r=bU(e)();return n(r)(),r})}};var EU=function(n){return function(e){return $F(e,n)}},Ge=(function(){return Si(qF)(v.value)(m.create)})();var hy=function(n){return function(e){return TU(Hm(n)(e))}},GF={map:function(n){return function(e){return WF(e,n)}}},wU={mapWithIndex:EU,Functor0:function(){return GF}};var Ja=function(n){var e=jr(n);return function(t){return iv(function(){var a=Ns();return zl(e(t))(function(o){return gU(Hm(o.value0)(o.value1)(a))})(),a})}};var lv=kF(_E),VF=function(n){var e=Q(n.Semigroup0()),t=fe(n);return function(r){return lv(function(a){return function(o){return function(u){return e(a)(r(o)(u))}}})(t)}},JF={foldl:function(n){return lv(function(e){return function(t){return n(e)}})},foldr:function(n){return function(e){return function(t){return UF(n)(e)(yU(t))}}},foldMap:function(n){var e=VF(n);return function(t){return e(H(t))}}},CU={foldlWithIndex:function(n){return lv(Qn(n))},foldrWithIndex:function(n){return function(e){return function(t){return UF(A_(n))(e)(Fc(S.create)(t))}}},foldMapWithIndex:function(n){return VF(n)},Foldable0:function(){return JF}},MU={traverseWithIndex:function(n){var e=n.Apply0(),t=Zn(e),r=T(e.Functor0()),a=L(n);return function(o){return function(u){return lv(function(i){return function(f){return function(c){return t(r(Qn(hy(f)))(i))(o(f)(c))}}})(a(Rr))(u)}}},FunctorWithIndex0:function(){return wU},FoldableWithIndex1:function(){return CU},Traversable2:function(){return sv}},sv={traverse:function(n){var e=Uu(MU)(n);return function(t){return e(H(t))}},sequence:function(n){return He(sv)(n)(hU)},Functor0:function(){return GF},Foldable1:function(){return JF}};function pv(n){return function(){return function(e){return n(e)()}}}var xU=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var QF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),XF=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),tu=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),Yu=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Ku=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Sc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),IU=Zi,yy=Zo,AU=function(n,e){var t=Zh(null,n,e);if(t)return Om(null,n,e);var r=Qm(Zi(n,e));return r==="string"?Zo(n,"",e):n==="rowSpan"?Zo(n,1,e):n==="colSpan"?Zo(n,1,e):Zo(n,ty,e)},jF=function(n){if(n instanceof tu&&n.value0 instanceof m)return"attr/"+(n.value0.value0+(":"+n.value1));if(n instanceof tu)return"attr/:"+n.value1;if(n instanceof Yu)return"prop/"+n.value0;if(n instanceof Ku)return"handler/"+n.value0;if(n instanceof Sc)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},YF=A;var KF=A;var ZF=function(n){return function(e){var t=function(l){return function(s,p){if(p instanceof tu)return Om(ot(p.value0),p.value1,e);if(p instanceof Yu)return AU(p.value0,e);if(p instanceof Ku){var _=ry(p.value0,l);return ey(p.value0,Me(_),e)}if(p instanceof Sc)return void 0;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[p.constructor.name])}},r=function(l){return l instanceof m?n(l.value0)():void 0},a=function(l){var s=Ge("ref")(l.props);return s instanceof m&&s.value0 instanceof Sc?r(s.value0.value0(new XF(e))):void 0},o=function(l,s){return function(p,_,d,g){if(d instanceof tu&&g instanceof tu){var D=d.value2===g.value2;return D||Rm(ot(g.value0),g.value1,g.value2,e),g}if(d instanceof Yu&&g instanceof Yu){var b=nf(d.value1,g.value1);if(b)return g;if(g.value0==="value"){var I=IU("value",e),M=nf(I,g.value1);return M||yy(g.value0,g.value1,e),g}return yy(g.value0,g.value1,e),g}if(d instanceof Ku&&g instanceof Ku){var h=ry(g.value0,l);return rn(g.value1)(De(h))(),oy(g.value0,h,s),g}return g}},u=function(l){return function(s,p,_){if(_ instanceof tu)return Rm(ot(_.value0),_.value1,_.value2,e),_;if(_ instanceof Yu)return yy(_.value0,_.value1,e),_;if(_ instanceof Ku){var d=Zi(_.value0,l);if(Jh(_.value0,l))return rn(_.value1)(De(d))(),_;var g=zn(_.value1)(),D=pv(function(b){return function(){var M=R(g)();return r(M(b))}})();return oy(_.value0,new S(D,g),l),ny(_.value0,D,e),_}if(_ instanceof Sc)return r(_.value0(new QF(e))),_;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[_.constructor.name])}},i=xU("patchProp","Halogen.VDom.DOM.Prop",function(){return function(l,s){var p=uy(),_=t(l.events),d=o(l.events,p),g=u(p),D=Is(l.props,s,jF,d,_,g),b={events:ay(p),props:D};return je(new ze(void 0,b,i(100),a))}}),f=i(87),c=function(l){var s=uy(),p=xs(l,jF,u(s)),_={events:ay(s),props:p};return je(new ze(void 0,_,f,a))};return c}};var Ty=function(n){return n},r1=function(n){return Ty(Vu.create(n))},PU=function(n){return n.toPropValue},Ke=function(n){return Ty(Bu.create(n))};var a1=function(n){var e=PU(n);return function(t){var r=Yu.create(t);return function(a){return r(e(a))}}};var o1={toPropValue:YF};var u1={toPropValue:KF};var Ey=(function(){return Ku.create})(),wy=function(n){return function(e){return function(t){return function(r){return new Yo(n,e,t,r)}}}};var i1=function(n){return function(e){return tu.create(n)(e)}};var RU=Dn(yn);var _v=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Cy=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),My=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),f1=function(n){return function(e){return new My(n,e)}},c1=(function(){return Cy.create})(),l1=function(n){var e=L(n);return function(t){return function(r){return function(a){return function(o){return function(u){if(o instanceof _v)return new S(new Y({func:e(o.value0),count:u},t),r);if(o instanceof Cy)return new S(new Y({func:a(o.value0),count:u},t),r);if(o instanceof My)return l1(n)(t)(AF(o.value1)(r))(a)(o.value0)(u+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[o.constructor.name])}}}}}},s1=function(n){var e=Zn(n.Apply0());return function(t){return function(r){return function(a){if(t instanceof $)return new en(a);if(t instanceof Y){var o=e(t.value0.func)(a),u=t.value0.count===1;if(u)return t.value1 instanceof $?new en(o):s1(n)(t.value1)(r)(o);if(r instanceof $)return new en(o);if(r instanceof Y)return new B(new S(new Y({func:o,count:t.value0.count-1|0},t.value1),new ka(r.value0,r.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[r.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[t.constructor.name])}}}},p1={map:function(n){return function(e){return f1(new _v(n))(e)}}},_1=function(n){var e=s1(n),t=L(n),r=l1(n);return function(a){return function(o){var u=function(i){var f=!1,c;function l(s){if(s.value1.value0 instanceof _v){var p=e(s.value0)(s.value1.value1)(t(s.value1.value0.value0));if(p instanceof en)return f=!0,p.value0;if(p instanceof B){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[p.constructor.name])}if(s.value1.value0 instanceof Cy){var p=e(s.value0)(s.value1.value1)(a(s.value1.value0.value0));if(p instanceof en)return f=!0,p.value0;if(p instanceof B){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[p.constructor.name])}if(s.value1.value0 instanceof My){var _=new ka(s.value1.value0.value1,s.value1.value1);i=r(s.value0)(_)(a)(s.value1.value0.value0)(1);return}throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[s.value1.value0.constructor.name])}for(;!f;)c=l(i);return c};return u(new S($.value,tv(o)))}}},m1=function(n){return _1(n)(RU)},v1={apply:function(n){return function(e){return f1(n)(e)}},Functor0:function(){return p1}},d1=(function(){return{pure:_v.create,Apply0:function(){return v1}}})(),OU=_1(d1),Fy=function(n){return OU(function(e){return c1(n(e))})};var mv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var g1=function(n){var e=!1,t;function r(a){if(a.value0 instanceof $&&a.value1 instanceof $)return e=!0,v.value;if(a.value0 instanceof $){n=new mv(Qu(a.value1),$.value);return}if(a.value0 instanceof Y)return e=!0,new m(new S(a.value0.value0,new mv(a.value0.value1,a.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[a.constructor.name])}for(;!e;)t=r(n);return t},h1=function(n){return function(e){return new mv(n.value0,new Y(e,n.value1))}};var y1=function(n){return n.value0 instanceof $&&n.value1 instanceof $};var b1=(function(){return new mv($.value,$.value)})();var xc=(function(){function n(){}return n.value=new n,n})(),vv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var T1=function(n){return function(e){if(n instanceof xc)return e;if(e instanceof xc)return n;if(n instanceof vv)return new vv(n.value0,h1(n.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[n.constructor.name,e.constructor.name])}},WU=function(n){return function(e){return function(t){var r=function(o){return function(u){return function(i){var f=o,c=u,l=!1,s;function p(_,d,g){if(g instanceof $)return l=!0,d;if(g instanceof Y){f=_,c=_(d)(g.value0),i=g.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[_.constructor.name,d.constructor.name,g.constructor.name])}for(;!l;)s=p(f,c,i);return s}}},a=function(o){return function(u){var i=o,f=!1,c;function l(s,p){var _=g1(s);if(_ instanceof v)return f=!0,r(function(d){return function(g){return g(d)}})(e)(p);if(_ instanceof m){i=_.value0.value1,u=new Y(n(_.value0.value0),p);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[_.constructor.name])}for(;!f;)c=l(i,u);return c}};return a(t)($.value)}}},Sy=function(n){if(n instanceof xc)return v.value;if(n instanceof vv)return new m(new S(n.value0,(function(){var e=y1(n.value1);return e?xc.value:WU(T1)(xc.value)(n.value1)})()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[n.constructor.name])};var E1=(function(){return xc.value})(),w1=T1;var xy={append:w1};var C1=function(n){return function(e){return w1(n)(new vv(e,b1))}};var $U=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},kU=Q(xy);var Iy=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),dv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Dv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),qU=function(n){var e=!1,t;function r(a){var o=function(f){return f},u=function(f){return function(c){return new Iy(f.value0,kU(f.value1)(c))}};if(a.value0 instanceof dv){var i=Sy(a.value1);if(i instanceof v)return e=!0,new dv(a.value0.value0);if(i instanceof m){n=u(o(i.value0.value0)(a.value0.value0))(i.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(a.value0 instanceof Dv)return e=!0,new Dv(a.value0.value0,function(f){return u(a.value0.value1(f))(a.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[a.value0.constructor.name])}for(;!e;)t=r(n);return t};var F1=function(n){return new Iy(n,E1)};var Ay={Applicative0:function(){return Js},Bind1:function(){return gv}},Ly={map:function(n){return function(e){return Ue(gv)((function(){var t=L(Js);return function(r){return t(n(r))}})())(e)}}},gv={bind:function(n){return function(e){return new Iy(n.value0,C1(n.value1)(e))}},Apply0:function(){return S1(0)}},Js={pure:function(n){return F1(dv.create(n))},Apply0:function(){return S1(0)}},S1=$U("freeApply","Control.Monad.Free",function(){return{apply:tr(Ay),Functor0:function(){return Ly}}});var UU=L(Js);var af=function(n){return F1(new Dv(n,function(e){return UU(e)}))};var x1=function(n){var e=n.Monad0(),t=T(e.Bind1().Apply0().Functor0()),r=L(e.Applicative0()),a=aa(n);return function(o){var u=function(i){var f=qU(i);if(f instanceof dv)return t(xt.create)(r(f.value0));if(f instanceof Dv)return t(function(c){return Ot.create(f.value1(c))})(o(f.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[f.constructor.name])};return a(u)}};var Ic=function(n){var e=null;return function(){return n===void 0||(e=n(),n=void 0),e}},Ac=function(n){return n()};var $t=(function(){var n={},e="Pure",t="Throw",r="Catch",a="Sync",o="Async",u="Bind",i="Bracket",f="Fork",c="Sequential",l="Map",s="Apply",p="Alt",_="Cons",d="Resume",g="Release",D="Finalizer",b="Finalized",I="Forked",M="Fiber",h="Thunk";function y(nn,xn,re,qn){this.tag=nn,this._1=xn,this._2=re,this._3=qn}function C(nn){var xn=function(re,qn,fn){return new y(nn,re,qn,fn)};return xn.tag=nn,xn}function P(nn){return new y(e,void 0)}function k(nn){try{nn()}catch(xn){setTimeout(function(){throw xn},0)}}function sn(nn,xn,re){try{return xn(re())}catch(qn){return nn(qn)}}function U(nn,xn,re){try{return xn(re)()}catch(qn){return re(nn(qn))(),P}}var J=(function(){var nn=1024,xn=0,re=0,qn=new Array(nn),fn=!1;function O(){var ne;for(fn=!0;xn!==0;)xn--,ne=qn[re],qn[re]=void 0,re=(re+1)%nn,ne();fn=!1}return{isDraining:function(){return fn},enqueue:function(ne){var Gn,we;xn===nn&&(we=fn,O(),fn=we),qn[(re+xn)%nn]=ne,xn++,fn||O()}}})();function jn(nn){var xn={},re=0,qn=0;return{register:function(fn){var O=re++;fn.onComplete({rethrow:!0,handler:function(ne){return function(){qn--,delete xn[O]}}})(),xn[O]=fn,qn++},isEmpty:function(){return qn===0},killAll:function(fn,O){return function(){if(qn===0)return O();var ne=0,Gn={};function we(ae){Gn[ae]=xn[ae].kill(fn,function(be){return function(){delete Gn[ae],ne--,nn.isLeft(be)&&nn.fromLeft(be)&&setTimeout(function(){throw nn.fromLeft(be)},0),ne===0&&O()}})()}for(var Ce in xn)xn.hasOwnProperty(Ce)&&(ne++,we(Ce));return xn={},re=0,qn=0,function(ae){return new y(a,function(){for(var be in Gn)Gn.hasOwnProperty(be)&&Gn[be]()})}}}}}var Hn=0,E=1,G=2,x=3,j=4,mn=5,Cn=6;function Nn(nn,xn,re){var qn=0,fn=Hn,O=re,ne=null,Gn=null,we=null,Ce=null,ae=null,be=0,sr=0,Dt=null,Ur=!0;function Gt(En){for(var hn,Vn,Kn;;)switch(hn=null,Vn=null,Kn=null,fn){case G:fn=E;try{O=we(O),Ce===null?we=null:(we=Ce._1,Ce=Ce._2)}catch(Ct){fn=mn,ne=nn.left(Ct),O=null}break;case x:nn.isLeft(O)?(fn=mn,ne=O,O=null):we===null?fn=mn:(fn=G,O=nn.fromRight(O));break;case E:switch(O.tag){case u:we&&(Ce=new y(_,we,Ce)),we=O._2,fn=E,O=O._1;break;case e:we===null?(fn=mn,O=nn.right(O._1)):(fn=G,O=O._1);break;case a:fn=x,O=sn(nn.left,nn.right,O._1);break;case o:fn=j,O=U(nn.left,O._1,function(Ct){return function(){qn===En&&(qn++,J.enqueue(function(){qn===En+1&&(fn=x,O=Ct,Gt(qn))}))}});return;case t:fn=mn,ne=nn.left(O._1),O=null;break;case r:we===null?ae=new y(_,O,ae,Gn):ae=new y(_,O,new y(_,new y(d,we,Ce),ae,Gn),Gn),we=null,Ce=null,fn=E,O=O._1;break;case i:be++,we===null?ae=new y(_,O,ae,Gn):ae=new y(_,O,new y(_,new y(d,we,Ce),ae,Gn),Gn),we=null,Ce=null,fn=E,O=O._1;break;case f:fn=x,hn=Nn(nn,xn,O._2),xn&&xn.register(hn),O._1&&hn.run(),O=nn.right(hn);break;case c:fn=E,O=Pe(nn,xn,O._1);break}break;case mn:if(we=null,Ce=null,ae===null)fn=Cn,O=Gn||ne||O;else switch(hn=ae._3,Kn=ae._1,ae=ae._2,Kn.tag){case r:Gn&&Gn!==hn&&be===0?fn=mn:ne&&(fn=E,O=Kn._2(nn.fromLeft(ne)),ne=null);break;case d:Gn&&Gn!==hn&&be===0||ne?fn=mn:(we=Kn._1,Ce=Kn._2,fn=G,O=nn.fromRight(O));break;case i:be--,ne===null&&(Vn=nn.fromRight(O),ae=new y(_,new y(g,Kn._2,Vn),ae,hn),(Gn===hn||be>0)&&(fn=E,O=Kn._3(Vn)));break;case g:ae=new y(_,new y(b,O,ne),ae,Gn),fn=E,Gn&&Gn!==hn&&be===0?O=Kn._1.killed(nn.fromLeft(Gn))(Kn._2):ne?O=Kn._1.failed(nn.fromLeft(ne))(Kn._2):O=Kn._1.completed(nn.fromRight(O))(Kn._2),ne=null,be++;break;case D:be++,ae=new y(_,new y(b,O,ne),ae,Gn),fn=E,O=Kn._1;break;case b:be--,fn=mn,O=Kn._1,ne=Kn._2;break}break;case Cn:for(var qe in Dt)Dt.hasOwnProperty(qe)&&(Ur=Ur&&Dt[qe].rethrow,k(Dt[qe].handler(O)));Dt=null,Gn&&ne?setTimeout(function(){throw nn.fromLeft(ne)},0):nn.isLeft(O)&&Ur&&setTimeout(function(){if(Ur)throw nn.fromLeft(O)},0);return;case Hn:fn=E;break;case j:return}}function Ie(En){return function(){if(fn===Cn)return Ur=Ur&&En.rethrow,En.handler(O)(),function(){};var hn=sr++;return Dt=Dt||{},Dt[hn]=En,function(){Dt!==null&&delete Dt[hn]}}}function Mn(En,hn){return function(){if(fn===Cn)return hn(nn.right(void 0))(),function(){};var Vn=Ie({rethrow:!1,handler:function(){return hn(nn.right(void 0))}})();switch(fn){case Hn:Gn=nn.left(En),fn=Cn,O=Gn,Gt(qn);break;case j:Gn===null&&(Gn=nn.left(En)),be===0&&(fn===j&&(ae=new y(_,new y(D,O(En)),ae,Gn)),fn=mn,O=null,ne=null,Gt(++qn));break;default:Gn===null&&(Gn=nn.left(En)),be===0&&(fn=mn,O=null,ne=null)}return Vn}}function Wn(En){return function(){var hn=Ie({rethrow:!1,handler:En})();return fn===Hn&&Gt(qn),hn}}return{kill:Mn,join:Wn,onComplete:Ie,isSuspended:function(){return fn===Hn},run:function(){fn===Hn&&(J.isDraining()?Gt(qn):J.enqueue(function(){Gt(qn)}))}}}function pe(nn,xn,re,qn){var fn=0,O={},ne=0,Gn={},we=new Error("[ParAff] Early exit"),Ce=null,ae=n;function be(Ie,Mn,Wn){var En=Mn,hn=null,Vn=null,Kn=0,qe={},Ct,Oo;n:for(;;)switch(Ct=null,En.tag){case I:if(En._3===n&&(Ct=O[En._1],qe[Kn++]=Ct.kill(Ie,function(JD){return function(){Kn--,Kn===0&&Wn(JD)()}})),hn===null)break n;En=hn._2,Vn===null?hn=null:(hn=Vn._1,Vn=Vn._2);break;case l:En=En._2;break;case s:case p:hn&&(Vn=new y(_,hn,Vn)),hn=En,En=En._1;break}if(Kn===0)Wn(nn.right(void 0))();else for(Oo=0,Ct=Kn;Oo<Ct;Oo++)qe[Oo]=qe[Oo]();return qe}function sr(Ie,Mn,Wn){var En,hn,Vn,Kn,qe,Ct;for(nn.isLeft(Ie)?(En=Ie,hn=null):(hn=Ie,En=null);;){if(Vn=null,Kn=null,qe=null,Ct=null,Ce!==null)return;if(Mn===null){qn(En||hn)();return}if(Mn._3!==n)return;switch(Mn.tag){case l:En===null?(Mn._3=nn.right(Mn._1(nn.fromRight(hn))),hn=Mn._3):Mn._3=En;break;case s:if(Vn=Mn._1._3,Kn=Mn._2._3,En){if(Mn._3=En,qe=!0,Ct=ne++,Gn[Ct]=be(we,En===Vn?Mn._2:Mn._1,function(){return function(){delete Gn[Ct],qe?qe=!1:Wn===null?sr(En,null,null):sr(En,Wn._1,Wn._2)}}),qe){qe=!1;return}}else{if(Vn===n||Kn===n)return;hn=nn.right(nn.fromRight(Vn)(nn.fromRight(Kn))),Mn._3=hn}break;case p:if(Vn=Mn._1._3,Kn=Mn._2._3,Vn===n&&nn.isLeft(Kn)||Kn===n&&nn.isLeft(Vn))return;if(Vn!==n&&nn.isLeft(Vn)&&Kn!==n&&nn.isLeft(Kn))En=hn===Vn?Kn:Vn,hn=null,Mn._3=En;else if(Mn._3=hn,qe=!0,Ct=ne++,Gn[Ct]=be(we,hn===Vn?Mn._2:Mn._1,function(){return function(){delete Gn[Ct],qe?qe=!1:Wn===null?sr(hn,null,null):sr(hn,Wn._1,Wn._2)}}),qe){qe=!1;return}break}Wn===null?Mn=null:(Mn=Wn._1,Wn=Wn._2)}}function Dt(Ie){return function(Mn){return function(){delete O[Ie._1],Ie._3=Mn,sr(Mn,Ie._2._1,Ie._2._2)}}}function Ur(){var Ie=E,Mn=re,Wn=null,En=null,hn,Vn;n:for(;;)switch(hn=null,Vn=null,Ie){case E:switch(Mn.tag){case l:Wn&&(En=new y(_,Wn,En)),Wn=new y(l,Mn._1,n,n),Mn=Mn._2;break;case s:Wn&&(En=new y(_,Wn,En)),Wn=new y(s,n,Mn._2,n),Mn=Mn._1;break;case p:Wn&&(En=new y(_,Wn,En)),Wn=new y(p,n,Mn._2,n),Mn=Mn._1;break;default:Vn=fn++,Ie=mn,hn=Mn,Mn=new y(I,Vn,new y(_,Wn,En),n),hn=Nn(nn,xn,hn),hn.onComplete({rethrow:!1,handler:Dt(Mn)})(),O[Vn]=hn,xn&&xn.register(hn)}break;case mn:if(Wn===null)break n;Wn._1===n?(Wn._1=Mn,Ie=E,Mn=Wn._2,Wn._2=n):(Wn._2=Mn,Mn=Wn,En===null?Wn=null:(Wn=En._1,En=En._2))}for(ae=Mn,Vn=0;Vn<fn;Vn++)O[Vn].run()}function Gt(Ie,Mn){Ce=nn.left(Ie);var Wn;for(var En in Gn)if(Gn.hasOwnProperty(En)){Wn=Gn[En];for(En in Wn)Wn.hasOwnProperty(En)&&Wn[En]()}Gn=null;var hn=be(Ie,ae,Mn);return function(Vn){return new y(o,function(Kn){return function(){for(var qe in hn)hn.hasOwnProperty(qe)&&hn[qe]();return P}})}}return Ur(),function(Ie){return new y(o,function(Mn){return function(){return Gt(Ie,Mn)}})}}function Pe(nn,xn,re){return new y(o,function(qn){return function(){return pe(nn,xn,re,qn)}})}return y.EMPTY=n,y.Pure=C(e),y.Throw=C(t),y.Catch=C(r),y.Sync=C(a),y.Async=C(o),y.Bind=C(u),y.Bracket=C(i),y.Fork=C(f),y.Seq=C(c),y.ParMap=C(l),y.ParApply=C(s),y.ParAlt=C(p),y.Fiber=Nn,y.Supervisor=jn,y.Scheduler=J,y.nonCanceler=P,y})(),R1=$t.Pure,O1=$t.Throw;function H1(n){return function(e){return $t.Catch(n,e)}}function W1(n){return function(e){return e.tag===$t.Pure.tag?$t.Pure(n(e._1)):$t.Bind(e,function(t){return $t.Pure(n(t))})}}function $1(n){return function(e){return $t.Bind(n,e)}}function $y(n){return function(e){return $t.Fork(n,e)}}var k1=$t.Sync;function q1(n){return function(e){return $t.ParMap(n,e)}}function U1(n){return function(e){return $t.ParApply(n,e)}}var Zu=$t.Async;function hv(n){return function(e){return function(t){return $t.Bracket(n,e,t)}}}function B1(n,e){return function(){return $t.Fiber(n,null,e)}}var G1=(function(){function n(t,r){return t===0&&typeof setImmediate<"u"?setImmediate(r):setTimeout(r,t)}function e(t,r){return t===0&&typeof clearImmediate<"u"?clearImmediate(r):clearTimeout(r)}return function(t,r){return $t.Async(function(a){return function(){var o=n(r,a(t()));return function(){return $t.Sync(function(){return t(e(r,o))})}}})}})(),V1=$t.Seq;var Lc=function(n){return n.sequential},ni=function(n){return n.parallel};var KU=Dn(yn),ZU=function(n){var e=Lc(n),t=ni(n);return function(r){var a=Ve(r);return function(o){var u=a(o);return function(i){var f=u(function(c){return t(i(c))});return function(c){return e(f(c))}}}}};var zs=function(n){var e=ZU(n);return function(t){var r=e(t);return function(a){return r(a)(KU)}}};var Or=function(n){return n()};var eB=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},tB=L(Pn),Uy=_e(Ln),J1=T(Ln);var rB=function(n){return n},z1=$y(!1);var aB={map:q1},ei={map:W1},oB=T(ei),j1=$y(!0),uB=(function(){var n=function(r){if(r instanceof B)return r.value0;if(r instanceof en)return fr("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[r.constructor.name])},e=function(r){if(r instanceof en)return r.value0;if(r instanceof B)return fr("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[r.constructor.name])},t=function(r){if(r instanceof en)return!0;if(r instanceof B)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[r.constructor.name])};return{isLeft:t,fromLeft:e,fromRight:n,left:en.create,right:B.create}})(),Q1=function(n){return B1(uB,n)},X1=function(n){return function(){var t=Q1(n)();return t.run(),t}},Tv=function(n){return Uy(X1(n))};var Y1=function(n){return G1(B.create,n)},iB=function(n){return function(e){return hv(n)({killed:H(e),failed:H(e),completed:H(e)})}},K1={apply:U1,Functor0:function(){return aB}};var Nc={Applicative0:function(){return kt},Bind1:function(){return mt}},mt={bind:$1,Apply0:function(){return By(0)}},kt={pure:R1,Apply0:function(){return By(0)}},By=eB("applyAff","Effect.Aff",function(){return{apply:tr(Nc),Functor0:function(){return ei}}}),fB=By(73),Ev=L(kt),Z1=V(mt);var cB=Ue(mt);var nS=function(n){return function(e){return iB(Ev(void 0))(H(n))(H(e))}};var of={parallel:A,sequential:V1,Apply0:function(){return fB},Apply1:function(){return K1}},lB=ni(of),Pc={pure:function(n){return lB(Ev(n))},Apply0:function(){return K1}};var cr={liftEffect:k1,Monad0:function(){return Nc}},bv=Rn(cr),Gy=function(n){return rB(H(bv(n)))},js=function(n){return Zu(function(e){return J1(Gy)(n.join(e))})},eS={map:function(n){return function(e){return Or(Q1(oB(n)(js(e))))}}};var Qs=function(n){return function(e){return Z1(bv(e.isSuspended))(function(t){return t?bv(Uy(e.kill(n,H(tB(void 0))))):Zu(function(r){return J1(Gy)(e.kill(n,r))})})}};var Vy={throwError:O1,Monad0:function(){return Nc}},wv={catchError:H1,MonadThrow0:function(){return Vy}},sB=$s(wv);var pB=function(n){return function(e){return X1(cB(function(t){return bv(n(t))})(sB(e)))}},Cv=function(n){return function(e){return Uy(pB(n)(e))}};var tS={tailRecM:function(n){var e=function(t){return Z1(n(t))(function(r){if(r instanceof xt)return Ev(r.value0);if(r instanceof Ot)return e(r.value0);throw new Error("Failed pattern match at Effect.Aff (line 104, column 7 - line 106, column 23): "+[r.constructor.name])})};return e},Monad0:function(){return Nc}};var Jy=H(Ev(void 0));var rS={liftAff:Dn(yn),MonadEffect0:function(){return cr}},uf=function(n){return n.liftAff};var aS=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),oS=A,uS=A;function jy(n){return function(e){return n===e}}var ff=jy;var gB=_e(Ln);var hB=V(yt);var yB=Q(ve),bB=Ve(Pn),TB=bB(cn);var Fv=function(n){return n},fS=function(n){return function(e){return n(function(t){return gB(e(t))})}};var cS=function(n){return function(e){return n(e)}};var lS=function(){var e=zn([])();return{emitter:function(t){return function(){return ge(function(a){return yB(a)([t])})(e)(),ge(Ng(ff)(t))(e)}},listener:function(t){return hB(R(e))(TB(function(r){return r(t)}))}}};var pS=Dn(yn);var EB=Am();var _S=function(n){return n},mS=function(n){return n},Xs=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Sv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),xv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Rc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ys=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ks=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Iv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Zs=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Av=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Lv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Nv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var np=function(n){return n};var Oc=function(n){return af(new Ks(n,void 0))};var Pv=function(){return function(n){var e=EB(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return af(new Ys(uS(new aS(function(i){var f=L(i);return function(c){var l=Fe(f(v.value))(c),s=r(a)(o);return function(p){return l(s(p))}}},u,pS))))}}}}}},Xy=In,Rv=In;var vS=Ay,Hc={state:function(n){return np(af(Xs.create(n)))},Monad0:function(){return vS}};var Wc=function(n){return{liftEffect:(function(){var e=Rn(n);return function(t){return np(af(Rc.create(e(t))))}})(),Monad0:function(){return vS}}};var Yy=function(n){var e=Wc(n.MonadEffect0());return{liftAff:(function(){var t=uf(n);return function(r){return np(af(Rc.create(t(r))))}})(),MonadEffect0:function(){return e}}};var cf=Ly;var ep=function(n){return af(new Zs(n,pS))};var $c=gv;var lf=Js;var kc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),qc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Uc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Bc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Gc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var wB=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var CB=function(n,e){return nf(n.value0,e.value0)&&nf(n.value1,e.value1)&&n.value1(n.value3,e.value3)};var dS=function(n){return n.value2(n.value3)};var DS=function(n){var e=function(o){return Nr(o.vdom)},t=wB("patchThunk","Halogen.VDom.Thunk",function(){return function(o,u){var i=CB(o.thunk,u);if(i)return je(new ze(Xt(o.vdom),o,t(112),e));var f=Lr(o.vdom,n(dS(u)));return je(new ze(Xt(f),{vdom:f,thunk:u},t(115),e))}}),r=t(108),a=function(o){return function(u){var i=Hs(o)(n(dS(u)));return je(new ze(Xt(i),{thunk:u,vdom:i},r,e))}};return a};var Ov=Wl(cf),n0=Ve(lf)(dr),MB=T(cf);var gS=L(lf),FB=Am(),SB=iF(),xB=fF(),rp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Hv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),e0=A,t0=A,ap=function(n){return function(e){if(e instanceof kc)return Ov(n0(n.handleAction)(n.initialize))(e.value0);if(e instanceof qc)return Ov(n0(n.handleAction)(n.finalize))(e.value0);if(e instanceof Uc)return Ov(n0(n.handleAction)(n.receive(e.value0)))(e.value1);if(e instanceof Bc)return Ov(n.handleAction(e.value0))(e.value1);if(e instanceof Gc)return JM(function(t){var r=MB(Fe(e.value1(void 0))(t));return function(a){return r(n.handleQuery(a))}})(e.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 71): "+[e.constructor.name])}},IB=A,op=A;var ti=(function(){return{handleAction:H(gS(void 0)),handleQuery:H(gS(v.value)),receive:H(v.value),initialize:v.value,finalize:v.value}})(),r0=function(){return function(n){var e=FB(n),t=SB(n),r=xB(n);return function(a){var o=e(a),u=t(a),i=r(a);return function(f){return function(c){return function(l){return function(s){return function(p){return IB({get:o(f)(c),pop:u(f)(c),set:i(f)(c),component:l,input:s,output:p})}}}}}}}};var AB=L(ea);var ip=function(n){return wy(AB(n))},Wv=(function(){return wy(v.value)})();var sf=Wv("span");var Qe=Wv("div");var Vc=Wv("button");var NB=Ht();var a0=function(n){return NB(vy(n))};var ES="click";var XB=A;var YB=function(n){return function(e){return Ey(n)(function(t){return new m(new Yi(e(t)))})}};var pf=(function(){var n=YB(ES);return function(e){return n(XB(e))}})();var wS=Ht();var o0=function(n){return a1(n)},ZB=o0(u1),u0=o0(o1);var $v=u0("id");var CS=ZB("disabled");var _f=(function(){var n=u0("className"),e=jo(" "),t=T(gn)(wS);return function(r){return n(e(t(r)))}})(),$e=(function(){var n=u0("className");return function(e){return n(wS(e))}})();var _a=(function(){return i1(v.value)})();var kv=_a("style");var zc=T(gn),IS=Q(ve),AS=tn(Au(ht)),Jc=et(tt)($c),ru=Fu(Hc),i0=L(lf),FS=V($c),SS=Su(Hc),qv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),LS=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),l0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),s0=(function(){function n(){}return n.value=new n,n})(),p0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),_0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),nG=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),m0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),NS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),PS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),RS=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),eG=(function(){function n(){}return n.value=new n,n})(),c0=(function(){function n(){}return n.value=new n,n})(),OS=(function(){function n(){}return n.value=new n,n})(),HS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),f0="http://www.w3.org/2000/svg",tG=function(n){if(n instanceof Ar)return"ModuleTreemap";if(n instanceof bt)return"PackageGrid";if(n instanceof or)return"ModuleOrbit";if(n instanceof ur)return"DependencyTree";if(n instanceof Qr)return"Neighborhood("+(n.value0+")");if(n instanceof ca)return"FunctionCalls("+(n.value0+")");throw new Error("Failed pattern match at Component.NarrativePanel (line 468, column 1 - line 468, column 37): "+[n.constructor.name])},rG=function(n){return Qe([$e("project-dropdown")])(zc(function(e){return Qe([_f(IS(["project-dropdown-item"])((function(){var t=e.id===n.projectId;return t?["project-dropdown-item--active"]:[]})())),pf(function(t){return new HS(e.id)})])([Ke(e.name)])})(n.projects))},aG=function(n){return Qe([$e("narrative-project-wrapper")])([Vc([$e("btn-editorial narrative-project"),pf(function(e){return OS.value})])([Ke(n.projectName)]),(function(){return n.projectDropdownOpen?rG(n):Ke("")})()])},oG=function(n){return Qe([$e("color-key-item")])([sf([$e("color-key-swatch"),kv("background-color: "+n.color)])([]),sf([$e("color-key-label")])([Ke(n.name)])])},uG=function(n){var e=rt(n);return e?Ke(""):Qe([$e("narrative-color-key")])([Qe([$e("color-key-title")])([Ke("Packages")]),Qe([$e("color-key-items")])(zc(oG)(n))])},iG=function(n){return Qe([$e("narrative-hint")])([Ke((function(){if(n instanceof m)return n.value0;if(n instanceof v)return"Click any module to explore its neighborhood.";throw new Error("Failed pattern match at Component.NarrativePanel (line 250, column 16 - line 252, column 31): "+[n.constructor.name])})())])},fG=function(n){return Qe([$e("tangle-dropdown")])(zc(function(e){return Qe([_f(IS(["tangle-dropdown-item"])((function(){var t=e===n.current;return t?["tangle-dropdown-item--active"]:[]})())),pf(function(t){return new RS(n.id,e)})])([Ke(e)])})(n.options))},cG=function(n){return function(e){return function(t){if(t instanceof qv)return Ke(t.value0);if(t instanceof LS){var r=rt(t.value1.options);return r?sf([$e("tangle-value")])([Ke(t.value0)]):sf([$e("tangle-control"),pf(function(a){return new PS(t.value1.id)})])([Ke(t.value0),(function(){var a=AS(n.dropdownOpen)(new m(t.value1.id));return a?fG(t.value1):Ke("")})()])}throw new Error("Failed pattern match at Component.NarrativePanel (line 212, column 37 - line 229, column 10): "+[t.constructor.name])}}},lG=function(n){return Qe([$e("color-key-item")])([ip(f0)("svg")([_a("width")("24"),_a("height")("24"),_a("class")("color-key-circles")])([ip(f0)("circle")([_a("cx")("12"),_a("cy")("12"),_a("r")("10"),kv("fill: "+(n.color+"; fill-opacity: 0.6;"))])([]),ip(f0)("circle")([_a("cx")("12"),_a("cy")("12"),_a("r")("6"),kv("fill: "+(n.intense+"; fill-opacity: 0.9;"))])([])]),sf([$e("color-key-label")])([Ke(n.label)])])},sG=function(n){return n instanceof Qr?Vc([$e("btn-editorial narrative-back"),pf(function(e){return c0.value})])([Ke("\u2190 Back to overview")]):n instanceof ca?Vc([$e("btn-editorial narrative-back"),pf(function(e){return c0.value})])([Ke("\u2190 Back to neighborhood")]):Vc([_f(["btn-editorial","narrative-back","narrative-back--disabled"]),CS(!0)])([Ke("At top level")])},pG=function(n){return Qe([$e("narrative-nav")])([sG(n.viewState),aG(n)])},_G=function(n){return{viewState:n.viewState,packagePalette:n.packagePalette,projectName:n.projectName,projectId:n.projectId,projects:n.projects,hintText:v.value,dropdownOpen:v.value,projectDropdownOpen:!1}},mG=function(n){var e=Qt(Wc(n.MonadEffect0()));return function(t){if(t instanceof _0)return Jc(e("[NarrativePanel] SetViewState received: "+tG(t.value0)))(function(){return Jc(ru(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.viewState=t.value0,a}))(function(){return i0(new m(t.value1))})});if(t instanceof nG)return Jc(ru(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.hintText=t.value0,a}))(function(){return i0(new m(t.value1))});if(t instanceof m0)return Jc(ru(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.packagePalette=t.value0,a}))(function(){return i0(new m(t.value1))});throw new Error("Failed pattern match at Component.NarrativePanel (line 434, column 15 - line 446, column 18): "+[t.constructor.name])}},vG=function(n){return function(e){if(e instanceof NS)return ru(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.viewState=e.value0.viewState,r.packagePalette=e.value0.packagePalette,r.projectName=e.value0.projectName,r.projectId=e.value0.projectId,r.projects=e.value0.projects,r});if(e instanceof PS)return FS(SS)(function(t){return ru(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.dropdownOpen=(function(){var u=AS(t.dropdownOpen)(new m(e.value0));return u?v.value:new m(e.value0)})(),a})});if(e instanceof RS)return Jc(ru(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.dropdownOpen=v.value,r}))(function(){return Oc(new l0(e.value0,e.value1))});if(e instanceof eG)return ru(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.dropdownOpen=v.value,r.projectDropdownOpen=!1,r});if(e instanceof c0)return Oc(s0.value);if(e instanceof OS)return FS(SS)(function(t){return ru(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.projectDropdownOpen=!t.projectDropdownOpen,a})});if(e instanceof HS)return Jc(ru(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.projectDropdownOpen=!1,r}))(function(){return Oc(new p0(e.value0))});throw new Error("Failed pattern match at Component.NarrativePanel (line 397, column 16 - line 427, column 40): "+[e.constructor.name])}},dG=function(n){var e=AM("[")(n);if(e instanceof v)return v.value;if(e instanceof m){var t=NM("]")(e.value0+1|0)(n);if(t instanceof v)return v.value;if(t instanceof m)return new m({before:ym(e.value0)(n),bracketed:ym((t.value0-e.value0|0)-1|0)(bm(e.value0+1|0)(n)),after:bm(t.value0+1|0)(n)});throw new Error("Failed pattern match at Component.NarrativePanel (line 458, column 7 - line 465, column 14): "+[t.constructor.name])}throw new Error("Failed pattern match at Component.NarrativePanel (line 455, column 3 - line 465, column 14): "+[e.constructor.name])},DG=function(n){return function(e){var t=function(a){return function(o){var u=vc(a);return mo(function(i){return vc(i.current)===u||Z_(function(f){return vc(f)===u})(i.options)})(o)}},r=function(a){return function(o){var u=a,i=!1,f;function c(l,s){if(l==="")return i=!0,Ia(s);var p=dG(l);if(p instanceof v)return i=!0,Ia(pt(new qv(l))(s));if(p instanceof m){var _=(function(){var g=t(p.value0.bracketed)(e);if(g instanceof m)return new LS(p.value0.bracketed,g.value0);if(g instanceof v)return new qv("["+(p.value0.bracketed+"]"));throw new Error("Failed pattern match at Component.NarrativePanel (line 195, column 21 - line 197, column 59): "+[g.constructor.name])})(),d=p.value0.before==="";if(d){u=p.value0.after,o=pt(_)(s);return}u=p.value0.after,o=pt(_)(pt(new qv(p.value0.before))(s));return}throw new Error("Failed pattern match at Component.NarrativePanel (line 191, column 5 - line 200, column 81): "+[p.constructor.name])}for(;!i;)f=c(u,o);return f}};return r(n)([])}},gG=function(n){var e=qM(n.viewState),t=DG(e.text)(e.controls);return Qe([$e("narrative-hero")])(zc(cG(n)(e.controls))(t))},WS="psd3",hG=(function(){var n=function(t){return{label:t.label,color:t.color,intense:t.color}},e=mh(lc.value);return zc(n)(e.legendItems)})(),xS=Qe([$e("narrative-color-key")])([Qe([$e("color-key-title")])([Ke("Declaration Types")]),Qe([$e("color-key-items")])(zc(lG)(hG))]),yG=function(n){return n.viewState instanceof Qr||n.viewState instanceof ca?xS:uG(n.packagePalette)},bG=function(n){return Qe([$v("narrative-panel"),_f(["floating-panel","floating-panel--top-left","narrative-panel"])])([Qe([$e("panel-title")])([Ke("What Is Being Shown")]),gG(n),iG(n.hintText),yG(n),pG(n)])},$S=function(n){return op({initialState:_G,render:bG,eval:ap({initialize:ti.initialize,finalize:ti.finalize,handleAction:vG(n),handleQuery:mG(n),receive:function(e){return m.create(NS.create(e))}})})};function kS(n,e,t,r,a){return function(o,u){var i=n.newXHR(),f=n.fixupUrl(a.url,i);if(i.open(a.method||"GET",f,!0,a.username,a.password),a.headers)try{for(var c=0,l;(l=a.headers[c])!=null;c++)i.setRequestHeader(l.field,l.value)}catch(p){o(p)}var s=function(p){return function(){o(new Error(p))}};return i.onerror=s(t),i.ontimeout=s(e),i.onload=function(){u({status:i.status,statusText:i.statusText,headers:i.getAllResponseHeaders().split(`\r
`).filter(function(p){return p.length>0}).map(function(p){var _=p.indexOf(":");return r(p.substring(0,_))(p.substring(_+2))}),body:i.response})},i.responseType=a.responseType,i.withCredentials=a.withCredentials,i.timeout=a.timeout,i.send(a.content),function(p,_,d){try{i.abort()}catch(g){return _(g)}return d()}}}var Uv="application/json",qS="application/x-www-form-urlencoded";var BS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),GS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),VS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),JS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),zS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),v0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),d0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),jS=function(n){return n instanceof v0?new m(qS):n instanceof d0?new m(Uv):v.value};var QS=Ht();var Bv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Gv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),XS=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),YS=function(n){if(n instanceof Bv||n instanceof Gv)return QS(n.value0);if(n instanceof XS)return n.value1;throw new Error("Failed pattern match at Affjax.RequestHeader (line 26, column 1 - line 26, column 33): "+[n.constructor.name])};var D0=function(n){if(n instanceof Bv)return"Accept";if(n instanceof Gv)return"Content-Type";if(n instanceof XS)return n.value0;throw new Error("Failed pattern match at Affjax.RequestHeader (line 21, column 1 - line 21, column 32): "+[n.constructor.name])};var KS=Dn(yn),g0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),h0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),y0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),fp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),b0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Vv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ZS=function(n){if(n instanceof g0)return"arraybuffer";if(n instanceof h0)return"blob";if(n instanceof y0)return"document";if(n instanceof fp||n instanceof b0)return"text";if(n instanceof Vv)return"";throw new Error("Failed pattern match at Affjax.ResponseFormat (line 44, column 3 - line 50, column 19): "+[n.constructor.name])},nx=function(n){return n instanceof fp?new m(Uv):v.value};var ex=(function(){return new fp(KS)})(),tx=(function(){return new Vv(KS)})();var ax=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();function cp(n){return JSON.stringify(n)}function mf(n,e,t,r,a,o,u){return u==null?n():typeof u=="boolean"?e(u):typeof u=="number"?t(u):typeof u=="string"?r(u):Object.prototype.toString.call(u)==="[object Array]"?a(u):o(u)}var ox=function(n){return function(e){return function(t){return t(n)(e)}}},ux=(function(){return ox(v.value)(m.create)})();var ix=Rr;var SG=ox(!1)(H(!0));var fx=function(n){return function(e){return function(t){return mf(H(n),H(n),H(n),e,H(n),H(n),t)}}};var xG=function(n){return function(e){return function(t){return mf(H(n),H(n),H(n),H(n),H(n),e,t)}}};var Jv=ux(xG),cx=function(n){return function(e){return function(t){return mf(H(n),H(n),e,H(n),H(n),H(n),t)}}};var lx=function(n){return function(e){return function(t){return mf(e,H(n),H(n),H(n),H(n),H(n),t)}}},sx=SG(lx);var px=function(n){return function(e){return function(t){return mf(H(n),e,H(n),H(n),H(n),H(n),t)}}};var IG=function(n){return function(e){return function(t){return mf(H(n),H(n),H(n),H(n),e,H(n),t)}}};var _x=ux(IG);function mx(n,e,t){try{return e(JSON.parse(t))}catch(r){return n(r.message)}}var vx=function(n){return mx(en.create,B.create,n)};function NG(n){return n.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function dx(n,e,t){try{return e(NG(encodeURIComponent(t)).replace(/%20/g,"+"))}catch(r){return n(r)}}var jv=(function(){return Pu(dx)(H(v.value))(m.create)})();var OG=Zn(so),Dx=T(Xn),HG=He(Vr)(ea);var WG=function(n){return n};var gx=(function(){var n=function(r){if(r.value1 instanceof v)return jv(r.value0);if(r.value1 instanceof m)return OG(Dx(function(a){return function(o){return a+("="+o)}})(jv(r.value0)))(jv(r.value1.value0));throw new Error("Failed pattern match at Data.FormURLEncoded (line 37, column 16 - line 39, column 114): "+[r.constructor.name])},e=Dx(jo("&")),t=HG(n);return function(r){return e(t(WG(r)))}})();var kG=(function(){function n(){}return n.value=new n,n})(),T0=(function(){function n(){}return n.value=new n,n})(),qG=(function(){function n(){}return n.value=new n,n})(),hx=(function(){function n(){}return n.value=new n,n})(),yx=(function(){function n(){}return n.value=new n,n})(),bx=(function(){function n(){}return n.value=new n,n})(),UG=(function(){function n(){}return n.value=new n,n})(),BG=(function(){function n(){}return n.value=new n,n})(),GG=(function(){function n(){}return n.value=new n,n})(),VG=(function(){function n(){}return n.value=new n,n})(),JG=(function(){function n(){}return n.value=new n,n})(),zG=(function(){function n(){}return n.value=new n,n})(),jG=(function(){function n(){}return n.value=new n,n})(),QG=(function(){function n(){}return n.value=new n,n})(),XG=(function(){function n(){}return n.value=new n,n})(),Tx=(function(){function n(){}return n.value=new n,n})();var YG=function(n){return n},KG={show:function(n){if(n instanceof kG)return"OPTIONS";if(n instanceof T0)return"GET";if(n instanceof qG)return"HEAD";if(n instanceof hx)return"POST";if(n instanceof yx)return"PUT";if(n instanceof bx)return"DELETE";if(n instanceof UG)return"TRACE";if(n instanceof BG)return"CONNECT";if(n instanceof GG)return"PROPFIND";if(n instanceof VG)return"PROPPATCH";if(n instanceof JG)return"MKCOL";if(n instanceof zG)return"COPY";if(n instanceof jG)return"MOVE";if(n instanceof QG)return"LOCK";if(n instanceof XG)return"UNLOCK";if(n instanceof Tx)return"PATCH";throw new Error("Failed pattern match at Data.HTTP.Method (line 43, column 1 - line 59, column 23): "+[n.constructor.name])}};var Ex=mr(q(KG))(YG);var Sx=function(n){return Zu(function(e){return function(){var r=n(function(a){return e(en.create(a))()},function(a){return e(B.create(a))()});return function(a){return Zu(function(o){return function(){return r(a,function(i){return o(en.create(i))()},function(i){return o(B.create(i))()}),Jy}})}}})};var C0=L(Mc(Vo)),D5=ov(Vo),vf=OF(Vo),xx=St(CF(ZM)(Vo)),g5=ro(Vs(Vo)),Qv=T(Xn),h5=nc(cn)(uo),y5=tn(ht),b5=Ue(st),T5=T(gn),E5=Mr(ei),w5=$s(wv),C5=L(kt);var M0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),F0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),S0=(function(){function n(){}return n.value=new n,n})(),x0=(function(){function n(){}return n.value=new n,n})(),I0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ix=function(n){return function(e){var t=function(l){return l===""?C0(ix):mr(function(s){return D5(Dy.create(s))})(C0)(vx(l))},r=(function(){if(e.responseFormat instanceof g0)return vf("ArrayBuffer");if(e.responseFormat instanceof h0)return vf("Blob");if(e.responseFormat instanceof y0)return function(l){return xx(vf("Document")(l))(xx(vf("XMLDocument")(l))(vf("HTMLDocument")(l)))};if(e.responseFormat instanceof fp)return g5(function(l){return e.responseFormat.value0(t(l))})(vf("String"));if(e.responseFormat instanceof b0)return vf("String");if(e.responseFormat instanceof Vv)return H(e.responseFormat.value0(C0(void 0)));throw new Error("Failed pattern match at Affjax (line 274, column 18 - line 283, column 57): "+[e.responseFormat.constructor.name])})(),a=function(l){if(l instanceof BS)return new B(l.value0(eu));if(l instanceof GS)return new B(eu(l.value0));if(l instanceof VS)return new B(eu(l.value0));if(l instanceof JS)return new B(eu(l.value0));if(l instanceof zS)return new B(eu(l.value0));if(l instanceof v0)return jf("Body contains values that cannot be encoded as application/x-www-form-urlencoded")(Qv(eu)(gx(l.value0)));if(l instanceof d0)return new B(eu(cp(l.value0)));throw new Error("Failed pattern match at Affjax (line 235, column 20 - line 250, column 69): "+[l.constructor.name])},o=function(l){return function(s){return l instanceof m&&!h5(XD(y5)(D0)(l.value0))(s)?zr(s)(l.value0):s}},u=function(l){return o(Qv(Gv.create)(b5(jS)(l)))(o(Qv(Bv.create)(nx(e.responseFormat)))(e.headers))},i=function(l){return{method:Ex(e.method),url:e.url,headers:T5(function(s){return{field:D0(s),value:YS(s)}})(u(e.content)),content:l,responseType:ZS(e.responseFormat),username:ot(e.username),password:ot(e.password),withCredentials:e.withCredentials,timeout:An(0)(Qv(function(s){return s})(e.timeout))}},f=function(l){return E5(w5(Sx(kS(n,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",ax.create,i(l)))))(function(s){if(s instanceof B){var p=a0(r(s.value0.body));if(p instanceof en)return new en(new F0(IF(p.value0),s.value0));if(p instanceof B)return new B({headers:s.value0.headers,status:s.value0.status,statusText:s.value0.statusText,body:p.value0});throw new Error("Failed pattern match at Affjax (line 209, column 9 - line 211, column 52): "+[p.constructor.name])}if(s instanceof en)return new en((function(){var _=Ws(s.value0),d=_==="AffjaxTimeoutErrorMessageIdent";if(d)return S0.value;var g=_==="AffjaxRequestFailedMessageIdent";return g?x0.value:new I0(s.value0)})());throw new Error("Failed pattern match at Affjax (line 207, column 144 - line 219, column 28): "+[s.constructor.name])})};if(e.content instanceof v)return f(ot(v.value));if(e.content instanceof m){var c=a(e.content.value0);if(c instanceof B)return f(ot(new m(c.value0)));if(c instanceof en)return C5(new en(new M0(c.value0)));throw new Error("Failed pattern match at Affjax (line 199, column 7 - line 203, column 48): "+[c.constructor.name])}throw new Error("Failed pattern match at Affjax (line 195, column 3 - line 203, column 48): "+[e.content.constructor.name])}},A0=function(n){if(n instanceof M0)return"There was a problem with the request content: "+n.value0;if(n instanceof F0)return"There was a problem with the response body: "+av(n.value0);if(n instanceof S0)return"There was a problem making the request: timeout";if(n instanceof x0)return"There was a problem making the request: request failed";if(n instanceof I0)return"There was a problem making the request: "+Ws(n.value0);throw new Error("Failed pattern match at Affjax (line 113, column 14 - line 123, column 66): "+[n.constructor.name])},ri=(function(){return{method:new en(T0.value),url:"/",headers:[],content:v.value,username:v.value,password:v.value,withCredentials:!1,responseFormat:tx,timeout:v.value}})();var Ax=function(n){return function(e){return function(t){return Ix(n)({method:ri.method,headers:ri.headers,content:ri.content,username:ri.username,password:ri.password,withCredentials:ri.withCredentials,timeout:ri.timeout,url:t,responseFormat:e})}}};var L0={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(n){return n||"/"}};var Nx=Ax(L0);var Xr=function(n){return De(Ac(n))},Px=function(n){return function(e){return Ic(function(t){return new S(n,e)})}};var Hr=function(n){return Me(Ac(n))};var Rx=function(n){var e=Oe(n),t=Yn(n),r=Jt(n);return{foldr:function(a){var o=function(u){return function(i){return a(Hr(u))(e(o)(i)(Xr(u)))}};return Qn(o)},foldl:function(a){var o=function(u){return function(i){return t(o)(a(u)(Hr(i)))(Xr(i))}};return o},foldMap:function(a){var o=Q(a.Semigroup0()),u=r(a);return function(i){var f=function(c){return o(i(Hr(c)))(u(f)(Xr(c)))};return f}}}};var L5=q(Ae);var Co=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ox=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),P0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),lp=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Xv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Yv=(function(){function n(){}return n.value=new n,n})();var ma=function(n){var e=function(t){if(t instanceof Co)return"  Expected value of type '"+(t.value0+"'.");if(t instanceof Ox)return"  Unexpected value "+(cp(t.value0)+".");if(t instanceof P0)return"  At array index "+(L5(t.value0)+(`:
`+e(t.value1)));if(t instanceof lp)return"  At object key '"+(t.value0+(`':
`+e(t.value1)));if(t instanceof Xv)return"  Under '"+(t.value0+(`':
`+e(t.value1)));if(t instanceof Yv)return"  No value was found.";throw new Error("Failed pattern match at Data.Argonaut.Decode.Error (line 37, column 8 - line 43, column 44): "+[t.constructor.name])};return`An error occurred while decoding a JSON value:
`+e(n)};var $x=Zf(),V5=Jt(We),J5=Yn(We),z5=Oe(We);var j5=function(n){return $x(Ts(n))};var O0=function(n){return oF(n)};var kx=function(n){return{append:j5(n)}},df=function(n){return $x(Sm(n))};var sp=function(n){var e=at(n);return function(t){return function(r){return e(t)(void 0)(r)}}};var qx={foldMap:function(n){var e=V5(n);return function(t){var r=e(t);return function(a){return r(O0(a))}}},foldl:function(n){return function(e){var t=J5(n)(e);return function(r){return t(O0(r))}}},foldr:function(n){return function(e){var t=z5(n)(e);return function(r){return t(O0(r))}}}};var Kv=ie,Mo=function(n){var e=Yn(n);return function(t){var r=sp(t);return e(function(a){return function(o){return r(o)(a)}})(Kv)}};var X5=L(Xf),Y5=T(Bo),H0=Fi(Yf);var W0=ro(Qf);var K5=He(sv)(Xf);var Z5=Uu(Dc)(Xf);var Ux=(function(){return fx(new en(new Co("String")))(B.create)})(),Bx=(function(){return cx(new en(new Co("Number")))(B.create)})();var Gx=function(n){return function(e){if(sx(e))return X5(v.value);if(le)return Y5(m.create)(n(e));throw new Error("Failed pattern match at Data.Argonaut.Decode.Decoders (line 37, column 1 - line 41, column 38): "+[n.constructor.name,e.constructor.name])}},nV=(function(){var n=jf(new Co("Object"));return function(e){return n(Jv(e))}})(),eV=(function(){var n=jf(new Co("Array"));return function(e){return n(_x(e))}})();var Vx=W0((function(){var n=jf(new Co("Integer"));return function(e){return n(Dm(e))}})())(Bx);var Jx=function(n){return W0((function(){var e=H0(Xv.create("ForeignObject")),t=K5(n);return function(r){return e(t(r))}})())(nV)};var zx=(function(){return px(new en(new Co("Boolean")))(B.create)})(),jx=function(n){return W0((function(){var e=H0(Xv.create("Array")),t=Z5(function(r){var a=H0(P0.create(r));return function(o){return a(n(o))}});return function(r){return e(t(r))}})())(eV)};var Xx=function(n){var e=ct(n);return function(){return function(){return function(t){return function(r){return function(a){return Ho(e(t))(r)(a)}}}}}};var Yx=V(Qf),uV=Fi(Yf),iV=T(Xn),gf={gDecodeJson:function(n){return function(e){return new B({})}}},Kx=function(n){return n.gDecodeJson};var za=function(n){var e=Kx(n);return function(){return{decodeJson:function(t){var r=Jv(t);if(r instanceof m)return e(r.value0)(Re.value);if(r instanceof v)return new en(new Co("Object"));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 103, column 5 - line 105, column 46): "+[r.constructor.name])}}}},Zv={decodeJson:Ux};var Zx={decodeJson:Vx},fV=function(n){return n.decodeJsonField},Fo=function(n){var e=fV(n);return function(t){var r=Kx(t);return function(a){var o=ct(a),u=Xx(a)()();return function(){return function(){return{gDecodeJson:function(i){return function(f){var c=o(Re.value),l=Ge(c)(i),s=e(l);if(s instanceof m)return Yx(uV(lp.create(c))(s.value0))(function(p){return Yx(r(i)(Re.value))(function(_){return new B(u(Re.value)(p)(_))})});if(s instanceof v)return new en(new lp(c,Yv.value));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 127, column 5 - line 134, column 44): "+[s.constructor.name])}}}}}}}};var nI={decodeJson:zx},va=function(n){return n.decodeJson};var cV=function(n){return{decodeJson:Gx(va(n))}};var pp=function(n){return{decodeJson:Jx(va(n))}},eI=function(n){var e=va(cV(n));return{decodeJsonField:function(t){if(t instanceof v)return new m(new B(v.value));if(t instanceof m)return new m(e(t.value0));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 139, column 1 - line 143, column 49): "+[t.constructor.name])}}},au=function(n){var e=va(n);return{decodeJsonField:function(t){return iV(e)(t)}}},jc=function(n){return{decodeJson:jx(va(n))}};var ja=Px;var da=T(Xo),k0=jr(We);var sV=na(tg),pV=jr(Rx(We)),_p=T(gn),q0=Yl(lt)(cn),tI=gg(lt)(cn),_V=Q_(ys);var nd=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var rI=(function(){return new nd({left:new Y(0,$.value),right:new Y(0,$.value)})})(),mV=function(n){return function(e){return function(t){var r=function(a){return function(o){return function(u){return function(i){return function(f){var c=a,l=o,s=u,p=i,_=!1,d;function g(D,b,I,M,h){if(M instanceof $&&h instanceof $)return _=!0,D;if(M instanceof $&&h instanceof Y){var y=D+h.value0-b,C=(function(){var P=y<n;return P?D+(n-y):D})();c=C,l=b,s=h.value0,p=$.value,f=h.value1;return}if(M instanceof Y&&h instanceof $){var y=D+I-M.value0,C=(function(){var sn=y<n;return sn?D+(n-y):D})();c=C,l=M.value0,s=I,p=M.value1,f=$.value;return}if(M instanceof Y&&h instanceof Y){var y=D+h.value0-M.value0,C=(function(){var sn=y<n;return sn?D+(n-y):D})();c=C,l=M.value0,s=h.value0,p=M.value1,f=h.value1;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 292, column 3 - line 292, column 67): "+[D.constructor.name,b.constructor.name,I.constructor.name,M.constructor.name,h.constructor.name])}for(;!_;)d=g(c,l,s,p,f);return d}}}}};return r(n)(0)(0)(e.value0.right)(t.value0.left)}}};var vV=function(n){return function(e){var t=An(Tn)(n.layerScale),r=pV(e),a=_p(function(_){return _.x})(r),o=An(1)(q0(a)),u=An(0)(tI(a)),i=(function(){var _=o-u===0;return _?1:o-u})(),f=function(_){return(_-u)/i*n.size.width},c=_p(function(_){return t(_.depth)})(r),l=An(1)(q0(c)),s=function(_){var d=t(_);return d/l*n.size.height},p=function(_){var d=Hr(_),g=Xr(_);return ja((function(){var D={};for(var b in d)({}).hasOwnProperty.call(d,b)&&(D[b]=d[b]);return D.x=f(d.x),D.y=s(d.depth),D})())(da(p)(g))};return p(e)}},aI=function(n){return function(e){var t=Hr(e),r=Tn(t.value1.depth),a=n+t.value0.offset,o=Xr(e),u=da(aI(a))(o);return ja((function(){var i={};for(var f in t.value1)({}).hasOwnProperty.call(t.value1,f)&&(i[f]=t.value1[f]);return i.x=a,i.y=r,i})())(u)}},dV=function(n){var e=function(t){var r=Te(function(i){if(i instanceof Y)return new m(i.value0);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 437, column 17 - line 439, column 27): "+[i.constructor.name])})(t),a=zt(r);if(a instanceof v)return $.value;if(a instanceof m){var o=Te(function(i){if(i instanceof Y)return new m(i.value1);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 450, column 23 - line 452, column 33): "+[i.constructor.name])})(t),u=An(0)(q0(r));return new Y(u,e(o))}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 443, column 7 - line 456, column 50): "+[a.constructor.name])};return n.length===0?$.value:e(n)},DV=function(n){var e=function(t){var r=Te(function(i){if(i instanceof Y)return new m(i.value0);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 404, column 17 - line 406, column 27): "+[i.constructor.name])})(t),a=zt(r);if(a instanceof v)return $.value;if(a instanceof m){var o=Te(function(i){if(i instanceof Y)return new m(i.value1);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 417, column 23 - line 419, column 33): "+[i.constructor.name])})(t),u=An(0)(tI(r));return new Y(u,e(o))}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 410, column 7 - line 423, column 50): "+[a.constructor.name])};return n.length===0?$.value:e(n)},gV=function(n){return function(e){var t=k0(tf(S.create)(n)(e));if(t.length===0)return rI;if(t.length===1)return new nd({left:new Y(0,da(function(u){return u+t[0].value0})(t[0].value1.value0.left)),right:new Y(0,da(function(u){return u+t[0].value0})(t[0].value1.value0.right))});var r=_p(function(u){return new nd({left:da(function(i){return i+u.value0})(u.value1.value0.left),right:da(function(i){return i+u.value0})(u.value1.value0.right)})})(t),a=dV(_p(function(u){return u.value0.right})(r)),o=DV(_p(function(u){return u.value0.left})(r));return new nd({left:new Y(0,o),right:new Y(0,a)})}},hV=function(n){var e=Hr(n);return e.value1};var yV=function(n){return function(e){var t=function(u){if(u instanceof $)return $.value;if(u instanceof Y)return u.value1;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 280, column 3 - line 280, column 41): "+[u.constructor.name])},r=function(u){return function(i){return mV(u)(i.value0)(i.value1)}},a=new S(n,e);if(a.value0 instanceof $)return $.value;if(a.value1 instanceof $)return $.value;if(a.value1 instanceof Y&&a.value1.value1 instanceof $)return $.value;var o=tf(S.create)(e)(t(e));return tf(r)(n)(o)}},bV=function(n){return function(e){return function(t){var r=function(o){if(o instanceof $)return $.value;if(o instanceof Y)return o.value1;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 258, column 3 - line 258, column 41): "+[o.constructor.name])},a=function(o){return function(u){return function(i){return function(f){if(o instanceof v)return u;if(o instanceof m)return o.value0(i)(f)+u;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 254, column 3 - line 254, column 67): "+[o.constructor.name,u.constructor.name,i.constructor.name,f.constructor.name])}}}};return t instanceof $?$.value:t instanceof Y&&t.value1 instanceof $?$.value:tf(a(e)(n))(t)(r(t))}}},TV=function(n){return function(e){return function(t){var r=function(u){return function(i){var f=Hr(u),c=Xr(u);return ja(new S({offset:i},f.value1))(c)}},a=function(u){var i=Hr(u),f=Xr(u),c=nv(f);if(c===0)return new S(ja(new S({offset:0},i))($.value),rI);var l=da(a)(f),s=da(function(k){return k.value0})(l),p=da(hV)(s),_=da(function(k){return k.value1})(l),d=bV(n)(e)(p),g=yV(d)(_),D=new Y(0,_V(sV)(0)(g)),b=An(0)(zt(k0(D))),I=An(0)(Ni(k0(D))),M=(b+I)/2,h=da(function(k){return k-M})(D),y=tf(r)(s)(h),C=gV(h)(_),P=ja(new S({offset:M},i))(y);return new S(P,C)},o=a(t);return o.value0}}};var oI=function(n){return function(e){var t=Hr(e),r=Xr(e);return ja((function(){var a={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a.depth=n,a})())(da(oI(n+1|0))(r))}},uI=function(n){return function(e){var t=oI(0)(e),r=TV(n.minSeparation)(n.separation)(t),a=aI(0)(r),o=vV(n)(a);return o}};var iI=T(gn),CV=Tt(In);var MV=Ua(In)(cn),FV=Q(ve),SV=Mo(cn)(In),fI=bc(In);var cI=function(n){return function(e){var t=CV(n)(e.maps.linksBySource);if(t instanceof v)return[];if(t instanceof m)return t.value0;throw new Error("Failed pattern match at PSD3.Data.Graph (line 196, column 3 - line 198, column 24): "+[t.constructor.name])}};var lI=function(n){return function(e){return function(t){var r=function(c){return function(l){if(l instanceof v)return new m([c]);if(l instanceof m)return new m(FV(l.value0)([c]));throw new Error("Failed pattern match at PSD3.Data.Graph (line 112, column 5 - line 112, column 68): "+[c.constructor.name,l.constructor.name])}},a=SV(iI(n.getNodeId)(e)),o=MV(iI(function(c){return new S(n.getNodeId(c),c)})(e)),u=Pa(function(c){return function(l){var s=n.getLinkTarget(l);return fI(r(l))(s)(c)}})(ie)(t),i=Pa(function(c){return function(l){var s=n.getLinkSource(l);return fI(r(l))(s)(c)}})(ie)(t),f={nodeById:o,linksBySource:i,linksByTarget:u,nodeIds:a};return{nodes:e,links:t,maps:f}}}};var pI=V(st),_I=T(gn),xV=df(In),mI=Mr(gn),ed=Q(ve),IV=Q(kx(In)),AV=Mo(cn)(In);var vI=function(n){return function(e){return function(t){var r=function(i){return pI(Ou(i.openPaths))(function(f){return pI(zt(f.head))(function(c){var l=cI(c)(t),s=_I(n.getLinkTarget)(l),p=Ig(function(D){return!xV(D)(i.nodes)})(s),_=mI(p.no)(function(D){return new S(c,D)}),d=mI(p.yes)(function(D){return pt(D)(f.head)}),g=rt(d);return g?new m({nodes:i.nodes,spanningTree:i.spanningTree,openPaths:f.tail,paths:pt(f.head)(i.paths),redundantEdges:ed(i.redundantEdges)(_)}):new m({paths:i.paths,openPaths:ed(f.tail)(d),nodes:IV(i.nodes)(AV(p.yes)),spanningTree:ed(i.spanningTree)(_I(function(D){return new S(c,D)})(p.yes)),redundantEdges:ed(i.redundantEdges)(_)})})})},a=function(i){var f=!1,c;function l(s){if(rt(s.openPaths))return f=!0,s;if(le){var p=r(s);if(p instanceof v)return f=!0,s;if(p instanceof m){i=p.value0;return}throw new Error("Failed pattern match at PSD3.Data.Graph.Algorithms (line 68, column 21 - line 70, column 35): "+[p.constructor.name])}throw new Error("Failed pattern match at PSD3.Data.Graph.Algorithms (line 66, column 5 - line 70, column 35): "+[s.constructor.name])}for(;!f;)c=l(i);return c},o={nodes:Kv,spanningTree:[],redundantEdges:[],paths:[],openPaths:[[e]]},u=a(o);return{nodes:u.nodes,spanningTree:u.spanningTree,redundantEdges:u.redundantEdges,paths:u.paths}}}};var ut=(function(){function n(){}return n.value=new n,n})(),Ze=(function(){function n(){}return n.value=new n,n})(),mp=(function(){function n(){}return n.value=new n,n})(),vp=(function(){function n(){}return n.value=new n,n})(),dI=(function(){function n(){}return n.value=new n,n})(),DI=(function(){function n(){}return n.value=new n,n})();var hf={eq:function(n){return function(e){return n instanceof ut&&e instanceof ut||n instanceof Ze&&e instanceof Ze}}};var NV={eq:function(n){return function(e){return n instanceof mp&&e instanceof mp||n instanceof vp&&e instanceof vp||n instanceof dI&&e instanceof dI||n instanceof DI&&e instanceof DI}}},PV=tn(NV);var td=function(n){return PV(n.linkType)(mp.value)};var ad=Tt(In),RV=df(In),ga=Tt(ee),OV=ko(lt),U0=fo(Ft),od=er(Ft),yI=wi(In)(In),HV=df(yI),WV=T(Xo),V0=at(In),$V=Yn(We),kV=Jo(In),Da=V(mt),Zc=L(kt),Yc=Yn(cn),Xc=Mr(Xn),Kc=T(gn),qV=Xu(cn),id=BF(Jr),UV=Qi(Jr),bI=at(ee),B0=Ua(ee)(cn),BV=Q(ve),GV=sp(In),VV=Mo(qx)(In),JV=Mo(cn)(yI),it=V(Qf),oi=Fo(au(Zv)),ud=oi(gf),zV=jc(za(oi(ud({reflectSymbol:function(){return"title"}})()())({reflectSymbol:function(){return"kind"}})()())()),J0=va(pp(zV)),z0=Fo(au(jc(Zv))),TI={reflectSymbol:function(){return"name"}},jV={reflectSymbol:function(){return"module"}},QV=Fo(au(pp(za(z0(Fo(au(jc(za(oi(Fo(au(nI))(oi(ud({reflectSymbol:function(){return"targetModule"}})()())({reflectSymbol:function(){return"target"}})()())({reflectSymbol:function(){return"isCrossModule"}})()())({reflectSymbol:function(){return"identifier"}})()())())))(oi(ud(TI)()())(jV)()())({reflectSymbol:function(){return"calls"}})()())({reflectSymbol:function(){return"calledBy"}})()())()))),XV={reflectSymbol:function(){return"functions"}},YV=va(za(QV(gf)(XV)()())());var rd=q(Ae),gI=Fo(eI(Zv)),G0=Fo(au(Zx)),KV={reflectSymbol:function(){return"repoPath"}},ZV={reflectSymbol:function(){return"id"}},n4={reflectSymbol:function(){return"description"}};var e4=va(za(Fo(au(jc(za(gI(G0(gI(oi(oi(G0(gf)({reflectSymbol:function(){return"snapshotCount"}})()())(KV)()())(TI)()())({reflectSymbol:function(){return"latestSnapshotAt"}})()())(ZV)()())(n4)()())())))(gf)({reflectSymbol:function(){return"projects"}})()())()),EI=ud({reflectSymbol:function(){return"path"}})()(),wI={reflectSymbol:function(){return"depends"}},CI=va(pp(za(z0(oi(EI)({reflectSymbol:function(){return"package"}})()())(wI)()())())),MI=va(pp(za(z0(gf)(wI)()())())),hI={reflectSymbol:function(){return"loc"}},FI=va(za(Fo(au(jc(za(G0(EI)(hI)()())())))(gf)(hI)()())());var t4=function(n){return function(e){return function(t){var r=(function(){var o=ad(t.id)(n);if(o instanceof m){var u=o.value0.y/1e3*500,i=o.value0.x/1e3*2*ms-ms/2,f=u*hr(i),c=u*yr(i);return{cluster:t.cluster,fx:t.fx,fy:t.fy,gridX:t.gridX,gridY:t.gridY,id:t.id,isInTree:t.isInTree,name:t.name,nodeType:t.nodeType,orbitAngle:t.orbitAngle,package:t.package,r:t.r,sources:t.sources,targets:t.targets,vx:t.vx,vy:t.vy,x:t.x,y:t.y,treeX:f,treeY:c}}if(o instanceof v)return t;throw new Error("Failed pattern match at Data.Loader (line 560, column 19 - line 573, column 22): "+[o.constructor.name])})(),a=RV(t.id)(e);return{id:r.id,x:r.x,y:r.y,vx:r.vx,vy:r.vy,fx:r.fx,fy:r.fy,name:r.name,nodeType:r.nodeType,package:r.package,r:r.r,cluster:r.cluster,targets:r.targets,sources:r.sources,gridX:r.gridX,gridY:r.gridY,orbitAngle:r.orbitAngle,treeX:r.treeX,treeY:r.treeY,isInTree:a}}}},r4=function(n){return function(e){return function(t){return function(r){return function(a){var o=An(100)(ga(a)(t)),u=OV(8)(It(Tn(o))*.5),i=Tn(U0(r)(8)),f=(i-Tn(U0(e)(8))/2)*120,c=Tn(od(r)(8)),l=(c-Tn(8)/2+.5)*120,s=2*ms*Tn(r)/Tn(e);return{id:r,name:a,nodeType:Ze.value,package:a,x:l,y:f,vx:0,vy:0,fx:null,fy:null,r:u,cluster:r,targets:[],sources:[],gridX:l,gridY:f,orbitAngle:s,treeX:0,treeY:0,isInTree:!1}}}}}},a4=function(n){return function(e){var t=new S(e.source,e.target),r=HV(t)(n);return r?{source:e.source,target:e.target,linkType:mp.value}:{source:e.source,target:e.target,linkType:vp.value}}},SI=function(n){return function(e){return ja(n(Hr(e)))(WV(SI(n))(Xr(e)))}},Qa=function(n){return function(e){if(e instanceof en)return new en(n(e.value0));if(e instanceof B)return new B(e.value0);throw new Error("Failed pattern match at Data.Loader (line 236, column 1 - line 236, column 62): "+[n.constructor.name,e.constructor.name])}},o4=function(n){return function(e){var t=function(r){return function(a){var o=Hr(r),u=Xr(r),i=V0(o.id)({x:o.x,y:o.y})(a);return $V(function(f){return function(c){return t(c)(f)}})(i)(u)}};return t(e)(ie)}},u4=function(n){var e=mo(function(r){return r.name==="PSD3.Main"})(n);if(e instanceof m)return e.value0.id;if(e instanceof v){var t=Ni(kV(function(r){return X(r.sources)})(n));if(t instanceof m)return t.value0.id;if(t instanceof v)return 0;throw new Error("Failed pattern match at Data.Loader (line 511, column 7 - line 513, column 21): "+[t.constructor.name])}throw new Error("Failed pattern match at Data.Loader (line 506, column 3 - line 513, column 21): "+[e.constructor.name])},Xa=function(n){return Da(Nx(ex)(n))(function(e){return Zc((function(){if(e instanceof en)return new en("Fetch error: "+A0(e.value0));if(e instanceof B)return new B(e.value0.body);throw new Error("Failed pattern match at Data.Loader (line 232, column 10 - line 234, column 42): "+[e.constructor.name])})())})},i4=function(n){var e=Ds(vs(n))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789._-");if(e instanceof m)return e.value0;if(e instanceof v)return 0;throw new Error("Failed pattern match at Data.Loader (line 791, column 14 - line 793, column 15): "+[e.constructor.name])},f4=function(n){var e=Th(n);return Yc(function(t){return function(r){return od((t*31|0)+i4(r)|0)(1e6)}})(0)(e)},c4=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){return function(u){return function(i){return function(f){return function(c){return function(l){var s=Ge(n)(t),p=An("unknown")(Xc(s)(function(G){return G.package})),_=An(0)(ga(p)(a)),d=oe(f)(_),g=An(0)(Xc(d)(function(G){return G.gridY})),D=An(0)(Xc(d)(function(G){return G.gridX})),b=An("")(Xc(s)(function(G){return G.path})),I=e+u|0,M=An([])(ad(I)(l)),h=An([])(ad(I)(c)),y=f4(n),C=2*ms*Tn(od(y)(360))/360,P=30+Tn(od(U0(y)(360))(30)),k=hr(C)*P,sn=yr(C)*P,U=An(50)(ga(b)(r)),J=4+It(Tn(U))*.8,jn=An(0)(ga(p)(a)),Hn=g+sn,E=D+k;return{id:I,name:n,nodeType:ut.value,package:p,x:E,y:Hn,vx:0,vy:0,fx:null,fy:null,r:J,cluster:jn,targets:h,sources:M,gridX:E,gridY:Hn,orbitAngle:0,treeX:0,treeY:0,isInTree:!1}}}}}}}}}}}},l4=function(n){return function(e){var t=function(a){return Te(function(o){var u=o.value0===a;return u?new m(o.value1):v.value})(e)},r=function(a){var o=t(a),u=Kc(r)(o);return ja(a)(qV(u))};return r(n)}},s4=function(n){return function(e){var t=function(r){return function(a){var o=ga(a.value0)(e);if(o instanceof v)return r;if(o instanceof m){var u=Te(function(i){return ga(i)(e)})(a.value1.depends);return V0(o.value0)(u)(r)}throw new Error("Failed pattern match at Data.Loader (line 757, column 5 - line 763, column 42): "+[o.constructor.name])}};return Yc(t)(ie)(id(n))}},p4=function(n){var e=function(t){return function(r){return Yc(function(a){return function(o){var u=An([])(ad(o)(a));return V0(o)(zr(u)(r.value0))(a)}})(t)(r.value1)}};return Yc(e)(ie)(UV(n))},_4=function(n){var e=function(t){return function(r){var a=An([])(ga(r.value1.package)(t));return bI(r.value1.package)(zr(a)(r.value0))(t)}};return Yc(e)(ie)(id(n))},m4=function(n){return function(e){var t=function(r){return function(a){var o=An(50)(ga(a.value1.path)(e)),u=An(0)(ga(a.value1.package)(r));return bI(a.value1.package)(u+o|0)(r)}};return Yc(t)(ie)(id(n))}},xI=function(n){return B0(Kc(function(e){return new S(e.path,e.loc)})(n))},v4=function(n){return function(e){var t=function(r){var a=ga(r.value0)(e);if(a instanceof v)return[];if(a instanceof m)return Te(function(o){return Xc(ga(o)(e))(function(u){return{source:a.value0,target:u,linkType:vp.value}})})(r.value1.depends);throw new Error("Failed pattern match at Data.Loader (line 738, column 5 - line 749, column 25): "+[a.constructor.name])};return Ci(Kc(t)(id(n)))}},II=function(n){return function(e){return function(t){return function(r){var a={size:{width:1e3,height:1e3},minSeparation:1,separation:v.value,layerScale:v.value},o=cv(e),u=_4(n),i=gr(function(x){return function(j){return{name:j,depends:An([])(Xc(Ge(j)(e))(function(mn){return mn.depends})),modules:An([])(ga(j)(u))}}})(o),f=m4(n)(t),c=B0(gr(function(x){return function(j){return new S(j,x)}})(o)),l=X(o),s=gr(r4(o)(l)(f))(o),p=cv(n),_=B0(gr(function(x){return function(j){return new S(j,x+l|0)}})(p)),d=s4(n)(_),g=p4(d),D=X(p),b=gr(function(x){return function(j){return c4(j)(x)(n)(t)(c)(_)(l)(D)(s)(d)(g)}})(p),I=BV(s)(b),M=u4(b),h={getNodeId:function(x){return x.id},getLinkSource:function(x){return x.source},getLinkTarget:function(x){return x.target}},y=v4(n)(_),C=lI(h)(I)(y),P=vI(h)(M)(C),k=l4(M)(P.spanningTree),sn=SI(function(x){return{id:x,x:0,y:0,depth:0,height:0}})(k),U=uI(a)(sn),J=o4(1e3)(U),jn=GV(M)(VV(P.nodes)),Hn=Kc(t4(J)(jn))(I),E=JV(P.spanningTree),G=Kc(a4(E))(y);return{nodes:Hn,links:G,packages:i,declarations:r,moduleCount:D,packageCount:l}}}}},ai="http://localhost:8080",AI=function(n){var e=jo(",")(n);return Da(Xa(ai+("/api/batch-declarations/"+e)))(function(t){return Zc(it(t)(function(r){return it(Qa(ma)(J0(r)))(function(a){return new B(a)})}))})},LI=function(n){var e=jo(",")(n);return Da(Xa(ai+("/api/batch-function-calls/"+e)))(function(t){return Zc(it(t)(function(r){return it(Qa(ma)(YV(r)))(function(a){return new B(a.functions)})}))})};var NI=(function(){var n=function(e){return{id:e.id,name:e.name,repoPath:e.repoPath,description:e.description,snapshotCount:e.snapshotCount,latestSnapshotAt:e.latestSnapshotAt,snapshots:[]}};return Da(Xa(ai+"/api/projects"))(function(e){return Zc(it(e)(function(t){return it(Qa(ma)(e4(t)))(function(r){return new B(Kc(n)(r.projects))})}))})})();var PI=(function(){return Da(Xa(ai+"/data/spago-data/modules.json"))(function(n){return Da(Xa(ai+"/data/spago-data/packages.json"))(function(e){return Da(Xa(ai+"/data/spago-data/LOC.json"))(function(t){return Da(Xa(ai+"/data/spago-data/declarations-summary.json"))(function(r){return Zc(it(n)(function(a){return it(e)(function(o){return it(t)(function(u){return it(r)(function(i){return it(Qa(ma)(CI(a)))(function(f){return it(Qa(ma)(MI(o)))(function(c){return it(Qa(ma)(FI(u)))(function(l){return it(Qa(ma)(J0(i)))(function(s){var p=xI(l.loc);return new B(II(f)(c)(p)(s))})})})})})})})}))})})})})})();var RI=function(n){var e=ai+"/api/project-";return Da(Xa(e+("modules/"+rd(n))))(function(t){return Da(Xa(e+("packages/"+rd(n))))(function(r){return Da(Xa(e+("loc/"+rd(n))))(function(a){return Da(Xa(e+("declarations-summary/"+rd(n))))(function(o){return Zc(it(t)(function(u){return it(r)(function(i){return it(a)(function(f){return it(o)(function(c){return it(Qa(ma)(CI(u)))(function(l){return it(Qa(ma)(MI(i)))(function(s){return it(Qa(ma)(FI(f)))(function(p){return it(Qa(ma)(J0(c)))(function(_){var d=xI(p.loc);return new B(II(l)(s)(d)(_))})})})})})})})}))})})})})};var j0=n=>e=>n<e.length?e.charAt(n):"",Q0=n=>e=>t=>t.substring(n,e);var dp=Math.random;var fd="http://www.w3.org/1999/xhtml",X0={svg:"http://www.w3.org/2000/svg",xhtml:fd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ou(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),X0.hasOwnProperty(e)?{space:X0[e],local:n}:n}function h4(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===fd&&e.documentElement.namespaceURI===fd?e.createElement(n):e.createElementNS(t,n)}}function y4(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function cd(n){var e=ou(n);return(e.local?y4:h4)(e)}function b4(){}function yf(n){return n==null?b4:function(){return this.querySelector(n)}}function HI(n){typeof n!="function"&&(n=yf(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=new Array(u),f,c,l=0;l<u;++l)(f=o[l])&&(c=n.call(f,f.__data__,l,o))&&("__data__"in f&&(c.__data__=f.__data__),i[l]=c);return new ft(r,this._parents)}function Y0(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function T4(){return[]}function Dp(n){return n==null?T4:function(){return this.querySelectorAll(n)}}function E4(n){return function(){return Y0(n.apply(this,arguments))}}function WI(n){typeof n=="function"?n=E4(n):n=Dp(n);for(var e=this._groups,t=e.length,r=[],a=[],o=0;o<t;++o)for(var u=e[o],i=u.length,f,c=0;c<i;++c)(f=u[c])&&(r.push(n.call(f,f.__data__,c,u)),a.push(f));return new ft(r,a)}function gp(n){return function(){return this.matches(n)}}function ld(n){return function(e){return e.matches(n)}}var w4=Array.prototype.find;function C4(n){return function(){return w4.call(this.children,n)}}function M4(){return this.firstElementChild}function $I(n){return this.select(n==null?M4:C4(typeof n=="function"?n:ld(n)))}var F4=Array.prototype.filter;function S4(){return Array.from(this.children)}function x4(n){return function(){return F4.call(this.children,n)}}function kI(n){return this.selectAll(n==null?S4:x4(typeof n=="function"?n:ld(n)))}function qI(n){typeof n!="function"&&(n=gp(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=[],f,c=0;c<u;++c)(f=o[c])&&n.call(f,f.__data__,c,o)&&i.push(f);return new ft(r,this._parents)}function sd(n){return new Array(n.length)}function UI(){return new ft(this._enter||this._groups.map(sd),this._parents)}function hp(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}hp.prototype={constructor:hp,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function BI(n){return function(){return n}}function I4(n,e,t,r,a,o){for(var u=0,i,f=e.length,c=o.length;u<c;++u)(i=e[u])?(i.__data__=o[u],r[u]=i):t[u]=new hp(n,o[u]);for(;u<f;++u)(i=e[u])&&(a[u]=i)}function A4(n,e,t,r,a,o,u){var i,f,c=new Map,l=e.length,s=o.length,p=new Array(l),_;for(i=0;i<l;++i)(f=e[i])&&(p[i]=_=u.call(f,f.__data__,i,e)+"",c.has(_)?a[i]=f:c.set(_,f));for(i=0;i<s;++i)_=u.call(n,o[i],i,o)+"",(f=c.get(_))?(r[i]=f,f.__data__=o[i],c.delete(_)):t[i]=new hp(n,o[i]);for(i=0;i<l;++i)(f=e[i])&&c.get(p[i])===f&&(a[i]=f)}function L4(n){return n.__data__}function GI(n,e){if(!arguments.length)return Array.from(this,L4);var t=e?A4:I4,r=this._parents,a=this._groups;typeof n!="function"&&(n=BI(n));for(var o=a.length,u=new Array(o),i=new Array(o),f=new Array(o),c=0;c<o;++c){var l=r[c],s=a[c],p=s.length,_=N4(n.call(l,l&&l.__data__,c,r)),d=_.length,g=i[c]=new Array(d),D=u[c]=new Array(d),b=f[c]=new Array(p);t(l,s,g,D,b,_,e);for(var I=0,M=0,h,y;I<d;++I)if(h=g[I]){for(I>=M&&(M=I+1);!(y=D[M])&&++M<d;);h._next=y||null}}return u=new ft(u,r),u._enter=i,u._exit=f,u}function N4(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function VI(){return new ft(this._exit||this._groups.map(sd),this._parents)}function JI(n,e,t){var r=this.enter(),a=this,o=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(a=e(a),a&&(a=a.selection())),t==null?o.remove():t(o),r&&a?r.merge(a).order():a}function zI(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,a=t.length,o=r.length,u=Math.min(a,o),i=new Array(a),f=0;f<u;++f)for(var c=t[f],l=r[f],s=c.length,p=i[f]=new Array(s),_,d=0;d<s;++d)(_=c[d]||l[d])&&(p[d]=_);for(;f<a;++f)i[f]=t[f];return new ft(i,this._parents)}function jI(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],a=r.length-1,o=r[a],u;--a>=0;)(u=r[a])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function QI(n){n||(n=P4);function e(s,p){return s&&p?n(s.__data__,p.__data__):!s-!p}for(var t=this._groups,r=t.length,a=new Array(r),o=0;o<r;++o){for(var u=t[o],i=u.length,f=a[o]=new Array(i),c,l=0;l<i;++l)(c=u[l])&&(f[l]=c);f.sort(e)}return new ft(a,this._parents).order()}function P4(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function XI(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function YI(){return Array.from(this)}function KI(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length;a<o;++a){var u=r[a];if(u)return u}return null}function ZI(){let n=0;for(let e of this)++n;return n}function nA(){return!this.node()}function eA(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],o=0,u=a.length,i;o<u;++o)(i=a[o])&&n.call(i,i.__data__,o,a);return this}function R4(n){return function(){this.removeAttribute(n)}}function O4(n){return function(){this.removeAttributeNS(n.space,n.local)}}function H4(n,e){return function(){this.setAttribute(n,e)}}function W4(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function $4(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function k4(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function tA(n,e){var t=ou(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?O4:R4:typeof e=="function"?t.local?k4:$4:t.local?W4:H4)(t,e))}function pd(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function q4(n){return function(){this.style.removeProperty(n)}}function U4(n,e,t){return function(){this.style.setProperty(n,e,t)}}function B4(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function rA(n,e,t){return arguments.length>1?this.each((e==null?q4:typeof e=="function"?B4:U4)(n,e,t??"")):ui(this.node(),n)}function ui(n,e){return n.style.getPropertyValue(e)||pd(n).getComputedStyle(n,null).getPropertyValue(e)}function G4(n){return function(){delete this[n]}}function V4(n,e){return function(){this[n]=e}}function J4(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function aA(n,e){return arguments.length>1?this.each((e==null?G4:typeof e=="function"?J4:V4)(n,e)):this.node()[n]}function oA(n){return n.trim().split(/^|\s+/)}function K0(n){return n.classList||new uA(n)}function uA(n){this._node=n,this._names=oA(n.getAttribute("class")||"")}uA.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function iA(n,e){for(var t=K0(n),r=-1,a=e.length;++r<a;)t.add(e[r])}function fA(n,e){for(var t=K0(n),r=-1,a=e.length;++r<a;)t.remove(e[r])}function z4(n){return function(){iA(this,n)}}function j4(n){return function(){fA(this,n)}}function Q4(n,e){return function(){(e.apply(this,arguments)?iA:fA)(this,n)}}function cA(n,e){var t=oA(n+"");if(arguments.length<2){for(var r=K0(this.node()),a=-1,o=t.length;++a<o;)if(!r.contains(t[a]))return!1;return!0}return this.each((typeof e=="function"?Q4:e?z4:j4)(t,e))}function X4(){this.textContent=""}function Y4(n){return function(){this.textContent=n}}function K4(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function lA(n){return arguments.length?this.each(n==null?X4:(typeof n=="function"?K4:Y4)(n)):this.node().textContent}function Z4(){this.innerHTML=""}function nJ(n){return function(){this.innerHTML=n}}function eJ(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function sA(n){return arguments.length?this.each(n==null?Z4:(typeof n=="function"?eJ:nJ)(n)):this.node().innerHTML}function tJ(){this.nextSibling&&this.parentNode.appendChild(this)}function pA(){return this.each(tJ)}function rJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _A(){return this.each(rJ)}function mA(n){var e=typeof n=="function"?n:cd(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function aJ(){return null}function vA(n,e){var t=typeof n=="function"?n:cd(n),r=e==null?aJ:typeof e=="function"?e:yf(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function oJ(){var n=this.parentNode;n&&n.removeChild(this)}function dA(){return this.each(oJ)}function uJ(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function iJ(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function DA(n){return this.select(n?iJ:uJ)}function gA(n){return arguments.length?this.property("__data__",n):this.node().__data__}function fJ(n){return function(e){n.call(this,e,this.__data__)}}function cJ(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function lJ(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,a=e.length,o;t<a;++t)o=e[t],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function sJ(n,e,t){return function(){var r=this.__on,a,o=fJ(e);if(r){for(var u=0,i=r.length;u<i;++u)if((a=r[u]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),a.value=e;return}}this.addEventListener(n.type,o,t),a={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(a):this.__on=[a]}}function hA(n,e,t){var r=cJ(n+""),a,o=r.length,u;if(arguments.length<2){var i=this.node().__on;if(i){for(var f=0,c=i.length,l;f<c;++f)for(a=0,l=i[f];a<o;++a)if((u=r[a]).type===l.type&&u.name===l.name)return l.value}return}for(i=e?sJ:lJ,a=0;a<o;++a)this.each(i(r[a],e,t));return this}function yA(n,e,t){var r=pd(n),a=r.CustomEvent;typeof a=="function"?a=new a(e,t):(a=r.document.createEvent("Event"),t?(a.initEvent(e,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(e,!1,!1)),n.dispatchEvent(a)}function pJ(n,e){return function(){return yA(this,n,e)}}function _J(n,e){return function(){return yA(this,n,e.apply(this,arguments))}}function bA(n,e){return this.each((typeof e=="function"?_J:pJ)(n,e))}function*TA(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length,u;a<o;++a)(u=r[a])&&(yield u)}var Z0=[null];function ft(n,e){this._groups=n,this._parents=e}function EA(){return new ft([[document.documentElement]],Z0)}function mJ(){return this}ft.prototype=EA.prototype={constructor:ft,select:HI,selectAll:WI,selectChild:$I,selectChildren:kI,filter:qI,data:GI,enter:UI,exit:VI,join:JI,merge:zI,selection:mJ,order:jI,sort:QI,call:XI,nodes:YI,node:KI,size:ZI,empty:nA,each:eA,attr:tA,style:rA,property:aA,classed:cA,text:lA,html:sA,raise:pA,lower:_A,append:mA,insert:vA,remove:dA,clone:DA,datum:gA,on:hA,dispatch:bA,[Symbol.iterator]:TA};var uu=EA;function Bn(n){return typeof n=="string"?new ft([[document.querySelector(n)]],[document.documentElement]):new ft([[n]],Z0)}function wA(n){let e;for(;e=n.sourceEvent;)n=e;return n}function br(n,e){if(n=wA(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[n.clientX-a.left-e.clientLeft,n.clientY-a.top-e.clientTop]}}return[n.pageX,n.pageY]}var nl=null,CA=null,nb=()=>(nl||(nl=document.createElement("div"),nl.className="psd3-tooltip",nl.style.cssText=`
      position: fixed;
      display: none;
      pointer-events: none;
      z-index: 10000;
    `,document.body.appendChild(nl),CA&&vJ(CA)),nl),vJ=n=>{let e=nb();n.background&&(e.style.background=n.background),n.color&&(e.style.color=n.color),n.padding&&(e.style.padding=n.padding),n.borderRadius&&(e.style.borderRadius=n.borderRadius),n.fontSize&&(e.style.fontSize=n.fontSize),n.fontFamily&&(e.style.fontFamily=n.fontFamily),n.border&&(e.style.border=n.border),n.boxShadow&&(e.style.boxShadow=n.boxShadow),n.maxWidth&&(e.style.maxWidth=n.maxWidth),n.lineHeight&&(e.style.lineHeight=n.lineHeight),n.backdropFilter&&(e.style.backdropFilter=n.backdropFilter,e.style.webkitBackdropFilter=n.backdropFilter)},MA=n=>e=>t=>()=>{let r=nb();r.innerHTML=n,r.style.display="block";let a=r.getBoundingClientRect(),o=window.innerWidth,u=window.innerHeight,i=e+15,f=t+10;i+a.width>o&&(i=e-a.width-15),f+a.height>u&&(f=t-a.height-10),r.style.left=i+"px",r.style.top=f+"px"},FA=()=>{nb().style.display="none"};var SA=n=>e=>t=>()=>{let a=Bn(n).append("g").datum(e).attr("class",`module-pack pack-${e.id} ${t?"reexport-module":"empty-module"}`).attr("transform",`translate(${e.x},${e.y})`);t?(a.append("circle").attr("cx",0).attr("cy",0).attr("r",e.r*1.5).attr("fill","none").attr("stroke","#9467bd").attr("stroke-width",3).attr("stroke-dasharray","5,3").attr("class","reexport-ring"),a.append("circle").attr("cx",0).attr("cy",0).attr("r",4).attr("fill","#9467bd").attr("class","reexport-center")):a.append("circle").attr("cx",0).attr("cy",0).attr("r",e.r).attr("fill","#ccc").attr("stroke","#999").attr("stroke-width",1).attr("class","empty-module-circle")},xA=n=>e=>t=>()=>{let r=new Set(e),a=new Set(t);Bn("#explorer-nodes").selectAll("g.module-pack").each(function(){let o=Bn(this),u=o.datum();if(!u)return;let i=u.name;o.classed("highlight-caller",!1).classed("highlight-callee",!1).classed("highlight-source",!1).classed("highlight-dimmed",!1),i===n?o.classed("highlight-source",!0):r.has(i)?o.classed("highlight-caller",!0):a.has(i)?o.classed("highlight-callee",!0):o.classed("highlight-dimmed",!0)}),Bn("#explorer-links").selectAll("line").each(function(){Bn(this).classed("highlight-dimmed",!0)})},IA=()=>{Bn("#explorer-nodes").selectAll("g.module-pack").classed("highlight-caller",!1).classed("highlight-callee",!1).classed("highlight-source",!1).classed("highlight-dimmed",!1),Bn("#explorer-links").selectAll("line").classed("highlight-dimmed",!1)},AA=n=>e=>t=>r=>a=>o=>u=>i=>()=>{Bn(n).append("g").datum(e).attr("class",`module-pack pack-${e.id}`).attr("transform",`translate(${e.x},${e.y})`).selectAll("circle").data(t).enter().append("circle").attr("cx",l=>l.x-r).attr("cy",l=>l.y-r).attr("r",l=>l.r).attr("fill",l=>a(l)()).attr("fill-opacity",l=>l.depth===0?.3:l.depth===1?.6:.8).attr("stroke","#fff").attr("stroke-width",.5).attr("class",l=>l.depth===0?"pack-module":l.depth===1?"pack-category":"pack-declaration").style("cursor",l=>l.depth===2?"pointer":"default").on("click",function(l,s){s.depth===2&&(l.stopPropagation(),o(e.name)(s.data_)(s.category)())}).on("mouseenter",function(l,s){if(s.depth===2){Bn(this).attr("stroke","#000").attr("stroke-width",2);let p=`
          <div class="tooltip-header">${s.data_}</div>
          <div class="tooltip-package">${e.name}</div>
          <div class="tooltip-metrics">
            <div class="tooltip-metric">
              <span class="metric-label">Type</span>
              <span class="metric-value">${s.category}</span>
            </div>
          </div>
        `;MA(p)(l.pageX)(l.pageY)(),s.category==="value"&&u(e.name)(s.data_)(s.category)()}}).on("mouseleave",function(l,s){s.depth===2&&(Bn(this).attr("stroke","#fff").attr("stroke-width",.5),FA(),s.category==="value"&&i())})};var el=Lg(Bf),DJ=Q(ve),cu=T(gn),OA=wu(lt),bp=ko(lt),gJ=at(In),hJ=Ua(In)(cn),yJ=Jo(lt),ab=Yn(cn),bJ=ko(In),ub=er(Ft);var eb=T(Xn),tb=Zn(so),vd=V(st),fu=Tt(In),HA=L(ea),TJ=V_(cn),EJ=Ul(lt),lu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var iu=(function(){function n(){}return n.value=new n,n})(),WA=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),$A=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var LA=function(n){return function(e){return function(t){var r=el(e)(t),a=el(n)(t);if(a instanceof m&&r instanceof m){var o=r.value0>a.value0;if(o){var u=Sg(a.value0+1|0)(t),i=K_(r.value0)(t);return DJ(u)(i)}var f=r.value0<a.value0;return f?Li(r.value0)(a.value0+1|0)(t):t}return t}}},wJ=function(n){return function(e){var t=function(i){return function(f){return function(c){return function(l){var s=c+i*l.value0.y,p=f+i*l.value0.x,_=i*l.value0.r;return new lu({data_:l.value0.data_,depth:l.value0.depth,height:l.value0.height,value:l.value0.value,x:p,y:s,r:_,children:cu(t(i)(p)(s))(l.value0.children)})}}}},r=OA(n.size.width)(n.size.height)/(2*e.value0.r),a=r*e.value0.r,o=n.size.height/2,u=n.size.width/2;return new lu({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x:u,y:o,r:a,children:cu(t(r)(u)(o))(e.value0.children)})}},kA=function(n){return function(e){return function(t){var r=n.y-e.y,a=n.x-e.x,o=a*a+r*r,u=o!==0;if(u){var i=(n.r+t.r)*(n.r+t.r),f=(e.r+t.r)*(e.r+t.r),c=f>i;if(c){var l=(o+i-f)/(2*o),s=It(bp(0)(i/o-l*l));return{x:n.x-l*a-s*r,y:n.y-l*r+s*a,r:t.r}}var l=(o+f-i)/(2*o),s=It(bp(0)(f/o-l*l));return{x:e.x+l*a-s*r,y:e.y+l*r+s*a,r:t.r}}return{x:e.x+t.r,y:e.y,r:t.r}}}},CJ=function(n){return function(e){return function(t){return function(r){var a=el(n)(r);if(a instanceof v)return r;if(a instanceof m)return An(r)(Ag(a.value0+1|0)(t)(r));throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 174, column 3 - line 178, column 62): "+[a.constructor.name])}}}},NA=function(n){return function(e){return function(t){return function(r){var a=gJ(r.nextId)(t)(r.circles),o=CJ(n)(e)(r.nextId)(r.frontChain);return{circles:a,frontChain:o,nextId:r.nextId+1|0}}}}},MJ=function(n){return function(e){return function(t){var r={r:e.r,x:n.r,y:0},a={r:n.r,x:-e.r,y:0},o=kA(r)(a)(t),u=hJ([new S(0,a),new S(1,r),new S(2,o)]);return{circles:u,frontChain:[0,2,1],nextId:3}}}},qA=function(n){var e=function(t){return function(r){if(t.children instanceof v)return new lu({data_:t.data_,depth:r,height:0,value:An(0)(t.value),children:[],x:0,y:0,r:0});if(t.children instanceof m){var a=cu(function(c){return e(c)(r+1|0)})(t.children.value0),o=yJ(function(c){return-c.value0.value})(a),u=ab(function(c){return function(l){return c+l.value0.value}})(0)(o),i=cu(function(c){return c.value0.height})(o),f=ab(bJ)(0)(i);return new lu({data_:t.data_,depth:r,height:f+1|0,value:u,children:o,x:0,y:0,r:0})}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 685, column 5 - line 717, column 14): "+[t.children.constructor.name])}};return e(n)(0)},PA=function(n){return function(e){var t=el(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=X(e),a=ub((t.value0-1|0)+r|0)(r);return oe(e)(a)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 241, column 3 - line 248, column 34): "+[t.constructor.name])}},_d=function(n){return function(e){var t=el(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=ub(t.value0+1|0)(X(e));return oe(e)(r)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 230, column 3 - line 236, column 34): "+[t.constructor.name])}},UA=function(n){return function(e){var t=el(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=ub(t.value0+1|0)(X(e));return oe(e)(r)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 138, column 3 - line 144, column 34): "+[t.constructor.name])}};var BA=1e-6,RA=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r+e.r-BA;return a>0&&a*a>r*r+t*t}},FJ=1e-9,GA=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r-e.r+bp(n.r)(bp(e.r)(1))*FJ;return a>0&&a*a>r*r+t*t}},rb=function(n){return function(e){return Rg(GA(n))(e)}},md=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r-e.r;return a<0||a*a<r*r+t*t}},VA=function(n){return function(e){return function(t){var r=n.x*n.x+n.y*n.y-n.r*n.r,a=r-e.x*e.x-e.y*e.y+e.r*e.r,o=r-t.x*t.x-t.y*t.y+t.r*t.r,u=t.r-n.r,i=e.r-n.r,f=n.y-t.y,c=n.y-e.y,l=n.x-t.x,s=n.x-e.x,p=l*c-s*f,_=(c*o-f*a)/(p*2)-n.x,d=(f*i-c*u)/p,g=(l*a-s*o)/(p*2)-n.y,D=_*_+g*g-n.r*n.r,b=(s*u-l*i)/p,I=d*d+b*b-1,M=2*(n.r+_*d+g*b),h=(function(){var y=hh(I)>BA;return y?-(M+It(M*M-4*I*D))/(2*I):-D/M})();return{x:n.x+_+d*h,y:n.y+g+b*h,r:h}}}},yp=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=e.r-n.r,o=It(r*r+t*t);return{x:(n.x+e.x+r/o*a)/2,y:(n.y+e.y+t/o*a)/2,r:(o+n.r+e.r)/2}}},SJ=function(n){return function(e){if(rb(e)(n))return[e];if(le){var t=X(n),r=function(f){var c=!1,l;function s(p){if(p>=t)return c=!0,v.value;if(le){var _=oe(n)(p);if(_ instanceof m){var d=yp(_.value0)(e),g=md(e)(_.value0)&&rb(d)(n);if(g)return c=!0,new m([_.value0,e]);f=p+1|0;return}if(_ instanceof v){f=p+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 559, column 13 - line 566, column 52): "+[_.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 555, column 7 - line 555, column 56): "+[p.constructor.name])}for(;!c;)l=s(f);return l},a=function(f){return function(c){var l=f,s=!1,p;function _(d,g){if(g>=t)return s=!0,v.value;if(le){var D=oe(n)(g),b=oe(n)(d);if(b instanceof m&&D instanceof m){var I=yp(D.value0)(e),M=yp(b.value0)(e),h=yp(b.value0)(D.value0),y=VA(b.value0)(D.value0)(e),C=md(h)(e)&&md(M)(D.value0)&&md(I)(b.value0)&&rb(y)(n);if(C)return s=!0,new m([b.value0,D.value0,e]);l=d,c=g+1|0;return}l=d,c=g+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 576, column 7 - line 576, column 58): "+[d.constructor.name,g.constructor.name])}for(;!s;)p=_(l,c);return p}},o=function(f){var c=!1,l;function s(p){if(p>=(t-1|0))return c=!0,v.value;if(le){var _=a(p)(p+1|0);if(_ instanceof m)return c=!0,new m(_.value0);if(_ instanceof v){f=p+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 572, column 13 - line 574, column 54): "+[_.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 568, column 7 - line 568, column 58): "+[p.constructor.name])}for(;!c;)l=s(f);return l},u=r(0);if(u instanceof m)return u.value0;if(u instanceof v){var i=o(0);if(i instanceof m)return i.value0;if(i instanceof v)return n;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 549, column 11 - line 551, column 29): "+[i.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 546, column 7 - line 551, column 29): "+[u.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 542, column 1 - line 542, column 54): "+[n.constructor.name,e.constructor.name])}},xJ=function(n){return{x:n.x,y:n.y,r:n.r}},IJ=function(n){var e=X(n);return e===1?An({x:0,y:0,r:0})(eb(xJ)(oe(n)(0))):e===2?An({x:0,y:0,r:0})(tb(eb(yp)(oe(n)(0)))(oe(n)(1))):e===3?An({x:0,y:0,r:0})(tb(tb(eb(VA)(oe(n)(0)))(oe(n)(1)))(oe(n)(2))):{x:0,y:0,r:0}},AJ=function(n){var e=X(n),t=function(r){return function(a){return function(o){var u=r,i=a,f=!1,c;function l(s,p,_){if(s>=e){if(_ instanceof m)return f=!0,_.value0;if(_ instanceof v)return f=!0,{x:0,y:0,r:0};throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 600, column 9 - line 602, column 48): "+[_.constructor.name])}if(le){var d=oe(n)(s);if(d instanceof v){u=s+1|0,i=p,o=_;return}if(d instanceof m){if(_ instanceof m&&GA(_.value0)(d.value0)){u=s+1|0,i=p,o=_;return}var g=SJ(p)(d.value0),D=IJ(g);u=0,i=g,o=new m(D);return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 604, column 9 - line 615, column 44): "+[d.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 597, column 3 - line 597, column 54): "+[s.constructor.name,p.constructor.name,_.constructor.name])}for(;!f;)c=l(u,i,o);return c}}};return t(0)([])(v.value)},JA=(function(){return{size:{width:1,height:1},padding:0,radius:v.value}})(),LJ=function(n){return function(e){var t=n.r+e.r,r=(n.x*e.r+e.x*n.r)/t,a=(n.y*e.r+e.y*n.r)/t;return r*r+a*a}},NJ=function(n){return function(e){return vd(fu(n)(e.circles))(function(t){return vd(UA(n)(e.frontChain))(function(r){return vd(fu(r)(e.circles))(function(a){return HA({nodeId:n,score:LJ(t)(a)})})})})}},PJ=function(n){var e=Te(function(r){return NJ(r)(n)})(n.frontChain),t=TJ(EJ(function(r){return r.score}))(e);if(t instanceof v)return v.value;if(t instanceof m)return vd(UA(t.value0.nodeId)(n.frontChain))(function(r){return HA(new S(t.value0.nodeId,r))});throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 165, column 5 - line 169, column 40): "+[t.constructor.name])},RJ=function(n){return function(e){return function(t){return function(r){var a=function(c){return function(l){return function(s){return function(p){var _=c,d=l,g=s,D=!1,b;function I(M,h,y,C){var P=y<=C;if(P){var J=fu(M)(r.circles);if(J instanceof m){var k=RA(J.value0)(t);if(k)return D=!0,new WA(M);var sn=_d(M)(r.frontChain);if(sn instanceof m){var U=_d(h)(r.frontChain);if(U instanceof m&&sn.value0===U.value0)return D=!0,iu.value;_=sn.value0,d=h,g=y+J.value0.r,p=C;return}if(sn instanceof v)return D=!0,iu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 280, column 13 - line 286, column 37): "+[sn.constructor.name])}if(J instanceof v)return D=!0,iu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 274, column 7 - line 287, column 31): "+[J.constructor.name])}var J=fu(h)(r.circles);if(J instanceof m){var jn=RA(J.value0)(t);if(jn)return D=!0,new $A(h);var sn=PA(h)(r.frontChain);if(sn instanceof m){var U=_d(sn.value0)(r.frontChain);if(U instanceof m&&M===U.value0)return D=!0,iu.value;_=M,d=sn.value0,g=y,p=C+J.value0.r;return}if(sn instanceof v)return D=!0,iu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 296, column 13 - line 302, column 37): "+[sn.constructor.name])}if(J instanceof v)return D=!0,iu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 290, column 7 - line 303, column 31): "+[J.constructor.name])}for(;!D;)b=I(_,d,g,p);return b}}}},o=fu(e)(r.circles),u=fu(n)(r.circles);if(u instanceof m&&o instanceof m){var i=PA(n)(r.frontChain),f=_d(e)(r.frontChain);return f instanceof m&&i instanceof m?a(f.value0)(i.value0)(o.value0.r)(u.value0.r):iu.value}return iu.value}}}},OJ=function(n){return function(e){return function(t){return function(r){return function(a){var o=n,u=e,i=t,f=r,c=!1,l;function s(p,_,d,g,D){if(p<=0)return c=!0,NA(d)(g)(_)(D);if(le){var b=fu(g)(D.circles),I=fu(d)(D.circles);if(I instanceof m&&b instanceof m){var M=kA(b.value0)(I.value0)(_),h=RJ(d)(g)(M)(D);if(h instanceof iu)return c=!0,NA(d)(g)(M)(D);if(h instanceof WA){var y=LA(d)(h.value0)(D.frontChain),C={circles:D.circles,nextId:D.nextId,frontChain:y};o=p-1|0,u=_,i=d,f=h.value0,a=C;return}if(h instanceof $A){var y=LA(h.value0)(g)(D.frontChain),C={circles:D.circles,nextId:D.nextId,frontChain:y};o=p-1|0,u=_,i=h.value0,f=g,a=C;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 380, column 13 - line 396, column 101): "+[h.constructor.name])}return c=!0,D}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 368, column 1 - line 368, column 91): "+[p.constructor.name,_.constructor.name,d.constructor.name,g.constructor.name,D.constructor.name])}for(;!c;)l=s(o,u,i,f,a);return l}}}}},HJ=OJ(100),zA=function(n){return function(e){if(e.value0.children.length===0){var t=(function(){if(n.radius instanceof m)return n.radius.value0(e.value0.data_);if(n.radius instanceof v)return It(e.value0.value);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 752, column 13 - line 754, column 37): "+[n.radius.constructor.name])})();return new lu({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,children:e.value0.children,x:e.value0.x,y:e.value0.y,r:bp(0)(t)})}return new lu({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x:e.value0.x,y:e.value0.y,r:e.value0.r,children:cu(zA(n))(e.value0.children)})}},WJ=function(n){return function(e){var t=PJ(e);if(t instanceof v)return e;if(t instanceof m)return HJ(n)(t.value0.value0)(t.value0.value1)(e);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 404, column 3 - line 406, column 67): "+[t.constructor.name])}},$J=function(n){var e=X(n),t=e===0;if(t)return{circles:[],radius:0};var r=e===1;if(r){var i=oe(n)(0);if(i instanceof m)return{circles:[{r:i.value0.r,x:0,y:0}],radius:i.value0.r};if(i instanceof v)return{circles:[],radius:0};throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 415, column 7 - line 417, column 48): "+[i.constructor.name])}var a=e===2;if(a){var i=oe(n)(1),f=oe(n)(0);if(f instanceof m&&i instanceof m){var o={r:i.value0.r,x:f.value0.r,y:0},u={r:f.value0.r,x:-i.value0.r,y:0};return{circles:[u,o],radius:f.value0.r+i.value0.r}}return{circles:[],radius:0}}var i=oe(n)(2),f=oe(n)(1),c=oe(n)(0);if(c instanceof m&&f instanceof m&&i instanceof m){var l=K_(3)(n),s=MJ(c.value0)(f.value0)(i.value0),p=ab(Qn(WJ))(s)(l),_=Te(function(D){return fu(D)(p.circles)})(zo(0)(e-1|0)),d=AJ(_),g=cu(function(D){return{r:D.r,x:D.x-d.x,y:D.y-d.y}})(_);return{circles:g,radius:d.r}}return{circles:[],radius:0}},ob=function(n){return function(e){return function(t){var r=function(d){return function(g){return new lu({data_:d.value0.data_,depth:d.value0.depth,height:d.value0.height,value:d.value0.value,children:d.value0.children,r:d.value0.r,x:g.x,y:g.y})}},a=function(d){return function(g){return{x:g.x,y:g.y,r:g.r-d}}},o=function(d){return{x:d.value0.x,y:d.value0.y,r:d.value0.r}},u=function(d){return function(g){return{x:g.x,y:g.y,r:g.r+d}}};if(t.value0.children.length===0)return new lu(t.value0);var i=e.padding*n,f=cu(ob(n)(e))(t.value0.children),c=cu((function(){var d=u(i);return function(g){return d(o(g))}})())(f),l=$J(c),s=cu(a(i))(l.circles),p=Sr(r)(f)(s),_={data_:t.value0.data_,depth:t.value0.depth,height:t.value0.height,value:t.value0.value,x:t.value0.x,y:t.value0.y,r:l.radius+i,children:p};return new lu(_)}}},jA=function(n){return function(e){var t=zA(n)(e),r=ob(1)({size:n.size,radius:n.radius,padding:0})(t),a=r.value0.r/OA(n.size.width)(n.size.height),o=ob(a)(n)(t),u=wJ(n)(o);return u}};var qJ=L(Pn),UJ=es(ee),dd=T(gn),BJ=Jo(In),GJ=V(yu),VJ=Q(ve),ib=Qt(ue),QA=q(Ae),JJ=function(n){return function(e){return SA("#explorer-nodes")(n)(e)}},zJ=function(n){return{x:n.node.value0.x,y:n.node.value0.y,r:n.node.value0.r,depth:n.node.value0.depth,data_:n.node.value0.data_,category:n.category}};var XA=xA,jJ=function(n){var e=UJ(dd(function(r){return r.kind})(n)),t=dd(function(r){return{kind:r,decls:Le(function(a){return a.kind===r})(n)}})(e);return BJ(function(r){return-X(r.decls)|0})(Le(function(r){return!rt(r.decls)})(t))},YA=function(n){return function(e){var t=(function(){var a=n.value0.depth===1;return a?n.value0.data_:e})(),r=GJ(n.value0.children)(function(a){return YA(a)(t)});return VJ([{node:n,category:t}])(r)}},KA=IA,QJ=(function(){return vh(lc.value)})(),XJ=(function(){return vh(lc.value)})(),YJ=function(n){return n.depth===0?"#333":n.depth===1?XJ(n.data_):QJ(n.category)},KJ=function(n){return qJ(YJ(n))},ZJ=function(n){return{data_:n.title,value:new m(1),children:v.value}},n8=function(n){var e=rt(n.decls);return e?v.value:new m({data_:n.kind,value:v.value,children:new m(dd(ZJ)(n.decls))})},e8=function(n){return function(e){var t=jJ(e),r=Te(n8)(t);return{data_:n,value:v.value,children:(function(){var a=rt(r);return a?v.value:new m(r)})()}}},ZA=function(n){return function(e){return function(t){return function(r){return function(a){var o=An([])(Ge(a.name)(n)),u=rt(o);if(u){var i=!rt(a.targets);return function(){return(function(){return i?ib("[BubblePack] Re-export module: "+(a.name+(" (depends on "+(QA(X(a.targets))+" modules)"))))():ib("[BubblePack] Empty module: "+a.name)()})(),JJ(a)(i)(),a.r}}return function(){ib("[BubblePack] Rendering "+(a.name+(" with "+(QA(X(o))+" declarations"))))();var c=e8(a.name)(o),l=qA(c),s=a.r*3,p={radius:JA.radius,size:{width:s,height:s},padding:1},_=jA(p)(l),d=YA(_)(""),g=dd(zJ)(d),D=s/2;return AA("#explorer-nodes")(a)(g)(D)(KJ)(e)(t)(r)(),_.value0.r}}}}}};var fb="http://localhost:8080",cb=n=>e=>()=>{let t=document.getElementById("call-graph-popup"),r=document.getElementById("call-graph-title"),a=document.getElementById("call-graph-callers-list"),o=document.getElementById("call-graph-source-code"),u=document.getElementById("call-graph-callees-list");if(!t){console.error("[CallGraphPopup] Popup element not found");return}r.textContent=`${e} (${n})`,a.innerHTML='<div class="call-graph-loading">Loading...</div>',o.innerHTML='<div class="call-graph-loading">Loading source code...</div>',u.innerHTML='<div class="call-graph-loading">Loading...</div>',t.style.display="flex",r8(n,e).then(i=>{i.callers&&i.callers.length>0?a.innerHTML=i.callers.map(c=>{let l=typeof c=="string"?c:c.target||c,s=typeof c=="object"?c.targetModule:null;return s&&l?`<div class="call-graph-list-item call-graph-link" data-module="${su(s)}" data-function="${su(l)}">${su(l)}</div>`:`<div class="call-graph-list-item">${su(l)}</div>`}).join(""):a.innerHTML='<div class="call-graph-empty">No callers found</div>',i.callees&&i.callees.length>0?u.innerHTML=i.callees.map(c=>{let l=typeof c=="string"?c:c.target||c,s=typeof c=="object"?c.targetModule:null;return s&&l?`<div class="call-graph-list-item call-graph-link" data-module="${su(s)}" data-function="${su(l)}">${su(l)}</div>`:`<div class="call-graph-list-item">${su(l)}</div>`}).join(""):u.innerHTML='<div class="call-graph-empty">No calls found</div>';let f="";if(i.gitMetrics){let c=i.gitMetrics;f+='<div class="call-graph-git-metrics">',f+=`<div class="git-metric"><strong>Commits:</strong> ${c.commit_count||0}</div>`,f+=`<div class="git-metric"><strong>Last modified:</strong> ${c.days_since_modified||0} days ago</div>`,f+=`<div class="git-metric"><strong>Authors:</strong> ${c.author_count||0}</div>`,c.authors&&c.authors.length>0&&(f+=`<div class="git-metric"><strong>Contributors:</strong> ${c.authors.slice(0,3).join(", ")}${c.authors.length>3?"...":""}</div>`),f+="</div>"}i.sourceCode?f+=`<pre class="call-graph-source">${su(i.sourceCode)}</pre>`:f+='<div class="call-graph-empty">Source code not available</div>',o.innerHTML=f,document.querySelectorAll(".call-graph-link").forEach(c=>{c.addEventListener("click",()=>{let l=c.getAttribute("data-module"),s=c.getAttribute("data-function");l&&s&&cb(l)(s)()})})}).catch(i=>{console.error("[CallGraphPopup] Error fetching call graph data:",i),a.innerHTML='<div class="call-graph-error">Error loading callers</div>',o.innerHTML='<div class="call-graph-error">Error loading source code</div>',u.innerHTML='<div class="call-graph-error">Error loading callees</div>'})},Dd=()=>{let n=document.getElementById("call-graph-popup");n&&(n.style.display="none")};async function r8(n,e){try{let r=new URLSearchParams(window.location.search).get("snapshot")||"1",u=(await(await fetch(`${fb}/api/module-function-calls/${encodeURIComponent(n)}?snapshot=${r}`)).json()).functions?.[e];if(!u)return console.warn(`[CallGraphPopup] No data found for ${n}.${e}`),{callers:[],callees:[],sourceCode:null,gitMetrics:null};let c=(await(await fetch(`${fb}/api/module-declarations/${encodeURIComponent(n)}?snapshot=${r}`)).json()).declarations?.find(p=>p.title===e),l;c?.sourceCode?l=c.sourceCode:c?l=`${c.kind}: ${c.title}

(Source code not available)`:l=`${e}

(Declaration not found)`;let s=null;try{let p=await fetch(`${fb}/api/module-metrics/${encodeURIComponent(n)}?snapshot=${r}`);p.ok&&(s=await p.json())}catch(p){console.warn("[CallGraphPopup] Could not fetch git metrics:",p)}return{callers:u.calledBy||[],callees:u.calls||[],sourceCode:l,gitMetrics:s}}catch(t){throw console.error("[CallGraphPopup] Fetch error:",t),t}}function su(n){let e=document.createElement("div");return e.textContent=n,e.innerHTML}typeof document<"u"&&document.addEventListener("DOMContentLoaded",()=>{let n=document.getElementById("call-graph-close");n&&n.addEventListener("click",Dd);let e=document.getElementById("call-graph-popup");e&&e.addEventListener("click",t=>{t.target===e&&Dd()}),document.addEventListener("keydown",t=>{if(t.key==="Escape"){let r=document.getElementById("call-graph-popup");r&&r.style.display!=="none"&&Dd()}})});var nL=cb;function eL(n){let e=+this._x.call(null,n),t=+this._y.call(null,n);return tL(this.cover(e,t),e,t,n)}function tL(n,e,t,r){if(isNaN(e)||isNaN(t))return n;var a,o=n._root,u={data:r},i=n._x0,f=n._y0,c=n._x1,l=n._y1,s,p,_,d,g,D,b,I;if(!o)return n._root=u,n;for(;o.length;)if((g=e>=(s=(i+c)/2))?i=s:c=s,(D=t>=(p=(f+l)/2))?f=p:l=p,a=o,!(o=o[b=D<<1|g]))return a[b]=u,n;if(_=+n._x.call(null,o.data),d=+n._y.call(null,o.data),e===_&&t===d)return u.next=o,a?a[b]=u:n._root=u,n;do a=a?a[b]=new Array(4):n._root=new Array(4),(g=e>=(s=(i+c)/2))?i=s:c=s,(D=t>=(p=(f+l)/2))?f=p:l=p;while((b=D<<1|g)===(I=(d>=p)<<1|_>=s));return a[I]=o,a[b]=u,n}function rL(n){var e,t,r=n.length,a,o,u=new Array(r),i=new Array(r),f=1/0,c=1/0,l=-1/0,s=-1/0;for(t=0;t<r;++t)isNaN(a=+this._x.call(null,e=n[t]))||isNaN(o=+this._y.call(null,e))||(u[t]=a,i[t]=o,a<f&&(f=a),a>l&&(l=a),o<c&&(c=o),o>s&&(s=o));if(f>l||c>s)return this;for(this.cover(f,c).cover(l,s),t=0;t<r;++t)tL(this,u[t],i[t],n[t]);return this}function aL(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,a=this._x1,o=this._y1;if(isNaN(t))a=(t=Math.floor(n))+1,o=(r=Math.floor(e))+1;else{for(var u=a-t||1,i=this._root,f,c;t>n||n>=a||r>e||e>=o;)switch(c=(e<r)<<1|n<t,f=new Array(4),f[c]=i,i=f,u*=2,c){case 0:a=t+u,o=r+u;break;case 1:t=a-u,o=r+u;break;case 2:a=t+u,r=o-u;break;case 3:t=a-u,r=o-u;break}this._root&&this._root.length&&(this._root=i)}return this._x0=t,this._y0=r,this._x1=a,this._y1=o,this}function oL(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function uL(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function qt(n,e,t,r,a){this.node=n,this.x0=e,this.y0=t,this.x1=r,this.y1=a}function iL(n,e,t){var r,a=this._x0,o=this._y0,u,i,f,c,l=this._x1,s=this._y1,p=[],_=this._root,d,g;for(_&&p.push(new qt(_,a,o,l,s)),t==null?t=1/0:(a=n-t,o=e-t,l=n+t,s=e+t,t*=t);d=p.pop();)if(!(!(_=d.node)||(u=d.x0)>l||(i=d.y0)>s||(f=d.x1)<a||(c=d.y1)<o))if(_.length){var D=(u+f)/2,b=(i+c)/2;p.push(new qt(_[3],D,b,f,c),new qt(_[2],u,b,D,c),new qt(_[1],D,i,f,b),new qt(_[0],u,i,D,b)),(g=(e>=b)<<1|n>=D)&&(d=p[p.length-1],p[p.length-1]=p[p.length-1-g],p[p.length-1-g]=d)}else{var I=n-+this._x.call(null,_.data),M=e-+this._y.call(null,_.data),h=I*I+M*M;if(h<t){var y=Math.sqrt(t=h);a=n-y,o=e-y,l=n+y,s=e+y,r=_.data}}return r}function fL(n){if(isNaN(l=+this._x.call(null,n))||isNaN(s=+this._y.call(null,n)))return this;var e,t=this._root,r,a,o,u=this._x0,i=this._y0,f=this._x1,c=this._y1,l,s,p,_,d,g,D,b;if(!t)return this;if(t.length)for(;;){if((d=l>=(p=(u+f)/2))?u=p:f=p,(g=s>=(_=(i+c)/2))?i=_:c=_,e=t,!(t=t[D=g<<1|d]))return this;if(!t.length)break;(e[D+1&3]||e[D+2&3]||e[D+3&3])&&(r=e,b=D)}for(;t.data!==n;)if(a=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,a?(o?a.next=o:delete a.next,this):e?(o?e[D]=o:delete e[D],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[b]=t:this._root=t),this):(this._root=o,this)}function cL(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function lL(){return this._root}function sL(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function pL(n){var e=[],t,r=this._root,a,o,u,i,f;for(r&&e.push(new qt(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(r=t.node,o=t.x0,u=t.y0,i=t.x1,f=t.y1)&&r.length){var c=(o+i)/2,l=(u+f)/2;(a=r[3])&&e.push(new qt(a,c,l,i,f)),(a=r[2])&&e.push(new qt(a,o,l,c,f)),(a=r[1])&&e.push(new qt(a,c,u,i,l)),(a=r[0])&&e.push(new qt(a,o,u,c,l))}return this}function _L(n){var e=[],t=[],r;for(this._root&&e.push(new qt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var a=r.node;if(a.length){var o,u=r.x0,i=r.y0,f=r.x1,c=r.y1,l=(u+f)/2,s=(i+c)/2;(o=a[0])&&e.push(new qt(o,u,i,l,s)),(o=a[1])&&e.push(new qt(o,l,i,f,s)),(o=a[2])&&e.push(new qt(o,u,s,l,c)),(o=a[3])&&e.push(new qt(o,l,s,f,c))}t.push(r)}for(;r=t.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this}function mL(n){return n[0]}function vL(n){return arguments.length?(this._x=n,this):this._x}function dL(n){return n[1]}function DL(n){return arguments.length?(this._y=n,this):this._y}function bf(n,e,t){var r=new lb(e??mL,t??dL,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function lb(n,e,t,r,a,o){this._x=n,this._y=e,this._x0=t,this._y0=r,this._x1=a,this._y1=o,this._root=void 0}function gL(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Tr=bf.prototype=lb.prototype;Tr.copy=function(){var n=new lb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,r;if(!e)return n;if(!e.length)return n._root=gL(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var a=0;a<4;++a)(r=e.source[a])&&(r.length?t.push({source:r,target:e.target[a]=new Array(4)}):e.target[a]=gL(r));return n};Tr.add=eL;Tr.addAll=rL;Tr.cover=aL;Tr.data=oL;Tr.extent=uL;Tr.find=iL;Tr.remove=fL;Tr.removeAll=cL;Tr.root=lL;Tr.size=sL;Tr.visit=pL;Tr.visitAfter=_L;Tr.x=vL;Tr.y=DL;function wt(n){return function(){return n}}function Ya(n){return(n()-.5)*1e-6}function u8(n){return n.x+n.vx}function i8(n){return n.y+n.vy}function sb(n){var e,t,r,a=1,o=1;typeof n!="function"&&(n=wt(n==null?1:+n));function u(){for(var c,l=e.length,s,p,_,d,g,D,b=0;b<o;++b)for(s=bf(e,u8,i8).visitAfter(i),c=0;c<l;++c)p=e[c],g=t[p.index],D=g*g,_=p.x+p.vx,d=p.y+p.vy,s.visit(I);function I(M,h,y,C,P){var k=M.data,sn=M.r,U=g+sn;if(k){if(k.index>p.index){var J=_-k.x-k.vx,jn=d-k.y-k.vy,Hn=J*J+jn*jn;Hn<U*U&&(J===0&&(J=Ya(r),Hn+=J*J),jn===0&&(jn=Ya(r),Hn+=jn*jn),Hn=(U-(Hn=Math.sqrt(Hn)))/Hn*a,p.vx+=(J*=Hn)*(U=(sn*=sn)/(D+sn)),p.vy+=(jn*=Hn)*U,k.vx-=J*(U=1-U),k.vy-=jn*U)}return}return h>_+U||C<_-U||y>d+U||P<d-U}}function i(c){if(c.data)return c.r=t[c.data.index];for(var l=c.r=0;l<4;++l)c[l]&&c[l].r>c.r&&(c.r=c[l].r)}function f(){if(e){var c,l=e.length,s;for(t=new Array(l),c=0;c<l;++c)s=e[c],t[s.index]=+n(s,c,e)}}return u.initialize=function(c,l){e=c,r=l,f()},u.iterations=function(c){return arguments.length?(o=+c,u):o},u.strength=function(c){return arguments.length?(a=+c,u):a},u.radius=function(c){return arguments.length?(n=typeof c=="function"?c:wt(+c),f(),u):n},u}function f8(n){return n.index}function hL(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function pb(n){var e=f8,t=s,r,a=wt(30),o,u,i,f,c,l=1;n==null&&(n=[]);function s(D){return 1/Math.min(i[D.source.index],i[D.target.index])}function p(D){for(var b=0,I=n.length;b<l;++b)for(var M=0,h,y,C,P,k,sn,U;M<I;++M)h=n[M],y=h.source,C=h.target,P=C.x+C.vx-y.x-y.vx||Ya(c),k=C.y+C.vy-y.y-y.vy||Ya(c),sn=Math.sqrt(P*P+k*k),sn=(sn-o[M])/sn*D*r[M],P*=sn,k*=sn,C.vx-=P*(U=f[M]),C.vy-=k*U,y.vx+=P*(U=1-U),y.vy+=k*U}function _(){if(u){var D,b=u.length,I=n.length,M=new Map(u.map((y,C)=>[e(y,C,u),y])),h;for(D=0,i=new Array(b);D<I;++D)h=n[D],h.index=D,typeof h.source!="object"&&(h.source=hL(M,h.source)),typeof h.target!="object"&&(h.target=hL(M,h.target)),i[h.source.index]=(i[h.source.index]||0)+1,i[h.target.index]=(i[h.target.index]||0)+1;for(D=0,f=new Array(I);D<I;++D)h=n[D],f[D]=i[h.source.index]/(i[h.source.index]+i[h.target.index]);r=new Array(I),d(),o=new Array(I),g()}}function d(){if(u)for(var D=0,b=n.length;D<b;++D)r[D]=+t(n[D],D,n)}function g(){if(u)for(var D=0,b=n.length;D<b;++D)o[D]=+a(n[D],D,n)}return p.initialize=function(D,b){u=D,c=b,_()},p.links=function(D){return arguments.length?(n=D,_(),p):n},p.id=function(D){return arguments.length?(e=D,p):e},p.iterations=function(D){return arguments.length?(l=+D,p):l},p.strength=function(D){return arguments.length?(t=typeof D=="function"?D:wt(+D),d(),p):t},p.distance=function(D){return arguments.length?(a=typeof D=="function"?D:wt(+D),g(),p):a},p}var c8={value:()=>{}};function bL(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new gd(t)}function gd(n){this._=n}function l8(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");if(a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}gd.prototype=bL.prototype={constructor:gd,on:function(n,e){var t=this._,r=l8(n+"",t),a,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((a=(n=r[o]).type)&&(a=s8(t[a],n.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(a=(n=r[o]).type)t[a]=yL(t[a],n.name,e);else if(e==null)for(a in t)t[a]=yL(t[a],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new gd(n)},call:function(n,e){if((a=arguments.length-2)>0)for(var t=new Array(a),r=0,a,o;r<a;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],r=0,a=o.length;r<a;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,o=r.length;a<o;++a)r[a].value.apply(e,t)}};function s8(n,e){for(var t=0,r=n.length,a;t<r;++t)if((a=n[t]).name===e)return a.value}function yL(n,e,t){for(var r=0,a=n.length;r<a;++r)if(n[r].name===e){n[r]=c8,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var Tf=bL;var tl=0,Ep=0,Tp=0,EL=1e3,hd,wp,yd=0,Ef=0,bd=0,Cp=typeof performance=="object"&&performance.now?performance:Date,wL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Fp(){return Ef||(wL(p8),Ef=Cp.now()+bd)}function p8(){Ef=0}function Mp(){this._call=this._time=this._next=null}Mp.prototype=Td.prototype={constructor:Mp,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Fp():+t)+(e==null?0:+e),!this._next&&wp!==this&&(wp?wp._next=this:hd=this,wp=this),this._call=n,this._time=t,_b()},stop:function(){this._call&&(this._call=null,this._time=1/0,_b())}};function Td(n,e,t){var r=new Mp;return r.restart(n,e,t),r}function CL(){Fp(),++tl;for(var n=hd,e;n;)(e=Ef-n._time)>=0&&n._call.call(void 0,e),n=n._next;--tl}function TL(){Ef=(yd=Cp.now())+bd,tl=Ep=0;try{CL()}finally{tl=0,m8(),Ef=0}}function _8(){var n=Cp.now(),e=n-yd;e>EL&&(bd-=e,yd=n)}function m8(){for(var n,e=hd,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:hd=t);wp=n,_b(r)}function _b(n){if(!tl){Ep&&(Ep=clearTimeout(Ep));var e=n-Ef;e>24?(n<1/0&&(Ep=setTimeout(TL,n-Cp.now()-bd)),Tp&&(Tp=clearInterval(Tp))):(Tp||(yd=Cp.now(),Tp=setInterval(_8,EL)),tl=1,wL(TL))}}function Ed(n,e,t){var r=new Mp;return e=e==null?0:+e,r.restart(a=>{r.stop(),n(a+e)},e,t),r}function ML(n){return n.x}function FL(n){return n.y}var g0n=Math.PI*(3-Math.sqrt(5));function mb(){var n,e,t,r,a=wt(-30),o,u=1,i=1/0,f=.81;function c(_){var d,g=n.length,D=bf(n,ML,FL).visitAfter(s);for(r=_,d=0;d<g;++d)e=n[d],D.visit(p)}function l(){if(n){var _,d=n.length,g;for(o=new Array(d),_=0;_<d;++_)g=n[_],o[g.index]=+a(g,_,n)}}function s(_){var d=0,g,D,b=0,I,M,h;if(_.length){for(I=M=h=0;h<4;++h)(g=_[h])&&(D=Math.abs(g.value))&&(d+=g.value,b+=D,I+=D*g.x,M+=D*g.y);_.x=I/b,_.y=M/b}else{g=_,g.x=g.data.x,g.y=g.data.y;do d+=o[g.data.index];while(g=g.next)}_.value=d}function p(_,d,g,D){if(!_.value)return!0;var b=_.x-e.x,I=_.y-e.y,M=D-d,h=b*b+I*I;if(M*M/f<h)return h<i&&(b===0&&(b=Ya(t),h+=b*b),I===0&&(I=Ya(t),h+=I*I),h<u&&(h=Math.sqrt(u*h)),e.vx+=b*_.value*r/h,e.vy+=I*_.value*r/h),!0;if(_.length||h>=i)return;(_.data!==e||_.next)&&(b===0&&(b=Ya(t),h+=b*b),I===0&&(I=Ya(t),h+=I*I),h<u&&(h=Math.sqrt(u*h)));do _.data!==e&&(M=o[_.data.index]*r/h,e.vx+=b*M,e.vy+=I*M);while(_=_.next)}return c.initialize=function(_,d){n=_,t=d,l()},c.strength=function(_){return arguments.length?(a=typeof _=="function"?_:wt(+_),l(),c):a},c.distanceMin=function(_){return arguments.length?(u=_*_,c):Math.sqrt(u)},c.distanceMax=function(_){return arguments.length?(i=_*_,c):Math.sqrt(i)},c.theta=function(_){return arguments.length?(f=_*_,c):Math.sqrt(f)},c}function wd(n){var e=wt(.1),t,r,a;typeof n!="function"&&(n=wt(n==null?0:+n));function o(i){for(var f=0,c=t.length,l;f<c;++f)l=t[f],l.vx+=(a[f]-l.x)*r[f]*i}function u(){if(t){var i,f=t.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+n(t[i],i,t))?0:+e(t[i],i,t)}}return o.initialize=function(i){t=i,u()},o.strength=function(i){return arguments.length?(e=typeof i=="function"?i:wt(+i),u(),o):e},o.x=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),u(),o):n},o}function Cd(n){var e=wt(.1),t,r,a;typeof n!="function"&&(n=wt(n==null?0:+n));function o(i){for(var f=0,c=t.length,l;f<c;++f)l=t[f],l.vy+=(a[f]-l.y)*r[f]*i}function u(){if(t){var i,f=t.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+n(t[i],i,t))?0:+e(t[i],i,t)}}return o.initialize=function(i){t=i,u()},o.strength=function(i){return arguments.length?(e=typeof i=="function"?i:wt(+i),u(),o):e},o.y=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),u(),o):n},o}var SL={passive:!1},wf={capture:!0,passive:!1};function Md(n){n.stopImmediatePropagation()}function ii(n){n.preventDefault(),n.stopImmediatePropagation()}function Sp(n){var e=n.document.documentElement,t=Bn(n).on("dragstart.drag",ii,wf);"onselectstart"in e?t.on("selectstart.drag",ii,wf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function xp(n,e){var t=n.document.documentElement,r=Bn(n).on("dragstart.drag",null);e&&(r.on("click.drag",ii,wf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var Ip=n=>()=>n;function Ap(n,{sourceEvent:e,subject:t,target:r,identifier:a,active:o,x:u,y:i,dx:f,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}Ap.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function v8(n){return!n.ctrlKey&&!n.button}function d8(){return this.parentNode}function D8(n,e){return e??{x:n.x,y:n.y}}function g8(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lp(){var n=v8,e=d8,t=D8,r=g8,a={},o=Tf("start","drag","end"),u=0,i,f,c,l,s=0;function p(h){h.on("mousedown.drag",_).filter(r).on("touchstart.drag",D).on("touchmove.drag",b,SL).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(h,y){if(!(l||!n.call(this,h,y))){var C=M(this,e.call(this,h,y),h,y,"mouse");C&&(Bn(h.view).on("mousemove.drag",d,wf).on("mouseup.drag",g,wf),Sp(h.view),Md(h),c=!1,i=h.clientX,f=h.clientY,C("start",h))}}function d(h){if(ii(h),!c){var y=h.clientX-i,C=h.clientY-f;c=y*y+C*C>s}a.mouse("drag",h)}function g(h){Bn(h.view).on("mousemove.drag mouseup.drag",null),xp(h.view,c),ii(h),a.mouse("end",h)}function D(h,y){if(n.call(this,h,y)){var C=h.changedTouches,P=e.call(this,h,y),k=C.length,sn,U;for(sn=0;sn<k;++sn)(U=M(this,P,h,y,C[sn].identifier,C[sn]))&&(Md(h),U("start",h,C[sn]))}}function b(h){var y=h.changedTouches,C=y.length,P,k;for(P=0;P<C;++P)(k=a[y[P].identifier])&&(ii(h),k("drag",h,y[P]))}function I(h){var y=h.changedTouches,C=y.length,P,k;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),P=0;P<C;++P)(k=a[y[P].identifier])&&(Md(h),k("end",h,y[P]))}function M(h,y,C,P,k,sn){var U=o.copy(),J=br(sn||C,y),jn,Hn,E;if((E=t.call(h,new Ap("beforestart",{sourceEvent:C,target:p,identifier:k,active:u,x:J[0],y:J[1],dx:0,dy:0,dispatch:U}),P))!=null)return jn=E.x-J[0]||0,Hn=E.y-J[1]||0,function G(x,j,mn){var Cn=J,Nn;switch(x){case"start":a[k]=G,Nn=u++;break;case"end":delete a[k],--u;case"drag":J=br(mn||j,y),Nn=u;break}U.call(x,h,new Ap(x,{sourceEvent:j,subject:E,target:p,identifier:k,active:Nn,x:J[0]+jn,y:J[1]+Hn,dx:J[0]-Cn[0],dy:J[1]-Cn[1],dispatch:U}),P)}}return p.filter=function(h){return arguments.length?(n=typeof h=="function"?h:Ip(!!h),p):n},p.container=function(h){return arguments.length?(e=typeof h=="function"?h:Ip(h),p):e},p.subject=function(h){return arguments.length?(t=typeof h=="function"?h:Ip(h),p):t},p.touchable=function(h){return arguments.length?(r=typeof h=="function"?h:Ip(!!h),p):r},p.on=function(){var h=o.on.apply(o,arguments);return h===o?p:h},p.clickDistance=function(h){return arguments.length?(s=(h=+h)*h,p):Math.sqrt(s)},p}function AL(n){return mb().strength(n.strength).theta(n.theta).distanceMin(n.distanceMin).distanceMax(n.distanceMax)}function LL(n){return pb().distance(n.distance).strength(n.strength).iterations(n.iterations)}function NL(n){return wd(n.x).strength(n.strength)}function PL(n){return Cd(n.y).strength(n.strength)}function RL(n){return wd().x(e=>e.gridX).strength(n)}function OL(n){return Cd().y(e=>e.gridY).strength(n)}function HL(n){return function(e){return function(t){return sb().radius(r=>r.r+n).strength(e).iterations(t)}}}function WL(n){return function(e){return function(){let t=performance.now();n.initialize&&n.initialize(e,Math.random);let r=performance.now()-t;return r>1&&console.log(`[InitForce] Took ${r.toFixed(1)}ms for ${e.length} nodes`),n}}}function $L(n){return function(e){return function(t){return function(){n.initialize&&n.initialize(e,Math.random);let r=t.map(a=>({...a}));return n.links(r),n}}}}function kL(n){return function(e){return function(){let t=performance.now();n(e);let r=performance.now()-t;r>5&&console.log(`[Force] ${n.name||"unknown"} took ${r.toFixed(1)}ms`)}}}var Fd=0;function qL(n){return function(e){return function(){let t=performance.now();if(Fd%100===0){let a=n.find(o=>o.fx==null);console.log(a?`[IntegrateDebug tick=${Fd}] free node ${a.id}: x=${a.x?.toFixed(1)}, y=${a.y?.toFixed(1)}, vx=${a.vx?.toFixed(3)}, vy=${a.vy?.toFixed(3)}`:`[IntegrateDebug tick=${Fd}] NO FREE NODES! All ${n.length} nodes have fx set`)}Fd++;for(let a=0;a<n.length;a++){let o=n[a];o.fx!=null?(o.x=o.fx,o.vx=0):(o.vx*=e,o.x+=o.vx),o.fy!=null?(o.y=o.fy,o.vy=0):(o.vy*=e,o.y+=o.vy)}let r=performance.now()-t;r>2&&console.log(`[Integrate] Took ${r.toFixed(1)}ms for ${n.length} nodes`)}}}function UL(n){return function(e){return function(t){return function(r){let a=n+(r-n)*t;return a<e?0:a}}}}function BL(n){return function(){for(let e=0;e<n.length;e++){let t=n[e];t.index=e,t.vx===void 0&&(t.vx=0),t.vy===void 0&&(t.vy=0),t.x===void 0&&(t.x=Math.random()*100-50),t.y===void 0&&(t.y=Math.random()*100-50),t.id===93&&(t.__simMarker__=!0,console.log(`[InitNodes] Marked node 93 with __simMarker__, x=${t.x?.toFixed(1)}`))}}}var pu={count:0,totalTime:0,maxTime:0,lastReport:Date.now()},xL=performance.now(),fi={total:0,max:0,count:0},IL=!0,h8=8;function vb(n){return function(){let e=performance.now(),t=e-xL,r,a=function(o){let u=performance.now(),i=u-e,f=performance.now();n(o||u)();let c=performance.now()-f;xL=performance.now(),pu.count++,pu.totalTime+=c,pu.maxTime=Math.max(pu.maxTime,c),fi.total+=i,fi.max=Math.max(fi.max,i),fi.count++;let l=Date.now();if(l-pu.lastReport>2e3){let s=pu.totalTime/pu.count,p=fi.total/fi.count;console.log(`[AnimLoop] ${pu.count} ticks, work=${s.toFixed(1)}ms, wait=${p.toFixed(0)}ms (max=${fi.max.toFixed(0)}ms) [${IL?"setTimeout":"rAF"}]`),pu={count:0,totalTime:0,maxTime:0,lastReport:l},fi={total:0,max:0,count:0}}};return IL?(r=setTimeout(a,h8),function(){clearTimeout(r)}):(r=requestAnimationFrame(a),function(){cancelAnimationFrame(r)})}}function GL(){return function(){return{cancel:function(){}}}}function db(n){return function(e){return function(){n.cancel=e}}}function VL(n){return function(){return n.cancel}}function JL(n){return function(e){return function(t){return function(){let r=Bn(e).node();if(!r){console.warn("[attachGroupDragWithReheat] Container not found:",e);return}let a=Lp().subject(function(o){let u=o.sourceEvent.target;for(;u&&!u.classList?.contains("module-pack");)u=u.parentElement;return u?.__data__}).on("start",function(o){t(),o.subject.fx=o.subject.x,o.subject.fy=o.subject.y}).on("drag",function(o){let[u,i]=br(o,r);o.subject.fx=u,o.subject.fy=i}).on("end",function(o){o.subject.fx=null,o.subject.fy=null});n.forEach(function(o){Bn(o).call(a).style("cursor","grab")})}}}}var b8=V(yt),T8=Zt(Pn),E8=Dn(yn),w8=ua(Pn)(cn);var zL=function(n){return function(){var t=GL(),r=function(o){return function(){var i=n(o)();return T8(i)(function(){var c=vb(r)();return db(t)(c)()})()}},a=vb(r)();return db(t)(a)(),b8(VL(t))(E8)}};var jL=qL,QL=BL,Db=$L,Er=WL,XL=UL;var Sd=AL,gb=LL,YL=OL;var xd=PL,KL=RL;var Id=NL,hb=HL;var ZL=JL;var C8=kL,nN=function(n){return function(e){return w8(n)(function(t){return C8(t)(e)})}};var eN=n=>()=>{Bn(n).selectAll("circle").attr("cx",e=>e.x).attr("cy",e=>e.y)},tN=n=>()=>{Bn(n).selectAll("line").attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y)},rN=n=>()=>{Bn(n).selectAll("g.module-pack").attr("transform",e=>`translate(${e.x},${e.y})`)};var bb=Ht();var Ad=function(n){return tN(bb(n))},aN=function(n){return rN(bb(n))},oN=function(n){return eN(bb(n))};function iN(n){return function(e){return function(){let t=e.value;for(let r=0;r<t.length;r++){let a=t[r],o=n[a.id];o&&(a.x=o.x,a.y=o.y)}}}}function fN(n){return function(e){return function(t){return function(r){return function(){let a=r.value;for(let o=0;o<a.length;o++){let u=a[o],i=String(u.id),f=n[i],c=e[i];f&&c&&(u.x=f.x+(c.x-f.x)*t,u.y=f.y+(c.y-f.y)*t)}}}}}}var Np={alpha:1,alphaMin:.001,alphaDecay:.0228,alphaTarget:0,velocityDecay:.4};var I8=jr(We),cN=L(Pn),Tb=hi(Pn),A8=ua(Pn)(cn),L8=Qi(Jr);var lN=function(n){return function(e){return iN(n)(e.nodes)}};var N8=function(n){return function(){var t=R(n.nodes)(),r=R(n.forces)(),a=R(n.alpha)(),o=I8(ws(r));nN(o)(a)(),jL(t)(n.config.velocityDecay)();var u=XL(a)(n.config.alphaMin)(n.config.alphaDecay)(n.config.alphaTarget);rn(u)(n.alpha)();var i=R(n.tickCallback)();return i(),u}};var Ld=function(n){return function(){var t=R(n.running)();return Tb(t)(function(){rn(!0)(n.running)();var a=zL(function(o){return function(){var i=R(n.running)();if(i){var f=N8(n)(),c=f>0;return Tb(c)(rn(!1)(n.running))(),c}return!1}})();return rn(a)(n.cancelAnimation)()})()}},Pp=function(n){return function(e){return function(){QL(n)(),rn(n)(e.nodes)();var r=R(e.forces)();return A8(L8(r))(function(a){return function(){return Er(a.value1)(n)(),void 0}})()}}};var Cf=function(n){return function(){rn(1)(n.alpha)();var t=R(n.running)();return Tb(t)(Ld(n))()}};var Nd=function(n){return function(e){return rn(n)(e.tickCallback)}};var sN=function(n){return function(e){return function(t){return function(r){return fN(n)(e)(t)(r.nodes)}}}},ha=function(n){return R(n.nodes)};var pN=(function(){return{alphaMin:Np.alphaMin,alphaDecay:Np.alphaDecay,alphaTarget:Np.alphaTarget,velocityDecay:Np.velocityDecay}})(),_N=function(n){return function(){var t=zn([])(),r=zn([])(),a=zn(ie)(),o=zn(1)(),u=zn(!1)(),i=zn(cN(void 0))(),f=zn(cN(void 0))();return{nodes:t,links:r,forces:a,alpha:o,config:n,running:u,cancelAnimation:i,tickCallback:f}}};function Pd(n){return function(e){let t=e.value;for(let r=0;r<t.length;r++){let a=t[r];for(let o=0;o<n.length;o++){let u=n[o];if(u.select(a)){let i=u.apply(a);Object.assign(a,i);break}}}}}var ci=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),li=(function(){function n(){}return n.value=new n,n})();var dN=function(n){var e=Tn(n)/16.67;return 1/e};var DN=function(n){var e=n<.5;return e?4*n*n*n:1-(-2*n+2)*(-2*n+2)*(-2*n+2)/2};var si=Qt(ue),Rd=L(Pn),H8=ua(Pn)(cn),W8=Qi(Jr),$8=Ja(cn),k8=T(gn),gN=q(Ae),q8=wu(lt),U8=dN(2e3),B8=function(n){return function(){return si("[Scene] Starting CSS transition: "+(n.property+(" -> "+n.targetValue)))(),void 0}},hN=function(n){return function(e){return ge(function(t){return{currentScene:t.currentScene,nodesGroupId:t.nodesGroupId,simulation:t.simulation,transition:t.transition,linksGroupId:new m(n)}})(e)}},G8=function(n){if(n.currentScene instanceof v)return Rd(void 0);if(n.currentScene instanceof m){if(n.currentScene.value0.stableMode instanceof ci)return Rd(void 0);if(n.currentScene.value0.stableMode instanceof li)return Rd(void 0);throw new Error("Failed pattern match at Engine.Scene (line 288, column 17 - line 290, column 33): "+[n.currentScene.value0.stableMode.constructor.name])}throw new Error("Failed pattern match at Engine.Scene (line 286, column 25 - line 290, column 33): "+[n.currentScene.constructor.name])},V8=function(n){return function(){var t=R(n.nodes)(),r=R(n.forces)();return H8(W8(r))(function(a){return function(){return Er(a.value1)(t)(),si("[Scene] Re-initialized force: "+a.value0)()}})()}},yN=function(n){return function(e){return{simulation:n,currentScene:v.value,transition:v.value,nodesGroupId:e,linksGroupId:v.value}}},Eb=function(n){return ge(function(e){return{currentScene:e.currentScene,nodesGroupId:e.nodesGroupId,simulation:e.simulation,transition:e.transition,linksGroupId:v.value}})(n)},J8=function(n){return $8(k8(function(e){return new S(gN(e.id),{x:e.x,y:e.y})})(n))},bN=function(n){return function(e){var t=Pd(n)(e.nodes);return Rd(void 0)}},z8=function(n){return function(e){return function(t){return function(){si("[Scene] Transition complete: "+n.targetScene.name)(),lN(n.targetPositions)(t.simulation)();var a=ha(t.simulation)(),o=n.targetScene.finalRules(a);return bN(o)(t.simulation)(),si("[Scene] Applied "+(gN(X(o))+" final rules"))(),V8(t.simulation)(),(function(){if(n.targetScene.stableMode instanceof ci)return si("[Scene] Entering Physics mode")(),Cf(t.simulation)();if(n.targetScene.stableMode instanceof li)return si("[Scene] Entering Static mode")(),void 0;throw new Error("Failed pattern match at Engine.Scene (line 270, column 3 - line 276, column 16): "+[n.targetScene.stableMode.constructor.name])})(),rn({linksGroupId:t.linksGroupId,nodesGroupId:t.nodesGroupId,simulation:t.simulation,currentScene:new m(n.targetScene),transition:v.value})(e)()}}}},j8=function(n){return function(e){return function(t){var r=q8(1)(n.progress+U8),a=r>=1;if(a)return z8(n)(e)(t);var o=DN(r);return function(){return sN(n.startPositions)(n.targetPositions)(o)(t.simulation)(),rn({currentScene:t.currentScene,linksGroupId:t.linksGroupId,nodesGroupId:t.nodesGroupId,simulation:t.simulation,transition:new m({startPositions:n.startPositions,targetPositions:n.targetPositions,targetScene:n.targetScene,progress:r})})(e)()}}}},wb=function(n){return function(){var t=R(n)();if((function(){if(t.transition instanceof m)return j8(t.transition.value0)(n)(t)();if(t.transition instanceof v)return G8(t)();throw new Error("Failed pattern match at Engine.Scene (line 215, column 3 - line 217, column 37): "+[t.transition.constructor.name])})(),oN(t.nodesGroupId)(),t.linksGroupId instanceof m)return Ad(t.linksGroupId.value0)();if(t.linksGroupId instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Scene (line 223, column 3 - line 225, column 25): "+[t.linksGroupId.constructor.name])}},TN=function(n){return function(e){return function(){var r=R(e)();if(r.transition instanceof m)return si("[Scene] Already transitioning, ignoring")();if(r.transition instanceof v){si("[Scene] Starting transition to: "+n.name)();var a=ha(r.simulation)(),o=J8(a);bN(n.initRules)(r.simulation)();var u=ha(r.simulation)(),i=n.layout(u);return(function(){if(n.cssTransition instanceof m)return B8(n.cssTransition.value0)();if(n.cssTransition instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Scene (line 175, column 7 - line 177, column 29): "+[n.cssTransition.constructor.name])})(),rn({currentScene:r.currentScene,linksGroupId:r.linksGroupId,nodesGroupId:r.nodesGroupId,simulation:r.simulation,transition:new m({targetScene:n,startPositions:o,targetPositions:i,progress:0})})(e)(),Cf(r.simulation)()}throw new Error("Failed pattern match at Engine.Scene (line 158, column 3 - line 190, column 34): "+[r.transition.constructor.name])}}};var X8=fo(Ft),Y8=er(Ft),K8=T(gn),Z8=tn(hf),n7=Ja(cn),e7=q(Ae),ya=4e3,ba=2500,t7=function(n){if(n.nodeType instanceof Ze)return n.id;if(n.nodeType instanceof ut)return n.cluster;throw new Error("Failed pattern match at Viz.SpagoGridTest.GridLayout (line 75, column 22 - line 77, column 29): "+[n.nodeType.constructor.name])},r7=function(n){var e=ya/ba,t=pc(It(Tn(n)*e)),r=pc(Tn(n)/Tn(t)),a=ba*.8/Tn(r),o=ya*.8/Tn(t);return{gridCols:t,gridColsN:Tn(t),gridRowsN:Tn(r),spacingX:o,spacingY:a}},a7=function(n){return function(e){var t=X8(e)(n.gridCols),r=(Tn(t)-n.gridRowsN/2+.5)*n.spacingY,a=Y8(e)(n.gridCols),o=(Tn(a)-n.gridColsN/2+.5)*n.spacingX;return{x:o,y:r}}};var Cb=function(n){var e=X(Le(function(r){return Z8(r.nodeType)(Ze.value)})(n)),t=r7(e);return n7(K8(function(r){return new S(e7(r.id),a7(t)(t7(r)))})(n))};var Yr=900;var rl=Ja(cn),al=T(gn),Ta=q(Ae),Fb=tn(hf),u7=fo(Ft),i7=er(Ft),EN=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:null,fy:null}},f7=function(n){return rl(al(function(e){return new S(Ta(e.id),{x:e.x,y:e.y})})(n))};var c7=function(n){var e=yr(n.orbitAngle)*Yr,t=hr(n.orbitAngle)*Yr;return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:t,fy:e,gridX:t,gridY:e}},Od=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:n.x,fy:n.y}},ol={name:"pinAll",select:H(!0),apply:Od},Rp=function(n){return Fb(n.nodeType)(ut.value)&&n.isInTree},l7=function(n){var e=function(t){var r=Rp(t);return r?new S(Ta(t.id),{x:t.treeX,y:t.treeY}):new S(Ta(t.id),{x:t.x,y:t.y})};return rl(al(e)(n))},wN=(function(){return{name:"TreeForm",initRules:[ol],layout:l7,finalRules:function(n){return[{name:"pinTreeModulesAtTree",select:Rp,apply:function(e){return{id:e.id,x:e.x,y:e.y,vx:e.vx,vy:e.vy,name:e.name,nodeType:e.nodeType,package:e.package,r:e.r,cluster:e.cluster,targets:e.targets,sources:e.sources,gridX:e.gridX,gridY:e.gridY,orbitAngle:e.orbitAngle,treeX:e.treeX,treeY:e.treeY,isInTree:e.isInTree,fx:e.treeX,fy:e.treeY}}},{name:"pinOthersAtCurrent",select:function(e){return!Rp(e)},apply:Od}]},stableMode:li.value,cssTransition:v.value}})(),CN=(function(){return{name:"TreeRun",initRules:[ol],layout:f7,finalRules:function(n){return[{name:"unpinTreeModules",select:Rp,apply:EN},{name:"pinOthersAtCurrent",select:function(e){return!Rp(e)},apply:Od}]},stableMode:new ci({}),cssTransition:v.value}})(),pi=function(n){return Fb(n.nodeType)(Ze.value)},MN=function(n){var e=Le(pi)(n),t=function(o){var u=yr(o.orbitAngle)*Yr,i=hr(o.orbitAngle)*Yr;return new S(Ta(o.id),{x:i,y:u})},r=rl(al(t)(e)),a=function(o){return function(u){if(u.nodeType instanceof Ze){var i=yr(u.orbitAngle)*Yr,f=hr(u.orbitAngle)*Yr;return new S(Ta(u.id),{x:f,y:i})}if(u.nodeType instanceof ut){var c=Ge(Ta(u.cluster))(o);if(c instanceof m)return new S(Ta(u.id),c.value0);if(c instanceof v)return new S(Ta(u.id),{x:u.x,y:u.y});throw new Error("Failed pattern match at Engine.Scenes (line 256, column 9 - line 258, column 67): "+[c.constructor.name])}throw new Error("Failed pattern match at Engine.Scenes (line 250, column 35 - line 258, column 67): "+[u.nodeType.constructor.name])}};return rl(al(a(r))(n))};var Hd=function(n){return Fb(n.nodeType)(ut.value)},s7=function(n){var e=Le(pi)(n),t=function(a){var o=yr(a.orbitAngle)*Yr,u=hr(a.orbitAngle)*Yr;return new S(Ta(a.id),{x:u,y:o})},r=rl(al(t)(e));return[{name:"pinPackagesAtOrbit",select:pi,apply:function(a){var o=yr(a.orbitAngle)*Yr,u=hr(a.orbitAngle)*Yr;return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:u,fy:o,gridX:u,gridY:o}}},{name:"pinModulesAtOrbit",select:Hd,apply:function(a){var o=Ge(Ta(a.cluster))(r);if(o instanceof m)return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:o.value0.x,fy:o.value0.y,gridX:o.value0.x,gridY:o.value0.y};if(o instanceof v)return Od(a);throw new Error("Failed pattern match at Engine.Scenes (line 288, column 11 - line 295, column 38): "+[o.constructor.name])}}]},FN=(function(){return{name:"OrbitForm",initRules:[ol],layout:MN,finalRules:s7,stableMode:li.value,cssTransition:v.value}})(),p7=function(n){var e=Le(pi)(n),t=function(a){var o=yr(a.orbitAngle)*Yr,u=hr(a.orbitAngle)*Yr;return new S(Ta(a.id),{x:u,y:o})},r=rl(al(t)(e));return[{name:"pinPackagesAtOrbit",select:pi,apply:c7},{name:"unpinModulesSetGridToOrbit",select:Hd,apply:function(a){var o=Ge(Ta(a.cluster))(r);if(o instanceof m)return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:null,fy:null,gridX:o.value0.x,gridY:o.value0.y};if(o instanceof v)return EN(a);throw new Error("Failed pattern match at Engine.Scenes (line 318, column 11 - line 325, column 35): "+[o.constructor.name])}}]},SN=(function(){return{name:"OrbitRun",initRules:[ol],layout:MN,finalRules:p7,stableMode:new ci({}),cssTransition:v.value}})(),xN=function(n){var e=X(Le(pi)(n)),t=ya/ba,r=pc(It(Tn(e)*t)),a=Tn(r),o=pc(Tn(e)/Tn(r)),u=Tn(o),i=ba*.8/Tn(o),f=ya*.8/Tn(r);return{pkgGridPos:function(c){var l=u7(c)(r),s=(Tn(l)-u/2+.5)*i,p=i7(c)(r),_=(Tn(p)-a/2+.5)*f;return{x:_,y:s}}}},_7=function(n){var e=xN(n);return[{name:"pinPackagesAtGrid",select:pi,apply:function(t){var r=e.pkgGridPos(t.id);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}},{name:"pinModulesAtGrid",select:Hd,apply:function(t){var r=e.pkgGridPos(t.cluster);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}}]},IN=(function(){return{name:"GridForm",initRules:[ol],layout:Cb,finalRules:_7,stableMode:li.value,cssTransition:v.value}})(),m7=function(n){var e=xN(n);return[{name:"pinPackagesAtGrid",select:pi,apply:function(t){var r=e.pkgGridPos(t.id);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}},{name:"unpinModulesSetGrid",select:Hd,apply:function(t){var r=e.pkgGridPos(t.cluster);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:null,fy:null,gridX:r.x,gridY:r.y}}}]},Wd=(function(){return{name:"GridRun",initRules:[ol],layout:Cb,finalRules:m7,stableMode:new ci({}),cssTransition:v.value}})();var AN=n=>()=>{for(;n.firstChild;)n.removeChild(n.firstChild)},LN=()=>{let n=document.querySelectorAll(".watermark-package"),e=document.querySelectorAll(".watermark-package-label");n.forEach((t,r)=>{let a=e[r];a&&(t.addEventListener("mouseenter",()=>{a.style.opacity="1.0",a.style.transition="opacity 0.2s ease"}),t.addEventListener("mouseleave",()=>{a.style.opacity="0.3",a.style.transition="opacity 0.2s ease"}))})};var Sb=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ul=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var NN=function(n){return n.value0.value};var $d=T(gn),g7=Yn(cn),h7=Yl(In)(cn);var xb=function(n){return function(e){var t=rt(n.value0.children);if(t)return new Sb({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,parent:v.value,children:[],value:e(n.value0.data_)});var r=e(n.value0.data_),a=$d(function(i){return xb(i)(e)})(n.value0.children),o=g7(function(i){return function(f){return i+NN(f)}})(0)(a),u=r+o;return new Sb({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,parent:v.value,children:a,value:u})}};var y7=function(n){return n.value0.height},PN=function(n){return function(e){var t=function(a){var o=rt(a.value0.children);if(o)return new ul({data_:a.value0.data_,depth:a.value0.depth,parent:a.value0.parent,children:a.value0.children,height:0});var u=$d(t)(a.value0.children),i=$d(y7)(u),f=An(0)(h7(i));return new ul({data_:a.value0.data_,depth:a.value0.depth,parent:a.value0.parent,children:u,height:f+1|0})},r=function(a){return function(o){return function(u){var i=e(u);if(i instanceof v)return new ul({data_:u,depth:o,height:0,parent:a,children:[]});if(i instanceof m){var f=new ul({data_:u,depth:o,height:0,parent:a,children:[]}),c=$d(r(new m(f))(o+1|0))(i.value0),l=new ul({data_:u,depth:o,height:0,parent:a,children:c});return l}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Core (line 35, column 5 - line 70, column 27): "+[i.constructor.name])}}};return t(r(v.value)(0)(n))}};var RN=T(gn),ON=Yn(cn);var HN=Q(ve);var kd=ko(lt),T7=wu(lt),Wr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),WN=function(n){return new Wr({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,value:n.value0.value,children:RN(WN)(n.value0.children),x0:0,y0:0,x1:0,y1:0})},E7=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){var i=n.value0.value!==0;return i?(a-t)/n.value0.value:0})(),u=ON(function(i){return function(f){var c=f.value0.value*o,l=new Wr({data_:f.value0.data_,depth:f.value0.depth,height:f.value0.height,value:f.value0.value,children:f.value0.children,x0:e,x1:r,y0:i.y,y1:i.y+c});return{children:zr(i.children)(l),y:i.y+c}}})({children:[],y:t})(n.value0.children);return new Wr({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,value:n.value0.value,x0:n.value0.x0,y0:n.value0.y0,x1:n.value0.x1,y1:n.value0.y1,children:u.children})}}}}};var $N=function(n){return function(e){return function(t){var r=(function(){var U=oe(t)(e.value0.depth);if(U instanceof m)return U.value0;if(U instanceof v)return 0;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 125, column 9 - line 127, column 21): "+[U.constructor.name])})(),a=e.value0.x0+r,o=e.value0.x1-r,u=(function(){var U=o<a;return U?(a+o)/2:a})(),i=(function(){var U=o<a;return U?(a+o)/2:o})(),f=e.value0.y0+r,c=e.value0.y1-r,l=(function(){var U=c<f;return U?(f+c)/2:f})(),s=(function(){var U=c<f;return U?(f+c)/2:c})(),p=new Wr({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,children:e.value0.children,x0:u,y0:l,x1:i,y1:s}),_=rt(e.value0.children);if(_)return p;var d=n.paddingInner/2,g=HN(t)([d]),D=s-n.paddingBottom+d,b=l+n.paddingTop-d,I=(function(){var U=D<b;return U?(b+D)/2:b})(),M=(function(){var U=D<b;return U?(b+D)/2:D})(),h=i-n.paddingRight+d,y=u+n.paddingLeft-d,C=(function(){var U=h<y;return U?(y+h)/2:y})(),P=(function(){var U=h<y;return U?(y+h)/2:h})(),k=n.tile(p)(C)(I)(P)(M),sn=RN(function(U){return $N(n)(U)(g)})(k.value0.children);return new Wr({data_:k.value0.data_,depth:k.value0.depth,height:k.value0.height,value:k.value0.value,x0:k.value0.x0,y0:k.value0.y0,x1:k.value0.x1,y1:k.value0.y1,children:sn})}}},kN=function(n){return function(e){var t=WN(e),r=new Wr({data_:t.value0.data_,depth:t.value0.depth,height:t.value0.height,value:t.value0.value,children:t.value0.children,x0:0,y0:0,x1:n.size.width,y1:n.size.height}),a=$N(n)(r)([]);return a}},w7=(function(){return(1+It(5))/2})();var C7=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){var i=n.value0.value!==0;return i?(r-e)/n.value0.value:0})(),u=ON(function(i){return function(f){var c=f.value0.value*o,l=new Wr({data_:f.value0.data_,depth:f.value0.depth,height:f.value0.height,value:f.value0.value,children:f.value0.children,x0:i.x,x1:i.x+c,y0:t,y1:a});return{children:zr(i.children)(l),x:i.x+c}}})({children:[],x:e})(n.value0.children);return new Wr({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,value:n.value0.value,x0:n.value0.x0,y0:n.value0.y0,x1:n.value0.x1,y1:n.value0.y1,children:u.children})}}}}};var M7=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){var u=X(e.value0.children),i=function(f){return function(c){return function(l){return function(s){return function(p){return function(_){return function(d){return function(g){var D=f,b=c,I=l,M=s,h=p,y=_,C=d,P=!1,k;function sn(U,J,jn,Hn,E,G,x,j){var mn=U>=u;if(mn)return P=!0,j;var Cn=function(Ce){return function(ae){var be=Ce,sr=!1,Dt;function Ur(Gt,Ie){var Mn=Gt>=u;if(Mn)return sr=!0,{i1:Gt,sumValue:Ie};var Wn=(function(){var hn=oe(e.value0.children)(Gt);if(hn instanceof m)return hn.value0;if(hn instanceof v)return new Wr(e.value0);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 360, column 31 - line 362, column 42): "+[hn.constructor.name])})(),En=Wn.value0.value!==0;if(En)return sr=!0,{i1:Gt+1|0,sumValue:Wn.value0.value};be=Gt+1|0,ae=Ie}for(;!sr;)Dt=Ur(be,ae);return Dt}},Nn=Cn(J)(0),pe=G-Hn,Pe=E-jn,nn=kd(pe/Pe)(Pe/pe)/(x*n),xn=Nn.sumValue*Nn.sumValue*nn,re=function(Ce){return function(ae){return function(be){return function(sr){return function(Dt){var Ur=Ce,Gt=ae,Ie=be,Mn=sr,Wn=!1,En;function hn(Vn,Kn,qe,Ct,Oo){var JD=Vn>=u;if(JD)return Wn=!0,{i1:Vn,sumValue:Kn,minRatio:Oo};var zD=(function(){var b_=oe(e.value0.children)(Vn);if(b_ instanceof m)return b_.value0;if(b_ instanceof v)return new Wr(e.value0);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 386, column 31 - line 388, column 42): "+[b_.constructor.name])})(),jD=Kn+zD.value0.value,fE=T7(qe)(zD.value0.value),cE=kd(Ct)(zD.value0.value),lE=jD*jD*nn,sE=kd(cE/lE)(lE/fE),$O=sE>Oo;if($O)return Wn=!0,{i1:Vn,sumValue:Kn,minRatio:Oo};Ur=Vn+1|0,Gt=jD,Ie=fE,Mn=cE,Dt=sE}for(;!Wn;)En=hn(Ur,Gt,Ie,Mn,Dt);return En}}}}},qn=(function(){var Ce=oe(e.value0.children)(Nn.i1-1|0);if(Ce instanceof m)return Ce.value0;if(Ce instanceof v)return new Wr(e.value0);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 399, column 30 - line 401, column 36): "+[Ce.constructor.name])})(),fn=Pe<pe,O=re(Nn.i1)(Nn.sumValue)(qn.value0.value)(qn.value0.value)(kd(qn.value0.value/xn)(xn/qn.value0.value)),ne=Li(U)(O.i1)(e.value0.children),Gn=new Wr({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,x0:e.value0.x0,y0:e.value0.y0,x1:e.value0.x1,y1:e.value0.y1,children:ne,value:O.sumValue}),we=(function(){if(fn){var Ce=(function(){var Dt=x!==0;return Dt?Hn+pe*O.sumValue/x:G})(),be=C7(Gn)(jn)(Hn)(E)(Ce);return{children:be.value0.children,nextX0:jn,nextY0:Ce,nextX1:E,nextY1:G}}var ae=(function(){var sr=x!==0;return sr?jn+Pe*O.sumValue/x:E})(),be=E7(Gn)(jn)(Hn)(ae)(G);return{children:be.value0.children,nextX0:ae,nextY0:Hn,nextX1:E,nextY1:G}})();D=O.i1,b=O.i1,I=we.nextX0,M=we.nextY0,h=we.nextX1,y=we.nextY1,C=x-O.sumValue,g=HN(j)(we.children)}for(;!P;)k=sn(D,b,I,M,h,y,C,g);return k}}}}}}}};return{children:i(0)(0)(t)(r)(a)(o)(e.value0.value)([]),x0:t,y0:r}}}}}}},Ib=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){var u=M7(n)(new Wr(e.value0))(t)(r)(a)(o);return new Wr({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x0:e.value0.x0,y0:e.value0.y0,x1:e.value0.x1,y1:e.value0.y1,children:u.children})}}}}}},Op={size:{width:1,height:1},tile:Ib(w7),round:!1,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};var Hp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Wp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ab=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Mf=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Ff=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),$p=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Ea={toAttr:function(n){return function(e){return new Mf(e,new Hp(n))}}},Sf={toAttr:function(n){return function(e){return new Ff(e,function(t){return Hp.create(n(t))})}}};var il={toAttr:function(n){return function(e){return new Mf(e,new Wp(n))}}},wr={toAttr:function(n){return function(e){return new Ff(e,function(t){return Wp.create(n(t))})}}};var Xe=function(n){return n.toAttr},qN=function(n){var e=Xe(n);return function(t){return e(t)("transform")}},UN=function(n){var e=Xe(n);return function(t){return e(t)("viewBox")}},BN=function(n){var e=Xe(n);return function(t){return e(t)("width")}},GN=function(n){var e=Xe(n);return function(t){return e(t)("x")}},VN=function(n){var e=Xe(n);return function(t){return e(t)("x1")}},JN=function(n){var e=Xe(n);return function(t){return e(t)("x2")}},zN=function(n){var e=Xe(n);return function(t){return e(t)("y")}},jN=function(n){var e=Xe(n);return function(t){return e(t)("y1")}},QN=function(n){var e=Xe(n);return function(t){return e(t)("y2")}},XN=function(n){var e=Xe(n);return function(t){return e(t)("textContent")}},YN=function(n){var e=Xe(n);return function(t){return e(t)("text-anchor")}},kp=function(n){var e=Xe(n);return function(t){return e(t)("stroke-width")}};var qd=function(n){var e=Xe(n);return function(t){return e(t)("stroke")}},KN=function(n){var e=Xe(n);return function(t){return e(t)("r")}},Ud=function(n){var e=Xe(n);return function(t){return e(t)("opacity")}},Bd=function(n){var e=Xe(n);return function(t){return e(t)("id")}},ZN=function(n){var e=Xe(n);return function(t){return e(t)("height")}},nP=function(n){var e=Xe(n);return function(t){return e(t)("font-size")}},eP=function(n){var e=Xe(n);return function(t){return e(t)("font-family")}};var Gd=function(n){var e=Xe(n);return function(t){return e(t)("fill")}};var tP=function(n){var e=Xe(n);return function(t){return e(t)("d")}},rP=function(n){var e=Xe(n);return function(t){return e(t)("cy")}},aP=function(n){var e=Xe(n);return function(t){return e(t)("cx")}},qp=function(n){var e=Xe(n);return function(t){return e(t)("class")}};var oP=function(n){return n.selectAll},Jd=function(n){return n.select};var uP=function(n){return n.on};var zd=function(n){return n.appendData};var jd=function(n){return n.appendChild};function Qd(n){return function(){return n.__data__}}function Up(n){return function(e){return function(){e.__data__=n}}}function Xd(n){return function(e){return function(){e.textContent=n}}}function Yd(n){return n.offsetX}function Kd(n){return n.offsetY}function fP(n){return function(){let e=document.querySelector(n);e&&(e.innerHTML="")}}function cP(n){return JSON.stringify(n)}var x7=Tf("start","end","cancel","interrupt"),I7=[],pP=0,lP=1,nD=2,Zd=3,sP=4,eD=5,Bp=6;function _i(n,e,t,r,a,o){var u=n.__transition;if(!u)n.__transition={};else if(t in u)return;A7(n,t,{name:e,index:r,group:a,on:x7,tween:I7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:pP})}function Gp(n,e){var t=Lt(n,e);if(t.state>pP)throw new Error("too late; already scheduled");return t}function Yt(n,e){var t=Lt(n,e);if(t.state>Zd)throw new Error("too late; already running");return t}function Lt(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function A7(n,e,t){var r=n.__transition,a;r[e]=t,t.timer=Td(o,0,t.time);function o(c){t.state=lP,t.timer.restart(u,t.delay,t.time),t.delay<=c&&u(c-t.delay)}function u(c){var l,s,p,_;if(t.state!==lP)return f();for(l in r)if(_=r[l],_.name===t.name){if(_.state===Zd)return Ed(u);_.state===sP?(_.state=Bp,_.timer.stop(),_.on.call("interrupt",n,n.__data__,_.index,_.group),delete r[l]):+l<e&&(_.state=Bp,_.timer.stop(),_.on.call("cancel",n,n.__data__,_.index,_.group),delete r[l])}if(Ed(function(){t.state===Zd&&(t.state=sP,t.timer.restart(i,t.delay,t.time),i(c))}),t.state=nD,t.on.call("start",n,n.__data__,t.index,t.group),t.state===nD){for(t.state=Zd,a=new Array(p=t.tween.length),l=0,s=-1;l<p;++l)(_=t.tween[l].value.call(n,n.__data__,t.index,t.group))&&(a[++s]=_);a.length=s+1}}function i(c){for(var l=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(f),t.state=eD,1),s=-1,p=a.length;++s<p;)a[s].call(n,l);t.state===eD&&(t.on.call("end",n,n.__data__,t.index,t.group),f())}function f(){t.state=Bp,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function xf(n,e){var t=n.__transition,r,a,o=!0,u;if(t){e=e==null?null:e+"";for(u in t){if((r=t[u]).name!==e){o=!1;continue}a=r.state>nD&&r.state<eD,r.state=Bp,r.timer.stop(),r.on.call(a?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[u]}o&&delete n.__transition}}function _P(n){return this.each(function(){xf(this,n)})}function L7(n,e){var t,r;return function(){var a=Yt(this,n),o=a.tween;if(o!==t){r=t=o;for(var u=0,i=r.length;u<i;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}a.tween=r}}function N7(n,e,t){var r,a;if(typeof t!="function")throw new Error;return function(){var o=Yt(this,n),u=o.tween;if(u!==r){a=(r=u).slice();for(var i={name:e,value:t},f=0,c=a.length;f<c;++f)if(a[f].name===e){a[f]=i;break}f===c&&a.push(i)}o.tween=a}}function mP(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=Lt(this.node(),t).tween,a=0,o=r.length,u;a<o;++a)if((u=r[a]).name===n)return u.value;return null}return this.each((e==null?L7:N7)(t,n,e))}function fl(n,e,t){var r=n._id;return n.each(function(){var a=Yt(this,r);(a.value||(a.value={}))[e]=t.apply(this,arguments)}),function(a){return Lt(a,r).value[e]}}function tD(n,e){var t;return(typeof e=="number"?jt:e instanceof Oa?ki:(t=Oa(e))?(e=t,ki):fs)(n,e)}function P7(n){return function(){this.removeAttribute(n)}}function R7(n){return function(){this.removeAttributeNS(n.space,n.local)}}function O7(n,e,t){var r,a=t+"",o;return function(){var u=this.getAttribute(n);return u===a?null:u===r?o:o=e(r=u,t)}}function H7(n,e,t){var r,a=t+"",o;return function(){var u=this.getAttributeNS(n.space,n.local);return u===a?null:u===r?o:o=e(r=u,t)}}function W7(n,e,t){var r,a,o;return function(){var u,i=t(this),f;return i==null?void this.removeAttribute(n):(u=this.getAttribute(n),f=i+"",u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i)))}}function $7(n,e,t){var r,a,o;return function(){var u,i=t(this),f;return i==null?void this.removeAttributeNS(n.space,n.local):(u=this.getAttributeNS(n.space,n.local),f=i+"",u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i)))}}function vP(n,e){var t=ou(n),r=t==="transform"?Xg:tD;return this.attrTween(n,typeof e=="function"?(t.local?$7:W7)(t,r,fl(this,"attr."+n,e)):e==null?(t.local?R7:P7)(t):(t.local?H7:O7)(t,r,e))}function k7(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function q7(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function U7(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&q7(n,o)),t}return a._value=e,a}function B7(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&k7(n,o)),t}return a._value=e,a}function dP(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=ou(n);return this.tween(t,(r.local?U7:B7)(r,e))}function G7(n,e){return function(){Gp(this,n).delay=+e.apply(this,arguments)}}function V7(n,e){return e=+e,function(){Gp(this,n).delay=e}}function DP(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?G7:V7)(e,n)):Lt(this.node(),e).delay}function J7(n,e){return function(){Yt(this,n).duration=+e.apply(this,arguments)}}function z7(n,e){return e=+e,function(){Yt(this,n).duration=e}}function gP(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?J7:z7)(e,n)):Lt(this.node(),e).duration}function j7(n,e){if(typeof e!="function")throw new Error;return function(){Yt(this,n).ease=e}}function hP(n){var e=this._id;return arguments.length?this.each(j7(e,n)):Lt(this.node(),e).ease}function Q7(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Yt(this,n).ease=t}}function yP(n){if(typeof n!="function")throw new Error;return this.each(Q7(this._id,n))}function bP(n){typeof n!="function"&&(n=gp(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=[],f,c=0;c<u;++c)(f=o[c])&&n.call(f,f.__data__,c,o)&&i.push(f);return new Cr(r,this._parents,this._name,this._id)}function TP(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,a=t.length,o=Math.min(r,a),u=new Array(r),i=0;i<o;++i)for(var f=e[i],c=t[i],l=f.length,s=u[i]=new Array(l),p,_=0;_<l;++_)(p=f[_]||c[_])&&(s[_]=p);for(;i<r;++i)u[i]=e[i];return new Cr(u,this._parents,this._name,this._id)}function X7(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function Y7(n,e,t){var r,a,o=X7(e)?Gp:Yt;return function(){var u=o(this,n),i=u.on;i!==r&&(a=(r=i).copy()).on(e,t),u.on=a}}function EP(n,e){var t=this._id;return arguments.length<2?Lt(this.node(),t).on.on(n):this.each(Y7(t,n,e))}function K7(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function wP(){return this.on("end.remove",K7(this._id))}function CP(n){var e=this._name,t=this._id;typeof n!="function"&&(n=yf(n));for(var r=this._groups,a=r.length,o=new Array(a),u=0;u<a;++u)for(var i=r[u],f=i.length,c=o[u]=new Array(f),l,s,p=0;p<f;++p)(l=i[p])&&(s=n.call(l,l.__data__,p,i))&&("__data__"in l&&(s.__data__=l.__data__),c[p]=s,_i(c[p],e,t,p,c,Lt(l,t)));return new Cr(o,this._parents,e,t)}function MP(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Dp(n));for(var r=this._groups,a=r.length,o=[],u=[],i=0;i<a;++i)for(var f=r[i],c=f.length,l,s=0;s<c;++s)if(l=f[s]){for(var p=n.call(l,l.__data__,s,f),_,d=Lt(l,t),g=0,D=p.length;g<D;++g)(_=p[g])&&_i(_,e,t,g,p,d);o.push(p),u.push(l)}return new Cr(o,u,e,t)}var Z7=uu.prototype.constructor;function FP(){return new Z7(this._groups,this._parents)}function n6(n,e){var t,r,a;return function(){var o=ui(this,n),u=(this.style.removeProperty(n),ui(this,n));return o===u?null:o===t&&u===r?a:a=e(t=o,r=u)}}function SP(n){return function(){this.style.removeProperty(n)}}function e6(n,e,t){var r,a=t+"",o;return function(){var u=ui(this,n);return u===a?null:u===r?o:o=e(r=u,t)}}function t6(n,e,t){var r,a,o;return function(){var u=ui(this,n),i=t(this),f=i+"";return i==null&&(f=i=(this.style.removeProperty(n),ui(this,n))),u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i))}}function r6(n,e){var t,r,a,o="style."+e,u="end."+o,i;return function(){var f=Yt(this,n),c=f.on,l=f.value[o]==null?i||(i=SP(e)):void 0;(c!==t||a!==l)&&(r=(t=c).copy()).on(u,a=l),f.on=r}}function xP(n,e,t){var r=(n+="")=="transform"?Qg:tD;return e==null?this.styleTween(n,n6(n,r)).on("end.style."+n,SP(n)):typeof e=="function"?this.styleTween(n,t6(n,r,fl(this,"style."+n,e))).each(r6(this._id,n)):this.styleTween(n,e6(n,r,e),t).on("end.style."+n,null)}function a6(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function o6(n,e,t){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&a6(n,u,t)),r}return o._value=e,o}function IP(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,o6(n,e,t??""))}function u6(n){return function(){this.textContent=n}}function i6(n){return function(){var e=n(this);this.textContent=e??""}}function AP(n){return this.tween("text",typeof n=="function"?i6(fl(this,"text",n)):u6(n==null?"":n+""))}function f6(n){return function(e){this.textContent=n.call(this,e)}}function c6(n){var e,t;function r(){var a=n.apply(this,arguments);return a!==t&&(e=(t=a)&&f6(a)),e}return r._value=n,r}function LP(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,c6(n))}function NP(){for(var n=this._name,e=this._id,t=rD(),r=this._groups,a=r.length,o=0;o<a;++o)for(var u=r[o],i=u.length,f,c=0;c<i;++c)if(f=u[c]){var l=Lt(f,e);_i(f,n,t,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Cr(r,this._parents,n,t)}function PP(){var n,e,t=this,r=t._id,a=t.size();return new Promise(function(o,u){var i={value:u},f={value:function(){--a===0&&o()}};t.each(function(){var c=Yt(this,r),l=c.on;l!==n&&(e=(n=l).copy(),e._.cancel.push(i),e._.interrupt.push(i),e._.end.push(f)),c.on=e}),a===0&&o()})}var l6=0;function Cr(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function RP(n){return uu().transition(n)}function rD(){return++l6}var _u=uu.prototype;Cr.prototype=RP.prototype={constructor:Cr,select:CP,selectAll:MP,selectChild:_u.selectChild,selectChildren:_u.selectChildren,filter:bP,merge:TP,selection:FP,transition:NP,call:_u.call,nodes:_u.nodes,node:_u.node,size:_u.size,empty:_u.empty,each:_u.each,on:EP,attr:vP,attrTween:dP,style:xP,styleTween:IP,text:AP,textTween:LP,remove:wP,tween:mP,delay:DP,duration:gP,ease:hP,easeVarying:yP,end:PP,[Symbol.iterator]:_u[Symbol.iterator]};var Lb=n=>+n;function Nb(n){return n*n}function Pb(n){return n*(2-n)}function cl(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function Rb(n){return n*n*n}function Ob(n){return--n*n*n+1}function mi(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var OP=Math.PI,HP=OP/2;function Hb(n){return+n==1?1:1-Math.cos(n*HP)}function Wb(n){return Math.sin(n*HP)}function ll(n){return(1-Math.cos(OP*n))/2}function So(n){return(Math.pow(2,-10*n)-.0009765625)*1.0009775171065494}function $b(n){return So(1-+n)}function kb(n){return 1-So(n)}function sl(n){return((n*=2)<=1?So(1-n):2-So(n-1))/2}function qb(n){return 1-Math.sqrt(1-n*n)}function Ub(n){return Math.sqrt(1- --n*n)}function pl(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var Bb=.36363636363636365,s6=6/11,p6=8/11,_6=3/4,m6=9/11,v6=10/11,d6=15/16,D6=21/22,g6=63/64,aD=1/Bb/Bb;function Gb(n){return 1-mu(1-n)}function mu(n){return(n=+n)<Bb?aD*n*n:n<p6?aD*(n-=s6)*n+_6:n<v6?aD*(n-=m6)*n+d6:aD*(n-=D6)*n+g6}function Vb(n){return((n*=2)<=1?1-mu(1-n):mu(n-1)+1)/2}var Jb=1.70158,zb=(function n(e){e=+e;function t(r){return(r=+r)*r*(e*(r-1)+r)}return t.overshoot=n,t})(Jb),jb=(function n(e){e=+e;function t(r){return--r*r*((r+1)*e+r)+1}return t.overshoot=n,t})(Jb),_l=(function n(e){e=+e;function t(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return t.overshoot=n,t})(Jb);var ml=2*Math.PI,Qb=1,Xb=.3,Yb=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=ml);function a(o){return e*So(- --o)*Math.sin((r-o)/t)}return a.amplitude=function(o){return n(o,t*ml)},a.period=function(o){return n(e,o)},a})(Qb,Xb),vl=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=ml);function a(o){return 1-e*So(o=+o)*Math.sin((o+r)/t)}return a.amplitude=function(o){return n(o,t*ml)},a.period=function(o){return n(e,o)},a})(Qb,Xb),Kb=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=ml);function a(o){return((o=o*2-1)<0?e*So(-o)*Math.sin((r-o)/t):2-e*So(o)*Math.sin((r+o)/t))/2}return a.amplitude=function(o){return n(o,t*ml)},a.period=function(o){return n(e,o)},a})(Qb,Xb);var h6={time:null,delay:0,duration:250,ease:mi};function y6(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function WP(n){var e,t;n instanceof Cr?(e=n._id,n=n._name):(e=rD(),(t=h6).time=Fp(),n=n==null?null:n+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var u=r[o],i=u.length,f,c=0;c<i;++c)(f=u[c])&&_i(f,n,e,c,u,t||y6(f,e));return new Cr(r,this._parents,n,e)}uu.prototype.interrupt=_P;uu.prototype.transition=WP;var Vp=n=>()=>n;function Zb(n,{sourceEvent:e,target:t,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Ka(n,e,t){this.k=n,this.x=e,this.y=t}Ka.prototype={constructor:Ka,scale:function(n){return n===1?this:new Ka(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Ka(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jp=new Ka(1,0,0);nT.prototype=Ka.prototype;function nT(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Jp;return n.__zoom}function oD(n){n.stopImmediatePropagation()}function dl(n){n.preventDefault(),n.stopImmediatePropagation()}function b6(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function T6(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function $P(){return this.__zoom||Jp}function E6(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function w6(){return navigator.maxTouchPoints||"ontouchstart"in this}function C6(n,e,t){var r=n.invertX(e[0][0])-t[0][0],a=n.invertX(e[1][0])-t[1][0],o=n.invertY(e[0][1])-t[0][1],u=n.invertY(e[1][1])-t[1][1];return n.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function eT(){var n=b6,e=T6,t=C6,r=E6,a=w6,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],i=250,f=Yg,c=Tf("start","zoom","end"),l,s,p,_=500,d=150,g=0,D=10;function b(E){E.property("__zoom",$P).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",sn).on("dblclick.zoom",U).filter(a).on("touchstart.zoom",J).on("touchmove.zoom",jn).on("touchend.zoom touchcancel.zoom",Hn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(E,G,x,j){var mn=E.selection?E.selection():E;mn.property("__zoom",$P),E!==mn?y(E,G,x,j):mn.interrupt().each(function(){C(this,arguments).event(j).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},b.scaleBy=function(E,G,x,j){b.scaleTo(E,function(){var mn=this.__zoom.k,Cn=typeof G=="function"?G.apply(this,arguments):G;return mn*Cn},x,j)},b.scaleTo=function(E,G,x,j){b.transform(E,function(){var mn=e.apply(this,arguments),Cn=this.__zoom,Nn=x==null?h(mn):typeof x=="function"?x.apply(this,arguments):x,pe=Cn.invert(Nn),Pe=typeof G=="function"?G.apply(this,arguments):G;return t(M(I(Cn,Pe),Nn,pe),mn,u)},x,j)},b.translateBy=function(E,G,x,j){b.transform(E,function(){return t(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),u)},null,j)},b.translateTo=function(E,G,x,j,mn){b.transform(E,function(){var Cn=e.apply(this,arguments),Nn=this.__zoom,pe=j==null?h(Cn):typeof j=="function"?j.apply(this,arguments):j;return t(Jp.translate(pe[0],pe[1]).scale(Nn.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof x=="function"?-x.apply(this,arguments):-x),Cn,u)},j,mn)};function I(E,G){return G=Math.max(o[0],Math.min(o[1],G)),G===E.k?E:new Ka(G,E.x,E.y)}function M(E,G,x){var j=G[0]-x[0]*E.k,mn=G[1]-x[1]*E.k;return j===E.x&&mn===E.y?E:new Ka(E.k,j,mn)}function h(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function y(E,G,x,j){E.on("start.zoom",function(){C(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(j).end()}).tween("zoom",function(){var mn=this,Cn=arguments,Nn=C(mn,Cn).event(j),pe=e.apply(mn,Cn),Pe=x==null?h(pe):typeof x=="function"?x.apply(mn,Cn):x,nn=Math.max(pe[1][0]-pe[0][0],pe[1][1]-pe[0][1]),xn=mn.__zoom,re=typeof G=="function"?G.apply(mn,Cn):G,qn=f(xn.invert(Pe).concat(nn/xn.k),re.invert(Pe).concat(nn/re.k));return function(fn){if(fn===1)fn=re;else{var O=qn(fn),ne=nn/O[2];fn=new Ka(ne,Pe[0]-O[0]*ne,Pe[1]-O[1]*ne)}Nn.zoom(null,fn)}})}function C(E,G,x){return!x&&E.__zooming||new P(E,G)}function P(E,G){this.that=E,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,G),this.taps=0}P.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,G){return this.mouse&&E!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var G=Bn(this.that).datum();c.call(E,this.that,new Zb(E,{sourceEvent:this.sourceEvent,target:b,type:E,transform:this.that.__zoom,dispatch:c}),G)}};function k(E,...G){if(!n.apply(this,arguments))return;var x=C(this,G).event(E),j=this.__zoom,mn=Math.max(o[0],Math.min(o[1],j.k*Math.pow(2,r.apply(this,arguments)))),Cn=br(E);if(x.wheel)(x.mouse[0][0]!==Cn[0]||x.mouse[0][1]!==Cn[1])&&(x.mouse[1]=j.invert(x.mouse[0]=Cn)),clearTimeout(x.wheel);else{if(j.k===mn)return;x.mouse=[Cn,j.invert(Cn)],xf(this),x.start()}dl(E),x.wheel=setTimeout(Nn,d),x.zoom("mouse",t(M(I(j,mn),x.mouse[0],x.mouse[1]),x.extent,u));function Nn(){x.wheel=null,x.end()}}function sn(E,...G){if(p||!n.apply(this,arguments))return;var x=E.currentTarget,j=C(this,G,!0).event(E),mn=Bn(E.view).on("mousemove.zoom",Pe,!0).on("mouseup.zoom",nn,!0),Cn=br(E,x),Nn=E.clientX,pe=E.clientY;Sp(E.view),oD(E),j.mouse=[Cn,this.__zoom.invert(Cn)],xf(this),j.start();function Pe(xn){if(dl(xn),!j.moved){var re=xn.clientX-Nn,qn=xn.clientY-pe;j.moved=re*re+qn*qn>g}j.event(xn).zoom("mouse",t(M(j.that.__zoom,j.mouse[0]=br(xn,x),j.mouse[1]),j.extent,u))}function nn(xn){mn.on("mousemove.zoom mouseup.zoom",null),xp(xn.view,j.moved),dl(xn),j.event(xn).end()}}function U(E,...G){if(n.apply(this,arguments)){var x=this.__zoom,j=br(E.changedTouches?E.changedTouches[0]:E,this),mn=x.invert(j),Cn=x.k*(E.shiftKey?.5:2),Nn=t(M(I(x,Cn),j,mn),e.apply(this,G),u);dl(E),i>0?Bn(this).transition().duration(i).call(y,Nn,j,E):Bn(this).call(b.transform,Nn,j,E)}}function J(E,...G){if(n.apply(this,arguments)){var x=E.touches,j=x.length,mn=C(this,G,E.changedTouches.length===j).event(E),Cn,Nn,pe,Pe;for(oD(E),Nn=0;Nn<j;++Nn)pe=x[Nn],Pe=br(pe,this),Pe=[Pe,this.__zoom.invert(Pe),pe.identifier],mn.touch0?!mn.touch1&&mn.touch0[2]!==Pe[2]&&(mn.touch1=Pe,mn.taps=0):(mn.touch0=Pe,Cn=!0,mn.taps=1+!!l);l&&(l=clearTimeout(l)),Cn&&(mn.taps<2&&(s=Pe[0],l=setTimeout(function(){l=null},_)),xf(this),mn.start())}}function jn(E,...G){if(this.__zooming){var x=C(this,G).event(E),j=E.changedTouches,mn=j.length,Cn,Nn,pe,Pe;for(dl(E),Cn=0;Cn<mn;++Cn)Nn=j[Cn],pe=br(Nn,this),x.touch0&&x.touch0[2]===Nn.identifier?x.touch0[0]=pe:x.touch1&&x.touch1[2]===Nn.identifier&&(x.touch1[0]=pe);if(Nn=x.that.__zoom,x.touch1){var nn=x.touch0[0],xn=x.touch0[1],re=x.touch1[0],qn=x.touch1[1],fn=(fn=re[0]-nn[0])*fn+(fn=re[1]-nn[1])*fn,O=(O=qn[0]-xn[0])*O+(O=qn[1]-xn[1])*O;Nn=I(Nn,Math.sqrt(fn/O)),pe=[(nn[0]+re[0])/2,(nn[1]+re[1])/2],Pe=[(xn[0]+qn[0])/2,(xn[1]+qn[1])/2]}else if(x.touch0)pe=x.touch0[0],Pe=x.touch0[1];else return;x.zoom("touch",t(M(Nn,pe,Pe),x.extent,u))}}function Hn(E,...G){if(this.__zooming){var x=C(this,G).event(E),j=E.changedTouches,mn=j.length,Cn,Nn;for(oD(E),p&&clearTimeout(p),p=setTimeout(function(){p=null},_),Cn=0;Cn<mn;++Cn)Nn=j[Cn],x.touch0&&x.touch0[2]===Nn.identifier?delete x.touch0:x.touch1&&x.touch1[2]===Nn.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(Nn=br(Nn,this),Math.hypot(s[0]-Nn[0],s[1]-Nn[1])<D)){var pe=Bn(this).on("dblclick.zoom");pe&&pe.apply(this,arguments)}}}return b.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Vp(+E),b):r},b.filter=function(E){return arguments.length?(n=typeof E=="function"?E:Vp(!!E),b):n},b.touchable=function(E){return arguments.length?(a=typeof E=="function"?E:Vp(!!E),b):a},b.extent=function(E){return arguments.length?(e=typeof E=="function"?E:Vp([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),b):e},b.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],b):[o[0],o[1]]},b.translateExtent=function(E){return arguments.length?(u[0][0]=+E[0][0],u[1][0]=+E[1][0],u[0][1]=+E[0][1],u[1][1]=+E[1][1],b):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},b.constrain=function(E){return arguments.length?(t=E,b):t},b.duration=function(E){return arguments.length?(i=+E,b):i},b.interpolate=function(E){return arguments.length?(f=E,b):f},b.on=function(){var E=c.on.apply(c,arguments);return E===c?b:E},b.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,b):Math.sqrt(g)},b.tapDistance=function(E){return arguments.length?(D=+E,b):D},b}function tT(n){return e=>t=>r=>()=>{let a=Bn(n),o=a.select(r);function u(f){o.attr("transform",f.transform)}let i=eT().scaleExtent([e,t]).on("zoom",u);return a.call(i),n}}function rT(n){return()=>()=>{let e=Bn(n),t={x:0,y:0};function r(u){Bn(this).raise()}function a(u){t.x+=u.dx,t.y+=u.dy,Bn(this).attr("transform",`translate(${t.x},${t.y})`)}let o=Lp().on("start",r).on("drag",a);return e.call(o),n}}function aT(n){return e=>()=>{let t=Bn(n);return t.on("click",function(r){e()}),t.style("cursor","pointer"),n}}function oT(n){return e=>()=>{let t=Bn(n);return t.on("click",function(r,a){e(a)()}),t.style("cursor","pointer"),n}}function uT(n){return e=>()=>(Bn(n).on("mouseenter",function(r,a){e(a)()}),n)}function iT(n){return e=>()=>(Bn(n).on("mouseleave",function(r,a){e(a)()}),n)}function fT(n){return e=>t=>()=>{let r=Bn(n);return r.on("mouseenter",function(a){let o=Bn(this);o.raise(),e.forEach(u=>{o.attr(u.attr,u.value)})}),r.on("mouseleave",function(a){let o=Bn(this);t.forEach(u=>{o.attr(u.attr,u.value)})}),n}}function cT(n){return e=>()=>(n.addEventListener("mousemove",function(t){let r=this.__data__;e(r,t)}),n)}function lT(n){return e=>()=>(n.addEventListener("mouseenter",function(t){let r=this.__data__;e(r,t)}),n)}function sT(n){return e=>()=>(n.addEventListener("mouseleave",function(t){let r=this.__data__;e(r,t)}),n)}var kP=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var qP=(function(){function n(){}return n.value=new n,n})(),UP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),uD=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),pT=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),BP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),_T=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),mT=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),iD=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),GP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),VP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),fD=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),JP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var vT=(function(){return iD.create})();var dT=(function(){return mT.create})();var DT=(function(){return _T.create})();var zP=function(n){return function(e){return{scaleExtent:n,targetSelector:e}}};var jP=Ai(),QP=dc(Qo),XP=function(n){var e=tn(n);return function(t){return function(r){return function(a){var o=function(i){return function(f){return function(c){var l=a(c),s=Pi(function(D){return e(a(D.datum))(l)})(f.remainingOld);if(s instanceof v){var p={datum:c,newIndex:i};return{remainingOld:f.remainingOld,matchedIndices:f.matchedIndices,update:f.update,enter:pt(p)(f.enter)}}if(s instanceof m){var _=An(f.remainingOld)(ts(s.value0)(f.remainingOld)),d=jP(f.remainingOld)(s.value0),g={element:d.element,oldDatum:c,newDatum:c,newIndex:i};return{enter:f.enter,update:pt(g)(f.update),remainingOld:_,matchedIndices:pt(s.value0)(f.matchedIndices)}}throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 167, column 9 - line 189, column 18): "+[s.constructor.name])}}},u=QP(o)({remainingOld:r,enter:[],update:[],matchedIndices:[]})(t);return{enter:Ia(u.enter),update:Ia(u.update),exit:u.remainingOld}}}}},YP=function(n){var e=tn(n);return function(t){return function(r){var a=function(u){return function(i){return function(f){var c=Pi(function(d){return e(d.datum)(f)})(i.remainingOld);if(c instanceof v){var l={datum:f,newIndex:u};return{remainingOld:i.remainingOld,matchedIndices:i.matchedIndices,update:i.update,enter:pt(l)(i.enter)}}if(c instanceof m){var s=An(i.remainingOld)(ts(c.value0)(i.remainingOld)),p=jP(i.remainingOld)(c.value0),_={element:p.element,oldDatum:f,newDatum:f,newIndex:u};return{enter:i.enter,update:pt(_)(i.update),remainingOld:s,matchedIndices:pt(c.value0)(i.matchedIndices)}}throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 100, column 7 - line 122, column 16): "+[c.constructor.name])}}},o=QP(a)({remainingOld:r,enter:[],update:[],matchedIndices:[]})(t);return{enter:Ia(o.enter),update:Ia(o.update),exit:o.remainingOld}}}};var Ut=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),te=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ye=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Kt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var vu=(function(){function n(){}return n.value=new n,n})(),xo=(function(){function n(){}return n.value=new n,n})(),If=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Af=(function(){function n(){}return n.value=new n,n})(),Dl=(function(){function n(){}return n.value=new n,n})(),gl=(function(){function n(){}return n.value=new n,n})(),Lf=(function(){function n(){}return n.value=new n,n})(),hl=(function(){function n(){}return n.value=new n,n})(),wa=(function(){function n(){}return n.value=new n,n})(),yl=(function(){function n(){}return n.value=new n,n})(),cD=(function(){function n(){}return n.value=new n,n})(),lD=(function(){function n(){}return n.value=new n,n})(),sD=(function(){function n(){}return n.value=new n,n})(),pD=(function(){function n(){}return n.value=new n,n})(),_D=(function(){function n(){}return n.value=new n,n})(),mD=(function(){function n(){}return n.value=new n,n})(),vD=(function(){function n(){}return n.value=new n,n})(),dD=(function(){function n(){}return n.value=new n,n})();var KP=function(n){if(n instanceof Af||n instanceof Dl||n instanceof gl||n instanceof Lf||n instanceof hl||n instanceof wa||n instanceof yl)return vu.value;if(n instanceof cD||n instanceof lD||n instanceof sD||n instanceof pD||n instanceof _D||n instanceof mD||n instanceof vD||n instanceof dD)return xo.value;throw new Error("Failed pattern match at PSD3v2.Selection.Types (line 201, column 1 - line 201, column 47): "+[n.constructor.name])};function jp(n){return function(e){return function(t){return function(r){return function(){let a=Bn(r).transition();if(a=a.duration(n),e!=null&&(a=a.delay(e)),t!=null){let o=I6(t);o&&(a=a.ease(o))}return a}}}}}function du(n){return function(e){return function(t){return function(){t.attr(n,e)}}}}function DD(n){return function(){n.remove()}}function I6(n){return{linear:Lb,quad:cl,quadIn:Nb,quadOut:Pb,quadInOut:cl,cubic:mi,cubicIn:Rb,cubicOut:Ob,cubicInOut:mi,sin:ll,sinIn:Hb,sinOut:Wb,sinInOut:ll,exp:sl,expIn:$b,expOut:kb,expInOut:sl,circle:pl,circleIn:qb,circleOut:Ub,circleInOut:pl,elastic:vl,elasticIn:Yb,elasticOut:vl,elasticInOut:Kb,back:_l,backIn:zb,backOut:jb,backInOut:_l,bounce:mu,bounceIn:Gb,bounceOut:mu,bounceInOut:Vb}[n]}var A6=(function(){function n(){}return n.value=new n,n})(),L6=(function(){function n(){}return n.value=new n,n})(),N6=(function(){function n(){}return n.value=new n,n})(),P6=(function(){function n(){}return n.value=new n,n})(),R6=(function(){function n(){}return n.value=new n,n})(),O6=(function(){function n(){}return n.value=new n,n})(),H6=(function(){function n(){}return n.value=new n,n})(),W6=(function(){function n(){}return n.value=new n,n})(),$6=(function(){function n(){}return n.value=new n,n})(),k6=(function(){function n(){}return n.value=new n,n})(),q6=(function(){function n(){}return n.value=new n,n})(),U6=(function(){function n(){}return n.value=new n,n})(),B6=(function(){function n(){}return n.value=new n,n})(),G6=(function(){function n(){}return n.value=new n,n})(),V6=(function(){function n(){}return n.value=new n,n})(),J6=(function(){function n(){}return n.value=new n,n})(),z6=(function(){function n(){}return n.value=new n,n})(),j6=(function(){function n(){}return n.value=new n,n})(),Q6=(function(){function n(){}return n.value=new n,n})(),X6=(function(){function n(){}return n.value=new n,n})(),Y6=(function(){function n(){}return n.value=new n,n})(),K6=(function(){function n(){}return n.value=new n,n})(),Z6=(function(){function n(){}return n.value=new n,n})(),nz=(function(){function n(){}return n.value=new n,n})(),ez=(function(){function n(){}return n.value=new n,n})(),tz=(function(){function n(){}return n.value=new n,n})(),rz=(function(){function n(){}return n.value=new n,n})(),az=(function(){function n(){}return n.value=new n,n})(),oz=(function(){function n(){}return n.value=new n,n})(),uz=(function(){function n(){}return n.value=new n,n})(),iz=(function(){function n(){}return n.value=new n,n})(),fz=(function(){function n(){}return n.value=new n,n})(),cz=(function(){function n(){}return n.value=new n,n})(),ZP={show:function(n){if(n instanceof A6)return"linear";if(n instanceof L6)return"cubic";if(n instanceof N6)return"cubicIn";if(n instanceof P6)return"cubicOut";if(n instanceof R6)return"cubicInOut";if(n instanceof O6)return"quad";if(n instanceof H6)return"quadIn";if(n instanceof W6)return"quadOut";if(n instanceof $6)return"quadInOut";if(n instanceof k6)return"sin";if(n instanceof q6)return"sinIn";if(n instanceof U6)return"sinOut";if(n instanceof B6)return"sinInOut";if(n instanceof G6)return"exp";if(n instanceof V6)return"expIn";if(n instanceof J6)return"expOut";if(n instanceof z6)return"expInOut";if(n instanceof j6)return"circle";if(n instanceof Q6)return"circleIn";if(n instanceof X6)return"circleOut";if(n instanceof Y6)return"circleInOut";if(n instanceof K6)return"elastic";if(n instanceof Z6)return"elasticIn";if(n instanceof nz)return"elasticOut";if(n instanceof ez)return"elasticInOut";if(n instanceof tz)return"back";if(n instanceof rz)return"backIn";if(n instanceof az)return"backOut";if(n instanceof oz)return"backInOut";if(n instanceof uz)return"bounce";if(n instanceof iz)return"bounceIn";if(n instanceof fz)return"bounceOut";if(n instanceof cz)return"bounceInOut";throw new Error("Failed pattern match at PSD3v2.Transition.Types (line 79, column 1 - line 112, column 35): "+[n.constructor.name])}};var sz=q(ZP),gD=function(n){if(n instanceof v)return ot(v.value);if(n instanceof m)return ot(new m(n.value0));throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 53, column 1 - line 53, column 69): "+[n.constructor.name])},pz=function(n){return sz(n)},hD=function(n){if(n instanceof v)return ot(v.value);if(n instanceof m)return ot(new m(pz(n.value0)));throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 58, column 1 - line 58, column 57): "+[n.constructor.name])};var Du=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),eR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),tR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),rR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),aR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Nf=function(n){return function(e){return function(){return e[n]}}},mz=Nf("URL"),vz=Nf("documentURI"),dz=Nf("origin"),Dz=Nf("compatMode"),gz=Nf("characterSet"),hz=Nf("contentType");var yz=Nf("documentElement");function hT(n){return function(e){return function(){return e.createElement(n)}}}function oR(n){return function(e){return function(t){return function(){return t.createElementNS(n,e)}}}}var uR=function(n){return oR(ot(n))};var Za=function(n){return function(e){return function(){return e[n]}}};var Ez=Za("baseURI"),wz=Za("ownerDocument"),iR=Za("parentNode"),Cz=Za("parentElement");var fR=Za("childNodes"),cR=Za("firstChild"),Mz=Za("lastChild"),Fz=Za("previousSibling"),lR=Za("nextSibling"),Sz=Za("nodeValue");var xz=Za("textContent");function yT(n){return function(e){return function(t){return function(){t.insertBefore(n,e)}}}}function gu(n){return function(e){return function(){e.appendChild(n)}}}function Pf(n){return function(e){return function(){e.removeChild(n)}}}var bT=T(Ln);var bl=(function(){var n=bT(se);return function(e){return n(iR(e))}})();var sR=(function(){var n=bT(se);return function(e){return n(lR(e))}})();var pR=(function(){var n=bT(se);return function(e){return n(cR(e))}})();function bD(n){return function(){return[].slice.call(n)}}var $r=function(){return window};var Io=A;var Qp=A;function vR(n,e,t){var r=Object.prototype.toString.call(t);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(t):n}var dR=A;var TT=function(n){return vR(v.value,m.create,n)};function kr(n){return function(){return n.document}}function Xp(n){return n.clientX}function Yp(n){return n.clientY}function Kp(n){return n.pageX}function Zp(n){return n.pageY}var p9=V(yt),Ml=L(Pn);var Of=Ve(Pn)(cn),Hf=He(Vr)(Pn),Ao=_e(Ln),_9=et(tt),Ca=Q(ve),Kr=Rn(ue),Rf=Qt(ue),Zr=q(Ae),ER=Mr(Xn),ED=on(In),qr=Mr(gn),m9=q(nr),v9=q(Vf),r_=Ah(Pn)(Qo),wT=Ai(),a_=Uu(Dc)(Pn),wR=er(Ft),Cl=Ts(ee),Bt=T(gn),n_=at(ee),d9=C_(yu);var D9=function(n){return n==="circle"?Af.value:n==="rect"?Dl.value:n==="path"?gl.value:n==="line"?Lf.value:n==="text"?hl.value:n==="g"?wa.value:n==="svg"?yl.value:n==="div"?cD.value:n==="span"?lD.value:n==="table"?sD.value:n==="tr"?pD.value:n==="td"?_D.value:n==="th"?mD.value:n==="tbody"?vD.value:n==="thead"?dD.value:wa.value},CR=function(n){var e=Rn(n);return function(t){return e(function(){var a=p9($r)(kr)(),o=Qp(a),u=Io(a),i=Ba(t)(u)();if(i instanceof v)return new Ut({parentElements:[],document:o});if(i instanceof m)return new Ut({parentElements:[i.value0],document:o});throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 90, column 3 - line 98, column 8): "+[i.constructor.name])})}};var wD=function(n){var e=Rn(n);return function(t){return e((function(){var r=(function(){if(t instanceof Kt)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 324, column 34 - line 325, column 30): "+[t.constructor.name])})();return Of(function(a){var o=ir(a);return function(){var i=bl(o)();if(i instanceof m)return Pf(o)(i.value0)();if(i instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 329, column 5 - line 331, column 27): "+[i.constructor.name])}})(r.elements)})())}},e_=wD(ue),Fl=function(n){return function(e){return function(){var r=Hf(function(a){var o=fy(a);return function(){var i=qm(n)(o)(),f=bD(i)();return Te(cy)(f)}})(e)();return Ci(r)}}},MR=function(n){return function(e){var t=function(o){if(o instanceof Ut)return o.value0.parentElements;if(o instanceof te)return o.value0.elements;if(o instanceof Ye)return o.value0.parentElements;if(o instanceof Kt)return o.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 871, column 3 - line 871, column 59): "+[o.constructor.name])},r=function(o){return function(u){if(o instanceof uD)return Ao(tT(u)(o.value0.scaleExtent.value0)(o.value0.scaleExtent.value1)(o.value0.targetSelector));if(o instanceof pT&&o.value0 instanceof qP)return Ao(rT(u)(void 0));if(o instanceof pT&&o.value0 instanceof UP)return Ml(void 0);if(o instanceof BP)return Ao(aT(u)(o.value0));if(o instanceof _T)return Ao(oT(u)(o.value0));if(o instanceof mT)return Ao(uT(u)(o.value0));if(o instanceof iD)return Ao(iT(u)(o.value0));if(o instanceof GP)return Ao(fT(u)(o.value0.enter)(o.value0.leave));if(o instanceof VP)return Ao(cT(u)(function(i,f){return o.value0({datum:i,clientX:Tn(Xp(f)),clientY:Tn(Yp(f)),pageX:Tn(Kp(f)),pageY:Tn(Zp(f)),offsetX:Yd(f),offsetY:Kd(f)})()}));if(o instanceof fD)return Ao(lT(u)(function(i,f){return o.value0({datum:i,clientX:Tn(Xp(f)),clientY:Tn(Yp(f)),pageX:Tn(Kp(f)),pageY:Tn(Zp(f)),offsetX:Yd(f),offsetY:Kd(f)})()}));if(o instanceof JP)return Ao(sT(u)(function(i,f){return o.value0({datum:i,clientX:Tn(Xp(f)),clientY:Tn(Yp(f)),pageX:Tn(Kp(f)),pageY:Tn(Zp(f)),offsetX:Yd(f),offsetY:Kd(f)})()}));throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 878, column 3 - line 878, column 60): "+[o.constructor.name,u.constructor.name])}},a=t(e);return function(){return Of(r(n))(a)(),e}}},CT=function(n){var e=L(n.Monad0().Applicative0());return function(t){return function(r){var a=(function(){if(t instanceof te)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 502, column 68 - line 503, column 28): "+[t.constructor.name])})(),o=(function(){if(r instanceof te)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 505, column 53 - line 506, column 28): "+[r.constructor.name])})();return e(new te({elements:Ca(a.elements)(o.elements),data:Ca(a.data)(o.data),indices:v.value,document:a.document}))}}},MT=function(n){var e=Rn(n);return function(t){var r=jr(t);return function(a){var o=XP(a);return function(u){return function(i){return function(f){return function(c){return e((function(){var l=(function(){if(c instanceof Ut)return c.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 626, column 55 - line 627, column 28): "+[c.constructor.name])})();return function(){var p=Fl(f)(l.parentElements)(),_=Hf(function(C){return function(){var k=Qd(C)(),sn=se(k);return{element:C,datum:sn}}})(p)();Kr(Rf("joinDataWithKey: found "+(Zr(X(p))+(" existing elements with selector '"+(f+"'")))))(),Kr(Rf("joinDataWithKey: "+(Zr(X(Te(function(C){return C.datum})(_)))+" of those have data bound")))();var d=Te(function(C){return ER(C.datum)(function(P){return{element:C.element,datum:P}})})(_),g=r(u),D=o(g)(d)(i),b=_o(function(C){return function(P){return ED(C.newIndex)(P.newIndex)}})(D.enter),I=new Ye({parentElements:l.parentElements,pendingData:qr(b)(function(C){return C.datum}),indices:new m(qr(b)(function(C){return C.newIndex})),document:l.document}),M=_o(function(C){return function(P){return ED(C.newIndex)(P.newIndex)}})(D.update),h=new te({elements:qr(M)(function(C){return C.element}),data:qr(M)(function(C){return C.newDatum}),indices:new m(qr(M)(function(C){return C.newIndex})),document:l.document}),y=new Kt({elements:qr(D.exit)(function(C){return C.element}),data:qr(D.exit)(function(C){return C.datum}),document:l.document});return new If({enter:I,update:h,exit:y})}})())}}}}}}},g9=MT(ue)(cn)(ht),CD=function(n){var e=Rn(n);return function(t){var r=jr(t);return function(a){var o=YP(a.Eq0());return function(u){return function(i){return function(f){return e((function(){var c=(function(){if(f instanceof Ut)return f.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 537, column 55 - line 538, column 28): "+[f.constructor.name])})();return function(){var s=Fl(i)(c.parentElements)(),p=Hf(function(y){return function(){var P=Qd(y)(),k=se(P);return{element:y,datum:k}}})(s)();Kr(Rf("joinData: found "+(Zr(X(s))+(" existing elements with selector '"+(i+"'")))))(),Kr(Rf("joinData: "+(Zr(X(Te(function(y){return y.datum})(p)))+" of those have data bound")))();var _=Te(function(y){return ER(y.datum)(function(C){return{element:y.element,datum:C}})})(p),d=r(u),g=o(d)(_),D=_o(function(y){return function(C){return ED(y.newIndex)(C.newIndex)}})(g.enter),b=new Ye({parentElements:c.parentElements,pendingData:qr(D)(function(y){return y.datum}),indices:new m(qr(D)(function(y){return y.newIndex})),document:c.document}),I=_o(function(y){return function(C){return ED(y.newIndex)(C.newIndex)}})(g.update),M=new te({elements:qr(I)(function(y){return y.element}),data:qr(I)(function(y){return y.newDatum}),indices:new m(qr(I)(function(y){return y.newIndex})),document:c.document}),h=new Kt({elements:qr(g.exit)(function(y){return y.element}),data:qr(g.exit)(function(y){return y.datum}),document:c.document});return new If({enter:b,update:M,exit:h})}})())}}}}}},h9=CD(ue)(cn),DR=function(n){var e=(function(){if(n instanceof Kt)return n.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1071, column 52 - line 1072, column 30): "+[n.constructor.name])})();return Sr(S.create)(e.elements)(e.data)},FR=function(n){if(n instanceof Ut||n instanceof te||n instanceof Ye||n instanceof Kt)return Ml(n.value0.document);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 815, column 1 - line 815, column 82): "+[n.constructor.name])},SR=function(n){var e=Rn(n);return function(t){return function(r){return e(function(){var o=FR(r)(),u=(function(){if(r instanceof Ut)return r.value0.parentElements;if(r instanceof te)return r.value0.elements;if(r instanceof Ye)return r.value0.parentElements;if(r instanceof Kt)return r.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 122, column 19 - line 126, column 48): "+[r.constructor.name])})();return new Ut({parentElements:u,document:o})})}}},xR=function(n){var e=Rn(n);return function(t){return function(r){return e(function(){var o=FR(r)(),u=(function(){if(r instanceof Ut)return Fl(t)(r.value0.parentElements)();if(r instanceof te)return Fl(t)(r.value0.elements)();if(r instanceof Ye)return Fl(t)(r.value0.parentElements)();if(r instanceof Kt)return Fl(t)(r.value0.elements)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 154, column 15 - line 162, column 50): "+[r.constructor.name])})(),i=Hf(function(f){return function(){var l=Qd(f)(),s=se(l);if(s instanceof m)return s.value0;if(s instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 168, column 16 - line 170, column 39): "+[s.constructor.name])}})(u)();return new te({elements:u,data:i,indices:v.value,document:o})})}}},gR=function(n){var e=(function(){if(n instanceof te)return n.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1083, column 52 - line 1084, column 28): "+[n.constructor.name])})();return Sr(S.create)(e.elements)(e.data)},hR=function(n){if(n instanceof Af)return"circle";if(n instanceof Dl)return"rect";if(n instanceof gl)return"path";if(n instanceof Lf)return"line";if(n instanceof hl)return"text";if(n instanceof wa)return"g";if(n instanceof yl)return"svg";if(n instanceof cD)return"div";if(n instanceof lD)return"span";if(n instanceof sD)return"table";if(n instanceof pD)return"tr";if(n instanceof _D)return"td";if(n instanceof mD)return"th";if(n instanceof vD)return"tbody";if(n instanceof dD)return"thead";throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 962, column 1 - line 962, column 45): "+[n.constructor.name])},MD=function(n){return function(e){var t=KP(n);if(t instanceof vu)return uR(new m("http://www.w3.org/2000/svg"))(hR(n))(e);if(t instanceof xo)return hT(hR(n))(e);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 825, column 3 - line 831, column 64): "+[t.constructor.name])}},IR=function(n){var e=Rn(n);return function(t){return e(fP(t))}},Lo=function(n){if(n instanceof Hp)return n.value0;if(n instanceof Wp)return m9(n.value0);if(n instanceof Ab)return v9(n.value0);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 957, column 1 - line 957, column 51): "+[n.constructor.name])},TD=function(n){return function(e){return function(t){var r=gD(n.delay),a=hD(n.easing);return r_(function(o){return function(u){return function(){var f=jp(n.duration)(r)(a)(u.value0)();return Of(function(c){if(c instanceof Mf)return du(c.value0)(Lo(c.value1))(f);if(c instanceof Ff)return du(c.value0)(Lo(c.value1(u.value1)))(f);if(c instanceof $p)return du(c.value0)(Lo(c.value1(u.value1)(o)))(f);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1023, column 32 - line 1031, column 103): "+[c.constructor.name])})(t)()}}})(e)}}},yR=function(n){return function(e){return function(t){var r=gD(n.delay),a=hD(n.easing);return r_(function(o){return function(u){return function(){var f=jp(n.duration)(r)(a)(u.value0)();return Of(function(c){if(c instanceof Mf)return du(c.value0)(Lo(c.value1))(f);if(c instanceof Ff)return du(c.value0)(Lo(c.value1(u.value1)))(f);if(c instanceof $p)return du(c.value0)(Lo(c.value1(u.value1)(o)))(f);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1051, column 32 - line 1059, column 103): "+[c.constructor.name])})(t)(),DD(f)()}}})(e)}}},Wf=function(n){return function(e){return function(t){return function(r){return Of(function(a){if(a instanceof Mf){var o=a.value0==="textContent";return o?Xd(Lo(a.value1))(n):Ps(a.value0)(Lo(a.value1))(n)}if(a instanceof Ff){var u=Lo(a.value1(e)),i=a.value0==="textContent";return i?Xd(u)(n):Ps(a.value0)(u)(n)}if(a instanceof $p){var u=Lo(a.value1(e)(t)),f=a.value0==="textContent";return f?Xd(u)(n):Ps(a.value0)(u)(n)}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 938, column 30 - line 955, column 51): "+[a.constructor.name])})(r)}}}},y9=function(n){var e=Rn(n);return function(t){return function(r){return e((function(){if(r instanceof te){var a=Sr(S.create)(r.value0.data)(r.value0.elements);return function(){return r_(function(u){return function(i){var f=t(i.value0);return Wf(i.value1)(i.value0)(u)(f)}})(a)(),r}}return Ml(r)})())}}},FT=function(n){var e=Rn(n);return function(t){return function(r){return e((function(){var a=(function(){if(r instanceof te)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 260, column 76 - line 261, column 28): "+[r.constructor.name])})(),o=Sr(S.create)(a.data)(a.elements);return function(){return r_(function(i){return function(f){var c=(function(){if(a.indices instanceof m)return wT(a.indices.value0)(i);if(a.indices instanceof v)return i;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 266, column 22 - line 268, column 30): "+[a.indices.constructor.name])})();return Wf(f.value1)(f.value0)(c)(t)}})(o)(),new te({elements:a.elements,data:a.data,indices:a.indices,document:a.document})}})())}}},bR=FT(ue),ST=function(n){var e=Rn(n);return function(t){return function(r){return e((function(){var a=(function(){if(r instanceof Kt)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 295, column 67 - line 296, column 30): "+[r.constructor.name])})(),o=Sr(S.create)(a.data)(a.elements);return function(){return r_(function(i){return function(f){return Wf(f.value1)(f.value0)(i)(t)}})(o)(),new Kt({elements:a.elements,data:a.data,document:a.document})}})())}}},TR=ST(ue),b9=function(n){return function(e){return function(t){return function(r){return function(a){return function(){return Up(e)(n)(),r instanceof Du?Wf(n)(e)(t)(r.value0.attrs)():void 0}}}}}},T9=function(n){return function(e){return function(t){var r=(function(){if(t instanceof te)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1705, column 66 - line 1706, column 32): "+[t.constructor.name])})();return a_(function(a){return function(o){var u=oe(r.elements)(a);if(u instanceof v)return fr("renderTemplatesForBoundSelection: index out of bounds");if(u instanceof m){var i=e(o),f=new te({elements:[u.value0],data:[o],indices:new m([a]),document:r.document});return function(){return b9(u.value0)(o)(a)(i)(r.document)(),new S(u.value0,ie)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1711, column 9 - line 1735, column 43): "+[u.constructor.name])}})(r.data)}}},AR=function(n){var e=Rn(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof te)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 455, column 82 - line 456, column 28): "+[a.constructor.name])})();return function(){var i=a_(function(f){return function(c){return function(){var s=MD(t)(o.document)();Up(c.value1)(s)(),Wf(s)(c.value1)(f)(r)();var p=ir(s),_=ir(c.value0);return gu(p)(_)(),s}}})(Sr(S.create)(o.elements)(o.data))();return new te({elements:i,data:o.data,indices:v.value,document:o.document})}})())}}}},xT=function(n){var e=Rn(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Ut)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 399, column 55 - line 400, column 28): "+[a.constructor.name])})();return function(){var i=Hf(function(f){return function(){var l=MD(t)(o.document)();Wf(l)(void 0)(0)(r)();var s=ir(l),p=ir(f);return gu(s)(p)(),l}})(o.parentElements)();return new Ut({parentElements:i,document:o.document})}})())}}}},E9=xT(ue),t_=function(n){return function(e){return function(t){var r=(function(){if(t instanceof Ye)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1656, column 68 - line 1657, column 34): "+[t.constructor.name])})();return a_(function(a){return function(o){var u=wR(a)(X(r.parentElements)),i=oe(r.parentElements)(u);if(i instanceof v)return fr("renderTemplatesForPendingSelection: no parent elements");if(i instanceof m){var f=e(o),c=new Ut({parentElements:[i.value0],document:r.document});return function(){var s=FD(n)(c)(f)();return Up(o)(s.value0)(),new S(s.value0,s.value1)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1665, column 9 - line 1685, column 49): "+[i.constructor.name])}})(r.pendingData)}}},FD=function(n){var e=h9(n),t=T9(n);return function(r){return function(a){if(a instanceof Du)return function(){var i=E9(a.value0.elemType)(a.value0.attrs)(r)(),f=(function(){if(i instanceof Ut){var p=zt(i.value0.parentElements);if(p instanceof m)return p.value0;if(p instanceof v)return fr("renderTree: appendChild returned empty selection");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1108, column 29 - line 1110, column 102): "+[p.constructor.name])}return fr("renderTree: appendChild should return EmptySelection")})(),c=Hf(FD(n)(i))(a.value0.children)(),l=Pa(Cl)(ie)(Bt(De)(c)),s=(function(){if(a.value0.name instanceof m)return n_(a.value0.name.value0)(i)(l);if(a.value0.name instanceof v)return l;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1119, column 21 - line 1121, column 34): "+[a.value0.name.constructor.name])})();return new S(f,s)};if(a instanceof eR)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)();Kr((function(){var P=(function(){return i.value0.enter instanceof Ye?X(i.value0.enter.value0.pendingData):0})(),k=(function(){return i.value0.update instanceof te?X(i.value0.update.value0.data):0})(),sn=(function(){return i.value0.exit instanceof te?X(i.value0.exit.value0.data):i.value0.exit instanceof Kt?X(i.value0.exit.value0.data):0})();return Rf("Tree API Join '"+(a.value0.name+("': enter="+(Zr(P)+(", update="+(Zr(k)+(", exit="+Zr(sn))))))))})())(),e_(i.value0.exit)();var f=t_(n)(a.value0.template)(i.value0.enter)(),c=Bt(Me)(f),l=Bt(De)(f),s=t(a.value0.template)(i.value0.update)(),p=Bt(Me)(s),_=Bt(De)(s),d=Ca(c)(p),g=Ca(l)(_),D=Pa(Cl)(ie)(g),b=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.document;if(i.value0.update instanceof te)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1181, column 12 - line 1182, column 43): "+[i.value0.update.constructor.name])})(),I=(function(){return i.value0.enter instanceof Ye?i.value0.enter.value0.pendingData:[]})(),M=(function(){return i.value0.update instanceof te?i.value0.update.value0.data:[]})(),h=new te({elements:d,data:Ca(I)(M),indices:new m(zo(0)(X(d)-1|0)),document:b}),y=n_(a.value0.name)(h)(D),C=(function(){var P=zt(d);if(P instanceof m)return P.value0;if(P instanceof v)return fr("renderTree Join: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1208, column 20 - line 1210, column 88): "+[P.constructor.name])})();return new S(C,y)};if(a instanceof tR)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)(),f=w9(n)(a.value0.decompose)(a.value0.template)(D9(a.value0.key))(i.value0.enter)(),c=Bt(Me)(f),l=Bt(De)(f),s=Pa(Cl)(ie)(l),p=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1234, column 52 - line 1235, column 34): "+[i.value0.enter.constructor.name])})(),_=new te({elements:c,data:p.pendingData,indices:new m(zo(0)(X(c)-1|0)),document:p.document}),d=n_(a.value0.name)(_)(s),g=(function(){var D=zt(c);if(D instanceof m)return D.value0;if(D instanceof v)return fr("renderTree NestedJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1251, column 20 - line 1253, column 94): "+[D.constructor.name])})();return new S(g,d)};if(a instanceof rR)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)();Kr((function(){var P=(function(){return i.value0.enter instanceof Ye?X(i.value0.enter.value0.pendingData):0})(),k=(function(){return i.value0.update instanceof te?X(i.value0.update.value0.data):0})(),sn=(function(){return i.value0.exit instanceof te?X(i.value0.exit.value0.data):i.value0.exit instanceof Kt?X(i.value0.exit.value0.data):0})();return Rf("Tree API SceneJoin '"+(a.value0.name+("': enter="+(Zr(P)+(", update="+(Zr(k)+(", exit="+Zr(sn))))))))})())(),(function(){if(a.value0.exitBehavior instanceof m){if(a.value0.exitBehavior.value0.transition instanceof m){var P=DR(i.value0.exit);return Kr(yR(a.value0.exitBehavior.value0.transition.value0)(P)(a.value0.exitBehavior.value0.attrs))()}if(a.value0.exitBehavior.value0.transition instanceof v)return TR(a.value0.exitBehavior.value0.attrs)(i.value0.exit)(),e_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1293, column 7 - line 1301, column 20): "+[a.value0.exitBehavior.value0.transition.constructor.name])}if(a.value0.exitBehavior instanceof v)return e_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1291, column 3 - line 1305, column 16): "+[a.value0.exitBehavior.constructor.name])})();var f=(function(){if(a.value0.enterBehavior instanceof m){var P=function(sn){var U=a.value0.template(sn);return U instanceof Du?new Du({name:U.value0.name,elemType:U.value0.elemType,children:U.value0.children,attrs:Ca(U.value0.attrs)(a.value0.enterBehavior.value0.initialAttrs)}):U},k=t_(n)(P)(i.value0.enter)();return(function(){if(a.value0.enterBehavior.value0.transition instanceof m){var sn=Bt(Me)(k),U=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.pendingData;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1334, column 41 - line 1335, column 54): "+[i.value0.enter.constructor.name])})(),J=Sr(S.create)(sn)(U);return Kr(Of(function(jn){var Hn=(function(){var E=a.value0.template(jn.value1);return E instanceof Du?E.value0.attrs:[]})();return TD(a.value0.enterBehavior.value0.transition.value0)([new S(jn.value0,jn.value1)])(Hn)})(J))()}if(a.value0.enterBehavior.value0.transition instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1329, column 7 - line 1344, column 29): "+[a.value0.enterBehavior.value0.transition.constructor.name])})(),k}if(a.value0.enterBehavior instanceof v)return t_(n)(a.value0.template)(i.value0.enter)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1316, column 27 - line 1349, column 68): "+[a.value0.enterBehavior.constructor.name])})(),c=Bt(Me)(f),l=Bt(De)(f),s=(function(){if(a.value0.updateBehavior instanceof m)return(function(){if(a.value0.updateBehavior.value0.transition instanceof m){var P=gR(i.value0.update);return Kr(TD(a.value0.updateBehavior.value0.transition.value0)(P)(a.value0.updateBehavior.value0.attrs))()}if(a.value0.updateBehavior.value0.transition instanceof v)return bR(a.value0.updateBehavior.value0.attrs)(i.value0.update)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1358, column 7 - line 1366, column 20): "+[a.value0.updateBehavior.value0.transition.constructor.name])})(),t(a.value0.template)(i.value0.update)();if(a.value0.updateBehavior instanceof v)return t(a.value0.template)(i.value0.update)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1355, column 28 - line 1372, column 67): "+[a.value0.updateBehavior.constructor.name])})(),p=Bt(Me)(s),_=Bt(De)(s),d=Ca(c)(p),g=Ca(l)(_),D=Pa(Cl)(ie)(g),b=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.document;if(i.value0.update instanceof te)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1389, column 12 - line 1390, column 43): "+[i.value0.update.constructor.name])})(),I=(function(){return i.value0.enter instanceof Ye?i.value0.enter.value0.pendingData:[]})(),M=(function(){return i.value0.update instanceof te?i.value0.update.value0.data:[]})(),h=new te({elements:d,data:Ca(I)(M),indices:new m(zo(0)(X(d)-1|0)),document:b}),y=n_(a.value0.name)(h)(D),C=(function(){var P=zt(d);if(P instanceof m)return P.value0;if(P instanceof v)return fr("renderTree SceneJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1415, column 20 - line 1417, column 93): "+[P.constructor.name])})();return new S(C,y)};if(a instanceof aR){var o=d9(Bt(a.value0.decompose)(a.value0.joinData));return function(){var i=g9(o)(cP)(a.value0.key)(r)();Kr((function(){var y=(function(){return i.value0.enter instanceof Ye?X(i.value0.enter.value0.pendingData):0})(),C=(function(){return i.value0.update instanceof te?X(i.value0.update.value0.data):0})(),P=(function(){return i.value0.exit instanceof te?X(i.value0.exit.value0.data):i.value0.exit instanceof Kt?X(i.value0.exit.value0.data):0})();return Rf("Tree API SceneNestedJoin '"+(a.value0.name+("': enter="+(Zr(y)+(", update="+(Zr(C)+(", exit="+Zr(P))))))))})())(),(function(){if(a.value0.exitBehavior instanceof m){if(a.value0.exitBehavior.value0.transition instanceof m){var y=DR(i.value0.exit);return Kr(yR(a.value0.exitBehavior.value0.transition.value0)(y)(a.value0.exitBehavior.value0.attrs))()}if(a.value0.exitBehavior.value0.transition instanceof v)return TR(a.value0.exitBehavior.value0.attrs)(i.value0.exit)(),e_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1468, column 7 - line 1476, column 20): "+[a.value0.exitBehavior.value0.transition.constructor.name])}if(a.value0.exitBehavior instanceof v)return e_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1466, column 3 - line 1479, column 16): "+[a.value0.exitBehavior.constructor.name])})();var f=(function(){if(a.value0.enterBehavior instanceof m){var y=function(P){var k=a.value0.template(P);return k instanceof Du?new Du({name:k.value0.name,elemType:k.value0.elemType,children:k.value0.children,attrs:Ca(k.value0.attrs)(a.value0.enterBehavior.value0.initialAttrs)}):k},C=t_(n)(y)(i.value0.enter)();return(function(){if(a.value0.enterBehavior.value0.transition instanceof m){var P=Bt(Me)(C),k=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.pendingData;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1512, column 41 - line 1513, column 54): "+[i.value0.enter.constructor.name])})(),sn=Sr(S.create)(P)(k);return Kr(Of(function(U){var J=(function(){var jn=a.value0.template(U.value1);return jn instanceof Du?jn.value0.attrs:[]})();return TD(a.value0.enterBehavior.value0.transition.value0)([new S(U.value0,U.value1)])(J)})(sn))()}if(a.value0.enterBehavior.value0.transition instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1507, column 7 - line 1522, column 29): "+[a.value0.enterBehavior.value0.transition.constructor.name])})(),C}if(a.value0.enterBehavior instanceof v)return t_(n)(a.value0.template)(i.value0.enter)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1496, column 27 - line 1525, column 92): "+[a.value0.enterBehavior.constructor.name])})(),c=(function(){if(a.value0.updateBehavior instanceof m)return(function(){if(a.value0.updateBehavior.value0.transition instanceof m){var y=gR(i.value0.update);return Kr(TD(a.value0.updateBehavior.value0.transition.value0)(y)(a.value0.updateBehavior.value0.attrs))()}if(a.value0.updateBehavior.value0.transition instanceof v)return bR(a.value0.updateBehavior.value0.attrs)(i.value0.update)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1531, column 7 - line 1539, column 20): "+[a.value0.updateBehavior.value0.transition.constructor.name])})(),t(a.value0.template)(i.value0.update)();if(a.value0.updateBehavior instanceof v)return t(a.value0.template)(i.value0.update)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1528, column 28 - line 1542, column 91): "+[a.value0.updateBehavior.constructor.name])})(),l=Bt(Me)(c),s=Bt(Me)(f),p=Ca(s)(l),_=Bt(De)(c),d=Bt(De)(f),g=Ca(d)(_),D=Pa(Cl)(ie)(g),b=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.document;if(i.value0.update instanceof te)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1563, column 12 - line 1564, column 43): "+[i.value0.update.constructor.name])})(),I=new te({elements:p,data:o,indices:new m(zo(0)(X(p)-1|0)),document:b}),M=n_(a.value0.name)(I)(D),h=(function(){var y=zt(p);if(y instanceof m)return y.value0;if(y instanceof v)return fr("renderTree SceneNestedJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1578, column 20 - line 1580, column 99): "+[y.constructor.name])})();return new S(h,M)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1094, column 1 - line 1099, column 74): "+[r.constructor.name,a.constructor.name])}}},w9=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){if(a instanceof Ye)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1601, column 68 - line 1602, column 34): "+[a.constructor.name])})();return a_(function(u){return function(i){var f=wR(u)(X(o.parentElements)),c=oe(o.parentElements)(f);if(c instanceof v)return fr("renderNestedTemplatesForPendingSelection: no parent elements");if(c instanceof m)return function(){var s=MD(r)(o.document)(),p=ir(s),_=ir(c.value0);gu(p)(_)();var d=e(i),g=Hf(function(b){var I=t(b),M=new Ut({parentElements:[s],document:o.document});return function(){var y=FD(n)(M)(I)();return y.value1}})(d)(),D=Pa(Cl)(ie)(g);return new S(s,D)};throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1607, column 9 - line 1636, column 57): "+[c.constructor.name])}})(o.pendingData)}}}}};var LR=function(n){var e=FD(n);return function(t){return function(r){return function(){var o=e(t)(r)();return o.value1}}}},SD=function(n){var e=Rn(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Ye)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 204, column 77 - line 205, column 30): "+[a.constructor.name])})(),u=(function(){var i=zt(o.parentElements);if(i instanceof m)return i.value0;if(i instanceof v)return wT(o.parentElements)(0);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 210, column 14 - line 212, column 68): "+[i.constructor.name])})();return function(){var f=a_(function(c){return function(l){var s=(function(){if(o.indices instanceof m)return wT(o.indices.value0)(c);if(o.indices instanceof v)return c;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 217, column 22 - line 219, column 30): "+[o.indices.constructor.name])})();return function(){var _=MD(t)(o.document)();Wf(_)(l)(s)(r)(),Up(l)(_)();var d=ir(_),g=ir(u);return gu(d)(g)(),_}}})(o.pendingData)();return new te({elements:f,data:o.pendingData,indices:o.indices,document:o.document})}})())}}}},C9=SD(ue),NR=function(n){var e=Rn(n);return function(t){var r=jr(t);return function(a){return function(o){return function(u){return function(i){return e((function(){var f=(function(){if(i instanceof Ut)return i.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 771, column 55 - line 772, column 28): "+[i.constructor.name])})(),c=r(o),l=new Ye({parentElements:f.parentElements,pendingData:c,indices:new m(zo(0)(X(c)-1|0)),document:f.document});return C9(a)(u)(l)})())}}}}}},PR=function(n){var e=n.Monad0(),t=e.Bind1(),r=V(t),a=CD(n),o=SD(n),u=L(e.Applicative0()),i=y9(n),f=_9(t),c=wD(n),l=CT(n);return function(s){var p=a(s);return function(_){var d=p(_);return function(g){return function(D){return function(b){return function(I){return function(M){return function(h){return function(y){return r(d(D)(b)(I))(function(C){return r(r(o(g)([])(C.value0.enter))(function(P){if(M instanceof v)return u(P);if(M instanceof m)return i(M.value0)(P);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 724, column 5 - line 726, column 55): "+[M.constructor.name])}))(function(P){return r((function(){if(h instanceof v)return u(C.value0.update);if(h instanceof m)return i(h.value0)(C.value0.update);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 729, column 18 - line 731, column 54): "+[h.constructor.name])})())(function(k){return f((function(){if(y instanceof v)return c(C.value0.exit);if(y instanceof m)return r(i(y.value0)(C.value0.exit))(function(){return c(C.value0.exit)});throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 734, column 3 - line 738, column 18): "+[y.constructor.name])})())(function(){return l(P)(k)})})})})}}}}}}}}}};function IT(n){return function(e){return function(){return n.add(e)}}}function AT(n){return function(e){return function(){return n.remove(e)}}}var x9=function(n){if(n instanceof Ut)return n.value0.parentElements;if(n instanceof te)return n.value0.elements;if(n instanceof Ye)return n.value0.parentElements;if(n instanceof Kt)return n.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Query (line 146, column 46 - line 150, column 35): "+[n.constructor.name])};var OR=x9;var A9=CR(ue),HR=SR(ue),L9=xR(ue),N9=PR(ue),P9=NR(ue),R9=CD(ue),WR=MT(ue),O9=SD(ue),H9=FT(ue),W9=ST(ue),$9=wD(ue),k9=IR(ue),q9=CT(ue),U9=xT(ue),B9=AR(ue),G9=T(Es);var V9=function(n){return n};var xD=ue,J9=La,No={select:function(n){return function(){var t=A9(n)();return t}},selectAll:function(n){return function(e){return function(){var r=HR(n)(e)();return r}}},openSelection:function(n){return function(e){return function(){var r=HR(e)(n)();return r}}},selectAllWithData:function(n){return function(e){return function(){var r=L9(n)(e)();return r}}},renderData:function(n){var e=N9(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(i){return function(f){return function(c){return function(l){return function(){var p=r(a)(o)(u)(i)(f)(c)(l)();return p}}}}}}}}}},appendData:function(n){var e=P9(n);return function(t){return function(r){return function(a){return function(o){return function(){var i=e(t)(r)(a)(o)();return i}}}}}},joinData:function(n){var e=R9(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(){var f=r(a)(o)(u)();return new If({enter:f.value0.enter,update:f.value0.update,exit:f.value0.exit})}}}}}},joinDataWithKey:function(n){var e=WR(n);return function(t){var r=e(t.Eq0());return function(a){return function(o){return function(u){return function(i){return function(){var c=r(a)(o)(u)(i)();return new If({enter:c.value0.enter,update:c.value0.update,exit:c.value0.exit})}}}}}}},updateJoin:function(n){var e=WR(n);return function(t){var r=e(t.Eq0());return function(a){return function(o){return function(u){return function(i){return function(f){return function(){var l=r(u)(i)(f)(a)();return new If({enter:l.value0.enter,update:l.value0.update,exit:l.value0.exit})}}}}}}}},append:function(n){return function(e){return function(t){return function(){var a=O9(n)(e)(t)();return a}}}},setAttrs:function(n){return function(e){return function(){var r=H9(n)(e)();return r}}},setAttrsExit:function(n){return function(e){return function(){var r=W9(n)(e)();return r}}},remove:function(n){return $9(n)},clear:function(n){return k9(n)},merge:function(n){return function(e){return function(){var r=q9(n)(e)();return r}}},appendChild:function(n){return function(e){return function(t){return function(){var a=U9(n)(e)(t)();return a}}}},appendChildInheriting:function(n){return function(e){return function(t){return function(){var a=B9(n)(e)(t)();return a}}}},on:function(n){return function(e){return function(){var r=MR(n)(e)();return r}}},renderTree:function(n){var e=LR(n);return function(t){return function(r){return function(){var o=e(t)(r)();return G9(V9)(o)}}}},Monad0:function(){return J9}};var Sl=yt;var ID=Pn,Po=function(n){return n};var $R=function(n){return OR(n)};var AD=V(Sl),z9=Jd(No),j9=jd(No),Q9=qN(Ea),qR=q(nr),X9=Bd(Ea),UR=zd(No)(cn),BR=GN(wr),GR=zN(wr),Y9=BN(wr),K9=ZN(wr),VR=Gd(Ea),Z9=qd(Ea),nj=kp(il),JR=Ud(il),zR=qp(Ea),ej=et(tt),jR=ej(Sl),QR=Qt(xD),LD=q(Ae),tj=YN(Ea),rj=eP(Ea),aj=nP(il),oj=XN(Sf),uj=L(ID),LT=Qt(ue),NT=tn(hf),PT=Ja(cn),ij=Yn(cn),ND=T(gn),o_=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),u_=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),i_=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var fj=(function(){return{round:Op.round,paddingRight:Op.paddingRight,paddingBottom:Op.paddingBottom,paddingLeft:Op.paddingLeft,size:{width:ya,height:ba},tile:Ib(1),paddingInner:2,paddingOuter:4,paddingTop:20}})(),cj=function(n){if(n instanceof o_||n instanceof u_)return 0;if(n instanceof i_)return n.value0.loc;throw new Error("Failed pattern match at Engine.Treemap (line 59, column 1 - line 59, column 33): "+[n.constructor.name])},lj=function(n){if(n instanceof o_)return-1;if(n instanceof u_||n instanceof i_)return n.value0.packageIndex;throw new Error("Failed pattern match at Engine.Treemap (line 65, column 1 - line 65, column 37): "+[n.constructor.name])},sj=function(n){if(n instanceof o_)return"root";if(n instanceof u_||n instanceof i_)return n.value0.name;throw new Error("Failed pattern match at Engine.Treemap (line 71, column 1 - line 71, column 32): "+[n.constructor.name])};var pj=function(n){if(n instanceof o_)return new m(n.value0.children);if(n instanceof u_)return new m(n.value0.children);if(n instanceof i_)return v.value;throw new Error("Failed pattern match at Engine.Treemap (line 53, column 1 - line 53, column 55): "+[n.constructor.name])},_j=function(n){return AD(z9("#treemap-watermark"))(function(e){var t=-ba/2,r=-ya/2;return AD(j9(wa.value)([Q9("translate("+(qR(r)+(","+(qR(t)+")")))),X9("watermark-inner")])(e))(function(a){return AD(UR(Dl.value)(n)([BR(function(o){return o.x0}),GR(function(o){return o.y0}),Y9(function(o){return o.x1-o.x0}),K9(function(o){return o.y1-o.y0}),VR("none"),Z9("rgba(255, 255, 255, 0.15)"),nj(1),JR(1),zR("watermark-package")])(a))(function(){return jR(QR("[Treemap] Rendering watermark labels for "+(LD(X(n))+" packages")))(function(){return AD(UR(hl.value)(n)([BR(function(o){return(o.x0+o.x1)/2}),GR(function(o){return o.y0+14}),tj("middle"),VR("rgba(255, 255, 255, 0.2)"),rj("Monaco, 'Courier New', monospace"),aj(10),JR(1),zR("watermark-package-label"),oj(function(o){return o.name})])(a))(function(){return jR(QR("[Treemap] Watermark labels rendered"))(function(){return uj(void 0)})})})})})})};var RT=function(n){var e={name:sj(n.value0.data_),packageIndex:lj(n.value0.data_),x0:n.value0.x0,y0:n.value0.y0,x1:n.value0.x1,y1:n.value0.y1,depth:n.value0.depth},t=Pg(RT)(n.value0.children),r=n.value0.depth>0;return r?pt(e)(t):t},XR=function(n){var e=PN(n)(pj),t=xb(e)(cj),r=kN(fj)(t);return r},YR=function(){var e=$r(),t=kr(e)(),r=Io(t),a=Ba("#treemap-watermark")(r)();if(a instanceof m)return AN(a.value0)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Treemap (line 475, column 3 - line 477, column 25): "+[a.constructor.name])};var KR=function(n){var e=Le(function(c){return NT(c.nodeType)(Ze.value)})(n),t=PT(gr(function(c){return function(l){return new S(l.name,c)}})(e)),r=Le(function(c){return NT(c.nodeType)(ut.value)})(n),a=function(c){return function(l){return new i_({name:l.name,packageIndex:c,loc:l.r*l.r})}},o=function(c){return function(l){var s=(function(){var p=Ge(l.package)(c);if(p instanceof m)return p.value0;if(p instanceof v)return[];throw new Error("Failed pattern match at Engine.Treemap (line 112, column 20 - line 114, column 24): "+[p.constructor.name])})();return hy(l.package)(zr(s)(l))(c)}},u=ij(o)(Rr)(r),i=function(c){var l=Ge(c.name)(u);if(l instanceof v)return v.value;if(l instanceof m){var s=(function(){var _=Ge(c.name)(t);if(_ instanceof m)return _.value0;if(_ instanceof v)return 0;throw new Error("Failed pattern match at Engine.Treemap (line 126, column 22 - line 128, column 27): "+[_.constructor.name])})(),p=ND(a(s))(l.value0);return new m(new u_({name:c.name,packageIndex:s,children:p}))}throw new Error("Failed pattern match at Engine.Treemap (line 122, column 7 - line 135, column 16): "+[l.constructor.name])},f=Te(i)(e);return new o_({children:f})},mj=function(n){var e=KR(n),t=-ba/2,r=-ya/2,a=function(f){var c=(f.y0+f.y1)/2+t,l=(f.x0+f.x1)/2+r;return new S(f.name,{x:l,y:c})},o=XR(e),u=RT(o),i=Le(function(f){return f.depth===1})(u);return PT(ND(a)(i))},OT=function(n){var e=mj(n),t=Le(function(o){return NT(o.nodeType)(Ze.value)})(n),r=PT(ND(function(o){return new S(LD(o.id),o.name)})(t)),a=function(o){if(o.nodeType instanceof Ze){var u=Ge(o.name)(e);if(u instanceof m)return{name:o.name,nodeType:o.nodeType,cluster:o.cluster,fx:o.fx,fy:o.fy,id:o.id,isInTree:o.isInTree,orbitAngle:o.orbitAngle,package:o.package,r:o.r,sources:o.sources,targets:o.targets,treeX:o.treeX,treeY:o.treeY,vx:o.vx,vy:o.vy,gridX:u.value0.x,gridY:u.value0.y,x:u.value0.x,y:u.value0.y};if(u instanceof v)return o;throw new Error("Failed pattern match at Engine.Treemap (line 348, column 11 - line 350, column 28): "+[u.constructor.name])}if(o.nodeType instanceof ut){var u=Ge(LD(o.cluster))(r);if(u instanceof m){var i=Ge(u.value0)(e);if(i instanceof m)return{cluster:o.cluster,name:o.name,nodeType:o.nodeType,fx:o.fx,fy:o.fy,id:o.id,isInTree:o.isInTree,orbitAngle:o.orbitAngle,package:o.package,r:o.r,sources:o.sources,targets:o.targets,treeX:o.treeX,treeY:o.treeY,vx:o.vx,vy:o.vy,gridX:i.value0.x,gridY:i.value0.y,x:i.value0.x,y:i.value0.y};if(i instanceof v)return o;throw new Error("Failed pattern match at Engine.Treemap (line 355, column 15 - line 357, column 32): "+[i.constructor.name])}if(u instanceof v)return o;throw new Error("Failed pattern match at Engine.Treemap (line 353, column 11 - line 358, column 28): "+[u.constructor.name])}throw new Error("Failed pattern match at Engine.Treemap (line 346, column 7 - line 358, column 28): "+[o.nodeType.constructor.name])};return ND(a)(n)};var HT=function(n){return function(){LT("[Treemap] Rendering watermark...")();var t=KR(n),r=XR(t),a=RT(r),o=Le(function(u){return u.depth===1})(a);return LT("[Treemap] Watermark: "+(LD(X(o))+" packages"))(),Po(_j(o))(),LN(),LT("[Treemap] Watermark render complete")()}};var ZR=n=>{let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t].key,n[t].value);return e},n2=n=>e=>e.get(n),e2=n=>n==null;var hj=q(Ae),yj=T(gn),t2=V(st),bj=L(ea),r2=function(n){return function(e){var t=oe(n)(e);if(t instanceof m)return t.value0;if(t instanceof v)return fr("swizzleLinks: Array index out of bounds: "+hj(e));throw new Error("Failed pattern match at PSD3.ForceEngine.Links (line 115, column 26 - line 117, column 85): "+[t.constructor.name])}},o2=function(n){return function(e){return function(t){var r=function(a){return function(o){var u=r2(n)(o.target),i=r2(n)(o.source);return t(i)(u)(a)(o)}};return gr(r)(e)}}},a2=function(n){return function(e){var t=n2(n)(e),r=e2(t);return r?v.value:new m(t)}};var Tj=function(n){return function(e){return ZR(yj(function(t){return{key:n(t),value:t}})(e))}},u2=function(n){return function(e){return function(t){return function(r){var a=function(i){return function(f){return t2(a2(f.source)(i))(function(c){return t2(a2(f.target)(i))(function(l){return bj({src:c,tgt:l,link:f})})})}},o=function(i){return function(f){return r(f.src)(f.tgt)(i)(f.link)}},u=Tj(n)(e);return gr(o)(Te(a(u))(t))}}}};function i2(n){return function(e){return function(t){return function(){let r=n+" "+e;document.querySelectorAll(r).forEach(o=>{let u=o.__data__;if(u!==void 0){let i=t(u);i&&o.classList.add(i)}})}}}}function f2(n){return function(e){return function(t){return function(){let r=n+" "+e;document.querySelectorAll(r).forEach(o=>{t.forEach(u=>{o.classList.remove(u)})})}}}}var f_=f2,WT=i2;var xl=null,$T=null,kT=()=>(xl||(xl=document.createElement("div"),xl.className="psd3-tooltip",xl.style.cssText=`
      position: fixed;
      display: none;
      pointer-events: none;
      z-index: 10000;
    `,document.body.appendChild(xl),$T&&c2($T)),xl),c2=n=>{let e=kT();n.background&&(e.style.background=n.background),n.color&&(e.style.color=n.color),n.padding&&(e.style.padding=n.padding),n.borderRadius&&(e.style.borderRadius=n.borderRadius),n.fontSize&&(e.style.fontSize=n.fontSize),n.fontFamily&&(e.style.fontFamily=n.fontFamily),n.border&&(e.style.border=n.border),n.boxShadow&&(e.style.boxShadow=n.boxShadow),n.maxWidth&&(e.style.maxWidth=n.maxWidth),n.lineHeight&&(e.style.lineHeight=n.lineHeight),n.backdropFilter&&(e.style.backdropFilter=n.backdropFilter,e.style.webkitBackdropFilter=n.backdropFilter)},l2=n=>e=>t=>()=>{let r=kT();r.innerHTML=n,r.style.display="block";let a=r.getBoundingClientRect(),o=window.innerWidth,u=window.innerHeight,i=e+15,f=t+10;i+a.width>o&&(i=e-a.width-15),f+a.height>u&&(f=t-a.height-10),r.style.left=i+"px",r.style.top=f+"px"},s2=()=>{kT().style.display="none"};var p2=n=>()=>{$T=n,c2(n)};var qT=function(n){var e=function(t){return l2(n(t.datum))(t.pageX)(t.pageY)};return new fD(e)};var PD=s2,_2=(function(){return{background:new m("rgba(212, 201, 168, 0.95)"),color:new m("#2c2c2c"),padding:new m("12px 16px"),borderRadius:new m("4px"),fontSize:new m("12px"),fontFamily:new m("'Courier New', monospace"),border:new m("1px solid rgba(0, 0, 0, 0.1)"),boxShadow:new m("0 2px 8px rgba(0, 0, 0, 0.12)"),maxWidth:new m("300px"),lineHeight:new m("1.6"),backdropFilter:new m("blur(12px)")}})();var m2=p2;var vi=q(nr);var d2=function(n){return function(e){return function(t){return function(r){var a=It(t*t+r*r),o=It(n*n+e*e),u=(o+a)/2,i=dm(r)(t),f=u*hr(i),c=u*yr(i),l=dm(e)(n),s=u*hr(l),p=u*yr(l);return"M"+(vi(n)+(","+(vi(e)+("C"+(vi(s)+(","+(vi(p)+(" "+(vi(f)+(","+(vi(c)+(" "+(vi(t)+(","+vi(r)))))))))))))))}}}};var Sj=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var D2=Tt(In);var T2=et(tt),me=Qt(ue),xj=q(Vf),no=at(ee),ke=V(Sl),Pl=Jd(No),p_=zd(No)(cn),E2=VN(wr),w2=jN(wr),C2=JN(wr),M2=QN(wr),__=qd(Sf),VT=kp(wr),JT=Ud(wr),m_=qp(Sf),Rl=L(ID),vt=q(Ae),Ij=L(Pn),Aj=Ja(cn),Lj=He(Vr)(Pn),Nj=tP(Sf),zT=Gd(Sf),Ll=Mo(cn)(In),v_=T(gn),kf=df(In),Pj=Ua(In)(cn),g2=es(ee),lr=T2(mt),Il=Qt(cr),$f=V(mt),h2=L(kt),Nt=Rn(cr),Rj=ua(Pn)(cn),Oj=oP(No),UT=Zt(Pn),y2=Q(ve),F2=aP(wr),S2=rP(wr),x2=KN(wr),I2=kp(il),Hj=T2(Sl),Wj=Qt(xD),hu=uP(No),c_=jd(No),$j=UN(Ea),RD=q(nr),l_=Bd(Ea),b2=qp(Ea);var kj=function(n){if(n instanceof Ar&&n.value0 instanceof Wa)return"ModuleTreemap (project only)";if(n instanceof Ar&&n.value0 instanceof ar)return"ModuleTreemap (all)";if(n instanceof bt&&n.value0 instanceof Wa)return"PackageGrid (project only)";if(n instanceof bt&&n.value0 instanceof ar)return"PackageGrid (all)";if(n instanceof or&&n.value0 instanceof Wa)return"ModuleOrbit (project only)";if(n instanceof or&&n.value0 instanceof ar)return"ModuleOrbit (all)";if(n instanceof ur&&n.value0 instanceof Wa)return"DependencyTree (project only)";if(n instanceof ur&&n.value0 instanceof ar)return"DependencyTree (all)";if(n instanceof Qr)return"Neighborhood ("+(n.value0+")");if(n instanceof ca)return"FunctionCalls ("+(n.value0+")");throw new Error("Failed pattern match at Engine.Explorer (line 830, column 1 - line 830, column 37): "+[n.constructor.name])},OD=function(n){return function(){var t=$r(),r=kr(t)(),a=Io(r),o=Ba("#explorer-nodes")(a)();if(o instanceof m){var u=$m(o.value0)();return(function(){return n?IT(u)("tree-scene")():AT(u)("tree-scene")()})(),me("[Explorer] Set tree-scene class: "+xj(n))()}if(o instanceof v)return me("[Explorer] Could not find #explorer-nodes for CSS class")();throw new Error("Failed pattern match at Engine.Explorer (line 740, column 3 - line 746, column 77): "+[o.constructor.name])}},qj=function(n){return function(e){return function(){rn(ie)(e.forces)();var r=Sd({strength:-200,theta:.9,distanceMin:1,distanceMax:1e10});Er(r)(n)(),ge(no("charge")(r))(e.forces)();var a=hb(10)(.7)(1);Er(a)(n)(),ge(no("collide")(a))(e.forces)();var o=Id({x:0,strength:.05});Er(o)(n)(),ge(no("x")(o))(e.forces)();var u=xd({y:0,strength:.05});return Er(u)(n)(),ge(no("y")(u))(e.forces)(),me("[Explorer] Neighborhood forces set (charge, collide, center)")()}}};var Uj=function(n){var e=function(o){return o.target.y},t=function(o){return o.target.x},r=function(o){return o.source.y},a=function(o){return o.source.x};return ke(Pl("#explorer-links"))(function(o){return ke(p_(Lf.value)(n)([E2(a),w2(r),C2(t),M2(e),__(function(u){return"white"}),VT(function(u){return 1.5}),JT(function(u){return .6}),m_(function(u){return"neighborhood-link"})])(o))(function(){return Rl(void 0)})})},Bj=function(n){var e=function(o){return o.target.y},t=function(o){return o.target.x},r=function(o){return o.source.y},a=function(o){return o.source.x};return ke(Pl("#explorer-links"))(function(o){return ke(p_(Lf.value)(n)([E2(a),w2(r),C2(t),M2(e),__(function(u){return"white"}),VT(function(u){return 1}),JT(function(u){return .6}),m_(function(u){return"force-link"})])(o))(function(){return Rl(void 0)})})},Gj=function(n){return function(e){var t=Le(td)(e);return function(){me("[Explorer] Rendering "+(vt(X(t))+" force links"))();var a=o2(n)(t)(function(o){return function(u){return function(i){return function(f){return{source:o,target:u,linkType:f.linkType}}}}});return Po(Bj(a))(),void 0}}},A2=function(n){var e=function(a){if(a.nodeType instanceof Ze)return new m(new S(vt(a.id),{x:a.gridX,y:a.gridY}));if(a.nodeType instanceof ut)return v.value;throw new Error("Failed pattern match at Engine.Explorer (line 366, column 21 - line 368, column 26): "+[a.nodeType.constructor.name])},t=Aj(Te(e)(n)),r=function(a){if(a.nodeType instanceof Ze)return Ij(a);if(a.nodeType instanceof ut)return function(){var u=dp(),i=dp(),f=(function(){var s=Ge(vt(a.cluster))(t);if(s instanceof m)return s.value0;if(s instanceof v)return{x:0,y:0};throw new Error("Failed pattern match at Engine.Explorer (line 376, column 32 - line 378, column 40): "+[s.constructor.name])})(),c=(u-.5)*100,l=(i-.5)*100;return{cluster:a.cluster,nodeType:a.nodeType,fx:a.fx,fy:a.fy,gridX:a.gridX,gridY:a.gridY,id:a.id,isInTree:a.isInTree,name:a.name,orbitAngle:a.orbitAngle,package:a.package,r:a.r,sources:a.sources,targets:a.targets,treeX:a.treeX,treeY:a.treeY,vx:a.vx,vy:a.vy,x:f.x+c,y:f.y+l}};throw new Error("Failed pattern match at Engine.Explorer (line 370, column 25 - line 381, column 58): "+[a.nodeType.constructor.name])};return Lj(r)(n)};var Vj=KA,Jj=function(n){return function(e){return function(t){return function(){return me("[Explorer] Declaration clicked: "+(n+("."+(e+(" (kind: "+(t+")"))))))(),nL(n)(e)()}}}};var L2="#explorer-nodes",N2=function(n){if(n.nodeType instanceof Ze)return xe(n.cluster);if(n.nodeType instanceof ut)return n.isInTree?"rgba(255, 255, 255, 0.8)":"none";throw new Error("Failed pattern match at Engine.Explorer (line 579, column 14 - line 584, column 18): "+[n.nodeType.constructor.name])},P2=function(n){if(n.nodeType instanceof Ze)return xe(n.cluster);if(n.nodeType instanceof ut)return"rgba(255, 255, 255, 0.9)";throw new Error("Failed pattern match at Engine.Explorer (line 573, column 15 - line 575, column 43): "+[n.nodeType.constructor.name])},R2=function(n){if(n.nodeType instanceof Ze)return"node package-node";if(n.nodeType instanceof ut){if(n.isInTree)return"node tree-module";if(le)return"node non-tree-module"}throw new Error("Failed pattern match at Engine.Explorer (line 591, column 15 - line 595, column 42): "+[n.nodeType.constructor.name])},zj=function(n){return function(e){var t=D2(e.target)(n),r=D2(e.source)(n);return r instanceof m&&t instanceof m?d2(r.value0.treeX)(r.value0.treeY)(t.value0.treeX)(t.value0.treeY):""}},jj=function(n){return function(e){return ke(Pl("#explorer-links"))(function(t){return ke(p_(gl.value)(e)([Nj(zj(n)),zT(function(r){return"none"}),__(function(r){return"white"}),VT(function(r){return 1.5}),JT(function(r){return .5}),m_(function(r){return"tree-link"})])(t))(function(){return Rl(void 0)})})}},Ma=(function(){return Or(zn(new bt(ar.value)))})(),di=(function(){return Or(zn(v.value))})(),HD=Or(zn([])),WD=Or(zn({projectName:"",moduleCount:0,packageCount:0})),Nl=Or(zn([])),Qj=function(n){return function(){var t=R(Nl)(),r=Ll(v_(function(u){return u.id})(n)),a=Le(function(u){return kf(u.source)(r)&&kf(u.target)(r)})(t);me("[Explorer] Rendering "+(vt(X(a))+" neighborhood links"))();var o=u2(function(u){return u.id})(n)(a)(function(u){return function(i){return function(f){return function(c){return{source:u,target:i,linkType:c.linkType}}}}});return Po(Uj(o))(),void 0}};var Xj=function(n){return function(){var t=R(Nl)(),r=Le(td)(t);me("[Explorer] Rendering "+(vt(X(r))+" tree links"))();var a=Pj(v_(function(o){return new S(o.id,o)})(n));return Po(jj(a)(r))(),void 0}},jT=Or(zn(Rr)),s_=(function(){return Or(zn({focusedNodeId:v.value,fullNodes:[]}))})(),GT=Or(zn(Rr)),O2=function(n){var e=function(r){if(r instanceof Ze)return"Package";if(r instanceof ut)return"Module";throw new Error("Failed pattern match at Engine.Explorer (line 499, column 3 - line 499, column 38): "+[r.constructor.name])},t=function(r){return function(a){return'<div class="tooltip-metric">'+('<span class="metric-label">'+(r+("</span>"+('<span class="metric-value">'+(a+"</span></div>")))))}};return'<div class="tooltip-header">'+(n.name+("</div>"+('<div class="tooltip-package">'+(n.package+("</div>"+('<div class="tooltip-metrics">'+(t("Type")(e(n.nodeType))+(t("Dependencies")(vt(X(n.targets)))+(t("Dependents")(vt(X(n.sources)))+"</div>")))))))))},H2="#explorer-links",W2=function(n){if(n.nodeType instanceof Ze)return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:n.gridX,fy:n.gridY};if(n.nodeType instanceof ut)return n;throw new Error("Failed pattern match at Engine.Explorer (line 356, column 27 - line 358, column 21): "+[n.nodeType.constructor.name])},Yj=function(n){var e=function(u){return function(i){var f=u,c=!1,l;function s(p,_){if(_===-1)return c=!0,-1;var d=j0(_)(p)===".";if(d)return c=!0,_;f=p,i=_-1|0}for(;!c;)l=s(f,i);return l}},t=(function(){var u=function(i){return function(f){var c=i,l=!1,s;function p(_,d){var g=j0(_)(d);if(g==="")return l=!0,_;c=_+1|0,f=d}for(;!l;)s=p(c,f);return s}};return u(0)})(),r=function(u){var i=t(u),f=e(u)(i-1|0),c=f<0;return c?{module:"",name:u}:{module:Q0(0)(f)(u),name:Q0(f+1|0)(i)(u)}},a=r(n),o=a.module==="";return o?v.value:new m(a.module)},Kj=function(n){return function(e){return function(t){return function(){var a=R(jT)(),o=n+("."+e),u=Ge(o)(a);if(u instanceof v)return void 0;if(u instanceof m){var i=g2(v_(function(c){return c.targetModule})(u.value0.calls)),f=g2(Te(Yj)(u.value0.calledBy));return XA(n)(f)(i)()}throw new Error("Failed pattern match at Engine.Explorer (line 1313, column 3 - line 1320, column 64): "+[u.constructor.name])}}}},$2=function(n){var e=function(t){return function(){var a=pR(t)();if(a instanceof m)return Pf(a.value0)(t)(),e(t)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Explorer (line 727, column 5 - line 731, column 27): "+[a.constructor.name])}};return e(ir(n))},QT=function(){var e=$r(),t=kr(e)(),r=Io(t),a=Ba("#explorer-nodes")(r)();if(a instanceof m)return $2(a.value0)();if(a instanceof v)return me("[Explorer] Could not find #explorer-nodes")();throw new Error("Failed pattern match at Engine.Explorer (line 1238, column 3 - line 1240, column 63): "+[a.constructor.name])},Al=function(){var e=$r(),t=kr(e)(),r=Io(t),a=Ba("#explorer-links")(r)();if(a instanceof m)return $2(a.value0)(),me("[Explorer] Cleared tree links")();if(a instanceof v)return me("[Explorer] Could not find #explorer-links")();throw new Error("Failed pattern match at Engine.Explorer (line 712, column 3 - line 717, column 63): "+[a.constructor.name])},Zj=function(){return aN(L2)(),Ad(H2)()},nQ=function(n){return function(e){return function(){me("[Explorer] Focusing on neighborhood with "+(vt(X(n))+" nodes"))(),PD(),Al(),QT(),Pp(n)(e)();var r=ha(e)();return qj(r)(e)(),Tv((function(){var a=Te(function(o){var u=o.name!=="";return u?new m(o.name):v.value})(r);return lr(Il("[Explorer] Fetching batch data for "+(vt(X(a))+" modules")))(function(){return $f(AI(a))(function(o){return lr((function(){if(o instanceof en)return Il("[Explorer] Batch declarations error: "+o.value0);if(o instanceof B)return h2(void 0);throw new Error("Failed pattern match at Engine.Explorer (line 925, column 5 - line 927, column 27): "+[o.constructor.name])})())(function(){var u=(function(){if(o instanceof B)return o.value0;if(o instanceof en)return Rr;throw new Error("Failed pattern match at Engine.Explorer (line 929, column 22 - line 931, column 31): "+[o.constructor.name])})();return $f(LI(a))(function(i){return lr((function(){if(i instanceof en)return Il("[Explorer] Batch function calls error: "+i.value0);if(i instanceof B)return h2(void 0);throw new Error("Failed pattern match at Engine.Explorer (line 935, column 5 - line 937, column 27): "+[i.constructor.name])})())(function(){var f=(function(){if(i instanceof B)return i.value0;if(i instanceof en)return Rr;throw new Error("Failed pattern match at Engine.Explorer (line 939, column 23 - line 941, column 31): "+[i.constructor.name])})();return lr(Nt(rn(f)(jT)))(function(){return lr(Nt(me("[Explorer] Batch fetched: "+(vt(fv(u))+(" modules with declarations, "+(vt(fv(f))+" function entries"))))))(function(){return Nt(function(){Rj(r)(function(s){return function(){return ZA(u)(Jj)(Kj)(Vj)(s)(),void 0}})();var l=Po(ke(Pl("#explorer-nodes"))(function(s){return ke(Oj("g.module-pack")(s))(function(p){return Rl($R(p))})}))();return ZL(l)("#explorer-zoom-group")(Cf(e))(),Qj(r)(),Nd(Zj)(e)(),Cf(e)()})})})})})})})})})())(),void 0}}};var eQ=function(n){return function(e){return function(t){var r=Le(td)(e);return function(){me("[Explorer] Setting up force-directed tree with "+(vt(X(r))+" links"))(),rn(ie)(t.forces)();var o=gb({distance:0,strength:1,iterations:1});Db(o)(n)(r)(),ge(no("link")(o))(t.forces)();var u=Sd({strength:-50,theta:.9,distanceMin:1,distanceMax:1e10});Er(u)(n)(),ge(no("charge")(u))(t.forces)();var i=Id({x:0,strength:.1});Er(i)(n)(),ge(no("x")(i))(t.forces)();var f=xd({y:0,strength:.1});return Er(f)(n)(),ge(no("y")(f))(t.forces)(),me("[Explorer] Tree forces added (link, charge, x, y)")()}}}};var XT=function(n){return function(e){var t=hb(5)(.7)(1);return function(){Er(t)(n)(),ge(no("collide")(t))(e.forces)();var a=KL(.5);Er(a)(n)(),ge(no("gridX")(a))(e.forces)();var o=YL(.5);return Er(o)(n)(),ge(no("gridY")(o))(e.forces)(),me("[Explorer] Grid forces added")()}}},k2=function(n){return function(e){return function(){return me("[Explorer] Restoring grid forces")(),rn(ie)(e.forces)(),XT(n)(e)()}}},$D=function(n){return function(e){var t=function(a){return a==="GridForm"||a==="GridRun"||a==="OrbitForm"||a==="OrbitRun"},r=(function(){return n==="GridForm"?new m(IN):n==="GridRun"?new m(Wd):n==="OrbitForm"?new m(FN):n==="OrbitRun"?new m(SN):n==="TreeForm"?new m(wN):n==="TreeRun"?new m(CN):v.value})();if(r instanceof m)return function(){return UT(n==="TreeForm")(function(){var u=R(e)(),i=ha(u.simulation)();return Al(),Xj(i)(),OD(!0)()})(),UT(n==="TreeRun")(function(){var u=R(e)(),i=ha(u.simulation)(),f=R(Nl)();return Al(),eQ(i)(f)(u.simulation)(),Gj(i)(f)(),hN(H2)(e)(),OD(!0)()})(),UT(t(n))(function(){var u=R(e)(),i=ha(u.simulation)();return k2(i)(u.simulation)(),Al(),Eb(e)(),OD(!1)()})(),TN(r.value0)(e)()};if(r instanceof v)return me("[Explorer] Unknown scene: "+n);throw new Error("Failed pattern match at Engine.Explorer (line 315, column 3 - line 346, column 63): "+[r.constructor.name])}},q2=function(n){return function(){var t=R(s_)(),r=R(di)();if(r instanceof v)return me("[Explorer] No state ref available")();if(r instanceof m){var a=R(r.value0)();if(t.focusedNodeId instanceof m&&t.focusedNodeId.value0===n.id)return me("[Explorer] Unfocusing from node "+(vt(n.id)+" (via navigateBack)"))(),B2(858)(),void 0;var o=ha(a.simulation)(),u=(function(){var s=rt(t.fullNodes);return s?o:t.fullNodes})(),i=Ll(y2([n.id])(y2(n.targets)(n.sources))),f=Le(function(s){return kf(s.id)(i)})(o);me("[Explorer] Focusing on node "+(vt(n.id)+(" (neighborhood: "+(vt(X(f))+" nodes)"))))(),rn({focusedNodeId:new m(n.id),fullNodes:u})(s_)();var c=R(Ma)();ge(pt(c))(HD)();var l=new Qr(n.name);return rn(l)(Ma)(),nQ(f)(a.simulation)()}throw new Error("Failed pattern match at Engine.Explorer (line 849, column 3 - line 893, column 65): "+[r.constructor.name])}},tQ=function(n){return function(){var t=R(s_)(),r=R(di)();if(r instanceof v)return me("[Explorer] No state ref to restore")();if(r instanceof m){var a=R(r.value0)();if(n instanceof Ar)return rn(n)(Ma)();if(n instanceof bt||n instanceof or||n instanceof ur)return BT(t.fullNodes)(n)(a.simulation)();if(n instanceof Qr)return rn(n)(Ma)();if(n instanceof ca)return rn(n)(Ma)();throw new Error("Failed pattern match at Engine.Explorer (line 1154, column 7 - line 1167, column 50): "+[n.constructor.name])}throw new Error("Failed pattern match at Engine.Explorer (line 1149, column 3 - line 1167, column 50): "+[r.constructor.name])}},BT=function(n){return function(e){return function(t){return function(){Pp(n)(t)(),k2(n)(t)(),Al(),QT(),Po(U2(n))();var a=R(di)();return(function(){if(a instanceof m)return Eb(a.value0)(),Nd(wb(a.value0))(t)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Explorer (line 1189, column 3 - line 1193, column 25): "+[a.constructor.name])})(),rn(e)(Ma)(),rn({focusedNodeId:v.value,fullNodes:[]})(s_)(),Cf(t)(),void 0}}}},U2=function(n){return ke(Pl("#explorer-nodes"))(function(e){return ke(p_(Af.value)(n)([F2(function(t){return t.x}),S2(function(t){return t.y}),x2(function(t){return t.r}),zT(N2),__(P2),I2(1),m_(R2)])(e))(function(t){return Hj(Wj("[Explorer] Reattaching event handlers to circles"))(function(){var r=["highlighted-source","highlighted-upstream","highlighted-downstream","dimmed"];return ke(hu(dT(function(a){return function(){f_("#explorer-nodes")("circle")(r)();var u=Ll(a.targets),i=Ll(a.sources);return WT("#explorer-nodes")("circle")(function(f){var c=f.id===a.id;if(c)return"highlighted-source";var l=kf(f.id)(u);if(l)return"highlighted-upstream";var s=kf(f.id)(i);return s?"highlighted-downstream":"dimmed"})()}}))(t))(function(){return ke(hu(vT(function(a){return function(){return f_("#explorer-nodes")("circle")(r)(),PD()}}))(t))(function(){return ke(hu(qT(O2))(t))(function(){return ke(hu(DT(q2))(t))(function(){return Rl(void 0)})})})})})})})},B2=Sj("navigateBack","Engine.Explorer",function(){return function(){var e=R(HD)(),t=Ou(e);if(t instanceof v)return me("[Explorer] Navigation stack empty, nothing to go back to")(),!1;if(t instanceof m)return me("[Explorer] Navigating back to: "+kj(t.value0.head))(),rn(t.value0.tail)(HD)(),tQ(t.value0.head)(),!0;throw new Error("Failed pattern match at Engine.Explorer (line 1131, column 3 - line 1141, column 16): "+[t.constructor.name])}}),G2=B2(1128);var rQ=function(n){return function(e){return ke(Pl(n))(function(t){return ke(c_(yl.value)([$j(RD(-ya/2)+(" "+(RD(-ba/2)+(" "+(RD(ya)+(" "+RD(ba))))))),l_("explorer-svg"),b2("ce-viz")])(t))(function(r){return ke(c_(wa.value)([l_("explorer-zoom-group")])(r))(function(a){return ke(c_(wa.value)([l_("treemap-watermark"),b2("watermark")])(a))(function(){return ke(c_(wa.value)([l_("explorer-links")])(a))(function(){return ke(c_(wa.value)([l_("explorer-nodes")])(a))(function(o){return ke(p_(Af.value)(e)([F2(function(u){return u.x}),S2(function(u){return u.y}),x2(function(u){return u.r}),zT(N2),__(P2),I2(1),m_(R2)])(o))(function(u){return ke(hu(new uD(zP(new kP(.1,10))("#explorer-zoom-group")))(r))(function(){var i=["highlighted-source","highlighted-upstream","highlighted-downstream","dimmed"];return ke(hu(dT(function(f){return function(){f_("#explorer-nodes")("circle")(i)();var l=Ll(f.targets),s=Ll(f.sources);return WT("#explorer-nodes")("circle")(function(p){var _=p.id===f.id;if(_)return"highlighted-source";var d=kf(p.id)(l);if(d)return"highlighted-upstream";var g=kf(p.id)(s);return g?"highlighted-downstream":"dimmed"})()}}))(u))(function(){return ke(hu(vT(function(f){return function(){return f_("#explorer-nodes")("circle")(i)(),PD()}}))(u))(function(){return ke(hu(qT(O2))(u))(function(){return ke(hu(DT(q2))(u))(function(){return Rl({nodeSel:u})})})})})})})})})})})})})}},V2=function(n){return function(e){return function(){me("[Explorer] Initializing with new Scene Engine")(),rn({projectName:"purescript-d3-dataviz",moduleCount:n.moduleCount,packageCount:n.packageCount})(WD)();var r=OT(n.nodes),a=A2(r)(),o=v_(W2)(a),u=_N(pN)();Pp(o)(u)(),XT(o)(u)();var i=ha(u)();Po(rQ(e)(i))(),HT(n.nodes)();var f=yN(u)(L2),c=zn(f)();return Nd(wb(c))(u)(),Ld(u)(),ge(function(l){return{linksGroupId:l.linksGroupId,nodesGroupId:l.nodesGroupId,simulation:l.simulation,transition:l.transition,currentScene:new m(Wd)}})(c)(),c}}},J2=function(n){var e=new bt(ar.value);return function(){return rn(e)(Ma)(),me("[Explorer] ViewState initialized (Halogen NarrativePanel polls this)")(),Tv(lr(Il("[Explorer] BUILD: 2025-12-03 - Immediate TangleJS init"))(function(){return lr(Il("[Explorer] Loading data..."))(function(){return $f(PI)(function(r){if(r instanceof en)return Nt(me("[Explorer] Error: "+r.value0));if(r instanceof B)return lr(Nt(me("[Explorer] Loaded: "+(vt(r.value0.moduleCount)+(" modules, "+(vt(r.value0.packageCount)+" packages"))))))(function(){return lr(Nt(rn(r.value0.links)(Nl)))(function(){return lr(Nt(rn(r.value0.declarations)(GT)))(function(){return $f(Nt(V2(r.value0)(n)))(function(a){return lr(Nt(rn(new m(a))(di)))(function(){return Nt(me("[Explorer] Ready (function calls loaded on-demand per neighborhood)"))})})})})});throw new Error("Failed pattern match at Engine.Explorer (line 151, column 5 - line 163, column 95): "+[r.constructor.name])})})}))()}},aQ=function(n){return function(e){return function(){me("[Explorer] Updating visualization with new model")(),rn({projectName:"project",moduleCount:n.moduleCount,packageCount:n.packageCount})(WD)();var r=OT(n.nodes),a=A2(r)(),o=v_(W2)(a),u=R(e)();Pp(o)(u.simulation)(),XT(o)(u.simulation)();var i=ha(u.simulation)();return Po(U2(i))(),YR(),HT(n.nodes)(),ge(function(f){return{linksGroupId:f.linksGroupId,nodesGroupId:f.nodesGroupId,simulation:f.simulation,transition:f.transition,currentScene:new m(Wd)}})(e)(),Ld(u.simulation)()}}},z2=function(n){return function(){return me("[Explorer] Reloading with project: "+vt(n))(),rn([])(Nl)(),rn(Rr)(GT)(),rn(Rr)(jT)(),rn([])(HD)(),rn({focusedNodeId:v.value,fullNodes:[]})(s_)(),Al(),OD(!1)(),QT(),Tv(lr(Il("[Explorer] Loading data for project "+(vt(n)+"...")))(function(){return $f(RI(n))(function(t){if(t instanceof en)return Nt(me("[Explorer] Error loading project: "+t.value0));if(t instanceof B)return lr(Nt(me("[Explorer] Loaded: "+(vt(t.value0.moduleCount)+(" modules, "+(vt(t.value0.packageCount)+" packages"))))))(function(){return lr(Nt(rn(t.value0.links)(Nl)))(function(){return lr(Nt(rn(t.value0.declarations)(GT)))(function(){return $f(Nt(R(di)))(function(r){return lr((function(){if(r instanceof v)return $f(Nt(V2(t.value0)("#viz")))(function(a){return Nt(rn(new m(a))(di))});if(r instanceof m)return Nt(aQ(t.value0)(r.value0));throw new Error("Failed pattern match at Engine.Explorer (line 252, column 9 - line 259, column 56): "+[r.constructor.name])})())(function(){return Nt(me("[Explorer] Project switch complete"))})})})})});throw new Error("Failed pattern match at Engine.Explorer (line 242, column 5 - line 261, column 62): "+[t.constructor.name])})}))()}};var uQ=r0();var j2=function(){return function(n){var e=uQ(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(i){return function(f){return r1(new rp(r(a)(o)(u)(i)(function(c){return m.create(f(c))})))}}}}}}}};var mQ=_e(cf);var vQ=Pv();var YT=function(){return function(n){var e=vQ(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return mQ(r(a)(o)(u(void 0)))}}}}}};var DQ=et(tt),Hl=q(Ae),Di=V($c),d_=Su(Hc),dt=DQ($c),D_=Zt(lf),nO=yi(kM),Ol=Fu(Hc),kD=_e(cf),gQ=T(gn),eO={reflectSymbol:function(){return"narrativePanel"}},Y2=YT()(eO)(ql),hQ=yi(Wo(ng()(F_(F_(ZD)()({reflectSymbol:function(){return"name"}})(ht))()({reflectSymbol:function(){return"color"}})(ht)))),yQ=j2()(eO)(ql),tO=(function(){function n(){}return n.value=new n,n})(),rO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),aO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),K2=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Z2=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),oO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),bQ=function(n){if(n instanceof Ar)return"ModuleTreemap";if(n instanceof bt)return"PackageGrid";if(n instanceof or)return"ModuleOrbit";if(n instanceof ur)return"DependencyTree";if(n instanceof Qr)return"Neighborhood("+(n.value0+")");if(n instanceof ca)return"FunctionCalls("+(n.value0+")");throw new Error("Failed pattern match at Component.SpagoGridApp (line 262, column 1 - line 262, column 37): "+[n.constructor.name])},TQ=function(){return G2(),void 0},EQ=function(n){return n instanceof Ar||n instanceof bt||n instanceof or||n instanceof ur?n.value0:ar.value},wQ=function(n){return function(e){return function(t){if(n==="layout"){var r=EQ(t);return e==="grid"?new bt(r):e==="orbit"?new or(r):e==="tree"?new ur(r):t}if(n==="scope"){var r=(function(){var o=e==="project";return o?Wa.value:ar.value})();return t instanceof Ar?new Ar(r):t instanceof bt?new bt(r):t instanceof or?new or(r):t instanceof ur?new ur(r):t}return t}}},CQ=function(n){return function(e){return function(){var r=R(Ma)(),a=wQ(n)(e)(r);rn(a)(Ma)();var o=R(di)();if(o instanceof m)return n==="layout"&&a instanceof bt?$D("GridRun")(o.value0)():n==="layout"&&a instanceof or?$D("OrbitRun")(o.value0)():n==="layout"&&a instanceof ur?$D("TreeRun")(o.value0)():void 0;if(o instanceof v)return void 0;throw new Error("Failed pattern match at Component.SpagoGridApp (line 214, column 3 - line 224, column 25): "+[o.constructor.name])}}},KT=(function(){return Re.value})(),uO=function(n){var e=Rn(Wc(n.MonadEffect0())),t=uf(Yy(n)),r=function(o){return function(u){return o-u*Tn(gm(o/u))}},a=function(o){return function(u){var i=r(Tn(o)*.618033988749895)(1);return{name:"Package "+Hl(o+1|0),color:_s(i)}}};return Di(e(R(Ma)))(function(o){return Di(e(R(WD)))(function(u){return Di(d_)(function(i){return dt(D_(nO(i.viewState)(o))(g_(n)(new rO(o))))(function(){return dt(D_(rt(i.packagePalette)&&u.packageCount>0)((function(){var f=gr(a)(xg(u.packageCount)(void 0));return g_(n)(new aO(f))})()))(function(){return dt(t(Y1(100)))(function(){return uO(n)})})})})})})},g_=function(n){var e=Wc(n.MonadEffect0()),t=Qt(e),r=Rn(e),a=uf(Yy(n));return function(o){if(o instanceof tO)return dt(t("[SpagoGridApp] Initializing..."))(function(){return dt(r(J2("#viz")))(function(){return dt(Ol(function(u){var i={};for(var f in u)({}).hasOwnProperty.call(u,f)&&(i[f]=u[f]);return i.initialized=!0,i}))(function(){return dt(kD(ep(Di(a(NI))(function(u){if(u instanceof B){var i=gQ(function(f){return{id:f.id,name:f.name}})(u.value0);return dt(t("[SpagoGridApp] Loaded "+(Hl(X(u.value0))+" projects")))(function(){return g_(n)(new K2(i))})}if(u instanceof en)return t("[SpagoGridApp] Failed to load projects: "+u.value0);throw new Error("Failed pattern match at Component.SpagoGridApp (line 111, column 7 - line 117, column 66): "+[u.constructor.name])}))))(function(){return kD(ep(uO(n)))})})})});if(o instanceof rO)return Di(d_)(function(u){return D_(nO(u.viewState)(o.value0))(dt(t("[SpagoGridApp] ViewState changed to: "+bQ(o.value0)))(function(){return dt(Ol(function(i){var f={};for(var c in i)({}).hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f.viewState=o.value0,f}))(function(){return dt(t("[SpagoGridApp] Sending SetViewState to NarrativePanel"))(function(){return kD(Y2(KT)(void 0)(_0.create(o.value0)))})})}))});if(o instanceof aO)return Di(d_)(function(u){return D_(hQ(u.packagePalette)(o.value0))(dt(t("[SpagoGridApp] Package palette changed ("+(Hl(X(o.value0))+" packages)")))(function(){return dt(Ol(function(i){var f={};for(var c in i)({}).hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f.packagePalette=o.value0,f}))(function(){return kD(Y2(KT)(void 0)(m0.create(o.value0)))})}))});if(o instanceof K2)return dt(t("[SpagoGridApp] Setting projects in state"))(function(){return Ol(function(u){var i={};for(var f in u)({}).hasOwnProperty.call(u,f)&&(i[f]=u[f]);return i.projects=o.value0,i})});if(o instanceof Z2)return Di(d_)(function(u){return D_(u.projectId!==o.value0)(dt(t("[SpagoGridApp] Switching to project: "+(o.value1+(" (id: "+(Hl(o.value0)+")")))))(function(){return dt(Ol(function(i){var f={};for(var c in i)({}).hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f.projectId=o.value0,f.projectName=o.value1,f.packagePalette=[],f}))(function(){var i=new bt(ar.value);return dt(r(rn(i)(Ma)))(function(){return dt(Ol(function(f){var c={};for(var l in f)({}).hasOwnProperty.call(f,l)&&(c[l]=f[l]);return c.viewState=i,c}))(function(){return r(z2(o.value0))})})})}))});if(o instanceof oO){if(o.value0 instanceof l0)return dt(t("[SpagoGridApp] Control changed: "+(o.value0.value0+(" -> "+o.value0.value1))))(function(){return r(CQ(o.value0.value0)(o.value0.value1))});if(o.value0 instanceof s0)return dt(t("[SpagoGridApp] Back button clicked"))(function(){return r(TQ)});if(o.value0 instanceof p0)return dt(t("[SpagoGridApp] Project selected: "+Hl(o.value0.value0)))(function(){return Di(d_)(function(u){var i=mo(function(f){return f.id===o.value0.value0})(u.projects);if(i instanceof m)return g_(n)(new Z2(o.value0.value0,i.value0.name));if(i instanceof v)return t("[SpagoGridApp] Unknown project ID: "+Hl(o.value0.value0));throw new Error("Failed pattern match at Component.SpagoGridApp (line 171, column 9 - line 173, column 86): "+[i.constructor.name])})});throw new Error("Failed pattern match at Component.SpagoGridApp (line 157, column 5 - line 173, column 86): "+[o.value0.constructor.name])}throw new Error("Failed pattern match at Component.SpagoGridApp (line 100, column 16 - line 173, column 86): "+[o.constructor.name])}},MQ=function(n){var e=$S(n);return function(t){return Qe([$e("explorer-app")])([yQ(KT)(void 0)(e)({viewState:t.viewState,packagePalette:t.packagePalette,projectName:t.projectName,projectId:t.projectId,projects:t.projects})(oO.create),(function(){if(t.error instanceof m)return Qe([_f(["floating-panel","floating-panel--bottom-right","error-message"])])([Ke(t.error.value0)]);if(t.error instanceof v)return Ke("");throw new Error("Failed pattern match at Component.SpagoGridApp (line 89, column 7 - line 93, column 30): "+[t.error.constructor.name])})(),Qe([$v("viz")])([])])}},iO=function(n){return op({initialState:function(e){return{initialized:!1,error:v.value,viewState:new bt(ar.value),packagePalette:[],projectName:WS,projectId:1,projects:[]}},render:MQ(n),eval:ap({handleQuery:ti.handleQuery,receive:ti.receive,finalize:ti.finalize,handleAction:g_(n),initialize:new m(tO.value)})})};var SQ=V(mt),xQ=Rn(cr),IQ=Ue(yt),AQ=ro(yt),LQ=L(kt),NQ=Ue(st),PQ=L(Pn);var fO=function(n){return SQ(xQ(IQ(AQ((function(){var e=Ba(n);return function(t){return e(Io(t))}})())(kr))($r)))(function(e){return LQ(NQ(TT)(e))})},cO=Cv(mr(zu)(H(PQ(void 0))));var qD={suspend:z1,fork:j1,join:js,Monad0:function(){return Nc},Functor1:function(){return eS}};var UD=function(n){return n.fork};var sO=A,eo=A,pO=function(n){var e=Ve(n)(dr);return function(t){return eo(function(r){return e(t)(r.rendering)})}},OQ=A,_O=function(n){return function(e){return eo(function(t){return OQ(e(t.rendering))})}},HQ=A,BD=function(n){return function(e){return n(e)}},mO=function(n){return function(e){return function(t){return function(r){return function(){var o=zn({})(),u=zn(Tc)(),i=zn(Tc)(),f=zn(t)(),c=zn(new m($.value))(),l=zn(new m($.value))(),s=zn(v.value)(),p=zn(1)(),_=zn(new m(ie))(),d=zn(ie)(),g={component:n,state:n.initialState(e),refs:ie,children:Tc,childrenIn:u,childrenOut:i,selfRef:o,handlerRef:f,pendingQueries:c,pendingOuts:l,pendingHandlers:s,rendering:v.value,fresh:p,subscriptions:_,forks:d,lifecycleHandlers:r};return rn(g)(o)(),HQ(o)}}}}};var WQ=Ve(Pn)(dr),$Q=Ue(st),kQ=Tt(Xy),nt=V(mt),Ne=Rn(cr),qQ=et(tt),to=qQ(mt),yO=Ve(kt),UQ=yO(We),bO=UD(qD),BQ=zs(of)(Pc)(We),Ro=L(kt),GQ=T(xh),vO=ni(of),VQ=T(ei),dO=Lc(of),JQ=T(Xn),zQ=at(Xy),jQ=m1(Pc),QQ=yc(Rv),XQ=mw(La),YQ=at(Rv),DO=yO(dr),gO=Tt(Rv),KQ=Tt(ee),ZQ=x1(tS),nX=bc(ee),eX=function(n){return function(e){return function(){var r=R(e)(),a=R(r.subscriptions)();return WQ(Fv)($Q(kQ(n))(a))()}}},GD=function(n){return function(e){return nt(Ne(R(n)))(function(t){if(t instanceof v)return e;if(t instanceof m)return Ne(rn(new m(new Y(e,t.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 188, column 33 - line 190, column 57): "+[t.constructor.name])})}},VD=function(n){return function(e){return to(Ne(rn({initializers:$.value,finalizers:$.value})(n)))(function(){return nt(Ne(e))(function(t){return nt(Ne(R(n)))(function(r){return to(UQ(bO)(r.finalizers))(function(){return to(BQ(r.initializers))(function(){return Ro(t)})})})})})}},qf=Cv(mr(zu)(H(L(Pn)(void 0)))),hO=function(n){return function(e){return nt(Ne(R(e)))(function(t){return Ne(ig(function(r){return{state:r+1|0,value:n(r)}})(t.fresh))})}},nE=function(n){return function(e){return function(t){return nt(Ne(R(e)))(function(r){return gi(n)(e)(r.component.eval(new Gc(GQ(m.create)(jM(t)),H(v.value))))})}}},gi=function(n){return function(e){return function(t){var r=function(o){return function(u){return nt(Ne(R(o)))(function(i){return oS(function(f){var c=function(l){return vO(nt(Ne(R(l)))(function(s){return eo(function(p){return nE(n)(p.selfRef)(f.value1)})(s)}))};return VQ(f.value2)(dO(f.value0(Pc)(c)(i.children)))})(u)})}},a=function(o){return function(u){if(u instanceof Xs)return nt(Ne(R(o)))(function(i){var f=u.value0(i.state);if(ff(i.state)(f.value1))return Ro(f.value0);if(le)return to(Ne(rn({component:i.component,refs:i.refs,children:i.children,childrenIn:i.childrenIn,childrenOut:i.childrenOut,selfRef:i.selfRef,handlerRef:i.handlerRef,pendingQueries:i.pendingQueries,pendingOuts:i.pendingOuts,pendingHandlers:i.pendingHandlers,rendering:i.rendering,fresh:i.fresh,subscriptions:i.subscriptions,forks:i.forks,lifecycleHandlers:i.lifecycleHandlers,state:f.value1})(o)))(function(){return to(VD(i.lifecycleHandlers)(n(i.lifecycleHandlers)(o)))(function(){return Ro(f.value0)})});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[f.constructor.name])});if(u instanceof Sv)return nt(hO(_S)(o))(function(i){return nt(Ne(fS(u.value0(i))(function(f){return qf(eE(n)(o)(new Yi(f)))})))(function(f){return nt(Ne(R(o)))(function(c){return to(Ne(ge(JQ(zQ(i)(f)))(c.subscriptions)))(function(){return Ro(u.value1(i))})})})});if(u instanceof xv)return to(Ne(eX(u.value0)(o)))(function(){return Ro(u.value1)});if(u instanceof Rc)return u.value0;if(u instanceof Ys)return r(o)(u.value0);if(u instanceof Ks)return nt(Ne(R(o)))(function(i){return nt(Ne(R(i.handlerRef)))(function(f){return to(GD(i.pendingOuts)(f(u.value0)))(function(){return Ro(u.value1)})})});if(u instanceof Iv)return dO(jQ(Fy((function(){var i=gi(n)(o);return function(f){return vO(i(f))}})())(u.value0)));if(u instanceof Zs)return nt(hO(mS)(o))(function(i){return nt(Ne(R(o)))(function(f){return nt(Ne(zn(!1)))(function(c){return nt(bO(nS(Ne(function(){return ge(QQ(i))(f.forks)(),rn(!0)(c)()}))(gi(n)(o)(u.value0))))(function(l){return to(Ne(XQ(R(c))(ge(YQ(i)(l))(f.forks))))(function(){return Ro(u.value1(i))})})})})});if(u instanceof Av)return nt(Ne(R(o)))(function(i){return nt(Ne(R(i.forks)))(function(f){return to(DO(js)(gO(u.value0)(f)))(function(){return Ro(u.value1)})})});if(u instanceof Lv)return nt(Ne(R(o)))(function(i){return nt(Ne(R(i.forks)))(function(f){return to(DO(Qs(bo("Cancelled")))(gO(u.value0)(f)))(function(){return Ro(u.value1)})})});if(u instanceof Nv)return nt(Ne(R(o)))(function(i){return Ro(u.value1(KQ(u.value0)(i.refs)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 139, column 33): "+[u.constructor.name])}};return ZQ(a(e))(t)}}},eE=function(n){return function(e){return function(t){if(t instanceof Gh)return Ne(Qn(ge)(e)(BD(function(r){return{component:r.component,state:r.state,children:r.children,childrenIn:r.childrenIn,childrenOut:r.childrenOut,selfRef:r.selfRef,handlerRef:r.handlerRef,pendingQueries:r.pendingQueries,pendingOuts:r.pendingOuts,pendingHandlers:r.pendingHandlers,rendering:r.rendering,fresh:r.fresh,subscriptions:r.subscriptions,forks:r.forks,lifecycleHandlers:r.lifecycleHandlers,refs:nX(H(t.value1))(t.value0)(r.refs)}})));if(t instanceof Yi)return nt(Ne(R(e)))(function(r){return gi(n)(e)(r.component.eval(new Bc(t.value0,void 0)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[t.constructor.name])}}};var rX=V(yt),aX=et(tt),SO=ua(Pn)(dr),xO=Ve(kt)(We),IO=UD(qD),y_=Ue(yt),AO=Ve(Pn),LO=AO(dr),TO=AO(Xi),EO=aX(mt),oX=zs(of)(Pc)(We),h_=Rn(cr),wO=L(Pn),tE=T(Ln),rE=L(kt),aE=Zt(Pn),uX=_O(Ln),iX=_e(ei),CO=cF(Pn),fX=pO(Pn),cX=aa(Cw),lX=Wl(Ln),oE=V(mt),sX=Rn(ue),MO=(function(){return zn({initializers:$.value,finalizers:$.value})})(),FO=function(n){return function(){var t=R(n)();return rn(v.value)(n)(),SO(t)((function(){var r=xO(IO);return function(a){return qf(r(Qu(a)))}})())()}},pX=function(n){return function(){return y_(LO(TO(Fv)))(R(n.subscriptions))(),rn(v.value)(n.subscriptions)(),y_(TO((function(){var t=Qs(bo("finalized"));return function(r){return qf(t(r))}})()))(R(n.forks))(),rn(ie)(n.forks)()}},NO=function(n){return function(e){return function(t){var r=function(l){return function(s){return eo(function(p){var _=gi(u)(p.selfRef)(p.component.eval(new kc(void 0)));return ge(function(d){return{initializers:new Y(EO(oX(Qu(d.initializers)))(function(){return EO(_)(function(){return h_(function(){return FO(p.pendingQueries)(),FO(p.pendingOuts)()})})}),s),finalizers:d.finalizers}})(l)})}},a=function(l){return function(s){return function(p){return t0(function(_){return function(){var g=MO(),D=mO(_)(p)(s)(g)(),b=R(l)();return rn({initializers:$.value,finalizers:b.finalizers})(l)(),y_(eo((function(){var I=u(l);return function(M){return I((function(h){return h.selfRef})(M))}})()))(R(D))(),y_(r(l)(b.initializers))(R(D))(),D}})}}},o=function(l){return function(s){return function(p){return function(_){return e0(function(d){return function(){var D=tE(d.pop)(R(p))(),b=(function(){if(D instanceof m){rn(D.value0.value1)(p)();var M=R(D.value0.value0)();return eo(function(h){return function(){return Qn(rn)(h.handlerRef)((function(){var C=Fe(rE(void 0))(s);return function(P){return C(d.output(P))}})())(),qf(gi(u)(h.selfRef)(h.component.eval(new Uc(d.input,void 0))))()}})(M)(),D.value0.value0}if(D instanceof v)return a(l)((function(){var h=Fe(rE(void 0))(s);return function(y){return h(d.output(y))}})())(d.input)(d.component)();throw new Error("Failed pattern match at Halogen.Aff.Driver (line 213, column 14 - line 222, column 98): "+[D.constructor.name])})(),I=tE(function(M){return Vl(d.get(M))})(R(_))();return aE(I)(hs("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),ge(d.set(b))(_)(),rX(R(b))(uX(function(M){if(M instanceof v)return bF("Halogen internal error: child was not initialized in renderChild");if(M instanceof m)return wO(n.renderChild(M.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 227, column 37 - line 229, column 50): "+[M.constructor.name])}))()}})}}}},u=function(l){return function(s){return function(){var _=R(s)(),d=tE(Iu)(R(_.pendingHandlers))();aE(d)(rn(new m($.value))(_.pendingHandlers))(),rn(Tc)(_.childrenOut)(),rn(_.children)(_.childrenIn)();var g=(function(){var h=GD(_.pendingHandlers),y=eE(u)(_.selfRef);return function(C){return h(iX(y(C)))}})(),D=(function(){var h=GD(_.pendingQueries);return function(y){return h(g(Yi.create(y)))}})(),b=n.render(function(h){return qf(g(h))})(o(l)(D)(_.childrenIn)(_.childrenOut))(_.component.render(_.state))(_.rendering)(),I=R(_.childrenOut)(),M=R(_.childrenIn)();return CO(M)(function(h){return function(){var C=R(h)();return fX(n.removeChild)(C)(),i(l)(C)()}})(),Qn(ge)(_.selfRef)(BD(function(h){return{component:h.component,state:h.state,refs:h.refs,childrenIn:h.childrenIn,childrenOut:h.childrenOut,selfRef:h.selfRef,handlerRef:h.handlerRef,pendingQueries:h.pendingQueries,pendingOuts:h.pendingOuts,pendingHandlers:h.pendingHandlers,fresh:h.fresh,subscriptions:h.subscriptions,forks:h.forks,lifecycleHandlers:h.lifecycleHandlers,rendering:new m(b),children:I}}))(),aE(d)(Qn(cX)(void 0)(function(h){return function(){var C=R(_.pendingHandlers)();rn(new m($.value))(_.pendingHandlers)(),LO((function(){var sn=xO(IO);return function(U){return qf(sn(Qu(U)))}})())(C)();var P=R(_.pendingHandlers)(),k=Fe(!1)(MF)(P);return k?lX(rn(v.value)(_.pendingHandlers))(new xt(void 0))():new Ot(void 0)}}))()}}},i=function(l){return eo(function(s){return function(){pX(s)();var _=gi(u)(s.selfRef)(s.component.eval(new qc(void 0)));return ge(function(d){return{initializers:d.initializers,finalizers:new Y(_,d.finalizers)}})(l)(),CO(s.children)(function(d){return function(){var D=R(d)();return i(l)(D)()}})()}})},f=function(l){return function(s){return function(p){return oE(h_(R(l)))(function(_){return _?rE(v.value):nE(u)(s)(p)})}}},c=function(l){return function(s){return function(p){return VD(s)(function(){var d=R(l)();return d?void 0:(rn(!0)(l)(),i(s)(p)(),eo(function(g){return function(){var b=sX(R(g.selfRef))();return SO(b.rendering)(n.dispose)()}})(p)())})}}};return oE(h_(MO))(function(l){return oE(h_(zn(!1)))(function(s){return VD(l)(function(){var _=lS(),d=y_(R)(a(l)((function(){var g=cS(_.listener);return function(D){return h_(g(D))}})())(t)(e))();return eo(function(g){return wO({query:f(s)(g.selfRef),messages:_.emitter,dispose:c(s)(l)(d)})})(d)()})})})}}};var uE=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},iE=_e(Ln),mX=L(Pn),vX=Ve(Pn)(dr),dX=Ht(),DX=Zt(Pn),gX=Cu(ug(ug(uo))),hX=Dn(yn),yX=V(mt),bX=Rn(cr),TX=T(Ln),EX=Ue(yt);var wX=function(n){return function(e){return function(t){return e instanceof m&&t instanceof m?iE(yT(n)(e.value0)(t.value0)):e instanceof v&&t instanceof m?iE(gu(n)(t.value0)):mX(void 0)}}},PO=function(n){return function(){var t=bl(n.node)();return vX(function(r){return Pf(n.node)(r)})(t)()}},CX=function(n){return function(e){return function(t){var r=sO(function(i){return i.node}),a=function(i){return i instanceof m?Nr(i.value0):void 0},o=function(i){var f=DS(dX)(i),c=uE("patch","Halogen.VDom.Driver",function(){return function(g,D){if(g instanceof m){if(D instanceof rp)return Nr(g.value0),s(100)(D.value0);if(D instanceof Hv){var b=Lr(g.value0,D.value0);return je(new ze(Xt(b),new m(b),c(103),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 97, column 22 - line 103, column 79): "+[D.constructor.name])}return l(104)(D)}}),l=uE("render","Halogen.VDom.Driver",function(){return function(g){if(g instanceof rp)return s(86)(g.value0);if(g instanceof Hv){var D=f(g.value0);return je(new ze(Xt(D),new m(D),c(89),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 84, column 7 - line 89, column 75): "+[g.constructor.name])}}),s=uE("renderComponentSlot","Halogen.VDom.Driver",function(){return function(g){var D=R(e)(),b=D(g)(),I=r(b);return je(new ze(I,v.value,c(117),a))}}),p=c(91),_=l(82),d=s(109);return _},u=ZF(n);return{buildWidget:o,buildAttributes:u,document:t}}}},MX=function(n){return function(e){var t=function(r){return function(a){return function(o){return function(u){if(u instanceof v)return function(){var f=zn(a)(),c=CX(r)(f)(n),l=Hs(c)(o),s=Xt(l);return iE(gu(s)(dR(e)))(),{machine:l,node:s,renderChildRef:f}};if(u instanceof m)return function(){rn(a)(u.value0.renderChildRef)();var f=bl(u.value0.node)(),c=sR(u.value0.node)(),l=Lr(u.value0.machine,o),s=Xt(l);return DX(gX(ff)(u.value0.node)(s))(wX(s)(c)(f))(),{machine:l,node:s,renderChildRef:u.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 157, column 5 - line 173, column 80): "+[u.constructor.name])}}}};return{render:t,renderChild:hX,removeChild:PO,dispose:PO}}},RO=function(n){return function(e){return function(t){return yX(bX(TX(Qp)(EX(kr)($r))))(function(r){return NO(MX(r)(t))(n)(e)})}}};var SX=et(tt),OO=V(mt),HO=Rn(cr),xX=SX(mt),IX=iO(rS),AX=L(kt),WO=function(){return yo("[Main] Starting with Halogen wrapper around SpagoGridTest...")(),yo("[Main] IMPORTANT: Using selectElement to mount into #app (not body)")(),m2(_2)(),yo("[Main] Tooltip configured with floating panel theme")(),cO(OO(fO("#app"))(function(e){if(e instanceof v)return HO(yo("[Main] ERROR: Could not find #app element!"));if(e instanceof m)return xX(HO(yo("[Main] Found #app, mounting Halogen...")))(function(){return OO(RO(IX)(void 0)(e.value0))(function(){return AX(void 0)})});throw new Error("Failed pattern match at Main (line 27, column 5 - line 32, column 18): "+[e.constructor.name])}))()};WO();})();
