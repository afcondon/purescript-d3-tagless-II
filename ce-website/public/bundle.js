/* Generated by Spago v0.93.44 */
(()=>{var bE=function(n){return function(e){for(var t=n.length,r=e.length,a=new Array(t*r),o=0,u=0;u<t;u++)for(var i=n[u],f=0;f<r;f++)a[o++]=i(e[f]);return a}};var P_={compose:function(n){return function(e){return function(t){return n(e(t))}}}};var Dn=function(n){return n.identity},yn={identity:function(n){return n},Semigroupoid0:function(){return P_}};var pe=!0;var ng=function(n){return function(e){return function(t){return function(r){return n(e(t))(e(r))}}}},Qn=function(n){return function(e){return function(t){return n(t)(e)}}},H=function(n){return function(e){return n}};var TE=function(n){return function(e){return e(n)}};var EE=function(n){return function(e){for(var t=e.length,r=new Array(t),a=0;a<t;a++)r[a]=n(e[a]);return r}};var Oe=(function(){function n(){}return n.value=new n,n})();var T=function(n){return n.map},Fr=function(n){var e=T(n);return function(t){return function(r){return e(r)(t)}}},ce=function(n){return T(n)(H(void 0))},jl=function(n){var e=T(n);return function(t){return function(r){return e(H(r))(t)}}};var gn={map:EE};var ZO=Dn(yn);var O_={apply:bE,Functor0:function(){return gn}},Zn=function(n){return n.apply};var Xf=function(n){var e=Zn(n),t=T(n.Functor0());return function(r){return function(a){return e(t(H(ZO))(r))(a)}}},Rt=function(n){var e=Zn(n),t=T(n.Functor0());return function(r){return function(a){return function(o){return e(t(r)(a))(o)}}}};var L=function(n){return n.pure},Ei=function(n){var e=L(n);return function(t){return function(r){if(!t)return r;if(t)return e(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}},ar=function(n){var e=L(n);return function(t){return function(r){if(t)return r;if(!t)return e(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[t.constructor.name,r.constructor.name])}}},Ql=function(n){var e=Zn(n.Apply0()),t=L(n);return function(r){return function(a){return e(t(r))(a)}}};var CE=typeof Array.prototype.flatMap=="function"?function(n){return function(e){return n.flatMap(e)}}:function(n){return function(e){for(var t=[],r=n.length,a=0;a<r;a++)for(var o=e(n[a]),u=o.length,i=0;i<u;i++)t.push(o[i]);return t}};var tH=Dn(yn),at=function(n){return n.discard};var wu={bind:CE,Apply0:function(){return O_}},V=function(n){return n.bind},Ue=function(n){return Qn(V(n))},io=function(n){var e=Ue(n);return function(t){return function(r){return function(a){return e(t)(r(a))}}}};var ot={discard:function(n){return V(n)}};var H_=function(n){var e=V(n);return function(t){return e(t)(tH)}};var rH=Number.POSITIVE_INFINITY,aH=Number.NEGATIVE_INFINITY;var W_=function(n){return function(e){return function(t){return function(r){return function(a){return r<a?n:r===a?e:t}}}}};var ME=W_,FE=W_,SE=W_,xE=W_;var Xl=function(n){return function(e){return n===e}},IE=Xl,AE=Xl,LE=Xl,NE=Xl,PE=Xl,RE=function(n){return function(e){return function(t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r])(t[r]))return!1;return!0}}};var st=function(n){return n.reflectSymbol};var fo=function(n){return function(e){return e[n]}},ko=function(n){return function(e){return function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r[n]=e,r}}};var tg={eq:function(n){return function(e){return!0}}},yt={eq:PE},rg={eqRecord:function(n){return function(e){return function(t){return!0}}}},OE=function(n){return n.eqRecord},ag=function(){return function(n){return{eq:OE(n)(Oe.value)}}};var og={eq:LE},Yf={eq:AE},HE={eq:NE},WE={eq:IE};var tn=function(n){return n.eq},lH=tn(WE),qo=function(n){return{eq:RE(tn(n))}};var $_=function(n){var e=OE(n);return function(){return function(t){var r=st(t);return function(a){var o=tn(a);return{eqRecord:function(u){return function(i){return function(f){var c=e(Oe.value)(i)(f),l=r(Oe.value),s=fo(l);return o(s(i))(s(f))&&c}}}}}}}},wi=function(n){var e=tn(n);return function(t){return function(r){return lH(e(t)(r))(!1)}}};var Z=(function(){function n(){}return n.value=new n,n})(),K=(function(){function n(){}return n.value=new n,n})(),vn=(function(){function n(){}return n.value=new n,n})();var Cu={eq:function(n){return function(e){return n instanceof Z&&e instanceof Z||n instanceof K&&e instanceof K||n instanceof vn&&e instanceof vn}}};var $E=function(n){return function(e){return n-e|0}};var kE=function(n){return function(e){return n+e|0}},qE=function(n){return function(e){return n*e|0}},UE=function(n){return function(e){return n+e}},BE=function(n){return function(e){return n*e}};var ug={add:UE,zero:0,mul:BE,one:1},k_={add:kE,zero:0,mul:qE,one:1};var ra=function(n){return n.add};var ig={sub:$E,Semiring0:function(){return k_}};var Yl={compare:function(n){return function(e){return vn.value}},Eq0:function(){return tg}},ee=(function(){return{compare:SE(Z.value)(vn.value)(K.value),Eq0:function(){return yt}}})();var pt=(function(){return{compare:FE(Z.value)(vn.value)(K.value),Eq0:function(){return og}}})(),An=(function(){return{compare:ME(Z.value)(vn.value)(K.value),Eq0:function(){return Yf}}})(),q_=(function(){return{compare:xE(Z.value)(vn.value)(K.value),Eq0:function(){return HE}}})();var on=function(n){return n.compare};var Kl=function(n){var e=on(n);return function(t){return function(r){return function(a){return e(t(r))(t(a))}}}};var Bo=function(n){var e=on(n);return function(t){return function(r){var a=e(t)(r);if(a instanceof Z)return r;if(a instanceof vn||a instanceof K)return t;throw new Error("Failed pattern match at Data.Ord (line 181, column 3 - line 184, column 12): "+[a.constructor.name])}}},Su=function(n){var e=on(n);return function(t){return function(r){var a=e(t)(r);if(a instanceof Z||a instanceof vn)return t;if(a instanceof K)return r;throw new Error("Failed pattern match at Data.Ord (line 172, column 3 - line 175, column 12): "+[a.constructor.name])}}};var Aa=function(n){return n.top};var U_={top:2147483647,bottom:-2147483648,Ord0:function(){return An}},Ci={top:"\uFFFF",bottom:"\0",Ord0:function(){return q_}};var La=function(n){return n.bottom};var VE=function(n){return n.toString()},JE=function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"};var zE=function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,function(t,r){switch(t){case'"':case"\\":return"\\"+t;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var a=r+1,o=a<e&&n[a]>="0"&&n[a]<="9"?"\\&":"";return"\\"+t.charCodeAt(0).toString(10)+o})+'"'};var Sr={show:zE};var or={show:JE},Ae={show:VE};var Zf={show:function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[n.constructor.name])}},q=function(n){return n.show};var QE=function(n){return function(e){return n&&e}},XE=function(n){return function(e){return n||e}},YE=function(n){return!n};var Zl=function(n){return n.tt};var xu=function(n){return n.not};var cg=function(n){return n.implies};var ec=function(n){return n.ff};var Mi=function(n){return n.disj},lo={ff:!1,tt:!0,implies:function(n){return function(e){return Mi(lo)(xu(lo)(n))(e)}},conj:QE,disj:XE,not:YE};var ns=function(n){return n.conj},lg=function(n){var e=ec(n),t=Zl(n),r=cg(n),a=ns(n),o=Mi(n),u=xu(n);return{ff:function(i){return e},tt:function(i){return t},implies:function(i){return function(f){return function(c){return r(i(c))(f(c))}}},conj:function(i){return function(f){return function(c){return a(i(c))(f(c))}}},disj:function(i){return function(f){return function(c){return o(i(c))(f(c))}}},not:function(i){return function(f){return u(i(f))}}}};var KE=function(n){return Math.min(Math.abs(n),2147483647)},ZE=function(n){return function(e){return e===0?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},nw=function(n){return function(e){if(e===0)return 0;var t=Math.abs(e);return(n%t+t)%t}};var ew={Ring0:function(){return ig}};var ur=function(n){return n.mod};var St={degree:KE,div:ZE,mod:nw,CommutativeRing0:function(){return ew}},po=function(n){return n.div};var rw=function(n){return function(e){return n.length===0?e:e.length===0?n:n.concat(e)}};var de={append:rw};var Q=function(n){return n.append};var fe=function(n){return n.mempty};var S=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),B_=function(n){return function(e){return n(e.value0)(e.value1)}};var ge=function(n){return n.value1};var Iu={map:function(n){return function(e){return new S(e.value0,n(e.value1))}}};var Fe=function(n){return n.value0};var ow=function(n){var e=tn(n);return function(t){var r=tn(t);return{eq:function(a){return function(o){return e(a.value0)(o.value0)&&r(a.value1)(o.value1)}}}}},Si=function(n){var e=on(n),t=ow(n.Eq0());return function(r){var a=on(r),o=t(r.Eq0());return{compare:function(u){return function(i){var f=e(u.value0)(i.value0);return f instanceof Z?Z.value:f instanceof K?K.value:a(u.value1)(i.value1)}},Eq0:function(){return o}}}};var mo=function(n){return n.state};var Au=function(n){var e=mo(n);return function(t){return e(function(r){return new S(void 0,t(r))})}};var Lu=function(n){return mo(n)(function(e){return new S(e,e)})};var uw=function(n,e){for(var t=n>e?-1:1,r=new Array(t*(e-n)+1),a=n,o=0;a!==e;)r[o++]=a,a+=t;return r[o]=a,r},xH=function(n,e){if(n<1)return[];var t=new Array(n);return t.fill(e)},IH=function(n,e){for(var t=[],r=0,a=0;a<n;a++)t[r++]=e;return t},iw=typeof Array.prototype.fill=="function"?xH:IH,fw=(function(){function n(a,o){this.head=a,this.tail=o}var e={};function t(a){return function(o){return new n(a,o)}}function r(a){for(var o=[],u=0,i=a;i!==e;)o[u++]=i.head,i=i.tail;return o}return function(a,o){return r(a(t)(e)(o))}})(),X=function(n){return n.length},cw=function(n,e,t){return t.length===0?n({}):e(t[0])(t.slice(1))},lw=function(n,e,t,r){return r<0||r>=t.length?e:n(t[r])};var sw=function(n,e,t,r){for(var a=0,o=r.length;a<o;a++)if(t(r[a]))return n(a);return e};var pw=function(n,e,t,r,a){if(t<0||t>a.length)return e;var o=a.slice();return o.splice(t,0,r),n(o)},_w=function(n,e,t,r){if(t<0||t>=r.length)return e;var a=r.slice();return a.splice(t,1),n(a)};var Na=function(n){return n.slice().reverse()},xi=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var e=[],t=0,r=n.length;t<r;t++)for(var a=n[t],o=0,u=a.length;o<u;o++)e.push(a[o]);return e},mw=function(n,e){return e.filter(n)},vw=function(n,e){for(var t=[],r=[],a=0;a<e.length;a++){var o=e[a];n(o)?t.push(o):r.push(o)}return{yes:t,no:r}};var dw=(function(){function n(e,t,r,a,o,u){var i,f,c,l,s,p,_;for(i=o+(u-o>>1),i-o>1&&n(e,t,a,r,o,i),u-i>1&&n(e,t,a,r,i,u),f=o,c=i,l=o;f<i&&c<u;)s=a[f],p=a[c],_=t(e(s)(p)),_>0?(r[l++]=p,++c):(r[l++]=s,++f);for(;f<i;)r[l++]=a[f++];for(;c<u;)r[l++]=a[c++]}return function(e,t,r){var a;return r.length<2?r:(a=r.slice(0),n(e,t,a,r.slice(0),0,r.length),a)}})(),Dw=function(n,e,t){return t.slice(n,e)},gw=function(n,e,t){for(var r=e.length<t.length?e.length:t.length,a=new Array(r),o=0;o<r;o++)a[o]=n(e[o])(t[o]);return a},hw=function(n,e){for(var t=e.length,r=0;r<t;r++)if(n(e[r]))return!0;return!1},yw=function(n,e){for(var t=e.length,r=0;r<t;r++)if(!n(e[r]))return!1;return!0},bw=function(n,e){return n[e]};var xt=function(n){return n.alt};var Ew=function(n){var e=V(n.Bind1()),t=Ei(n.Applicative0());return function(r){return function(a){return e(r)(function(o){return t(o)(a)})}}};var ir=function(n){var e=V(n.Bind1()),t=L(n.Applicative0());return function(r){return function(a){return e(r)(function(o){return e(a)(function(u){return t(o(u))})})}}};var LH=Dn(yn),v=(function(){function n(){}return n.value=new n,n})(),m=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Se=function(n){return function(e){return function(t){if(t instanceof v)return n;if(t instanceof m)return e(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},Pu=Se(!0)(H(!1)),es=Se(!1)(H(!0));var Xn={map:function(n){return function(e){return e instanceof m?new m(n(e.value0)):v.value}}},NH=T(Xn);var In=function(n){return Se(n)(LH)},Pa=function(){return function(n){if(n instanceof m)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}};var Ru=function(n){var e=tn(n);return{eq:function(t){return function(r){return t instanceof v&&r instanceof v?!0:t instanceof m&&r instanceof m?e(t.value0)(r.value0):!1}}}};var vo={apply:function(n){return function(e){if(n instanceof m)return NH(n.value0)(e);if(n instanceof v)return v.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return Xn}};var _t={bind:function(n){return function(e){if(n instanceof m)return e(n.value0);if(n instanceof v)return v.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,e.constructor.name])}},Apply0:function(){return vo}};var aa=(function(){return{pure:m.create,Apply0:function(){return vo}}})();var en=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),B=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var tc=function(n){return Se(new en(n))(B.create)};var Jo={map:function(n){return function(e){if(e instanceof en)return new en(e.value0);if(e instanceof B)return new B(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},PH=T(Jo);var Dr=function(n){return function(e){return function(t){if(t instanceof en)return n(t.value0);if(t instanceof B)return e(t.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}};var J_={apply:function(n){return function(e){if(n instanceof en)return new en(n.value0);if(n instanceof B)return PH(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return Jo}};var rc={bind:Dr(function(n){return function(e){return new en(n)}})(function(n){return function(e){return e(n)}}),Apply0:function(){return J_}};var ac=(function(){return{pure:B.create,Apply0:function(){return J_}}})();var zo=function(n){return n};var ts={map:function(n){return function(e){return n(e)}}};var Cw={apply:function(n){return function(e){return n(e)}},Functor0:function(){return ts}},RH={bind:function(n){return function(e){return e(n)}},Apply0:function(){return Cw}},OH={pure:zo,Apply0:function(){return Cw}},jo={Applicative0:function(){return OH},Bind1:function(){return RH}};var Mw=function(n){return function(){return n}},Fw=function(n){return function(e){return function(){return e(n())()}}};var Sw=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},Ra={Applicative0:function(){return Rn},Bind1:function(){return bt}},bt={bind:Fw,Apply0:function(){return Iw(0)}},Rn={pure:Mw,Apply0:function(){return Iw(0)}},xw=Sw("functorEffect","Effect",function(){return{map:Ql(Rn)}}),Iw=Sw("applyEffect","Effect",function(){return{apply:ir(Ra),Functor0:function(){return xw(0)}}}),Ln=xw(20);var Aw=function(n){return function(){return{value:n}}};var R=function(n){return function(){return n.value}},Lw=function(n){return function(e){return function(){var t=n(e.value);return e.value=t.state,t.value}}},rn=function(n){return function(e){return function(){e.value=n}}};var $H=ce(Ln),zn=Aw,sg=Lw,Nw=function(n){return sg(function(e){var t=n(e);return{state:t,value:t}})},he=function(n){return function(e){return $H(Nw(n)(e))}};var BH=Ue(bt),GH=T(Ln),Ht=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),It=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ia=function(n){return n.tailRecM};var Pw={tailRecM:function(n){return function(e){var t=function(r){if(r instanceof It)return r.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 137, column 30 - line 137, column 44): "+[r.constructor.name])};return function(){var a=BH(zn)(n(e))();return(function(){for(;!(function(){var u=R(a)();if(u instanceof Ht){var i=n(u.value0)();return rn(i)(a)(),!1}if(u instanceof It)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 128, column 22 - line 133, column 28): "+[u.constructor.name])})(););return{}})(),GH(t)(R(a))()}}},Monad0:function(){return Ra}};var Rw=function(n){return function(e){return function(){return n(e())}}},Ow=function(n){return function(){return n}},Hw=function(n){return function(e){return function(){return e(n())()}}};var rs=function(n){return function(e){return function(){for(var t=0,r=n.length;t<r;t++)e(n[t])()}}};var jH=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var Ii={map:Rw};var _g={Applicative0:function(){return z_},Bind1:function(){return mg}},mg={bind:Hw,Apply0:function(){return qw(0)}},z_={pure:Ow,Apply0:function(){return qw(0)}},qw=jH("applyST","Control.Monad.ST.Internal",function(){return{apply:ir(_g),Functor0:function(){return Ii}}});function Uw(n){return n}var Bw=Uw,Gw=Uw;function QH(n){return n.slice()}var Vw=QH;var Jw=function(n,e){return e.push(n)};var os=function(e){return function(t){return function(){return e(t)}}},vg=function(e){return function(t){return function(r){return function(){return e(t,r)}}}};var zw=os(Gw),j_=os(Bw);var e3=os(Vw),jw=function(n){return function(e){return function(){var r=e3(e)();return n(r)(),j_(r)()}}};var Q_=vg(Jw);var Xw=function(n){return function(e){return function(t){for(var r=e,a=t.length,o=a-1;o>=0;o--)r=n(t[o])(r);return r}}},Yw=function(n){return function(e){return function(t){for(var r=e,a=t.length,o=0;o<a;o++)r=n(r)(t[o]);return r}}};var gr=function(n){return n.empty};var u3=Dn(yn),Do=function(n){return n.bimap};var Ai=function(n){var e=Do(n);return function(t){return e(t)(u3)}};var oc={bimap:function(n){return function(e){return function(t){if(t instanceof en)return new en(n(t.value0));if(t instanceof B)return new B(e(t.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 38, column 1 - line 40, column 36): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}}};var Z_=function(n){return n};var p3=function(n){var e=Mi(n);return{append:function(t){return function(r){return e(t)(r)}}}};var hg=function(n){var e=p3(n);return{mempty:ec(n),Semigroup0:function(){return e}}};var A=function(n){return n};var ic=function(){return A};var eC=ic();var Wt=function(){return eC};var yg=function(){return function(){return function(){return function(){return function(n){return eC}}}}};var rC=tn(Cu);var D3=yg()()()(),He=function(n){return n.foldr};var Ve=function(n){var e=Xf(n.Apply0()),t=L(n);return function(r){var a=He(r);return function(o){return a(function(u){return e(o(u))})(t(void 0))}}},ca=function(n){var e=Ve(n);return function(t){return Qn(e(t))}};var Yn=function(n){return n.foldl};var aC=function(n){var e=Yn(n);return function(t){var r=function(a){return function(o){if(a instanceof v)return new m(o);if(a instanceof m)return new m((function(){var u=rC(t(a.value0)(o))(K.value);return u?a.value0:o})());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(v.value)}},is=function(n){var e=on(n);return function(t){return aC(t)(e)}},rm=function(n){var e=Yn(n);return function(t){var r=function(a){return function(o){if(a instanceof v)return new m(o);if(a instanceof m)return new m((function(){var u=rC(t(a.value0)(o))(Z.value);return u?a.value0:o})());throw new Error("Failed pattern match at Data.Foldable (line 454, column 3 - line 454, column 27): "+[a.constructor.name,o.constructor.name])}};return e(r)(v.value)}},Tg=function(n){var e=on(n);return function(t){return rm(t)(e)}};var hr={foldr:function(n){return function(e){return function(t){if(t instanceof v)return e;if(t instanceof m)return n(t.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},foldl:function(n){return function(e){return function(t){if(t instanceof v)return e;if(t instanceof m)return n(e)(t.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,e.constructor.name,t.constructor.name])}}},foldMap:function(n){var e=fe(n);return function(t){return function(r){if(r instanceof v)return e;if(r instanceof m)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var oC=function(n){var e=He(n);return function(t){var r=Q(t.Semigroup0()),a=fe(t);return function(o){return e(function(u){return function(i){return r(o(u))(i)}})(a)}}},cn={foldr:Xw,foldl:Yw,foldMap:function(n){return oC(cn)(n)}};var zt=function(n){return n.foldMap};var fc=function(n){var e=zt(n);return function(t){return D3(Z_)(e(hg(t)))}};var la=function(n){return function(e){return function(t){return n(e,t)}}},Wu=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},Li=function(n){return function(e){return function(t){return function(r){return function(a){return n(e,t,r,a)}}}}},Eg=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){return n(e,t,r,a,o)}}}}}};var uC=function(n){return function(e){for(var t=e.length,r=Array(t),a=0;a<t;a++)r[a]=n(a)(e[a]);return r}};var $u=function(n){return n.mapWithIndex};var Ni={mapWithIndex:uC,Functor0:function(){return gn}};var lC=(function(){function n(a){return[a]}function e(a){return function(o){return[a,o]}}function t(a){return function(o){return function(u){return[a,o,u]}}}function r(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(u){return function(i){return function(f){function c(l,s){switch(s-l){case 0:return u([]);case 1:return o(n)(i(f[l]));case 2:return a(o(e)(i(f[l])))(i(f[l+1]));case 3:return a(a(o(t)(i(f[l])))(i(f[l+1])))(i(f[l+2]));default:var p=l+Math.floor((s-l)/4)*2;return a(o(r)(c(l,p)))(c(p,s))}}return c(0,f.length)}}}}}})();var sc=function(n){return n};var N3={map:function(n){return function(e){return function(t){var r=sc(e)(t);return{accum:r.accum,value:n(r.value)}}}}};var P3={apply:function(n){return function(e){return function(t){var r=sc(n)(t),a=sc(e)(r.accum);return{accum:a.accum,value:r.value(a.value)}}}},Functor0:function(){return N3}};var Fg={pure:function(n){return function(e){return{accum:e,value:n}}},Apply0:function(){return P3}};var Z3=Dn(yn),We=function(n){return n.traverse};var TC=function(n){var e=We(n);return function(t){return e(t)(Z3)}},Jr={traverse:function(n){var e=n.Apply0();return lC(Zn(e))(T(e.Functor0()))(L(n))},sequence:function(n){return TC(Jr)(n)},Functor0:function(){return gn},Foldable1:function(){return cn}},Pi=function(n){return n.sequence};var nW=function(n){var e=We(n)(Fg);return function(t){return function(r){return function(a){return sc(e(function(o){return function(u){return t(u)(o)}})(a))(r)}}}},im=function(n){var e=nW(n);return function(t){return function(r){return function(a){return e(function(o){return function(u){var i=t(o)(u);return{accum:i,value:i}}})(r)(a).value}}}};var EC=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);if(n(f))return u;var c=e(f);u.push(t(c)),i=r(c)}}}}}}};var wC=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){for(var u=[],i=o;;){var f=a(i);u.push(t(f));var c=r(f);if(n(c))return u;i=e(c)}}}}}}};var cW=Pa();var Ig={unfoldr1:wC(Pu)(cW)(Fe)(ge)};var sW=Pa(),Oa=function(n){return n.unfoldr};var zr={unfoldr:EC(Pu)(sW)(Fe)(ge),Unfoldable10:function(){return Ig}};var pW=ce(Ii);var _W=T(Xn),mW=T(gn),vW=T(Ii),FC=Pa(),dW=ar(z_),DW=wi(Cu);var gW=Q(de);var xr=Wu(gw);var Ri=function(){return la(bw)},SC=Ri(),ku=(function(){return Wu(cw)(H(v.value))(function(n){return function(e){return new m({head:n,tail:e})}})})(),Ag=function(n){var e=Oa(n);return function(t){var r=X(t),a=function(o){if(o<r)return new m(new S(SC(t)(o),o+1|0));if(pe)return v.value;throw new Error("Failed pattern match at Data.Array (line 163, column 3 - line 165, column 26): "+[o.constructor.name])};return e(a)(0)}};var go=function(n){return Wu(dw)(n)(function(e){if(e instanceof K)return 1;if(e instanceof vn)return 0;if(e instanceof Z)return-1;throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[e.constructor.name])})},Qo=function(n){var e=Kl(n);return function(t){return go(e(t))}},hW=Qo(An);var jr=function(n){return function(e){return jw(Q_(e))(n)()}},Oi=Wu(Dw);var Lg=function(n){return function(e){var t=n<1;return t?[]:Oi(0)(n)(e)}},cm=function(n){return[n]};var Ng=la(iw),Xo=la(uw),Pg=la(vw),Ze=function(n){return X(n)===0};var br=$u(Ni);var Rg=(function(){return Eg(pw)(m.create)(v.value)})();var oe=(function(){return Li(lw)(m.create)(v.value)})(),Hi=function(n){return oe(n)(X(n)-1|0)};var jt=function(n){return oe(n)(0)},xC=function(n){return function(e){var t=go(function(a){return function(o){return n(ge(a))(ge(o))}})(br(S.create)(e)),r=jt(t);if(r instanceof v)return[];if(r instanceof m)return mW(ge)(hW(Fe)((function(){var o=zw(cm(r.value0))();return rs(t)(function(u){return function(){var f=vW((function(){var c=function(l){return FC(Hi(l))};return function(l){return ge(c(l))}})())(j_(o))();return dW(DW(n(f)(u.value1))(vn.value))(pW(Q_(u)(o)))()}})(),j_(o)()})()));throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): "+[r.constructor.name])}},ss=function(n){return xC(on(n))};var Qr=function(n){return la(fw)(He(n))};var Ha=Yn(cn);var Wi=(function(){return Li(sw)(m.create)(v.value)})(),ho=function(n){return function(e){return _W(SC(e))(Wi(n)(e))}},Le=la(mw);var Og=function(n){var e=tn(n);return function(t){return Wi(function(r){return e(r)(t)})}};var lm=function(n){return function(e){var t=n<1;return t?e:Oi(n)(X(e))(e)}};var ps=(function(){return Li(_w)(m.create)(v.value)})(),Hg=function(n){return function(e){return function(t){return t.length===0?[]:Se(t)(function(r){return FC(ps(r)(t))})(Wi(n(e))(t))}}};var mt=function(n){return function(e){return gW([n])(e)}};var Wg=Qn(V(wu)),Ee=function(n){return Wg((function(){var e=Se([])(cm);return function(t){return e(n(t))}})())};var sm=la(hw);var $g=la(yw);function $i(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function kg(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function pm(n){let e,t,r;n.length!==2?(e=$i,t=(i,f)=>$i(n(i),f),r=(i,f)=>n(i)-f):(e=n===$i||n===kg?n:yW,t=n,r=n);function a(i,f,c=0,l=i.length){if(c<l){if(e(f,f)!==0)return l;do{let s=c+l>>>1;t(i[s],f)<0?c=s+1:l=s}while(c<l)}return c}function o(i,f,c=0,l=i.length){if(c<l){if(e(f,f)!==0)return l;do{let s=c+l>>>1;t(i[s],f)<=0?c=s+1:l=s}while(c<l)}return c}function u(i,f,c=0,l=i.length){let s=a(i,f,c,l-1);return s>c&&r(i[s-1],f)>-r(i[s],f)?s-1:s}return{left:a,center:u,right:o}}function yW(){return 0}function qg(n){return n===null?NaN:+n}var IC=pm($i),AC=IC.right,bW=IC.left,TW=pm(qg).center,Ug=AC;var pc=class extends Map{constructor(e,t=CW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[r,a]of e)this.set(r,a)}get(e){return super.get(LC(this,e))}has(e){return super.has(LC(this,e))}set(e,t){return super.set(EW(this,e),t)}delete(e){return super.delete(wW(this,e))}};function LC({_intern:n,_key:e},t){let r=e(t);return n.has(r)?n.get(r):t}function EW({_intern:n,_key:e},t){let r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function wW({_intern:n,_key:e},t){let r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function CW(n){return n!==null&&typeof n=="object"?n.valueOf():n}var MW=Math.sqrt(50),FW=Math.sqrt(10),SW=Math.sqrt(2);function _m(n,e,t){let r=(e-n)/Math.max(0,t),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),u=o>=MW?10:o>=FW?5:o>=SW?2:1,i,f,c;return a<0?(c=Math.pow(10,-a)/u,i=Math.round(n*c),f=Math.round(e*c),i/c<n&&++i,f/c>e&&--f,c=-c):(c=Math.pow(10,a)*u,i=Math.round(n/c),f=Math.round(e/c),i*c<n&&++i,f*c>e&&--f),f<i&&.5<=t&&t<2?_m(n,e,t*2):[i,f,c]}function ki(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];let r=e<n,[a,o,u]=r?_m(e,n,t):_m(n,e,t);if(!(o>=a))return[];let i=o-a+1,f=new Array(i);if(r)if(u<0)for(let c=0;c<i;++c)f[c]=(o-c)/-u;else for(let c=0;c<i;++c)f[c]=(o-c)*u;else if(u<0)for(let c=0;c<i;++c)f[c]=(a+c)/-u;else for(let c=0;c<i;++c)f[c]=(a+c)*u;return f}function _s(n,e,t){return e=+e,n=+n,t=+t,_m(n,e,t)[2]}function Bg(n,e,t){e=+e,n=+n,t=+t;let r=e<n,a=r?_s(e,n,t):_s(n,e,t);return(r?-1:1)*(a<0?1/-a:a)}function mm(n,e,t){n=+n,e=+e,t=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+t;for(var r=-1,a=Math.max(0,Math.ceil((e-n)/t))|0,o=new Array(a);++r<a;)o[r]=n+r*t;return o}function sa(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var Gg=Symbol("implicit");function qi(){var n=new pc,e=[],t=[],r=Gg;function a(o){let u=n.get(o);if(u===void 0){if(r!==Gg)return r;n.set(o,u=e.push(o)-1)}return t[u%t.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new pc;for(let u of o)n.has(u)||n.set(u,e.push(u)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return qi(e,t).unknown(r)},sa.apply(a,arguments),a}function _c(){var n=qi().unknown(void 0),e=n.domain,t=n.range,r=0,a=1,o,u,i=!1,f=0,c=0,l=.5;delete n.unknown;function s(){var p=e().length,_=a<r,d=_?a:r,g=_?r:a;o=(g-d)/Math.max(1,p-f+c*2),i&&(o=Math.floor(o)),d+=(g-d-o*(p-f))*l,u=o*(1-f),i&&(d=Math.round(d),u=Math.round(u));var D=mm(p).map(function(b){return d+o*b});return t(_?D.reverse():D)}return n.domain=function(p){return arguments.length?(e(p),s()):e()},n.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,s()):[r,a]},n.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,i=!0,s()},n.bandwidth=function(){return u},n.step=function(){return o},n.round=function(p){return arguments.length?(i=!!p,s()):i},n.padding=function(p){return arguments.length?(f=Math.min(1,c=+p),s()):f},n.paddingInner=function(p){return arguments.length?(f=Math.min(1,p),s()):f},n.paddingOuter=function(p){return arguments.length?(c=+p,s()):c},n.align=function(p){return arguments.length?(l=Math.max(0,Math.min(1,p)),s()):l},n.copy=function(){return _c(e(),[r,a]).round(i).paddingInner(f).paddingOuter(c).align(l)},sa.apply(s(),arguments)}function NC(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return NC(e())},n}function Vg(){return NC(_c.apply(null,arguments).paddingInner(1))}function vm(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Jg(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function ds(){}var ms=.7,gm=1/ms,mc="\\s*([+-]?\\d+)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xW=/^#([0-9a-f]{3,8})$/,IW=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),AW=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),LW=new RegExp(`^rgba\\(${mc},${mc},${mc},${vs}\\)$`),NW=new RegExp(`^rgba\\(${yo},${yo},${yo},${vs}\\)$`),PW=new RegExp(`^hsl\\(${vs},${yo},${yo}\\)$`),RW=new RegExp(`^hsla\\(${vs},${yo},${yo},${vs}\\)$`),PC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vm(ds,$a,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:RC,formatHex:RC,formatHex8:OW,formatHsl:HW,formatRgb:OC,toString:OC});function RC(){return this.rgb().formatHex()}function OW(){return this.rgb().formatHex8()}function HW(){return UC(this).formatHsl()}function OC(){return this.rgb().formatRgb()}function $a(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=xW.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?HC(e):t===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?dm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?dm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=IW.exec(n))?new Ir(e[1],e[2],e[3],1):(e=AW.exec(n))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LW.exec(n))?dm(e[1],e[2],e[3],e[4]):(e=NW.exec(n))?dm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PW.exec(n))?kC(e[1],e[2]/100,e[3]/100,1):(e=RW.exec(n))?kC(e[1],e[2]/100,e[3]/100,e[4]):PC.hasOwnProperty(n)?HC(PC[n]):n==="transparent"?new Ir(NaN,NaN,NaN,0):null}function HC(n){return new Ir(n>>16&255,n>>8&255,n&255,1)}function dm(n,e,t,r){return r<=0&&(n=e=t=NaN),new Ir(n,e,t,r)}function WW(n){return n instanceof ds||(n=$a(n)),n?(n=n.rgb(),new Ir(n.r,n.g,n.b,n.opacity)):new Ir}function vc(n,e,t,r){return arguments.length===1?WW(n):new Ir(n,e,t,r??1)}function Ir(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}vm(Ir,vc,Jg(ds,{brighter(n){return n=n==null?gm:Math.pow(gm,n),new Ir(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ms:Math.pow(ms,n),new Ir(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ir(Bi(this.r),Bi(this.g),Bi(this.b),hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WC,formatHex:WC,formatHex8:$W,formatRgb:$C,toString:$C}));function WC(){return`#${Ui(this.r)}${Ui(this.g)}${Ui(this.b)}`}function $W(){return`#${Ui(this.r)}${Ui(this.g)}${Ui(this.b)}${Ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function $C(){let n=hm(this.opacity);return`${n===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${n===1?")":`, ${n})`}`}function hm(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Bi(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ui(n){return n=Bi(n),(n<16?"0":"")+n.toString(16)}function kC(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Wa(n,e,t,r)}function UC(n){if(n instanceof Wa)return new Wa(n.h,n.s,n.l,n.opacity);if(n instanceof ds||(n=$a(n)),!n)return new Wa;if(n instanceof Wa)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,a=Math.min(e,t,r),o=Math.max(e,t,r),u=NaN,i=o-a,f=(o+a)/2;return i?(e===o?u=(t-r)/i+(t<r)*6:t===o?u=(r-e)/i+2:u=(e-t)/i+4,i/=f<.5?o+a:2-o-a,u*=60):i=f>0&&f<1?0:u,new Wa(u,i,f,n.opacity)}function BC(n,e,t,r){return arguments.length===1?UC(n):new Wa(n,e,t,r??1)}function Wa(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}vm(Wa,BC,Jg(ds,{brighter(n){return n=n==null?gm:Math.pow(gm,n),new Wa(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ms:Math.pow(ms,n),new Wa(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,a=2*t-r;return new Ir(zg(n>=240?n-240:n+120,a,r),zg(n,a,r),zg(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new Wa(qC(this.h),Dm(this.s),Dm(this.l),hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=hm(this.opacity);return`${n===1?"hsl(":"hsla("}${qC(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${n===1?")":`, ${n})`}`}}));function qC(n){return n=(n||0)%360,n<0?n+360:n}function Dm(n){return Math.max(0,Math.min(1,n||0))}function zg(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function jg(n,e,t,r,a){var o=n*n,u=o*n;return((1-3*n+3*o-u)*e+(4-6*o+3*u)*t+(1+3*n+3*o-3*u)*r+u*a)/6}function GC(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),a=n[r],o=n[r+1],u=r>0?n[r-1]:2*a-o,i=r<e-1?n[r+2]:2*o-a;return jg((t-r/e)*e,u,a,o,i)}}function VC(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e),a=n[(r+e-1)%e],o=n[r%e],u=n[(r+1)%e],i=n[(r+2)%e];return jg((t-r/e)*e,a,o,u,i)}}var Ds=n=>()=>n;function kW(n,e){return function(t){return n+t*e}}function qW(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function JC(n){return(n=+n)==1?ym:function(e,t){return t-e?qW(e,t,n):Ds(isNaN(e)?t:e)}}function ym(n,e){var t=e-n;return t?kW(n,t):Ds(isNaN(n)?e:n)}var Gi=(function n(e){var t=JC(e);function r(a,o){var u=t((a=vc(a)).r,(o=vc(o)).r),i=t(a.g,o.g),f=t(a.b,o.b),c=ym(a.opacity,o.opacity);return function(l){return a.r=u(l),a.g=i(l),a.b=f(l),a.opacity=c(l),a+""}}return r.gamma=n,r})(1);function zC(n){return function(e){var t=e.length,r=new Array(t),a=new Array(t),o=new Array(t),u,i;for(u=0;u<t;++u)i=vc(e[u]),r[u]=i.r||0,a[u]=i.g||0,o[u]=i.b||0;return r=n(r),a=n(a),o=n(o),i.opacity=1,function(f){return i.r=r(f),i.g=a(f),i.b=o(f),i+""}}}var UW=zC(GC),BW=zC(VC);function jC(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),a;return function(o){for(a=0;a<t;++a)r[a]=n[a]*(1-o)+e[a]*o;return r}}function QC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function XC(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,a=new Array(r),o=new Array(t),u;for(u=0;u<r;++u)a[u]=Vi(n[u],e[u]);for(;u<t;++u)o[u]=e[u];return function(i){for(u=0;u<r;++u)o[u]=a[u](i);return o}}function YC(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function Qt(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function KC(n,e){var t={},r={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?t[a]=Vi(n[a],e[a]):r[a]=e[a];return function(o){for(a in t)r[a]=t[a](o);return r}}var Xg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qg=new RegExp(Xg.source,"g");function GW(n){return function(){return n}}function VW(n){return function(e){return n(e)+""}}function gs(n,e){var t=Xg.lastIndex=Qg.lastIndex=0,r,a,o,u=-1,i=[],f=[];for(n=n+"",e=e+"";(r=Xg.exec(n))&&(a=Qg.exec(e));)(o=a.index)>t&&(o=e.slice(t,o),i[u]?i[u]+=o:i[++u]=o),(r=r[0])===(a=a[0])?i[u]?i[u]+=a:i[++u]=a:(i[++u]=null,f.push({i:u,x:Qt(r,a)})),t=Qg.lastIndex;return t<e.length&&(o=e.slice(t),i[u]?i[u]+=o:i[++u]=o),i.length<2?f[0]?VW(f[0].x):GW(e):(e=f.length,function(c){for(var l=0,s;l<e;++l)i[(s=f[l]).i]=s.x(c);return i.join("")})}function Vi(n,e){var t=typeof e,r;return e==null||t==="boolean"?Ds(e):(t==="number"?Qt:t==="string"?(r=$a(e))?(e=r,Gi):gs:e instanceof $a?Gi:e instanceof Date?YC:QC(e)?jC:Array.isArray(e)?XC:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KC:Qt)(n,e)}function Yg(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var ZC=180/Math.PI,bm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kg(n,e,t,r,a,o){var u,i,f;return(u=Math.sqrt(n*n+e*e))&&(n/=u,e/=u),(f=n*t+e*r)&&(t-=n*f,r-=e*f),(i=Math.sqrt(t*t+r*r))&&(t/=i,r/=i,f/=i),n*r<e*t&&(n=-n,e=-e,f=-f,u=-u),{translateX:a,translateY:o,rotate:Math.atan2(e,n)*ZC,skewX:Math.atan(f)*ZC,scaleX:u,scaleY:i}}var Tm;function nM(n){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?bm:Kg(e.a,e.b,e.c,e.d,e.e,e.f)}function eM(n){return n==null?bm:(Tm||(Tm=document.createElementNS("http://www.w3.org/2000/svg","g")),Tm.setAttribute("transform",n),(n=Tm.transform.baseVal.consolidate())?(n=n.matrix,Kg(n.a,n.b,n.c,n.d,n.e,n.f)):bm)}function tM(n,e,t,r){function a(c){return c.length?c.pop()+" ":""}function o(c,l,s,p,_,d){if(c!==s||l!==p){var g=_.push("translate(",null,e,null,t);d.push({i:g-4,x:Qt(c,s)},{i:g-2,x:Qt(l,p)})}else(s||p)&&_.push("translate("+s+e+p+t)}function u(c,l,s,p){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),p.push({i:s.push(a(s)+"rotate(",null,r)-2,x:Qt(c,l)})):l&&s.push(a(s)+"rotate("+l+r)}function i(c,l,s,p){c!==l?p.push({i:s.push(a(s)+"skewX(",null,r)-2,x:Qt(c,l)}):l&&s.push(a(s)+"skewX("+l+r)}function f(c,l,s,p,_,d){if(c!==s||l!==p){var g=_.push(a(_)+"scale(",null,",",null,")");d.push({i:g-4,x:Qt(c,s)},{i:g-2,x:Qt(l,p)})}else(s!==1||p!==1)&&_.push(a(_)+"scale("+s+","+p+")")}return function(c,l){var s=[],p=[];return c=n(c),l=n(l),o(c.translateX,c.translateY,l.translateX,l.translateY,s,p),u(c.rotate,l.rotate,s,p),i(c.skewX,l.skewX,s,p),f(c.scaleX,c.scaleY,l.scaleX,l.scaleY,s,p),c=l=null,function(_){for(var d=-1,g=p.length,D;++d<g;)s[(D=p[d]).i]=D.x(_);return s.join("")}}}var Zg=tM(nM,"px, ","px)","deg)"),nh=tM(eM,", ",")",")");var JW=1e-12;function rM(n){return((n=Math.exp(n))+1/n)/2}function zW(n){return((n=Math.exp(n))-1/n)/2}function jW(n){return((n=Math.exp(2*n))-1)/(n+1)}var eh=(function n(e,t,r){function a(o,u){var i=o[0],f=o[1],c=o[2],l=u[0],s=u[1],p=u[2],_=l-i,d=s-f,g=_*_+d*d,D,b;if(g<JW)b=Math.log(p/c)/e,D=function(P){return[i+P*_,f+P*d,c*Math.exp(e*P*b)]};else{var I=Math.sqrt(g),M=(p*p-c*c+r*g)/(2*c*t*I),h=(p*p-c*c-r*g)/(2*p*t*I),y=Math.log(Math.sqrt(M*M+1)-M),C=Math.log(Math.sqrt(h*h+1)-h);b=(C-y)/e,D=function(P){var k=P*b,sn=rM(y),U=c/(t*I)*(sn*jW(e*k+y)-zW(y));return[i+U*_,f+U*d,c*sn/rM(e*k+y)]}}return D.duration=b*1e3*e/Math.SQRT2,D}return a.rho=function(o){var u=Math.max(.001,+o),i=u*u,f=i*i;return n(u,i,f)},a})(Math.SQRT2,2,4);function th(n){return function(){return n}}function rh(n){return+n}var aM=[0,1];function ka(n){return n}function ah(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:th(isNaN(e)?NaN:.5)}function QW(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function XW(n,e,t){var r=n[0],a=n[1],o=e[0],u=e[1];return a<r?(r=ah(a,r),o=t(u,o)):(r=ah(r,a),o=t(o,u)),function(i){return o(r(i))}}function YW(n,e,t){var r=Math.min(n.length,e.length)-1,a=new Array(r),o=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++u<r;)a[u]=ah(n[u],n[u+1]),o[u]=t(e[u],e[u+1]);return function(i){var f=Ug(n,i,1,r)-1;return o[f](a[f](i))}}function qu(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ji(){var n=aM,e=aM,t=Vi,r,a,o,u=ka,i,f,c;function l(){var p=Math.min(n.length,e.length);return u!==ka&&(u=QW(n[0],n[p-1])),i=p>2?YW:XW,f=c=null,s}function s(p){return p==null||isNaN(p=+p)?o:(f||(f=i(n.map(r),e,t)))(r(u(p)))}return s.invert=function(p){return u(a((c||(c=i(e,n.map(r),Qt)))(p)))},s.domain=function(p){return arguments.length?(n=Array.from(p,rh),l()):n.slice()},s.range=function(p){return arguments.length?(e=Array.from(p),l()):e.slice()},s.rangeRound=function(p){return e=Array.from(p),t=Yg,l()},s.clamp=function(p){return arguments.length?(u=p?!0:ka,l()):u!==ka},s.interpolate=function(p){return arguments.length?(t=p,l()):t},s.unknown=function(p){return arguments.length?(o=p,s):o},function(p,_){return r=p,a=_,l()}}function oh(){return Ji()(ka,ka)}function oM(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function zi(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function bo(n){return n=zi(Math.abs(n)),n?n[1]:NaN}function uM(n,e){return function(t,r){for(var a=t.length,o=[],u=0,i=n[0],f=0;a>0&&i>0&&(f+i+1>r&&(i=Math.max(1,r-f)),o.push(t.substring(a-=i,a+i)),!((f+=i+1)>r));)i=n[u=(u+1)%n.length];return o.reverse().join(e)}}function iM(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var KW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function To(n){if(!(e=KW.exec(n)))throw new Error("invalid format: "+n);var e;return new Em({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}To.prototype=Em.prototype;function Em(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Em.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fM(n){n:for(var e=n.length,t=1,r=-1,a;t<e;++t)switch(n[t]){case".":r=a=t;break;case"0":r===0&&(r=t),a=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var uh;function cM(n,e){var t=zi(n,e);if(!t)return n+"";var r=t[0],a=t[1],o=a-(uh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zi(n,Math.max(0,e+o-1))[0]}function ih(n,e){var t=zi(n,e);if(!t)return n+"";var r=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var fh={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:oM,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>ih(n*100,e),r:ih,s:cM,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function ch(n){return n}var lM=Array.prototype.map,sM=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function pM(n){var e=n.grouping===void 0||n.thousands===void 0?ch:uM(lM.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?ch:iM(lM.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",i=n.minus===void 0?"\u2212":n.minus+"",f=n.nan===void 0?"NaN":n.nan+"";function c(s){s=To(s);var p=s.fill,_=s.align,d=s.sign,g=s.symbol,D=s.zero,b=s.width,I=s.comma,M=s.precision,h=s.trim,y=s.type;y==="n"?(I=!0,y="g"):fh[y]||(M===void 0&&(M=12),h=!0,y="g"),(D||p==="0"&&_==="=")&&(D=!0,p="0",_="=");var C=g==="$"?t:g==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",P=g==="$"?r:/[%p]/.test(y)?u:"",k=fh[y],sn=/[defgprs%]/.test(y);M=M===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function U(J){var jn=C,Hn=P,E,G,x;if(y==="c")Hn=k(J)+Hn,J="";else{J=+J;var j=J<0||1/J<0;if(J=isNaN(J)?f:k(Math.abs(J),M),h&&(J=fM(J)),j&&+J==0&&d!=="+"&&(j=!1),jn=(j?d==="("?d:i:d==="-"||d==="("?"":d)+jn,Hn=(y==="s"?sM[8+uh/3]:"")+Hn+(j&&d==="("?")":""),sn){for(E=-1,G=J.length;++E<G;)if(x=J.charCodeAt(E),48>x||x>57){Hn=(x===46?a+J.slice(E+1):J.slice(E))+Hn,J=J.slice(0,E);break}}}I&&!D&&(J=e(J,1/0));var mn=jn.length+J.length+Hn.length,Cn=mn<b?new Array(b-mn+1).join(p):"";switch(I&&D&&(J=e(Cn+J,Cn.length?b-Hn.length:1/0),Cn=""),_){case"<":J=jn+J+Hn+Cn;break;case"=":J=jn+Cn+J+Hn;break;case"^":J=Cn.slice(0,mn=Cn.length>>1)+jn+J+Hn+Cn.slice(mn);break;default:J=Cn+jn+J+Hn;break}return o(J)}return U.toString=function(){return s+""},U}function l(s,p){var _=c((s=To(s),s.type="f",s)),d=Math.max(-8,Math.min(8,Math.floor(bo(p)/3)))*3,g=Math.pow(10,-d),D=sM[8+d/3];return function(b){return _(g*b)+D}}return{format:c,formatPrefix:l}}var wm,dc,Cm;lh({thousands:",",grouping:[3],currency:["$",""]});function lh(n){return wm=pM(n),dc=wm.format,Cm=wm.formatPrefix,wm}function sh(n){return Math.max(0,-bo(Math.abs(n)))}function ph(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bo(e)/3)))*3-bo(Math.abs(n)))}function _h(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,bo(e)-bo(n))+1}function mh(n,e,t,r){var a=Bg(n,e,t),o;switch(r=To(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(o=ph(a,u))&&(r.precision=o),Cm(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=_h(a,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sh(a))&&(r.precision=o-(r.type==="%")*2);break}}return dc(r)}function hs(n){var e=n.domain;return n.ticks=function(t){var r=e();return ki(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var a=e();return mh(a[0],a[a.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),a=0,o=r.length-1,u=r[a],i=r[o],f,c,l=10;for(i<u&&(c=u,u=i,i=c,c=a,a=o,o=c);l-- >0;){if(c=_s(u,i,t),c===f)return r[a]=u,r[o]=i,e(r);if(c>0)u=Math.floor(u/c)*c,i=Math.ceil(i/c)*c;else if(c<0)u=Math.ceil(u*c)/c,i=Math.floor(i*c)/c;else break;f=c}return n},n}function ys(){var n=oh();return n.copy=function(){return qu(n,ys())},sa.apply(n,arguments),hs(n)}function vh(n,e){n=n.slice();var t=0,r=n.length-1,a=n[t],o=n[r],u;return o<a&&(u=t,t=r,r=u,u=a,a=o,o=u),n[t]=e.floor(a),n[r]=e.ceil(o),n}function _M(n){return Math.log(n)}function mM(n){return Math.exp(n)}function ZW(n){return-Math.log(-n)}function n$(n){return-Math.exp(-n)}function e$(n){return isFinite(n)?+("1e"+n):n<0?0:n}function t$(n){return n===10?e$:n===Math.E?Math.exp:e=>Math.pow(n,e)}function r$(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function vM(n){return(e,t)=>-n(-e,t)}function a$(n){let e=n(_M,mM),t=e.domain,r=10,a,o;function u(){return a=r$(r),o=t$(r),t()[0]<0?(a=vM(a),o=vM(o),n(ZW,n$)):n(_M,mM),e}return e.base=function(i){return arguments.length?(r=+i,u()):r},e.domain=function(i){return arguments.length?(t(i),u()):t()},e.ticks=i=>{let f=t(),c=f[0],l=f[f.length-1],s=l<c;s&&([c,l]=[l,c]);let p=a(c),_=a(l),d,g,D=i==null?10:+i,b=[];if(!(r%1)&&_-p<D){if(p=Math.floor(p),_=Math.ceil(_),c>0){for(;p<=_;++p)for(d=1;d<r;++d)if(g=p<0?d/o(-p):d*o(p),!(g<c)){if(g>l)break;b.push(g)}}else for(;p<=_;++p)for(d=r-1;d>=1;--d)if(g=p>0?d/o(-p):d*o(p),!(g<c)){if(g>l)break;b.push(g)}b.length*2<D&&(b=ki(c,l,D))}else b=ki(p,_,Math.min(_-p,D)).map(o);return s?b.reverse():b},e.tickFormat=(i,f)=>{if(i==null&&(i=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=To(f)).precision==null&&(f.trim=!0),f=dc(f)),i===1/0)return f;let c=Math.max(1,r*i/e.ticks().length);return l=>{let s=l/o(Math.round(a(l)));return s*r<r-.5&&(s*=r),s<=c?f(l):""}},e.nice=()=>t(vh(t(),{floor:i=>o(Math.floor(a(i))),ceil:i=>o(Math.ceil(a(i)))})),e}function bs(){let n=a$(Ji()).domain([1,10]);return n.copy=()=>qu(n,bs()).base(n.base()),sa.apply(n,arguments),n}function dM(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function DM(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function o$(n){var e=1,t=n(dM(e),DM(e));return t.constant=function(r){return arguments.length?n(dM(e=+r),DM(e)):e},hs(t)}function Ts(){var n=o$(Ji());return n.copy=function(){return qu(n,Ts()).constant(n.constant())},sa.apply(n,arguments)}function gM(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function u$(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function i$(n){return n<0?-n*n:n*n}function f$(n){var e=n(ka,ka),t=1;function r(){return t===1?n(ka,ka):t===.5?n(u$,i$):n(gM(t),gM(1/t))}return e.exponent=function(a){return arguments.length?(t=+a,r()):t},hs(e)}function Dc(){var n=f$(Ji());return n.copy=function(){return qu(n,Dc()).exponent(n.exponent())},sa.apply(n,arguments),n}function dh(){return Dc.apply(null,arguments).exponent(.5)}function hM(n){for(var e=n.length/6|0,t=new Array(e),r=0;r<e;)t[r]="#"+n.slice(r*6,++r*6);return t}var Mm=hM("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Es(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}var C$=ys(),M$=bs(),F$=Dc(),S$=dh(),x$=Ts(),I$=qi(),A$=_c(),L$=Vg();function le(n){return Mm[Math.abs(n)%10]}var gc=(function(){function n(){}return n.value=new n,n})(),R$=(function(){function n(){}return n.value=new n,n})(),O$=(function(){function n(){}return n.value=new n,n})(),H$=(function(){function n(){}return n.value=new n,n})(),W$=(function(){return{name:"Issue Involvement",description:"Colors represent involvement in issue discussions",legendItems:[{label:"High",category:"high",color:"#d62728",description:v.value},{label:"Medium",category:"medium",color:"#ff7f0e",description:v.value},{label:"Low",category:"low",color:"#1f77b4",description:v.value},{label:"None",category:"none",color:"#cccccc",description:v.value}],colorMapping:function(n){return n==="high"?"#d62728":n==="medium"?"#ff7f0e":n==="low"?"#1f77b4":"#cccccc"}}})(),$$=(function(){return{name:"Git Activity",description:"Colors represent commit frequency and recency",legendItems:[{label:"Very Active",category:"veryActive",color:"#2ca02c",description:v.value},{label:"Active",category:"active",color:"#98df8a",description:v.value},{label:"Moderate",category:"moderate",color:"#ffbb78",description:v.value},{label:"Inactive",category:"inactive",color:"#ff7f0e",description:v.value},{label:"Stale",category:"stale",color:"#d62728",description:v.value}],colorMapping:function(n){return n==="veryActive"?"#2ca02c":n==="active"?"#98df8a":n==="moderate"?"#ffbb78":n==="inactive"?"#ff7f0e":n==="stale"?"#d62728":"#cccccc"}}})();var k$=function(n){return n==="typeClass"?le(0):n==="data"?le(1):n==="typeSynonym"?le(2):n==="externData"?le(3):n==="alias"?le(4):n==="value"?le(5):n==="typeClassInstance"?le(6):n==="externValue"?le(7):le(8)},q$=(function(){return{name:"Declaration Types",description:"Colors represent different PureScript declaration types",legendItems:[{label:"Type Class",category:"typeClass",color:le(0),description:new m("Type classes define interfaces")},{label:"Data Type",category:"data",color:le(1),description:new m("Data types and type constructors")},{label:"Type Synonym",category:"typeSynonym",color:le(2),description:new m("Type aliases")},{label:"Extern Data",category:"externData",color:le(3),description:new m("Foreign data types")},{label:"Alias",category:"alias",color:le(4),description:new m("Value aliases")},{label:"Value",category:"value",color:le(5),description:new m("Functions and values")},{label:"Type Class Instance",category:"typeClassInstance",color:le(6),description:new m("Instance implementations")},{label:"Extern Value",category:"externValue",color:le(7),description:new m("Foreign functions")}],colorMapping:k$}})(),U$=(function(){return{name:"Author Activity",description:"Colors represent different authors/contributors",legendItems:[{label:"Author 1",category:"author1",color:le(0),description:v.value},{label:"Author 2",category:"author2",color:le(1),description:v.value},{label:"Author 3",category:"author3",color:le(2),description:v.value},{label:"Author 4",category:"author4",color:le(3),description:v.value},{label:"Others",category:"others",color:"#cccccc",description:v.value}],colorMapping:function(n){return n==="author1"?le(0):n==="author2"?le(1):n==="author3"?le(2):n==="author4"?le(3):"#cccccc"}}})(),gh=function(n){if(n instanceof gc)return q$;if(n instanceof R$)return $$;if(n instanceof O$)return W$;if(n instanceof H$)return U$;throw new Error("Failed pattern match at Data.ColorPalette (line 70, column 1 - line 70, column 43): "+[n.constructor.name])},hh=function(n){return function(e){var t=gh(n);return t.colorMapping(e)}};var B$=typeof Array.from=="function",G$=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",V$=typeof String.prototype.fromCodePoint=="function",J$=typeof String.prototype.codePointAt=="function",bM=function(n){return J$?function(e){return e.codePointAt(0)}:n};var TM=function(n){return V$?String.fromCodePoint:n},EM=function(n){return function(e){return G$?function(t){for(var r="",a=t[Symbol.iterator](),o=0;o<e;++o){var u=a.next();if(u.done)return r;r+=u.value}return r}:n(e)}},wM=function(n){return function(e){return B$?function(t){return Array.from(t,e)}:n}};function Uu(n){return n.charCodeAt(0)}function CM(n){return String.fromCharCode(n)}var MM=La(Ci),FM=Aa(Ci);var hc=function(n){return n.toEnum};var bh=function(n){return n.fromEnum},SM=function(n){var e=hc(n),t=bh(n),r=La(n.Bounded0());return function(a){return function(o){return function(u){var i=e(u);if(i instanceof m)return i.value0;if(i instanceof v){var f=u<t(r);return f?a:o}throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[i.constructor.name])}}}};var ji=function(n){return function(e){return function(t){return n(e(t)+1|0)}}},Qi=function(n){return function(e){return function(t){return n(e(t)-1|0)}}};var yh=function(n){return n>=Uu(MM)&&n<=Uu(FM)?new m(CM(n)):v.value},K$={succ:ji(yh)(Uu),pred:Qi(yh)(Uu),Ord0:function(){return q_}};var Th=(function(){return{cardinality:Uu(FM)-Uu(MM)|0,toEnum:yh,fromEnum:Uu,Bounded0:function(){return Ci},Enum1:function(){return K$}}})();var xM=function(n){return function(e){return function(t){return(t|0)===t?n(t):e}}},Tn=function(n){return n},IM=function(n){return function(e){return function(t){var r;t<11?r="[0-"+(t-1).toString()+"]":t===11?r="[0-9a]":r="[0-9a-"+String.fromCharCode(86+t)+"]";var a=new RegExp("^[\\+\\-]?"+r+"+$","i");return function(o){if(a.test(o)){var u=parseInt(o,t);return(u|0)===u?n(u):e}else return e}}}};var Fm=isFinite;var Eh=Math.abs;var wh=Math.ceil,pa=Math.cos;var Ch=Math.floor;var _a=Math.sin,Xt=Math.sqrt;var Mh=3.141592653589793;var AM=Aa(U_),LM=La(U_);var Fh=16,NM=(function(){return IM(m.create)(v.value)})();var Sm=(function(){return xM(m.create)(v.value)})(),PM=function(n){if(!Fm(n))return 0;if(n>=Tn(AM))return AM;if(n<=Tn(LM))return LM;if(pe)return In(0)(Sm(n));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[n.constructor.name])};var xm=function(n){return PM(Ch(n))};var yc=function(n){return PM(wh(n))};var Sh=function(n){return n.split("")},ws=function(n){return n};var Xi=function(n){return n.length};var RM=function(n){return function(e){return function(t){return function(r){var a=r.indexOf(t);return a===-1?e:n(a)}}}};var Cs=function(n){return function(e){return e.substr(0,n)}},bc=function(n){return function(e){return e.substring(n)}};var xh=function(n){return function(e){return{before:e.substring(0,n),after:e.substring(n)}}};var Gu=function(n){return function(e){if(n>=0&&n<e.length)return e.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Im=function(n){return function(e){var t=xh(Xi(n))(e),r=t.before===n;return r?new m(t.after):v.value}};var Ms=(function(){return RM(m.create)(v.value)})();var Tc=function(n){return n.toLowerCase()};var Yo=function(n){return function(e){return e.join(n)}};var Ss=bh(Th),Lh=T(Xn),mk=Oa(zr),vk=po(St),dk=ur(St);var HM=function(n){return function(e){return(((n-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var WM=function(n){return 56320<=n&&n<=57343},$M=function(n){return 55296<=n&&n<=56319},kM=function(n){var e=Xi(n);if(e===0)return v.value;if(e===1)return new m({head:Ss(Gu(0)(n)),tail:""});var t=Ss(Gu(1)(n)),r=Ss(Gu(0)(n)),a=$M(r)&&WM(t);return a?new m({head:HM(r)(t),tail:bc(2)(n)}):new m({head:r,tail:bc(1)(n)})},Dk=function(n){return Lh(function(e){return new S(e.head,e.tail)})(kM(n))},gk=function(n){return mk(Dk)(n)},hk=function(n){var e=Ss(Gu(0)(n)),t=$M(e)&&Xi(n)>1;if(t){var r=Ss(Gu(1)(n)),a=WM(r);return a?HM(e)(r):e}return e},yk=bM(hk),bk=wM(gk)(yk),qM=function(n){return X(bk(n))};var UM=function(n){return function(e){return Lh(function(t){return qM(Cs(t)(e))})(Ms(n)(e))}},Ah=(function(){var n=SM(Th)(La(Ci))(Aa(Ci));return function(e){return ws(n(e))}})(),Tk=function(n){if(n<=65535)return Ah(n);var e=vk(n-65536|0)(1024)+55296|0,t=dk(n-65536|0)(1024)+56320|0;return Ah(e)+Ah(t)};var Ek=TM(Tk),BM=function(n){return function(e){if(n<1)return"";var t=kM(e);return t instanceof m?Ek(t.value0.head)+BM(n-1|0)(t.value0.tail):e}},Ju=EM(BM);var Yi=function(n){return function(e){return bc(Xi(Ju(n)(e)))(e)}},GM=function(n){return function(e){return function(t){var r=Yi(e)(t);return Lh(function(a){return e+qM(Cs(a)(r))|0})(Ms(n)(r))}}};var ue={liftEffect:Dn(yn),Monad0:function(){return Ra}},Nn=function(n){return n.liftEffect};var wo=function(n){return function(){console.log(n)}},xs=function(n){return function(){console.warn(n)}};var Yt=function(n){var e=Nn(n);return function(t){return e(wo(t))}};var qa=(function(){function n(){}return n.value=new n,n})(),Xr=(function(){function n(){}return n.value=new n,n})(),$t=(function(){function n(){}return n.value=new n,n})(),nt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Kt=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Zt=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),At=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),nr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),cr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Yr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ma=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Ec=function(n){if(n instanceof qa)return"used";if(n instanceof Xr)return"project";if(n instanceof $t)return"all";throw new Error("Failed pattern match at Engine.ViewState (line 137, column 1 - line 137, column 35): "+[n.constructor.name])},Zi=function(n){if(n instanceof qa)return"used";if(n instanceof Xr)return"project";if(n instanceof $t)return"all";throw new Error("Failed pattern match at Engine.ViewState (line 132, column 1 - line 132, column 35): "+[n.constructor.name])},Ik={eq:function(n){return function(e){return n instanceof qa&&e instanceof qa||n instanceof Xr&&e instanceof Xr||n instanceof $t&&e instanceof $t}}},wc=tn(Ik),XM={eq:function(n){return function(e){return n instanceof nt&&e instanceof nt?wc(n.value0)(e.value0):n instanceof Kt&&e instanceof Kt||n instanceof Zt&&e instanceof Zt?wc(n.value0)(e.value0)&&n.value1===e.value1:n instanceof At&&e instanceof At||n instanceof nr&&e instanceof nr||n instanceof cr&&e instanceof cr?wc(n.value0)(e.value0):n instanceof Yr&&e instanceof Yr||n instanceof ma&&e instanceof ma?n.value0===e.value0:!1}}};var YM=function(n){if(n instanceof nt)return{text:"[Treemap] showing ["+(Zi(n.value0)+("] packages and ["+(Zi(n.value0)+"] modules"))),controls:[{id:"layout",current:"treemap",options:["treemap","tree","force"]},{id:"scope",current:Ec(n.value0),options:["used","project","all"]}]};if(n instanceof Kt)return{text:"[Tree] layout showing ["+(Zi(n.value0)+("] modules, with ["+(n.value1+"] as the root"))),controls:[{id:"layout",current:"tree",options:["treemap","tree","force"]},{id:"scope",current:Ec(n.value0),options:["used","project","all"]},{id:"root",current:n.value1,options:[]}]};if(n instanceof Zt)return{text:"[Force layout] showing ["+(Zi(n.value0)+("] modules, with ["+(n.value1+"] as the root"))),controls:[{id:"layout",current:"force",options:["treemap","tree","force"]},{id:"scope",current:Ec(n.value0),options:["used","project","all"]},{id:"root",current:n.value1,options:[]}]};if(n instanceof At)return{text:"[Grid] of ["+(Zi(n.value0)+"] packages"),controls:[{id:"layout",current:"grid",options:["grid","orbit"]},{id:"scope",current:Ec(n.value0),options:["used","project","all"]}]};if(n instanceof nr)return{text:"[Orbit] of ["+(Zi(n.value0)+"] modules, grouped by package"),controls:[{id:"layout",current:"orbit",options:["grid","orbit","tree"]},{id:"scope",current:Ec(n.value0),options:["used","project","all"]}]};if(n instanceof cr)return{text:"[Dependency tree] of ["+(Zi(n.value0)+"] module dependencies"),controls:[{id:"layout",current:"tree",options:["grid","orbit","tree"]},{id:"scope",current:Ec(n.value0),options:["used","project","all"]}]};if(n instanceof Yr)return{text:"Neighborhood of ["+(n.value0+"] \u2014 imports and dependents"),controls:[{id:"module",current:n.value0,options:[]}]};if(n instanceof ma)return{text:"Function calls in ["+(n.value0+"]"),controls:[{id:"module",current:n.value0,options:[]}]};throw new Error("Failed pattern match at Engine.ViewState (line 55, column 15 - line 119, column 6): "+[n.constructor.name])};var Oh=A,KM=A;var Nk=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var tF=function(n){return function(e){return Oh(function(t){return n(t.value0)(t.value1)})(e)}};var rF=function(n){return function(e){return KM(new Nk(n,e))}},Hh={map:function(n){return function(e){return Oh(function(t){return rF(function(r){return n(t.value0(r))})(t.value1)})(e)}}};var aF=rF(Dn(yn));var Pk=He(cn),oF=$u(Ni),Rk=Yn(cn);var nf=function(n){return n.foldrWithIndex},$h=function(n){var e=Xf(n.Apply0()),t=L(n);return function(r){var a=nf(r);return function(o){return a(function(u){var i=o(u);return function(f){return e(i(f))}})(t(void 0))}}};var Cc=function(n){return n.foldlWithIndex};var Ok=function(n){var e=nf(n);return function(t){var r=Q(t.Semigroup0()),a=fe(t);return function(o){return e(function(u){return function(i){return function(f){return r(o(u)(i))(f)}}})(a)}}},Ko={foldrWithIndex:function(n){return function(e){var t=Pk(function(a){return function(o){return n(a.value0)(a.value1)(o)}})(e),r=oF(S.create);return function(a){return t(r(a))}}},foldlWithIndex:function(n){return function(e){var t=Rk(function(a){return function(o){return n(o.value0)(a)(o.value1)}})(e),r=oF(S.create);return function(a){return t(r(a))}}},foldMapWithIndex:function(n){return Ok(Ko)(n)},Foldable0:function(){return cn}};var Hk=function(n){var e=Pi(n.Traversable2()),t=$u(n.FunctorWithIndex0());return function(r){var a=e(r);return function(o){var u=t(o);return function(i){return a(u(i))}}}},zu=function(n){return n.traverseWithIndex};var Mc={traverseWithIndex:function(n){return Hk(Mc)(n)},FunctorWithIndex0:function(){return Ni},FoldableWithIndex1:function(){return Ko},Traversable2:function(){return Jr}};var Ba=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var kh=function(n){var e=gr(n);return function(t){return new Ba(t,e)}};var qk=Dn(yn),$=(function(){function n(){}return n.value=new n,n})(),Y=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),qh=function(n){return n},Uk=function(n){return new Y(n.value0,n.value1)};var Bk=function(n){var e=function(t){return function(r){var a=t,o=!1,u;function i(f,c){if(c instanceof Y&&c.value1 instanceof Y&&c.value1.value1 instanceof Y){a=new Y(c,f),r=c.value1.value1.value1;return}var l=function(p){return p instanceof Y&&p.value1 instanceof Y&&p.value1.value1 instanceof $?new Y(n(p.value0),new Y(n(p.value1.value0),$.value)):p instanceof Y&&p.value1 instanceof $?new Y(n(p.value0),$.value):$.value},s=function(p){return function(_){var d=p,g=!1,D;function b(I,M){if(I instanceof Y&&I.value0 instanceof Y&&I.value0.value1 instanceof Y&&I.value0.value1.value1 instanceof Y){d=I.value1,_=new Y(n(I.value0.value0),new Y(n(I.value0.value1.value0),new Y(n(I.value0.value1.value1.value0),M)));return}return g=!0,M}for(;!g;)D=b(d,_);return D}};return o=!0,s(f)(l(c))}for(;!o;)u=i(a,r);return u}};return e($.value)},Zo={map:Bk};var $e={foldr:function(n){return function(e){var t=(function(){var a=function(o){return function(u){var i=o,f=!1,c;function l(s,p){if(p instanceof $)return f=!0,s;if(p instanceof Y){i=new Y(p.value0,s),u=p.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[s.constructor.name,p.constructor.name])}for(;!f;)c=l(i,u);return c}};return a($.value)})(),r=Yn($e)(Qn(n))(e);return function(a){return r(t(a))}}},foldl:function(n){var e=function(t){return function(r){var a=t,o=!1,u;function i(f,c){if(c instanceof $)return o=!0,f;if(c instanceof Y){a=n(f)(c.value0),r=c.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[c.constructor.name])}for(;!o;)u=i(a,r);return u}};return e},foldMap:function(n){var e=Q(n.Semigroup0()),t=fe(n);return function(r){return Yn($e)(function(a){var o=e(a);return function(u){return o(r(u))}})(t)}}},uF=Yn($e),Gk=He($e);var Uh={append:function(n){return function(e){return Gk(Y.create)(e)(n)}}},fF=Q(Uh);var cF={append:function(n){return function(e){return new Ba(n.value0,fF(n.value1)(Uk(e)))}}};var Is={traverse:function(n){var e=n.Apply0(),t=T(e.Functor0()),r=Rt(e),a=L(n);return function(o){var u=t(uF(Qn(Y.create))($.value)),i=uF(function(f){var c=r(Qn(Y.create))(f);return function(l){return c(o(l))}})(a($.value));return function(f){return u(i(f))}}},sequence:function(n){return We(Is)(n)(qk)},Functor0:function(){return Zo},Foldable1:function(){return $e}};var Vk={alt:fF,Functor0:function(){return Zo}},lF=(function(){return{empty:$.value,Alt0:function(){return Vk}}})();var ef=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var Jk=T(Xn);var be=(function(){function n(){}return n.value=new n,n})(),ye=(function(){function n(e,t,r,a,o,u){this.value0=e,this.value1=t,this.value2=r,this.value3=a,this.value4=o,this.value5=u}return n.create=function(e){return function(t){return function(r){return function(a){return function(o){return function(u){return new n(e,t,r,a,o,u)}}}}}},n})(),_F=(function(){function n(){}return n.value=new n,n})(),Bh=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),Jh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var Lm=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),sF=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),va=function(n,e,t,r){if(t instanceof be){if(r instanceof be)return new ye(1,1,n,e,t,r);if(r instanceof ye)return new ye(1+r.value0|0,1+r.value1|0,n,e,t,r);throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): "+[r.constructor.name])}if(t instanceof ye){if(r instanceof be)return new ye(1+t.value0|0,1+t.value1|0,n,e,t,r);if(r instanceof ye)return new ye(1+(function(){var a=t.value0>r.value0;return a?t.value0:r.value0})()|0,(1+t.value1|0)+r.value1|0,n,e,t,r);throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): "+[t.constructor.name])},zk=(function(){return Qn(Jh.create)(_F.value)})(),jk=function(n){return function(e){return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof _F)return o=!0,t(void 0);if(f instanceof Bh)return o=!0,e(f.value0,f.value1,f.value2);if(f instanceof Jh){a=n(f.value1)(f.value0);return}throw new Error("Failed pattern match at Data.Map.Internal (line 940, column 8 - line 946, column 20): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}}};var As=function(n){return function(e){return new ye(1,1,n,e,be.value,be.value)}},Ga=(function(){var n=function(r){if(r instanceof be)return 0;if(r instanceof ye)return r.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): "+[r.constructor.name])},e=function(r,a,o,u,i,f,c){return f instanceof ye&&f.value0>n(c)?va(f.value2,f.value3,va(r,a,o,f.value4),va(u,i,f.value5,c)):va(u,i,va(r,a,o,f),c)},t=function(r,a,o,u,i,f,c){return f instanceof ye&&n(i)<=f.value0?va(f.value2,f.value3,va(o,u,i,f.value4),va(r,a,f.value5,c)):va(o,u,i,va(r,a,f,c))};return function(r,a,o,u){if(o instanceof be)return u instanceof be?As(r)(a):u instanceof ye&&u.value0>1?e(r,a,o,u.value2,u.value3,u.value4,u.value5):va(r,a,o,u);if(o instanceof ye){if(u instanceof ye){if(u.value0>(o.value0+1|0))return e(r,a,o,u.value2,u.value3,u.value4,u.value5);if(o.value0>(u.value0+1|0))return t(r,a,o.value2,o.value3,o.value4,o.value5,u)}return u instanceof be&&o.value0>1?t(r,a,o.value2,o.value3,o.value4,o.value5,u):va(r,a,o,u)}throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): "+[o.constructor.name])}})(),Gh=ef("unsafeSplit","Data.Map.Internal",function(){return function(n,e,t){if(t instanceof be)return new Lm(v.value,be.value,be.value);if(t instanceof ye){var r=n(e)(t.value2);if(r instanceof Z){var a=Gh(793)(n,e,t.value4);return new Lm(a.value0,a.value1,Ga(t.value2,t.value3,a.value2,t.value5))}if(r instanceof K){var a=Gh(796)(n,e,t.value5);return new Lm(a.value0,Ga(t.value2,t.value3,t.value4,a.value1),a.value2)}if(r instanceof vn)return new Lm(new m(t.value3),t.value4,t.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): "+[t.constructor.name])}}),zh=Gh(786),mF=ef("unsafeSplitLast","Data.Map.Internal",function(){return function(n,e,t,r){if(r instanceof be)return new sF(n,e,t);if(r instanceof ye){var a=mF(779)(r.value2,r.value3,r.value4,r.value5);return new sF(a.value0,a.value1,Ga(n,e,t,a.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 776, column 37 - line 780, column 57): "+[r.constructor.name])}}),Qk=mF(775),jh=function(n,e){if(n instanceof be)return e;if(n instanceof ye){var t=Qk(n.value2,n.value3,n.value4,n.value5);return Ga(t.value0,t.value1,t.value2,e)}throw new Error("Failed pattern match at Data.Map.Internal (line 764, column 25 - line 768, column 38): "+[n.constructor.name,e.constructor.name])};var Vh=ef("unsafeUnionWith","Data.Map.Internal",function(){return function(n,e,t,r){if(t instanceof be)return r;if(r instanceof be)return t;if(r instanceof ye){var a=zh(n,r.value2,t),o=Vh(809)(n,e,a.value1,r.value4),u=Vh(810)(n,e,a.value2,r.value5);if(a.value0 instanceof m)return Ga(r.value2,e(a.value0.value0)(r.value3),o,u);if(a.value0 instanceof v)return Ga(r.value2,r.value3,o,u);throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): "+[a.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): "+[t.constructor.name,r.constructor.name])}}),Xk=Vh(803),Qh=function(n){var e=on(n);return function(t){return function(r){return function(a){return Xk(e,t,r,a)}}}},Ls=function(n){return Qh(n)(H)};var Xh=function(n){var e=on(n);return function(t){return function(r){var a=zh(e,t,r);return Jk(function(o){return new S(o,jh(a.value1,a.value2))})(a.value0)}}},Pm=function(n){var e=on(n);return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof be)return o=!0,!1;if(f instanceof ye){var c=e(t)(f.value2);if(c instanceof Z){a=f.value4;return}if(c instanceof K){a=f.value5;return}if(c instanceof vn)return o=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}};var Tt=function(n){var e=on(n);return function(t){var r=function(a){var o=!1,u;function i(f){if(f instanceof be)return o=!0,v.value;if(f instanceof ye){var c=e(t)(f.value2);if(c instanceof Z){a=f.value4;return}if(c instanceof K){a=f.value5;return}if(c instanceof vn)return o=!0,new m(f.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): "+[f.constructor.name])}for(;!o;)u=i(a);return u};return r}};var Yk=(function(){var n=function(e){return function(t){var r=e,a=!1,o;function u(i,f){if(f instanceof be)return a=!0,i;if(f instanceof ye){if(f.value5 instanceof be){r=new Bh(f.value2,f.value3,i),t=f.value4;return}r=new Bh(f.value2,f.value3,new Jh(f.value5,i)),t=f.value4;return}throw new Error("Failed pattern match at Data.Map.Internal (line 951, column 13 - line 958, column 48): "+[f.constructor.name])}for(;!a;)o=u(r,t);return o}};return n})(),Kk=jk(Yk);var Zk=(function(){var n=function(e,t,r){return new m(new S(new S(e,t),r))};return Kk(n)(function(e){return v.value})})(),tf=function(n){var e=Oa(n)(Zk);return function(t){return e(zk(t))}};var ut=function(n){var e=on(n);return function(t){return function(r){var a=function(o){if(o instanceof be)return As(t)(r);if(o instanceof ye){var u=e(t)(o.value2);if(u instanceof Z)return Ga(o.value2,o.value3,a(o.value4),o.value5);if(u instanceof K)return Ga(o.value2,o.value3,o.value4,a(o.value5));if(u instanceof vn)return new ye(o.value0,o.value1,t,r,o.value4,o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): "+[u.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): "+[o.constructor.name])};return a}}},Ns={map:function(n){var e=function(t){if(t instanceof be)return be.value;if(t instanceof ye)return new ye(t.value0,t.value1,t.value2,n(t.value3),e(t.value4),e(t.value5));throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 10 - line 150, column 39): "+[t.constructor.name])};return e}};var rf={foldr:function(n){return function(e){var t=ef("go","Data.Map.Internal",function(){return function(a,o){if(a instanceof be)return o;if(a instanceof ye)return t(172)(a.value4,n(a.value3)(t(172)(a.value5,o)));throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): "+[a.constructor.name])}}),r=t(169);return function(a){return r(a,e)}}},foldl:function(n){return function(e){var t=ef("go","Data.Map.Internal",function(){return function(a,o){if(o instanceof be)return a;if(o instanceof ye)return t(178)(n(t(178)(a,o.value4))(o.value3),o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): "+[o.constructor.name])}}),r=t(175);return function(a){return r(e,a)}}},foldMap:function(n){var e=fe(n),t=Q(n.Semigroup0());return function(r){var a=function(o){if(o instanceof be)return e;if(o instanceof ye)return t(a(o.value4))(t(r(o.value3))(a(o.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): "+[o.constructor.name])};return a}}},Rm={foldrWithIndex:function(n){return function(e){var t=ef("go","Data.Map.Internal",function(){return function(a,o){if(a instanceof be)return o;if(a instanceof ye)return t(192)(a.value4,n(a.value2)(a.value3)(t(192)(a.value5,o)));throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): "+[a.constructor.name])}}),r=t(189);return function(a){return r(a,e)}}},foldlWithIndex:function(n){return function(e){var t=ef("go","Data.Map.Internal",function(){return function(a,o){if(o instanceof be)return a;if(o instanceof ye)return t(198)(n(o.value2)(t(198)(a,o.value4))(o.value3),o.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): "+[o.constructor.name])}}),r=t(195);return function(a){return r(e,a)}}},foldMapWithIndex:function(n){var e=fe(n),t=Q(n.Semigroup0());return function(r){var a=function(o){if(o instanceof be)return e;if(o instanceof ye)return t(a(o.value4))(t(r(o.value2)(o.value3))(a(o.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): "+[o.constructor.name])};return a}},Foldable0:function(){return rf}},vF=(function(){return nf(Rm)(function(n){return function(e){return function(t){return new Y(n,t)}}})($.value)})();var Ps=(function(){return He(rf)(Y.create)($.value)})();var ie=(function(){return be.value})(),Va=function(n){var e=ut(n);return function(t){return Yn(t)(function(r){return function(a){return e(a.value0)(a.value1)(r)}})(ie)}};var xc=function(n){var e=on(n);return function(t){var r=function(a){if(a instanceof be)return be.value;if(a instanceof ye){var o=e(t)(a.value2);if(o instanceof Z)return Ga(a.value2,a.value3,r(a.value4),a.value5);if(o instanceof K)return Ga(a.value2,a.value3,a.value4,r(a.value5));if(o instanceof vn)return jh(a.value4,a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 7 - line 501, column 43): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 8 - line 501, column 43): "+[a.constructor.name])};return r}};var Ic=function(n){var e=on(n);return function(t){return function(r){return function(a){var o=zh(e,r,a),u=t(o.value0);if(u instanceof v)return jh(o.value1,o.value2);if(u instanceof m)return Ga(r,u.value0,o.value1,o.value2);throw new Error("Failed pattern match at Data.Map.Internal (line 514, column 3 - line 518, column 41): "+[u.constructor.name])}}}};var eq=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})();var Om=function(n){return eq.create(tn(n.Eq0()))(on(n))},tq={eq:function(n){return function(e){return n.value0(n.value2)(e.value2)}}},dF={compare:function(n){return function(e){return n.value1(n.value2)(e.value2)}},Eq0:function(){return tq}};var Yh=Si(ee)(dF);var iq=Xh(Yh),fq=Tt(Yh),cq=ut(Yh);var DF=function(){return function(n){var e=st(n);return function(t){var r=Om(t);return function(a){return function(o){return function(u){return iq(new S(e(a),r(o)))(u)}}}}}},Hm=function(){return function(n){var e=st(n);return function(t){var r=Om(t);return function(a){return function(o){return function(u){return fq(new S(e(a),r(o)))(u)}}}}}},gF=function(){return function(n){var e=st(n);return function(t){var r=Om(t);return function(a){return function(o){return function(u){return function(i){return cq(new S(e(a),r(o)))(u)(i)}}}}}}},hF=function(n){var e=Ve(n)(rf);return function(t){return function(r){return e(function(a){return r(a)})(t)}}},Ac=ie;var Kh=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),af=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();function bF(n,e,t){return n==null?e:t(n)}function Hs(n){return n}var it=Se(null)(Hs),_e=function(n){return bF(n,v.value,m.create)};var ze=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Ws=A,Lr=function(n,e){return n.value2(n.value1,e)},je=A,Nr=function(n){return n.value3(n.value1)},er=Ws(function(n){return n.value0});var TF=T(gn),Sq=T(Iu);var ju=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),nu=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Qu=(function(){function n(e,t,r,a){this.value0=e,this.value1=t,this.value2=r,this.value3=a}return n.create=function(e){return function(t){return function(r){return function(a){return new n(e,t,r,a)}}}},n})(),Xu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),eu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),xq=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),EF=function(n){return function(e){return n(e)}};var Iq=A;var Aq={bimap:function(n){return function(e){return EF(function(t){return Iq(new xq(function(r){return n(t.value0(r))},function(r){return e(t.value1(r))},t.value2))})}}},Lq=Do(Aq);var of=EF(function(n){var e=function(t){if(t instanceof ju)return new ju(t.value0);if(t instanceof nu)return new nu(t.value0,t.value1,n.value0(t.value2),TF(e)(t.value3));if(t instanceof Qu)return new Qu(t.value0,t.value1,n.value0(t.value2),TF(Sq(e))(t.value3));if(t instanceof Xu)return new Xu(n.value1(t.value0));if(t instanceof eu)return new eu(Lq(n.value0)(n.value1)(t.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[t.constructor.name])};return e(n.value2)});function uf(n,e){return e[n]}function ny(n,e){return e.hasOwnProperty(n)}function tu(n,e,t){t[n]=e}function ey(n,e){for(var t=[],r=0;r<n.length;r++)t.push(e(r,n[r]));return t}function ty(n,e){for(var t=0;t<n.length;t++)e(n[t])}function ry(n,e){for(var t=Object.keys(n),r=0;r<t.length;r++){var a=t[r];e(a,n[a])}}function ay(n,e,t,r,a){for(var o=[],u=n.length,i=e.length,f=0;;){if(f<u)f<i?o.push(t(f,n[f],e[f])):r(f,n[f]);else if(f<i)o.push(a(f,e[f]));else break;f++}return o}function $s(n,e,t){for(var r={},a=0;a<n.length;a++){var o=n[a],u=e(o);r[u]=t(u,a,o)}return r}function ks(n,e,t,r,a,o){for(var u={},i=0;i<e.length;i++){var f=e[i],c=t(f);n.hasOwnProperty(c)?u[c]=r(c,i,n[c],f):u[c]=o(c,i,f)}for(var c in n)c in u||a(c,n[c]);return u}function ff(n,e){return n===e}function oy(n,e){return e.createTextNode(n)}function uy(n,e){e.textContent=n}function km(n,e,t){return n!=null?t.createElementNS(n,e):t.createElement(e)}function Yu(n,e,t){var r=t.childNodes.item(n)||null;r!==e&&t.insertBefore(e,r)}function qs(n,e){e&&n.parentNode===e&&e.removeChild(n)}function Us(n){return n.parentNode}function qm(n,e,t,r){n!=null?r.setAttributeNS(n,e,t):r.setAttribute(e,t)}function Um(n,e,t){n!=null?t.removeAttributeNS(n,e):t.removeAttribute(e)}function iy(n,e,t){return n!=null?t.hasAttributeNS(n,e):t.hasAttribute(e)}function fy(n,e,t){t.addEventListener(n,e,!1)}function cy(n,e,t){t.removeEventListener(n,e,!1)}var ly=void 0;var Bs=function(){return{}};function Bm(n){return function(e){return function(t){return function(){return t[n]=e,t}}}}var sy=uf,py=A,_y=tu,my=Bs;var Gm=function(n){return function(e){return e[n]}},Hq=Gm("namespaceURI"),Wq=Gm("prefix"),$q=Gm("localName"),kq=Gm("tagName");function Vm(n){return function(){return n.classList}}function Gs(n){return function(e){return function(t){return function(){t.setAttribute(n,e)}}}}var Jm=function(n){return function(e){return function(){return e[n]}}},Uq=Jm("children"),Bq=Jm("firstElementChild"),Gq=Jm("lastElementChild"),Vq=Jm("childElementCount");function CF(n){return function(e){return function(){return e.querySelector(n)}}}function zm(n){return function(e){return function(){return e.querySelectorAll(n)}}}var zq=T(Ln);var Ja=function(n){var e=zq(_e),t=CF(n);return function(r){return e(t(r))}};function MF(n,e,t,r){if(typeof window<"u"){var a=window[t];if(a!=null&&r instanceof a)return e(r)}for(var o=r;o!=null;){var u=Object.getPrototypeOf(o),i=u.constructor.name;if(i===t)return e(r);if(i==="Object")return n;o=u}return n}var ln=function(n){return function(e){return MF(v.value,m.create,n,e)}};var dy=A;var lr=A;var Dy=ln("Element");var Js=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var gy=function(n){return Nr(n.widget)},hy=Js("patchWidget","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof eu)return hy(291)(n,of(e.value0));if(e instanceof Xu){var t=Lr(n.widget,e.value0),r=Ws(function(a){return je(new ze(a.value0,{build:n.build,widget:t},hy(296),gy))})(t);return r}return gy(n),n.build(e)}}),Yq=hy(286),Qm=function(n){var e=Us(n.node);return qs(n.node,e)},Xm=Js("patchText","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof eu)return Xm(82)(n,of(e.value0));if(e instanceof ju){if(n.value===e.value0)return je(new ze(n.node,n,Xm(85),Qm));if(pe){var t={build:n.build,node:n.node,value:e.value0};return uy(e.value0,n.node),je(new ze(n.node,t,Xm(89),Qm))}}return Qm(n),n.build(e)}}),Kq=Xm(77),Ym=function(n){var e=Us(n.node);return qs(n.node,e),ry(n.children,function(t,r){return Nr(r)}),Nr(n.attrs)},Km=function(n){var e=Us(n.node);return qs(n.node,e),ty(n.children,Nr),Nr(n.attrs)},FF=function(n,e,t,r){var a=e===r;return a?n instanceof m&&t instanceof m&&n.value0===t.value0||n instanceof v&&t instanceof v:!1},Zm=Js("patchElem","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof eu)return Zm(135)(n,of(e.value0));if(e instanceof nu&&FF(n.ns,n.name,e.value0,e.value1)){var t=X(e.value3),r=X(n.children);if(r===0&&t===0){var f=Lr(n.attrs,e.value2),c={build:n.build,node:n.node,attrs:f,ns:e.value0,name:e.value1,children:n.children};return je(new ze(n.node,c,Zm(149),Km))}var a=function(l,s){return Nr(s)},o=function(l,s,p){var _=Lr(s,p);return Yu(l,er(_),n.node),_},u=function(l,s){var p=n.build(s);return Yu(l,er(p),n.node),p},i=ay(n.children,e.value3,o,a,u),f=Lr(n.attrs,e.value2),c={build:n.build,node:n.node,attrs:f,ns:e.value0,name:e.value1,children:i};return je(new ze(n.node,c,Zm(172),Km))}return Km(n),n.build(e)}}),Zq=Zm(130),nv=Js("patchKeyed","Halogen.VDom.DOM",function(){return function(n,e){if(e instanceof eu)return nv(222)(n,of(e.value0));if(e instanceof Qu&&FF(n.ns,n.name,e.value0,e.value1)){var t=X(e.value3);if(n.length===0&&t===0){var i=Lr(n.attrs,e.value2),f={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:n.children,length:0};return je(new ze(n.node,f,nv(237),Ym))}var r=function(c,l){return Nr(l)},a=function(c,l,s,p){var _=Lr(s,p.value1);return Yu(l,er(_),n.node),_},o=function(c,l,s){var p=n.build(s.value1);return Yu(l,er(p),n.node),p},u=ks(n.children,e.value3,Fe,a,r,o),i=Lr(n.attrs,e.value2),f={build:n.build,node:n.node,attrs:i,ns:e.value0,name:e.value1,children:u,length:t};return je(new ze(n.node,f,nv(261),Ym))}return Ym(n),n.build(e)}}),nU=nv(217),eU=function(n,e,t){var r=n.buildWidget(n)(t),a=Ws(function(o){return je(new ze(o.value0,{build:e,widget:r},Yq,gy))})(r);return a},tU=function(n,e,t){var r=oy(t,n.document),a={build:e,node:r,value:t};return je(new ze(r,a,Kq,Qm))},rU=function(n,e,t,r,a,o){var u=km(it(t),r,n.document),i=lr(u),f=function(p,_,d){var g=e(d.value1);return Yu(_,er(g),i),g},c=$s(o,Fe,f),l=n.buildAttributes(u)(a),s={build:e,node:i,attrs:l,ns:t,name:r,children:c,length:X(o)};return je(new ze(i,s,nU,Ym))},aU=function(n,e,t,r,a,o){var u=km(it(t),r,n.document),i=lr(u),f=function(p,_){var d=e(_);return Yu(p,er(d),i),d},c=ey(o,f),l=n.buildAttributes(u)(a),s={build:e,node:i,attrs:l,ns:t,name:r,children:c};return je(new ze(i,s,Zq,Km))},zs=function(n){var e=Js("build","Halogen.VDom.DOM",function(){return function(r){if(r instanceof ju)return tU(n,e(59),r.value0);if(r instanceof nu)return aU(n,e(60),r.value0,r.value1,r.value2,r.value3);if(r instanceof Qu)return rU(n,e(61),r.value0,r.value1,r.value2,r.value3);if(r instanceof Xu)return eU(n,e(62),r.value0);if(r instanceof eu)return e(63)(of(r.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[r.constructor.name])}}),t=e(58);return t};function ev(n){return typeof n}function tv(n){return Object.prototype.toString.call(n).slice(8,-1)}var xF=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function Co(n){return new Error(n)}function js(n){return n.message}function Ku(n){return function(){throw n}}var AF=function(n){return Ku(Co(n))};var Pr=function(n){return n.throwError};var Mo=function(n){return n.catchError};var Qs=function(n){var e=Mo(n),t=n.MonadThrow0().Monad0(),r=T(t.Bind1().Apply0().Functor0()),a=L(t.Applicative0());return function(o){return e(r(B.create)(o))(function(u){return a(en.create(u))})}};var fU=T(Jo);var Ty=function(n){return n};var Ey=function(n){return n};var ov=function(n){return function(e){return n(e)}},LF=function(n){var e=T(n);return{map:function(t){return ov(e(fU(t)))}}};var NF=function(n){return{Applicative0:function(){return Rc(n)},Bind1:function(){return ep(n)}}},ep=function(n){var e=V(n.Bind1()),t=L(n.Applicative0());return{bind:function(r){return function(a){return e(r)(Dr(function(o){return t(en.create(o))})(function(o){var u=a(o);return u}))}},Apply0:function(){return wy(n)}}},wy=function(n){var e=LF(n.Bind1().Apply0().Functor0());return{apply:ir(NF(n)),Functor0:function(){return e}}},Rc=function(n){return{pure:(function(){var e=L(n.Applicative0());return function(t){return Ty(e(B.create(t)))}})(),Apply0:function(){return wy(n)}}};var PF=function(n){var e=NF(n);return{throwError:(function(){var t=L(n.Applicative0());return function(r){return Ty(t(en.create(r)))}})(),Monad0:function(){return e}}};var RF=function(n){var e=Q(n);return function(t){var r=t.Bind1(),a=V(r),o=L(t.Applicative0()),u=LF(r.Apply0().Functor0());return{alt:function(i){return function(f){return a(i)(function(c){if(c instanceof B)return o(new B(c.value0));if(c instanceof en)return a(f)(function(l){if(l instanceof B)return o(new B(l.value0));if(l instanceof en)return o(new en(e(c.value0)(l.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[l.constructor.name])});throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[c.constructor.name])})}},Functor0:function(){return u}}}};var mU=Yn($e);var ni=(function(){var n=function(e){return function(t){var r=e,a=!1,o;function u(i,f){if(f instanceof $)return a=!0,i;if(f instanceof Y){r=new Y(f.value0,i),t=f.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[i.constructor.name,f.constructor.name])}for(;!a;)o=u(r,t);return o}};return n($.value)})();var lf=function(n){return function(e){return function(t){var r=function(a){return function(o){return function(u){var i=a,f=o,c=!1,l;function s(p,_,d){if(p instanceof $||_ instanceof $)return c=!0,d;if(p instanceof Y&&_ instanceof Y){i=p.value1,f=_.value1,u=new Y(n(p.value0)(_.value0),d);return}throw new Error("Failed pattern match at Data.List (line 779, column 3 - line 779, column 21): "+[p.constructor.name,_.constructor.name,d.constructor.name])}for(;!c;)l=s(i,f,u);return l}}};return ni(r(e)(t)($.value))}}};var OF=function(n){return n instanceof $};var uv=mU(function(n){return function(e){return n+1|0}})(0);var ei=function(n){return He(n)(Y.create)($.value)};var HF=function(n){return n()};var WF=function(n){throw new Error(n)};var $F=function(){return WF};var gU=$F(),hU=HF,sr=function(n){return hU(function(){return gU(n)})};var fv=(function(){var n=kh(lF);return function(e){return qh(n(e))}})();var kF=function(n){return n.value0};var qF=function(n){return function(e){return new Ba(n,new Y(e.value0,e.value1))}};var EU=q(Sr),wU=q(Ae);var Cy=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),My=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),GF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),VF=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),au=A,CU=A;var lv=function(n){if(n instanceof Cy)return n.value0;if(n instanceof GF)return"Error at array index "+(wU(n.value0)+(": "+lv(n.value1)));if(n instanceof VF)return"Error at property "+(EU(n.value0)+(": "+lv(n.value1)));if(n instanceof My)return"Type mismatch: expected "+(n.value0+(", found "+n.value1));throw new Error("Failed pattern match at Foreign (line 78, column 1 - line 78, column 45): "+[n.constructor.name])};var sv=function(n){var e=Pr(PF(n));return function(t){return e(fv(t))}};var JF=function(n){var e=L(Rc(n)),t=sv(n);return function(r){return function(a){if(tv(a)===r)return e(CU(a));if(pe)return t(new My(r,tv(a)));throw new Error("Failed pattern match at Foreign (line 123, column 1 - line 123, column 104): "+[r.constructor.name,a.constructor.name])}}};function zF(n){return function(){var e={};for(var t in n)hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}}var Rr={};function _v(n){return n()}function jF(n,e){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=e(n[r]));return t}function QF(n,e){var t={};for(var r in n)hasOwnProperty.call(n,r)&&(t[r]=e(r)(n[r]));return t}function XF(n){return function(e){return function(t){return function(r){var a=t;function o(i){return function(f){return e(f)(i)(r[i])}}for(var u in r)hasOwnProperty.call(r,u)&&(a=n(a)(o(u)));return a}}}}function mv(n){var e=0;for(var t in n)hasOwnProperty.call(n,t)&&++e;return e}function YF(n,e,t,r){return t in r?e(r[t]):n}function Oc(n){return function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(n(r)(e[r]));return t}}var vv=Object.keys||Oc(function(n){return function(){return n}});var SU=ce(Ii),KF=He(cn),xU=Dn(yn);var IU=Oc(function(n){return function(e){return e}}),ZF=function(n){var e=Ag(n),t=Oc(S.create);return function(r){return e(t(r))}};var AU=zF;var LU=function(n){return function(e){return _v(function(){var r=AU(e)();return n(r)(),r})}};var NU=function(n){return function(e){return QF(e,n)}},Ge=(function(){return Li(YF)(v.value)(m.create)})();var Fy=function(n){return function(e){return LU(Bm(n)(e))}},nS={map:function(n){return function(e){return jF(e,n)}}},PU={mapWithIndex:NU,Functor0:function(){return nS}};var Qa=function(n){var e=Qr(n);return function(t){return _v(function(){var a=Bs();return rs(e(t))(function(o){return SU(Bm(o.value0)(o.value1)(a))})(),a})}};var dv=XF(TE),eS=function(n){var e=Q(n.Semigroup0()),t=fe(n);return function(r){return dv(function(a){return function(o){return function(u){return e(a)(r(o)(u))}}})(t)}},tS={foldl:function(n){return dv(function(e){return function(t){return n(e)}})},foldr:function(n){return function(e){return function(t){return KF(n)(e)(IU(t))}}},foldMap:function(n){var e=eS(n);return function(t){return e(H(t))}}},RU={foldlWithIndex:function(n){return dv(Qn(n))},foldrWithIndex:function(n){return function(e){return function(t){return KF(B_(n))(e)(Oc(S.create)(t))}}},foldMapWithIndex:function(n){return eS(n)},Foldable0:function(){return tS}},OU={traverseWithIndex:function(n){var e=n.Apply0(),t=Zn(e),r=T(e.Functor0()),a=L(n);return function(o){return function(u){return dv(function(i){return function(f){return function(c){return t(r(Qn(Fy(f)))(i))(o(f)(c))}}})(a(Rr))(u)}}},FunctorWithIndex0:function(){return PU},FoldableWithIndex1:function(){return RU},Traversable2:function(){return Dv}},Dv={traverse:function(n){var e=zu(OU)(n);return function(t){return e(H(t))}},sequence:function(n){return We(Dv)(n)(xU)},Functor0:function(){return nS},Foldable1:function(){return tS}};function gv(n){return function(){return function(e){return n(e)()}}}var $U=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var oS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),uS=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ou=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),ti=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),ri=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Hc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),kU=uf,Sy=tu,qU=function(n,e){var t=iy(null,n,e);if(t)return Um(null,n,e);var r=ev(uf(n,e));return r==="string"?tu(n,"",e):n==="rowSpan"?tu(n,1,e):n==="colSpan"?tu(n,1,e):tu(n,ly,e)},aS=function(n){if(n instanceof ou&&n.value0 instanceof m)return"attr/"+(n.value0.value0+(":"+n.value1));if(n instanceof ou)return"attr/:"+n.value1;if(n instanceof ti)return"prop/"+n.value0;if(n instanceof ri)return"handler/"+n.value0;if(n instanceof Hc)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[n.constructor.name])},iS=A;var fS=A;var cS=function(n){return function(e){var t=function(l){return function(s,p){if(p instanceof ou)return Um(it(p.value0),p.value1,e);if(p instanceof ti)return qU(p.value0,e);if(p instanceof ri){var _=sy(p.value0,l);return cy(p.value0,Fe(_),e)}if(p instanceof Hc)return void 0;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[p.constructor.name])}},r=function(l){return l instanceof m?n(l.value0)():void 0},a=function(l){var s=Ge("ref")(l.props);return s instanceof m&&s.value0 instanceof Hc?r(s.value0.value0(new uS(e))):void 0},o=function(l,s){return function(p,_,d,g){if(d instanceof ou&&g instanceof ou){var D=d.value2===g.value2;return D||qm(it(g.value0),g.value1,g.value2,e),g}if(d instanceof ti&&g instanceof ti){var b=ff(d.value1,g.value1);if(b)return g;if(g.value0==="value"){var I=kU("value",e),M=ff(I,g.value1);return M||Sy(g.value0,g.value1,e),g}return Sy(g.value0,g.value1,e),g}if(d instanceof ri&&g instanceof ri){var h=sy(g.value0,l);return rn(g.value1)(ge(h))(),_y(g.value0,h,s),g}return g}},u=function(l){return function(s,p,_){if(_ instanceof ou)return qm(it(_.value0),_.value1,_.value2,e),_;if(_ instanceof ti)return Sy(_.value0,_.value1,e),_;if(_ instanceof ri){var d=uf(_.value0,l);if(ny(_.value0,l))return rn(_.value1)(ge(d))(),_;var g=zn(_.value1)(),D=gv(function(b){return function(){var M=R(g)();return r(M(b))}})();return _y(_.value0,new S(D,g),l),fy(_.value0,D,e),_}if(_ instanceof Hc)return r(_.value0(new oS(e))),_;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[_.constructor.name])}},i=$U("patchProp","Halogen.VDom.DOM.Prop",function(){return function(l,s){var p=my(),_=t(l.events),d=o(l.events,p),g=u(p),D=ks(l.props,s,aS,d,_,g),b={events:py(p),props:D};return je(new ze(void 0,b,i(100),a))}}),f=i(87),c=function(l){var s=my(),p=$s(l,aS,u(s)),_={events:py(s),props:p};return je(new ze(void 0,_,f,a))};return c}};var Iy=function(n){return n},_S=function(n){return Iy(Xu.create(n))},GU=function(n){return n.toPropValue},et=function(n){return Iy(ju.create(n))};var mS=function(n){var e=GU(n);return function(t){var r=ti.create(t);return function(a){return r(e(a))}}};var vS={toPropValue:iS};var dS={toPropValue:fS};var Ay=(function(){return ri.create})(),Ly=function(n){return function(e){return function(t){return function(r){return new nu(n,e,t,r)}}}};var DS=function(n){return function(e){return ou.create(n)(e)}};var VU=Dn(yn);var hv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ny=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Py=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),gS=function(n){return function(e){return new Py(n,e)}},hS=(function(){return Ny.create})(),yS=function(n){var e=L(n);return function(t){return function(r){return function(a){return function(o){return function(u){if(o instanceof hv)return new S(new Y({func:e(o.value0),count:u},t),r);if(o instanceof Ny)return new S(new Y({func:a(o.value0),count:u},t),r);if(o instanceof Py)return yS(n)(t)(qF(o.value1)(r))(a)(o.value0)(u+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[o.constructor.name])}}}}}},bS=function(n){var e=Zn(n.Apply0());return function(t){return function(r){return function(a){if(t instanceof $)return new en(a);if(t instanceof Y){var o=e(t.value0.func)(a),u=t.value0.count===1;if(u)return t.value1 instanceof $?new en(o):bS(n)(t.value1)(r)(o);if(r instanceof $)return new en(o);if(r instanceof Y)return new B(new S(new Y({func:o,count:t.value0.count-1|0},t.value1),new Ba(r.value0,r.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[r.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[t.constructor.name])}}}},TS={map:function(n){return function(e){return gS(new hv(n))(e)}}},ES=function(n){var e=bS(n),t=L(n),r=yS(n);return function(a){return function(o){var u=function(i){var f=!1,c;function l(s){if(s.value1.value0 instanceof hv){var p=e(s.value0)(s.value1.value1)(t(s.value1.value0.value0));if(p instanceof en)return f=!0,p.value0;if(p instanceof B){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[p.constructor.name])}if(s.value1.value0 instanceof Ny){var p=e(s.value0)(s.value1.value1)(a(s.value1.value0.value0));if(p instanceof en)return f=!0,p.value0;if(p instanceof B){i=p.value0;return}throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[p.constructor.name])}if(s.value1.value0 instanceof Py){var _=new Ba(s.value1.value0.value1,s.value1.value1);i=r(s.value0)(_)(a)(s.value1.value0.value0)(1);return}throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[s.value1.value0.constructor.name])}for(;!f;)c=l(i);return c};return u(new S($.value,fv(o)))}}},wS=function(n){return ES(n)(VU)},CS={apply:function(n){return function(e){return gS(n)(e)}},Functor0:function(){return TS}},MS=(function(){return{pure:hv.create,Apply0:function(){return CS}}})(),JU=ES(MS),Ry=function(n){return JU(function(e){return hS(n(e))})};var yv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var SS=function(n){var e=!1,t;function r(a){if(a.value0 instanceof $&&a.value1 instanceof $)return e=!0,v.value;if(a.value0 instanceof $){n=new yv(ni(a.value1),$.value);return}if(a.value0 instanceof Y)return e=!0,new m(new S(a.value0.value0,new yv(a.value0.value1,a.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[a.constructor.name])}for(;!e;)t=r(n);return t},xS=function(n){return function(e){return new yv(n.value0,new Y(e,n.value1))}};var IS=function(n){return n.value0 instanceof $&&n.value1 instanceof $};var AS=(function(){return new yv($.value,$.value)})();var Wc=(function(){function n(){}return n.value=new n,n})(),bv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var LS=function(n){return function(e){if(n instanceof Wc)return e;if(e instanceof Wc)return n;if(n instanceof bv)return new bv(n.value0,xS(n.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[n.constructor.name,e.constructor.name])}},jU=function(n){return function(e){return function(t){var r=function(o){return function(u){return function(i){var f=o,c=u,l=!1,s;function p(_,d,g){if(g instanceof $)return l=!0,d;if(g instanceof Y){f=_,c=_(d)(g.value0),i=g.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[_.constructor.name,d.constructor.name,g.constructor.name])}for(;!l;)s=p(f,c,i);return s}}},a=function(o){return function(u){var i=o,f=!1,c;function l(s,p){var _=SS(s);if(_ instanceof v)return f=!0,r(function(d){return function(g){return g(d)}})(e)(p);if(_ instanceof m){i=_.value0.value1,u=new Y(n(_.value0.value0),p);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[_.constructor.name])}for(;!f;)c=l(i,u);return c}};return a(t)($.value)}}},Oy=function(n){if(n instanceof Wc)return v.value;if(n instanceof bv)return new m(new S(n.value0,(function(){var e=IS(n.value1);return e?Wc.value:jU(LS)(Wc.value)(n.value1)})()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[n.constructor.name])};var NS=(function(){return Wc.value})(),PS=LS;var Hy={append:PS};var RS=function(n){return function(e){return PS(n)(new bv(e,AS))}};var QU=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},XU=Q(Hy);var Wy=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Tv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ev=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),YU=function(n){var e=!1,t;function r(a){var o=function(f){return f},u=function(f){return function(c){return new Wy(f.value0,XU(f.value1)(c))}};if(a.value0 instanceof Tv){var i=Oy(a.value1);if(i instanceof v)return e=!0,new Tv(a.value0.value0);if(i instanceof m){n=u(o(i.value0.value0)(a.value0.value0))(i.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(a.value0 instanceof Ev)return e=!0,new Ev(a.value0.value0,function(f){return u(a.value0.value1(f))(a.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[a.value0.constructor.name])}for(;!e;)t=r(n);return t};var HS=function(n){return new Wy(n,NS)};var $y={Applicative0:function(){return tp},Bind1:function(){return wv}},ky={map:function(n){return function(e){return Ue(wv)((function(){var t=L(tp);return function(r){return t(n(r))}})())(e)}}},wv={bind:function(n){return function(e){return new Wy(n.value0,RS(n.value1)(e))}},Apply0:function(){return WS(0)}},tp={pure:function(n){return HS(Tv.create(n))},Apply0:function(){return WS(0)}},WS=QU("freeApply","Control.Monad.Free",function(){return{apply:ir($y),Functor0:function(){return ky}}});var KU=L(tp);var pf=function(n){return HS(new Ev(n,function(e){return KU(e)}))};var $S=function(n){var e=n.Monad0(),t=T(e.Bind1().Apply0().Functor0()),r=L(e.Applicative0()),a=ia(n);return function(o){var u=function(i){var f=YU(i);if(f instanceof Tv)return t(It.create)(r(f.value0));if(f instanceof Ev)return t(function(c){return Ht.create(f.value1(c))})(o(f.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[f.constructor.name])};return a(u)}};var $c=function(n){var e=null;return function(){return n===void 0||(e=n(),n=void 0),e}},kc=function(n){return n()};var kt=(function(){var n={},e="Pure",t="Throw",r="Catch",a="Sync",o="Async",u="Bind",i="Bracket",f="Fork",c="Sequential",l="Map",s="Apply",p="Alt",_="Cons",d="Resume",g="Release",D="Finalizer",b="Finalized",I="Forked",M="Fiber",h="Thunk";function y(nn,xn,re,qn){this.tag=nn,this._1=xn,this._2=re,this._3=qn}function C(nn){var xn=function(re,qn,fn){return new y(nn,re,qn,fn)};return xn.tag=nn,xn}function P(nn){return new y(e,void 0)}function k(nn){try{nn()}catch(xn){setTimeout(function(){throw xn},0)}}function sn(nn,xn,re){try{return xn(re())}catch(qn){return nn(qn)}}function U(nn,xn,re){try{return xn(re)()}catch(qn){return re(nn(qn))(),P}}var J=(function(){var nn=1024,xn=0,re=0,qn=new Array(nn),fn=!1;function O(){var ne;for(fn=!0;xn!==0;)xn--,ne=qn[re],qn[re]=void 0,re=(re+1)%nn,ne();fn=!1}return{isDraining:function(){return fn},enqueue:function(ne){var Gn,Ce;xn===nn&&(Ce=fn,O(),fn=Ce),qn[(re+xn)%nn]=ne,xn++,fn||O()}}})();function jn(nn){var xn={},re=0,qn=0;return{register:function(fn){var O=re++;fn.onComplete({rethrow:!0,handler:function(ne){return function(){qn--,delete xn[O]}}})(),xn[O]=fn,qn++},isEmpty:function(){return qn===0},killAll:function(fn,O){return function(){if(qn===0)return O();var ne=0,Gn={};function Ce(ae){Gn[ae]=xn[ae].kill(fn,function(Te){return function(){delete Gn[ae],ne--,nn.isLeft(Te)&&nn.fromLeft(Te)&&setTimeout(function(){throw nn.fromLeft(Te)},0),ne===0&&O()}})()}for(var Me in xn)xn.hasOwnProperty(Me)&&(ne++,Ce(Me));return xn={},re=0,qn=0,function(ae){return new y(a,function(){for(var Te in Gn)Gn.hasOwnProperty(Te)&&Gn[Te]()})}}}}}var Hn=0,E=1,G=2,x=3,j=4,mn=5,Cn=6;function Pn(nn,xn,re){var qn=0,fn=Hn,O=re,ne=null,Gn=null,Ce=null,Me=null,ae=null,Te=0,mr=0,gt=null,Br=!0;function Vt(En){for(var hn,Vn,Kn;;)switch(hn=null,Vn=null,Kn=null,fn){case G:fn=E;try{O=Ce(O),Me===null?Ce=null:(Ce=Me._1,Me=Me._2)}catch(Mt){fn=mn,ne=nn.left(Mt),O=null}break;case x:nn.isLeft(O)?(fn=mn,ne=O,O=null):Ce===null?fn=mn:(fn=G,O=nn.fromRight(O));break;case E:switch(O.tag){case u:Ce&&(Me=new y(_,Ce,Me)),Ce=O._2,fn=E,O=O._1;break;case e:Ce===null?(fn=mn,O=nn.right(O._1)):(fn=G,O=O._1);break;case a:fn=x,O=sn(nn.left,nn.right,O._1);break;case o:fn=j,O=U(nn.left,O._1,function(Mt){return function(){qn===En&&(qn++,J.enqueue(function(){qn===En+1&&(fn=x,O=Mt,Vt(qn))}))}});return;case t:fn=mn,ne=nn.left(O._1),O=null;break;case r:Ce===null?ae=new y(_,O,ae,Gn):ae=new y(_,O,new y(_,new y(d,Ce,Me),ae,Gn),Gn),Ce=null,Me=null,fn=E,O=O._1;break;case i:Te++,Ce===null?ae=new y(_,O,ae,Gn):ae=new y(_,O,new y(_,new y(d,Ce,Me),ae,Gn),Gn),Ce=null,Me=null,fn=E,O=O._1;break;case f:fn=x,hn=Pn(nn,xn,O._2),xn&&xn.register(hn),O._1&&hn.run(),O=nn.right(hn);break;case c:fn=E,O=Pe(nn,xn,O._1);break}break;case mn:if(Ce=null,Me=null,ae===null)fn=Cn,O=Gn||ne||O;else switch(hn=ae._3,Kn=ae._1,ae=ae._2,Kn.tag){case r:Gn&&Gn!==hn&&Te===0?fn=mn:ne&&(fn=E,O=Kn._2(nn.fromLeft(ne)),ne=null);break;case d:Gn&&Gn!==hn&&Te===0||ne?fn=mn:(Ce=Kn._1,Me=Kn._2,fn=G,O=nn.fromRight(O));break;case i:Te--,ne===null&&(Vn=nn.fromRight(O),ae=new y(_,new y(g,Kn._2,Vn),ae,hn),(Gn===hn||Te>0)&&(fn=E,O=Kn._3(Vn)));break;case g:ae=new y(_,new y(b,O,ne),ae,Gn),fn=E,Gn&&Gn!==hn&&Te===0?O=Kn._1.killed(nn.fromLeft(Gn))(Kn._2):ne?O=Kn._1.failed(nn.fromLeft(ne))(Kn._2):O=Kn._1.completed(nn.fromRight(O))(Kn._2),ne=null,Te++;break;case D:Te++,ae=new y(_,new y(b,O,ne),ae,Gn),fn=E,O=Kn._1;break;case b:Te--,fn=mn,O=Kn._1,ne=Kn._2;break}break;case Cn:for(var qe in gt)gt.hasOwnProperty(qe)&&(Br=Br&&gt[qe].rethrow,k(gt[qe].handler(O)));gt=null,Gn&&ne?setTimeout(function(){throw nn.fromLeft(ne)},0):nn.isLeft(O)&&Br&&setTimeout(function(){if(Br)throw nn.fromLeft(O)},0);return;case Hn:fn=E;break;case j:return}}function Ie(En){return function(){if(fn===Cn)return Br=Br&&En.rethrow,En.handler(O)(),function(){};var hn=mr++;return gt=gt||{},gt[hn]=En,function(){gt!==null&&delete gt[hn]}}}function Mn(En,hn){return function(){if(fn===Cn)return hn(nn.right(void 0))(),function(){};var Vn=Ie({rethrow:!1,handler:function(){return hn(nn.right(void 0))}})();switch(fn){case Hn:Gn=nn.left(En),fn=Cn,O=Gn,Vt(qn);break;case j:Gn===null&&(Gn=nn.left(En)),Te===0&&(fn===j&&(ae=new y(_,new y(D,O(En)),ae,Gn)),fn=mn,O=null,ne=null,Vt(++qn));break;default:Gn===null&&(Gn=nn.left(En)),Te===0&&(fn=mn,O=null,ne=null)}return Vn}}function Wn(En){return function(){var hn=Ie({rethrow:!1,handler:En})();return fn===Hn&&Vt(qn),hn}}return{kill:Mn,join:Wn,onComplete:Ie,isSuspended:function(){return fn===Hn},run:function(){fn===Hn&&(J.isDraining()?Vt(qn):J.enqueue(function(){Vt(qn)}))}}}function ve(nn,xn,re,qn){var fn=0,O={},ne=0,Gn={},Ce=new Error("[ParAff] Early exit"),Me=null,ae=n;function Te(Ie,Mn,Wn){var En=Mn,hn=null,Vn=null,Kn=0,qe={},Mt,$o;n:for(;;)switch(Mt=null,En.tag){case I:if(En._3===n&&(Mt=O[En._1],qe[Kn++]=Mt.kill(Ie,function(XD){return function(){Kn--,Kn===0&&Wn(XD)()}})),hn===null)break n;En=hn._2,Vn===null?hn=null:(hn=Vn._1,Vn=Vn._2);break;case l:En=En._2;break;case s:case p:hn&&(Vn=new y(_,hn,Vn)),hn=En,En=En._1;break}if(Kn===0)Wn(nn.right(void 0))();else for($o=0,Mt=Kn;$o<Mt;$o++)qe[$o]=qe[$o]();return qe}function mr(Ie,Mn,Wn){var En,hn,Vn,Kn,qe,Mt;for(nn.isLeft(Ie)?(En=Ie,hn=null):(hn=Ie,En=null);;){if(Vn=null,Kn=null,qe=null,Mt=null,Me!==null)return;if(Mn===null){qn(En||hn)();return}if(Mn._3!==n)return;switch(Mn.tag){case l:En===null?(Mn._3=nn.right(Mn._1(nn.fromRight(hn))),hn=Mn._3):Mn._3=En;break;case s:if(Vn=Mn._1._3,Kn=Mn._2._3,En){if(Mn._3=En,qe=!0,Mt=ne++,Gn[Mt]=Te(Ce,En===Vn?Mn._2:Mn._1,function(){return function(){delete Gn[Mt],qe?qe=!1:Wn===null?mr(En,null,null):mr(En,Wn._1,Wn._2)}}),qe){qe=!1;return}}else{if(Vn===n||Kn===n)return;hn=nn.right(nn.fromRight(Vn)(nn.fromRight(Kn))),Mn._3=hn}break;case p:if(Vn=Mn._1._3,Kn=Mn._2._3,Vn===n&&nn.isLeft(Kn)||Kn===n&&nn.isLeft(Vn))return;if(Vn!==n&&nn.isLeft(Vn)&&Kn!==n&&nn.isLeft(Kn))En=hn===Vn?Kn:Vn,hn=null,Mn._3=En;else if(Mn._3=hn,qe=!0,Mt=ne++,Gn[Mt]=Te(Ce,hn===Vn?Mn._2:Mn._1,function(){return function(){delete Gn[Mt],qe?qe=!1:Wn===null?mr(hn,null,null):mr(hn,Wn._1,Wn._2)}}),qe){qe=!1;return}break}Wn===null?Mn=null:(Mn=Wn._1,Wn=Wn._2)}}function gt(Ie){return function(Mn){return function(){delete O[Ie._1],Ie._3=Mn,mr(Mn,Ie._2._1,Ie._2._2)}}}function Br(){var Ie=E,Mn=re,Wn=null,En=null,hn,Vn;n:for(;;)switch(hn=null,Vn=null,Ie){case E:switch(Mn.tag){case l:Wn&&(En=new y(_,Wn,En)),Wn=new y(l,Mn._1,n,n),Mn=Mn._2;break;case s:Wn&&(En=new y(_,Wn,En)),Wn=new y(s,n,Mn._2,n),Mn=Mn._1;break;case p:Wn&&(En=new y(_,Wn,En)),Wn=new y(p,n,Mn._2,n),Mn=Mn._1;break;default:Vn=fn++,Ie=mn,hn=Mn,Mn=new y(I,Vn,new y(_,Wn,En),n),hn=Pn(nn,xn,hn),hn.onComplete({rethrow:!1,handler:gt(Mn)})(),O[Vn]=hn,xn&&xn.register(hn)}break;case mn:if(Wn===null)break n;Wn._1===n?(Wn._1=Mn,Ie=E,Mn=Wn._2,Wn._2=n):(Wn._2=Mn,Mn=Wn,En===null?Wn=null:(Wn=En._1,En=En._2))}for(ae=Mn,Vn=0;Vn<fn;Vn++)O[Vn].run()}function Vt(Ie,Mn){Me=nn.left(Ie);var Wn;for(var En in Gn)if(Gn.hasOwnProperty(En)){Wn=Gn[En];for(En in Wn)Wn.hasOwnProperty(En)&&Wn[En]()}Gn=null;var hn=Te(Ie,ae,Mn);return function(Vn){return new y(o,function(Kn){return function(){for(var qe in hn)hn.hasOwnProperty(qe)&&hn[qe]();return P}})}}return Br(),function(Ie){return new y(o,function(Mn){return function(){return Vt(Ie,Mn)}})}}function Pe(nn,xn,re){return new y(o,function(qn){return function(){return ve(nn,xn,re,qn)}})}return y.EMPTY=n,y.Pure=C(e),y.Throw=C(t),y.Catch=C(r),y.Sync=C(a),y.Async=C(o),y.Bind=C(u),y.Bracket=C(i),y.Fork=C(f),y.Seq=C(c),y.ParMap=C(l),y.ParApply=C(s),y.ParAlt=C(p),y.Fiber=Pn,y.Supervisor=jn,y.Scheduler=J,y.nonCanceler=P,y})(),VS=kt.Pure,JS=kt.Throw;function zS(n){return function(e){return kt.Catch(n,e)}}function jS(n){return function(e){return e.tag===kt.Pure.tag?kt.Pure(n(e._1)):kt.Bind(e,function(t){return kt.Pure(n(t))})}}function QS(n){return function(e){return kt.Bind(n,e)}}function zy(n){return function(e){return kt.Fork(n,e)}}var XS=kt.Sync;function YS(n){return function(e){return kt.ParMap(n,e)}}function KS(n){return function(e){return kt.ParApply(n,e)}}var ai=kt.Async;function Cv(n){return function(e){return function(t){return kt.Bracket(n,e,t)}}}function ZS(n,e){return function(){return kt.Fiber(n,null,e)}}var n1=(function(){function n(t,r){return t===0&&typeof setImmediate<"u"?setImmediate(r):setTimeout(r,t)}function e(t,r){return t===0&&typeof clearImmediate<"u"?clearImmediate(r):clearTimeout(r)}return function(t,r){return kt.Async(function(a){return function(){var o=n(r,a(t()));return function(){return kt.Sync(function(){return t(e(r,o))})}}})}})(),e1=kt.Seq;var qc=function(n){return n.sequential},oi=function(n){return n.parallel};var fB=Dn(yn),cB=function(n){var e=qc(n),t=oi(n);return function(r){var a=Ve(r);return function(o){var u=a(o);return function(i){var f=u(function(c){return t(i(c))});return function(c){return e(f(c))}}}}};var rp=function(n){var e=cB(n);return function(t){var r=e(t);return function(a){return r(a)(fB)}}};var Or=function(n){return n()};var sB=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},pB=L(Rn),Xy=ce(Ln),t1=T(Ln);var _B=function(n){return n},r1=zy(!1);var mB={map:YS},ui={map:jS},vB=T(ui),a1=zy(!0),dB=(function(){var n=function(r){if(r instanceof B)return r.value0;if(r instanceof en)return sr("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[r.constructor.name])},e=function(r){if(r instanceof en)return r.value0;if(r instanceof B)return sr("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[r.constructor.name])},t=function(r){if(r instanceof en)return!0;if(r instanceof B)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[r.constructor.name])};return{isLeft:t,fromLeft:e,fromRight:n,left:en.create,right:B.create}})(),o1=function(n){return ZS(dB,n)},u1=function(n){return function(){var t=o1(n)();return t.run(),t}},Sv=function(n){return Xy(u1(n))};var i1=function(n){return n1(B.create,n)},DB=function(n){return function(e){return Cv(n)({killed:H(e),failed:H(e),completed:H(e)})}},f1={apply:KS,Functor0:function(){return mB}};var Uc={Applicative0:function(){return qt},Bind1:function(){return dt}},dt={bind:QS,Apply0:function(){return Yy(0)}},qt={pure:VS,Apply0:function(){return Yy(0)}},Yy=sB("applyAff","Effect.Aff",function(){return{apply:ir(Uc),Functor0:function(){return ui}}}),gB=Yy(73),xv=L(qt),c1=V(dt);var hB=Ue(dt);var l1=function(n){return function(e){return DB(xv(void 0))(H(n))(H(e))}};var _f={parallel:A,sequential:e1,Apply0:function(){return gB},Apply1:function(){return f1}},yB=oi(_f),Bc={pure:function(n){return yB(xv(n))},Apply0:function(){return f1}};var pr={liftEffect:XS,Monad0:function(){return Uc}},Fv=Nn(pr),Ky=function(n){return _B(H(Fv(n)))},ap=function(n){return ai(function(e){return t1(Ky)(n.join(e))})},s1={map:function(n){return function(e){return Or(o1(vB(n)(ap(e))))}}};var op=function(n){return function(e){return c1(Fv(e.isSuspended))(function(t){return t?Fv(Xy(e.kill(n,H(pB(void 0))))):ai(function(r){return t1(Ky)(e.kill(n,r))})})}};var Zy={throwError:JS,Monad0:function(){return Uc}},Iv={catchError:zS,MonadThrow0:function(){return Zy}},bB=Qs(Iv);var TB=function(n){return function(e){return u1(hB(function(t){return Fv(n(t))})(bB(e)))}},Av=function(n){return function(e){return Xy(TB(n)(e))}};var p1={tailRecM:function(n){var e=function(t){return c1(n(t))(function(r){if(r instanceof It)return xv(r.value0);if(r instanceof Ht)return e(r.value0);throw new Error("Failed pattern match at Effect.Aff (line 104, column 7 - line 106, column 23): "+[r.constructor.name])})};return e},Monad0:function(){return Uc}};var n0=H(xv(void 0));var _1={liftAff:Dn(yn),MonadEffect0:function(){return pr}},mf=function(n){return n.liftAff};var m1=(function(){function n(e,t,r){this.value0=e,this.value1=t,this.value2=r}return n.create=function(e){return function(t){return function(r){return new n(e,t,r)}}},n})(),v1=A,d1=A;function t0(n){return function(e){return n===e}}var vf=t0;var SB=ce(Ln);var xB=V(bt);var IB=Q(de),AB=Ve(Rn),LB=AB(cn);var Nv=function(n){return n},g1=function(n){return function(e){return n(function(t){return SB(e(t))})}};var h1=function(n){return function(e){return n(e)}};var y1=function(){var e=zn([])();return{emitter:function(t){return function(){return he(function(a){return IB(a)([t])})(e)(),he(Hg(vf)(t))(e)}},listener:function(t){return xB(R(e))(LB(function(r){return r(t)}))}}};var T1=Dn(yn);var NB=Hm();var E1=function(n){return n},w1=function(n){return n},up=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Pv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Rv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Gc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ip=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),fp=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Ov=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),cp=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Hv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Wv=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),$v=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var lp=function(n){return n};var Vc=function(n){return pf(new fp(n,void 0))};var kv=function(){return function(n){var e=NB(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return pf(new ip(d1(new m1(function(i){var f=L(i);return function(c){var l=Se(f(v.value))(c),s=r(a)(o);return function(p){return l(s(p))}}},u,T1))))}}}}}},a0=An,qv=An;var C1=$y,Jc={state:function(n){return lp(pf(up.create(n)))},Monad0:function(){return C1}};var zc=function(n){return{liftEffect:(function(){var e=Nn(n);return function(t){return lp(pf(Gc.create(e(t))))}})(),Monad0:function(){return C1}}};var o0=function(n){var e=zc(n.MonadEffect0());return{liftAff:(function(){var t=mf(n);return function(r){return lp(pf(Gc.create(t(r))))}})(),MonadEffect0:function(){return e}}};var df=ky;var sp=function(n){return pf(new cp(n,T1))};var jc=wv;var Df=tp;var Qc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Xc=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Yc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Kc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Zc=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var PB=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var RB=function(n,e){return ff(n.value0,e.value0)&&ff(n.value1,e.value1)&&n.value1(n.value3,e.value3)};var M1=function(n){return n.value2(n.value3)};var F1=function(n){var e=function(o){return Nr(o.vdom)},t=PB("patchThunk","Halogen.VDom.Thunk",function(){return function(o,u){var i=RB(o.thunk,u);if(i)return je(new ze(er(o.vdom),o,t(112),e));var f=Lr(o.vdom,n(M1(u)));return je(new ze(er(f),{vdom:f,thunk:u},t(115),e))}}),r=t(108),a=function(o){return function(u){var i=zs(o)(n(M1(u)));return je(new ze(er(i),{thunk:u,vdom:i},r,e))}};return a};var Uv=jl(df),f0=Ve(Df)(hr),OB=T(df);var S1=L(Df),HB=Hm(),WB=DF(),$B=gF(),_p=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Bv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),c0=A,l0=A,mp=function(n){return function(e){if(e instanceof Qc)return Uv(f0(n.handleAction)(n.initialize))(e.value0);if(e instanceof Xc)return Uv(f0(n.handleAction)(n.finalize))(e.value0);if(e instanceof Yc)return Uv(f0(n.handleAction)(n.receive(e.value0)))(e.value1);if(e instanceof Kc)return Uv(n.handleAction(e.value0))(e.value1);if(e instanceof Zc)return tF(function(t){var r=OB(Se(e.value1(void 0))(t));return function(a){return r(n.handleQuery(a))}})(e.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 71): "+[e.constructor.name])}},kB=A,vp=A;var ii=(function(){return{handleAction:H(S1(void 0)),handleQuery:H(S1(v.value)),receive:H(v.value),initialize:v.value,finalize:v.value}})(),s0=function(){return function(n){var e=HB(n),t=WB(n),r=$B(n);return function(a){var o=e(a),u=t(a),i=r(a);return function(f){return function(c){return function(l){return function(s){return function(p){return kB({get:o(f)(c),pop:u(f)(c),set:i(f)(c),component:l,input:s,output:p})}}}}}}}};var qB=L(aa);var Dp=function(n){return Ly(qB(n))},Gv=(function(){return Ly(v.value)})();var gf=Gv("span");var Qe=Gv("div");var nl=Gv("button");var BB=Wt();var p0=function(n){return BB(Ey(n))};var N1="click";var uG=A;var iG=function(n){return function(e){return Ay(n)(function(t){return new m(new af(e(t)))})}};var hf=(function(){var n=iG(N1);return function(e){return n(uG(e))}})();var P1=Wt();var _0=function(n){return mS(n)},cG=_0(dS),m0=_0(vS);var Vv=m0("id");var R1=cG("disabled");var yf=(function(){var n=m0("className"),e=Yo(" "),t=T(gn)(P1);return function(r){return n(e(t(r)))}})(),ke=(function(){var n=m0("className");return function(e){return n(P1(e))}})();var ga=(function(){return DS(v.value)})();var Jv=ga("style");var tl=T(gn),k1=Q(de),q1=tn(Ru(yt)),el=at(ot)(jc),uu=Au(Jc),v0=L(Df),H1=V(jc),W1=Lu(Jc),zv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),U1=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),g0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),h0=(function(){function n(){}return n.value=new n,n})(),y0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),b0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),lG=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),T0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),B1=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),G1=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),V1=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),sG=(function(){function n(){}return n.value=new n,n})(),D0=(function(){function n(){}return n.value=new n,n})(),J1=(function(){function n(){}return n.value=new n,n})(),z1=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),d0="http://www.w3.org/2000/svg",pG=function(n){if(n instanceof nt)return"Treemap";if(n instanceof Kt)return"TreeLayout";if(n instanceof Zt)return"ForceLayout";if(n instanceof At)return"PackageGrid";if(n instanceof nr)return"ModuleOrbit";if(n instanceof cr)return"DependencyTree";if(n instanceof Yr)return"Neighborhood("+(n.value0+")");if(n instanceof ma)return"FunctionCalls("+(n.value0+")");throw new Error("Failed pattern match at Component.NarrativePanel (line 468, column 1 - line 468, column 37): "+[n.constructor.name])},_G=function(n){return Qe([ke("project-dropdown")])(tl(function(e){return Qe([yf(k1(["project-dropdown-item"])((function(){var t=e.id===n.projectId;return t?["project-dropdown-item--active"]:[]})())),hf(function(t){return new z1(e.id)})])([et(e.name)])})(n.projects))},mG=function(n){return Qe([ke("narrative-project-wrapper")])([nl([ke("btn-editorial narrative-project"),hf(function(e){return J1.value})])([et(n.projectName)]),(function(){return n.projectDropdownOpen?_G(n):et("")})()])},vG=function(n){return Qe([ke("color-key-item")])([gf([ke("color-key-swatch"),Jv("background-color: "+n.color)])([]),gf([ke("color-key-label")])([et(n.name)])])},dG=function(n){var e=Ze(n);return e?et(""):Qe([ke("narrative-color-key")])([Qe([ke("color-key-title")])([et("Packages")]),Qe([ke("color-key-items")])(tl(vG)(n))])},DG=function(n){return Qe([ke("narrative-hint")])([et((function(){if(n instanceof m)return n.value0;if(n instanceof v)return"Click any module to explore its neighborhood.";throw new Error("Failed pattern match at Component.NarrativePanel (line 250, column 16 - line 252, column 31): "+[n.constructor.name])})())])},gG=function(n){return Qe([ke("tangle-dropdown")])(tl(function(e){return Qe([yf(k1(["tangle-dropdown-item"])((function(){var t=e===n.current;return t?["tangle-dropdown-item--active"]:[]})())),hf(function(t){return new V1(n.id,e)})])([et(e)])})(n.options))},hG=function(n){return function(e){return function(t){if(t instanceof zv)return et(t.value0);if(t instanceof U1){var r=Ze(t.value1.options);return r?gf([ke("tangle-value")])([et(t.value0)]):gf([ke("tangle-control"),hf(function(a){return new G1(t.value1.id)})])([et(t.value0),(function(){var a=q1(n.dropdownOpen)(new m(t.value1.id));return a?gG(t.value1):et("")})()])}throw new Error("Failed pattern match at Component.NarrativePanel (line 212, column 37 - line 229, column 10): "+[t.constructor.name])}}},yG=function(n){return Qe([ke("color-key-item")])([Dp(d0)("svg")([ga("width")("24"),ga("height")("24"),ga("class")("color-key-circles")])([Dp(d0)("circle")([ga("cx")("12"),ga("cy")("12"),ga("r")("10"),Jv("fill: "+(n.color+"; fill-opacity: 0.6;"))])([]),Dp(d0)("circle")([ga("cx")("12"),ga("cy")("12"),ga("r")("6"),Jv("fill: "+(n.intense+"; fill-opacity: 0.9;"))])([])]),gf([ke("color-key-label")])([et(n.label)])])},bG=function(n){return n instanceof Yr?nl([ke("btn-editorial narrative-back"),hf(function(e){return D0.value})])([et("\u2190 Back to overview")]):n instanceof ma?nl([ke("btn-editorial narrative-back"),hf(function(e){return D0.value})])([et("\u2190 Back to neighborhood")]):nl([yf(["btn-editorial","narrative-back","narrative-back--disabled"]),R1(!0)])([et("At top level")])},TG=function(n){return Qe([ke("narrative-nav")])([bG(n.viewState),mG(n)])},EG=function(n){return{viewState:n.viewState,packagePalette:n.packagePalette,projectName:n.projectName,projectId:n.projectId,projects:n.projects,hintText:v.value,dropdownOpen:v.value,projectDropdownOpen:!1}},wG=function(n){var e=Yt(zc(n.MonadEffect0()));return function(t){if(t instanceof b0)return el(e("[NarrativePanel] SetViewState received: "+pG(t.value0)))(function(){return el(uu(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.viewState=t.value0,a}))(function(){return v0(new m(t.value1))})});if(t instanceof lG)return el(uu(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.hintText=t.value0,a}))(function(){return v0(new m(t.value1))});if(t instanceof T0)return el(uu(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.packagePalette=t.value0,a}))(function(){return v0(new m(t.value1))});throw new Error("Failed pattern match at Component.NarrativePanel (line 434, column 15 - line 446, column 18): "+[t.constructor.name])}},CG=function(n){return function(e){if(e instanceof B1)return uu(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.viewState=e.value0.viewState,r.packagePalette=e.value0.packagePalette,r.projectName=e.value0.projectName,r.projectId=e.value0.projectId,r.projects=e.value0.projects,r});if(e instanceof G1)return H1(W1)(function(t){return uu(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.dropdownOpen=(function(){var u=q1(t.dropdownOpen)(new m(e.value0));return u?v.value:new m(e.value0)})(),a})});if(e instanceof V1)return el(uu(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.dropdownOpen=v.value,r}))(function(){return Vc(new g0(e.value0,e.value1))});if(e instanceof sG)return uu(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.dropdownOpen=v.value,r.projectDropdownOpen=!1,r});if(e instanceof D0)return Vc(h0.value);if(e instanceof J1)return H1(W1)(function(t){return uu(function(r){var a={};for(var o in r)({}).hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.projectDropdownOpen=!t.projectDropdownOpen,a})});if(e instanceof z1)return el(uu(function(t){var r={};for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.projectDropdownOpen=!1,r}))(function(){return Vc(new y0(e.value0))});throw new Error("Failed pattern match at Component.NarrativePanel (line 397, column 16 - line 427, column 40): "+[e.constructor.name])}},MG=function(n){var e=UM("[")(n);if(e instanceof v)return v.value;if(e instanceof m){var t=GM("]")(e.value0+1|0)(n);if(t instanceof v)return v.value;if(t instanceof m)return new m({before:Ju(e.value0)(n),bracketed:Ju((t.value0-e.value0|0)-1|0)(Yi(e.value0+1|0)(n)),after:Yi(t.value0+1|0)(n)});throw new Error("Failed pattern match at Component.NarrativePanel (line 458, column 7 - line 465, column 14): "+[t.constructor.name])}throw new Error("Failed pattern match at Component.NarrativePanel (line 455, column 3 - line 465, column 14): "+[e.constructor.name])},FG=function(n){return function(e){var t=function(a){return function(o){var u=Tc(a);return ho(function(i){return Tc(i.current)===u||sm(function(f){return Tc(f)===u})(i.options)})(o)}},r=function(a){return function(o){var u=a,i=!1,f;function c(l,s){if(l==="")return i=!0,Na(s);var p=MG(l);if(p instanceof v)return i=!0,Na(mt(new zv(l))(s));if(p instanceof m){var _=(function(){var g=t(p.value0.bracketed)(e);if(g instanceof m)return new U1(p.value0.bracketed,g.value0);if(g instanceof v)return new zv("["+(p.value0.bracketed+"]"));throw new Error("Failed pattern match at Component.NarrativePanel (line 195, column 21 - line 197, column 59): "+[g.constructor.name])})(),d=p.value0.before==="";if(d){u=p.value0.after,o=mt(_)(s);return}u=p.value0.after,o=mt(_)(mt(new zv(p.value0.before))(s));return}throw new Error("Failed pattern match at Component.NarrativePanel (line 191, column 5 - line 200, column 81): "+[p.constructor.name])}for(;!i;)f=c(u,o);return f}};return r(n)([])}},SG=function(n){var e=YM(n.viewState),t=FG(e.text)(e.controls);return Qe([ke("narrative-hero")])(tl(hG(n)(e.controls))(t))},j1="psd3",xG=(function(){var n=function(t){return{label:t.label,color:t.color,intense:t.color}},e=gh(gc.value);return tl(n)(e.legendItems)})(),$1=Qe([ke("narrative-color-key")])([Qe([ke("color-key-title")])([et("Declaration Types")]),Qe([ke("color-key-items")])(tl(yG)(xG))]),IG=function(n){return n.viewState instanceof Yr||n.viewState instanceof ma?$1:dG(n.packagePalette)},AG=function(n){return Qe([Vv("narrative-panel"),yf(["floating-panel","floating-panel--top-left","narrative-panel"])])([Qe([ke("panel-title")])([et("What Is Being Shown")]),SG(n),DG(n.hintText),IG(n),TG(n)])},Q1=function(n){return vp({initialState:EG,render:AG,eval:mp({initialize:ii.initialize,finalize:ii.finalize,handleAction:CG(n),handleQuery:wG(n),receive:function(e){return m.create(B1.create(e))}})})};function X1(n,e,t,r,a){return function(o,u){var i=n.newXHR(),f=n.fixupUrl(a.url,i);if(i.open(a.method||"GET",f,!0,a.username,a.password),a.headers)try{for(var c=0,l;(l=a.headers[c])!=null;c++)i.setRequestHeader(l.field,l.value)}catch(p){o(p)}var s=function(p){return function(){o(new Error(p))}};return i.onerror=s(t),i.ontimeout=s(e),i.onload=function(){u({status:i.status,statusText:i.statusText,headers:i.getAllResponseHeaders().split(`\r
`).filter(function(p){return p.length>0}).map(function(p){var _=p.indexOf(":");return r(p.substring(0,_))(p.substring(_+2))}),body:i.response})},i.responseType=a.responseType,i.withCredentials=a.withCredentials,i.timeout=a.timeout,i.send(a.content),function(p,_,d){try{i.abort()}catch(g){return _(g)}return d()}}}var jv="application/json",Y1="application/x-www-form-urlencoded";var Z1=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),nx=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ex=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),tx=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),rx=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),E0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),w0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ax=function(n){return n instanceof E0?new m(Y1):n instanceof w0?new m(jv):v.value};var ox=Wt();var Qv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Xv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ux=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),ix=function(n){if(n instanceof Qv||n instanceof Xv)return ox(n.value0);if(n instanceof ux)return n.value1;throw new Error("Failed pattern match at Affjax.RequestHeader (line 26, column 1 - line 26, column 33): "+[n.constructor.name])};var C0=function(n){if(n instanceof Qv)return"Accept";if(n instanceof Xv)return"Content-Type";if(n instanceof ux)return n.value0;throw new Error("Failed pattern match at Affjax.RequestHeader (line 21, column 1 - line 21, column 32): "+[n.constructor.name])};var fx=Dn(yn),M0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),F0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),S0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),gp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),x0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Yv=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),cx=function(n){if(n instanceof M0)return"arraybuffer";if(n instanceof F0)return"blob";if(n instanceof S0)return"document";if(n instanceof gp||n instanceof x0)return"text";if(n instanceof Yv)return"";throw new Error("Failed pattern match at Affjax.ResponseFormat (line 44, column 3 - line 50, column 19): "+[n.constructor.name])},lx=function(n){return n instanceof gp?new m(jv):v.value};var sx=(function(){return new gp(fx)})(),px=(function(){return new Yv(fx)})();var mx=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();function hp(n){return JSON.stringify(n)}function bf(n,e,t,r,a,o,u){return u==null?n():typeof u=="boolean"?e(u):typeof u=="number"?t(u):typeof u=="string"?r(u):Object.prototype.toString.call(u)==="[object Array]"?a(u):o(u)}var vx=function(n){return function(e){return function(t){return t(n)(e)}}},dx=(function(){return vx(v.value)(m.create)})();var Dx=Rr;var WG=vx(!1)(H(!0));var gx=function(n){return function(e){return function(t){return bf(H(n),H(n),H(n),e,H(n),H(n),t)}}};var $G=function(n){return function(e){return function(t){return bf(H(n),H(n),H(n),H(n),H(n),e,t)}}};var Kv=dx($G),hx=function(n){return function(e){return function(t){return bf(H(n),H(n),e,H(n),H(n),H(n),t)}}};var yx=function(n){return function(e){return function(t){return bf(e,H(n),H(n),H(n),H(n),H(n),t)}}},bx=WG(yx);var Tx=function(n){return function(e){return function(t){return bf(H(n),e,H(n),H(n),H(n),H(n),t)}}};var kG=function(n){return function(e){return function(t){return bf(H(n),H(n),H(n),H(n),e,H(n),t)}}};var Ex=dx(kG);function wx(n,e,t){try{return e(JSON.parse(t))}catch(r){return n(r.message)}}var Cx=function(n){return wx(en.create,B.create,n)};function BG(n){return n.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function Mx(n,e,t){try{return e(BG(encodeURIComponent(t)).replace(/%20/g,"+"))}catch(r){return n(r)}}var nd=(function(){return Wu(Mx)(H(v.value))(m.create)})();var JG=Zn(vo),Fx=T(Xn),zG=We(Jr)(aa);var jG=function(n){return n};var Sx=(function(){var n=function(r){if(r.value1 instanceof v)return nd(r.value0);if(r.value1 instanceof m)return JG(Fx(function(a){return function(o){return a+("="+o)}})(nd(r.value0)))(nd(r.value1.value0));throw new Error("Failed pattern match at Data.FormURLEncoded (line 37, column 16 - line 39, column 114): "+[r.constructor.name])},e=Fx(Yo("&")),t=zG(n);return function(r){return e(t(jG(r)))}})();var XG=(function(){function n(){}return n.value=new n,n})(),I0=(function(){function n(){}return n.value=new n,n})(),YG=(function(){function n(){}return n.value=new n,n})(),xx=(function(){function n(){}return n.value=new n,n})(),Ix=(function(){function n(){}return n.value=new n,n})(),Ax=(function(){function n(){}return n.value=new n,n})(),KG=(function(){function n(){}return n.value=new n,n})(),ZG=(function(){function n(){}return n.value=new n,n})(),n5=(function(){function n(){}return n.value=new n,n})(),e5=(function(){function n(){}return n.value=new n,n})(),t5=(function(){function n(){}return n.value=new n,n})(),r5=(function(){function n(){}return n.value=new n,n})(),a5=(function(){function n(){}return n.value=new n,n})(),o5=(function(){function n(){}return n.value=new n,n})(),u5=(function(){function n(){}return n.value=new n,n})(),Lx=(function(){function n(){}return n.value=new n,n})();var i5=function(n){return n},f5={show:function(n){if(n instanceof XG)return"OPTIONS";if(n instanceof I0)return"GET";if(n instanceof YG)return"HEAD";if(n instanceof xx)return"POST";if(n instanceof Ix)return"PUT";if(n instanceof Ax)return"DELETE";if(n instanceof KG)return"TRACE";if(n instanceof ZG)return"CONNECT";if(n instanceof n5)return"PROPFIND";if(n instanceof e5)return"PROPPATCH";if(n instanceof t5)return"MKCOL";if(n instanceof r5)return"COPY";if(n instanceof a5)return"MOVE";if(n instanceof o5)return"LOCK";if(n instanceof u5)return"UNLOCK";if(n instanceof Lx)return"PATCH";throw new Error("Failed pattern match at Data.HTTP.Method (line 43, column 1 - line 59, column 23): "+[n.constructor.name])}};var Nx=Dr(q(f5))(i5);var Wx=function(n){return ai(function(e){return function(){var r=n(function(a){return e(en.create(a))()},function(a){return e(B.create(a))()});return function(a){return ai(function(o){return function(){return r(a,function(i){return o(en.create(i))()},function(i){return o(B.create(i))()}),n0}})}}})};var N0=L(Rc(jo)),F5=sv(jo),Tf=JF(jo),$x=xt(RF(cF)(jo)),S5=io(ep(jo)),ed=T(Xn),x5=fc(cn)(lo),I5=tn(yt),A5=Ue(_t),L5=T(gn),N5=Fr(ui),P5=Qs(Iv),R5=L(qt);var P0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),R0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),O0=(function(){function n(){}return n.value=new n,n})(),H0=(function(){function n(){}return n.value=new n,n})(),W0=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),kx=function(n){return function(e){var t=function(l){return l===""?N0(Dx):Dr(function(s){return F5(Cy.create(s))})(N0)(Cx(l))},r=(function(){if(e.responseFormat instanceof M0)return Tf("ArrayBuffer");if(e.responseFormat instanceof F0)return Tf("Blob");if(e.responseFormat instanceof S0)return function(l){return $x(Tf("Document")(l))($x(Tf("XMLDocument")(l))(Tf("HTMLDocument")(l)))};if(e.responseFormat instanceof gp)return S5(function(l){return e.responseFormat.value0(t(l))})(Tf("String"));if(e.responseFormat instanceof x0)return Tf("String");if(e.responseFormat instanceof Yv)return H(e.responseFormat.value0(N0(void 0)));throw new Error("Failed pattern match at Affjax (line 274, column 18 - line 283, column 57): "+[e.responseFormat.constructor.name])})(),a=function(l){if(l instanceof Z1)return new B(l.value0(au));if(l instanceof nx)return new B(au(l.value0));if(l instanceof ex)return new B(au(l.value0));if(l instanceof tx)return new B(au(l.value0));if(l instanceof rx)return new B(au(l.value0));if(l instanceof E0)return tc("Body contains values that cannot be encoded as application/x-www-form-urlencoded")(ed(au)(Sx(l.value0)));if(l instanceof w0)return new B(au(hp(l.value0)));throw new Error("Failed pattern match at Affjax (line 235, column 20 - line 250, column 69): "+[l.constructor.name])},o=function(l){return function(s){return l instanceof m&&!x5(ng(I5)(C0)(l.value0))(s)?jr(s)(l.value0):s}},u=function(l){return o(ed(Xv.create)(A5(ax)(l)))(o(ed(Qv.create)(lx(e.responseFormat)))(e.headers))},i=function(l){return{method:Nx(e.method),url:e.url,headers:L5(function(s){return{field:C0(s),value:ix(s)}})(u(e.content)),content:l,responseType:cx(e.responseFormat),username:it(e.username),password:it(e.password),withCredentials:e.withCredentials,timeout:In(0)(ed(function(s){return s})(e.timeout))}},f=function(l){return N5(P5(Wx(X1(n,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",mx.create,i(l)))))(function(s){if(s instanceof B){var p=p0(r(s.value0.body));if(p instanceof en)return new en(new R0(kF(p.value0),s.value0));if(p instanceof B)return new B({headers:s.value0.headers,status:s.value0.status,statusText:s.value0.statusText,body:p.value0});throw new Error("Failed pattern match at Affjax (line 209, column 9 - line 211, column 52): "+[p.constructor.name])}if(s instanceof en)return new en((function(){var _=js(s.value0),d=_==="AffjaxTimeoutErrorMessageIdent";if(d)return O0.value;var g=_==="AffjaxRequestFailedMessageIdent";return g?H0.value:new W0(s.value0)})());throw new Error("Failed pattern match at Affjax (line 207, column 144 - line 219, column 28): "+[s.constructor.name])})};if(e.content instanceof v)return f(it(v.value));if(e.content instanceof m){var c=a(e.content.value0);if(c instanceof B)return f(it(new m(c.value0)));if(c instanceof en)return R5(new en(new P0(c.value0)));throw new Error("Failed pattern match at Affjax (line 199, column 7 - line 203, column 48): "+[c.constructor.name])}throw new Error("Failed pattern match at Affjax (line 195, column 3 - line 203, column 48): "+[e.content.constructor.name])}},$0=function(n){if(n instanceof P0)return"There was a problem with the request content: "+n.value0;if(n instanceof R0)return"There was a problem with the response body: "+lv(n.value0);if(n instanceof O0)return"There was a problem making the request: timeout";if(n instanceof H0)return"There was a problem making the request: request failed";if(n instanceof W0)return"There was a problem making the request: "+js(n.value0);throw new Error("Failed pattern match at Affjax (line 113, column 14 - line 123, column 66): "+[n.constructor.name])},fi=(function(){return{method:new en(I0.value),url:"/",headers:[],content:v.value,username:v.value,password:v.value,withCredentials:!1,responseFormat:px,timeout:v.value}})();var qx=function(n){return function(e){return function(t){return kx(n)({method:fi.method,headers:fi.headers,content:fi.content,username:fi.username,password:fi.password,withCredentials:fi.withCredentials,timeout:fi.timeout,url:t,responseFormat:e})}}};var k0={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(n){return n||"/"}};var Bx=qx(k0);var Kr=function(n){return ge(kc(n))},Gx=function(n){return function(e){return $c(function(t){return new S(n,e)})}};var Hr=function(n){return Fe(kc(n))};var Vx=function(n){var e=He(n),t=Yn(n),r=zt(n);return{foldr:function(a){var o=function(u){return function(i){return a(Hr(u))(e(o)(i)(Kr(u)))}};return Qn(o)},foldl:function(a){var o=function(u){return function(i){return t(o)(a(u)(Hr(i)))(Kr(i))}};return o},foldMap:function(a){var o=Q(a.Semigroup0()),u=r(a);return function(i){var f=function(c){return o(i(Hr(c)))(u(f)(Kr(c)))};return f}}}};var U5=q(Ae);var xo=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Jx=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),U0=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),yp=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),td=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),rd=(function(){function n(){}return n.value=new n,n})();var ha=function(n){var e=function(t){if(t instanceof xo)return"  Expected value of type '"+(t.value0+"'.");if(t instanceof Jx)return"  Unexpected value "+(hp(t.value0)+".");if(t instanceof U0)return"  At array index "+(U5(t.value0)+(`:
`+e(t.value1)));if(t instanceof yp)return"  At object key '"+(t.value0+(`':
`+e(t.value1)));if(t instanceof td)return"  Under '"+(t.value0+(`':
`+e(t.value1)));if(t instanceof rd)return"  No value was found.";throw new Error("Failed pattern match at Data.Argonaut.Decode.Error (line 37, column 8 - line 43, column 44): "+[t.constructor.name])};return`An error occurred while decoding a JSON value:
`+e(n)};var Qx=ic(),eV=zt($e),tV=Yn($e),rV=He($e);var aV=function(n){return Qx(Ls(n))};var G0=function(n){return vF(n)};var Xx=function(n){return{append:aV(n)}},Ef=function(n){return Qx(Pm(n))};var bp=function(n){var e=ut(n);return function(t){return function(r){return e(t)(void 0)(r)}}};var Yx={foldMap:function(n){var e=eV(n);return function(t){var r=e(t);return function(a){return r(G0(a))}}},foldl:function(n){return function(e){var t=tV(n)(e);return function(r){return t(G0(r))}}},foldr:function(n){return function(e){var t=rV(n)(e);return function(r){return t(G0(r))}}}};var ad=ie,Io=function(n){var e=Yn(n);return function(t){var r=bp(t);return e(function(a){return function(o){return r(o)(a)}})(ad)}};var uV=L(ac),iV=T(Jo),V0=Ai(oc);var J0=io(rc);var fV=We(Dv)(ac);var cV=zu(Mc)(ac);var Kx=(function(){return gx(new en(new xo("String")))(B.create)})(),Zx=(function(){return hx(new en(new xo("Number")))(B.create)})();var nI=function(n){return function(e){if(bx(e))return uV(v.value);if(pe)return iV(m.create)(n(e));throw new Error("Failed pattern match at Data.Argonaut.Decode.Decoders (line 37, column 1 - line 41, column 38): "+[n.constructor.name,e.constructor.name])}},lV=(function(){var n=tc(new xo("Object"));return function(e){return n(Kv(e))}})(),sV=(function(){var n=tc(new xo("Array"));return function(e){return n(Ex(e))}})();var eI=J0((function(){var n=tc(new xo("Integer"));return function(e){return n(Sm(e))}})())(Zx);var tI=function(n){return J0((function(){var e=V0(td.create("ForeignObject")),t=fV(n);return function(r){return e(t(r))}})())(lV)};var rI=(function(){return Tx(new en(new xo("Boolean")))(B.create)})(),aI=function(n){return J0((function(){var e=V0(td.create("Array")),t=cV(function(r){var a=V0(U0.create(r));return function(o){return a(n(o))}});return function(r){return e(t(r))}})())(sV)};var uI=function(n){var e=st(n);return function(){return function(){return function(t){return function(r){return function(a){return ko(e(t))(r)(a)}}}}}};var iI=V(rc),dV=Ai(oc),DV=T(Xn),Cf={gDecodeJson:function(n){return function(e){return new B({})}}},fI=function(n){return n.gDecodeJson};var Xa=function(n){var e=fI(n);return function(){return{decodeJson:function(t){var r=Kv(t);if(r instanceof m)return e(r.value0)(Oe.value);if(r instanceof v)return new en(new xo("Object"));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 103, column 5 - line 105, column 46): "+[r.constructor.name])}}}},od={decodeJson:Kx};var cI={decodeJson:eI},gV=function(n){return n.decodeJsonField},Ao=function(n){var e=gV(n);return function(t){var r=fI(t);return function(a){var o=st(a),u=uI(a)()();return function(){return function(){return{gDecodeJson:function(i){return function(f){var c=o(Oe.value),l=Ge(c)(i),s=e(l);if(s instanceof m)return iI(dV(yp.create(c))(s.value0))(function(p){return iI(r(i)(Oe.value))(function(_){return new B(u(Oe.value)(p)(_))})});if(s instanceof v)return new en(new yp(c,rd.value));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 127, column 5 - line 134, column 44): "+[s.constructor.name])}}}}}}}};var lI={decodeJson:rI},ya=function(n){return n.decodeJson};var hV=function(n){return{decodeJson:nI(ya(n))}};var Tp=function(n){return{decodeJson:tI(ya(n))}},sI=function(n){var e=ya(hV(n));return{decodeJsonField:function(t){if(t instanceof v)return new m(new B(v.value));if(t instanceof m)return new m(e(t.value0));throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 139, column 1 - line 143, column 49): "+[t.constructor.name])}}},iu=function(n){var e=ya(n);return{decodeJsonField:function(t){return DV(e)(t)}}},rl=function(n){return{decodeJson:aI(ya(n))}};var Ya=Gx;var ba=T(Zo),j0=Qr($e);var bV=ra(ug),TV=Qr(Vx($e)),Ep=T(gn),Q0=is(pt)(cn),pI=Tg(pt)(cn),EV=im(Is);var ud=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var _I=(function(){return new ud({left:new Y(0,$.value),right:new Y(0,$.value)})})(),wV=function(n){return function(e){return function(t){var r=function(a){return function(o){return function(u){return function(i){return function(f){var c=a,l=o,s=u,p=i,_=!1,d;function g(D,b,I,M,h){if(M instanceof $&&h instanceof $)return _=!0,D;if(M instanceof $&&h instanceof Y){var y=D+h.value0-b,C=(function(){var P=y<n;return P?D+(n-y):D})();c=C,l=b,s=h.value0,p=$.value,f=h.value1;return}if(M instanceof Y&&h instanceof $){var y=D+I-M.value0,C=(function(){var sn=y<n;return sn?D+(n-y):D})();c=C,l=M.value0,s=I,p=M.value1,f=$.value;return}if(M instanceof Y&&h instanceof Y){var y=D+h.value0-M.value0,C=(function(){var sn=y<n;return sn?D+(n-y):D})();c=C,l=M.value0,s=h.value0,p=M.value1,f=h.value1;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 292, column 3 - line 292, column 67): "+[D.constructor.name,b.constructor.name,I.constructor.name,M.constructor.name,h.constructor.name])}for(;!_;)d=g(c,l,s,p,f);return d}}}}};return r(n)(0)(0)(e.value0.right)(t.value0.left)}}};var CV=function(n){return function(e){var t=In(Tn)(n.layerScale),r=TV(e),a=Ep(function(_){return _.x})(r),o=In(1)(Q0(a)),u=In(0)(pI(a)),i=(function(){var _=o-u===0;return _?1:o-u})(),f=function(_){return(_-u)/i*n.size.width},c=Ep(function(_){return t(_.depth)})(r),l=In(1)(Q0(c)),s=function(_){var d=t(_);return d/l*n.size.height},p=function(_){var d=Hr(_),g=Kr(_);return Ya((function(){var D={};for(var b in d)({}).hasOwnProperty.call(d,b)&&(D[b]=d[b]);return D.x=f(d.x),D.y=s(d.depth),D})())(ba(p)(g))};return p(e)}},mI=function(n){return function(e){var t=Hr(e),r=Tn(t.value1.depth),a=n+t.value0.offset,o=Kr(e),u=ba(mI(a))(o);return Ya((function(){var i={};for(var f in t.value1)({}).hasOwnProperty.call(t.value1,f)&&(i[f]=t.value1[f]);return i.x=a,i.y=r,i})())(u)}},MV=function(n){var e=function(t){var r=Ee(function(i){if(i instanceof Y)return new m(i.value0);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 437, column 17 - line 439, column 27): "+[i.constructor.name])})(t),a=jt(r);if(a instanceof v)return $.value;if(a instanceof m){var o=Ee(function(i){if(i instanceof Y)return new m(i.value1);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 450, column 23 - line 452, column 33): "+[i.constructor.name])})(t),u=In(0)(Q0(r));return new Y(u,e(o))}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 443, column 7 - line 456, column 50): "+[a.constructor.name])};return n.length===0?$.value:e(n)},FV=function(n){var e=function(t){var r=Ee(function(i){if(i instanceof Y)return new m(i.value0);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 404, column 17 - line 406, column 27): "+[i.constructor.name])})(t),a=jt(r);if(a instanceof v)return $.value;if(a instanceof m){var o=Ee(function(i){if(i instanceof Y)return new m(i.value1);if(i instanceof $)return v.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 417, column 23 - line 419, column 33): "+[i.constructor.name])})(t),u=In(0)(pI(r));return new Y(u,e(o))}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 410, column 7 - line 423, column 50): "+[a.constructor.name])};return n.length===0?$.value:e(n)},SV=function(n){return function(e){var t=j0(lf(S.create)(n)(e));if(t.length===0)return _I;if(t.length===1)return new ud({left:new Y(0,ba(function(u){return u+t[0].value0})(t[0].value1.value0.left)),right:new Y(0,ba(function(u){return u+t[0].value0})(t[0].value1.value0.right))});var r=Ep(function(u){return new ud({left:ba(function(i){return i+u.value0})(u.value1.value0.left),right:ba(function(i){return i+u.value0})(u.value1.value0.right)})})(t),a=MV(Ep(function(u){return u.value0.right})(r)),o=FV(Ep(function(u){return u.value0.left})(r));return new ud({left:new Y(0,o),right:new Y(0,a)})}},xV=function(n){var e=Hr(n);return e.value1};var IV=function(n){return function(e){var t=function(u){if(u instanceof $)return $.value;if(u instanceof Y)return u.value1;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 280, column 3 - line 280, column 41): "+[u.constructor.name])},r=function(u){return function(i){return wV(u)(i.value0)(i.value1)}},a=new S(n,e);if(a.value0 instanceof $)return $.value;if(a.value1 instanceof $)return $.value;if(a.value1 instanceof Y&&a.value1.value1 instanceof $)return $.value;var o=lf(S.create)(e)(t(e));return lf(r)(n)(o)}},AV=function(n){return function(e){return function(t){var r=function(o){if(o instanceof $)return $.value;if(o instanceof Y)return o.value1;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 258, column 3 - line 258, column 41): "+[o.constructor.name])},a=function(o){return function(u){return function(i){return function(f){if(o instanceof v)return u;if(o instanceof m)return o.value0(i)(f)+u;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Tree (line 254, column 3 - line 254, column 67): "+[o.constructor.name,u.constructor.name,i.constructor.name,f.constructor.name])}}}};return t instanceof $?$.value:t instanceof Y&&t.value1 instanceof $?$.value:lf(a(e)(n))(t)(r(t))}}},LV=function(n){return function(e){return function(t){var r=function(u){return function(i){var f=Hr(u),c=Kr(u);return Ya(new S({offset:i},f.value1))(c)}},a=function(u){var i=Hr(u),f=Kr(u),c=uv(f);if(c===0)return new S(Ya(new S({offset:0},i))($.value),_I);var l=ba(a)(f),s=ba(function(k){return k.value0})(l),p=ba(xV)(s),_=ba(function(k){return k.value1})(l),d=AV(n)(e)(p),g=IV(d)(_),D=new Y(0,EV(bV)(0)(g)),b=In(0)(jt(j0(D))),I=In(0)(Hi(j0(D))),M=(b+I)/2,h=ba(function(k){return k-M})(D),y=lf(r)(s)(h),C=SV(h)(_),P=Ya(new S({offset:M},i))(y);return new S(P,C)},o=a(t);return o.value0}}};var vI=function(n){return function(e){var t=Hr(e),r=Kr(e);return Ya((function(){var a={};for(var o in t)({}).hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a.depth=n,a})())(ba(vI(n+1|0))(r))}},dI=function(n){return function(e){var t=vI(0)(e),r=LV(n.minSeparation)(n.separation)(t),a=mI(0)(r),o=CV(n)(a);return o}};var DI=T(gn),RV=Tt(An);var OV=Va(An)(cn),HV=Q(de),WV=Io(cn)(An),gI=Ic(An);var hI=function(n){return function(e){var t=RV(n)(e.maps.linksBySource);if(t instanceof v)return[];if(t instanceof m)return t.value0;throw new Error("Failed pattern match at PSD3.Data.Graph (line 196, column 3 - line 198, column 24): "+[t.constructor.name])}};var yI=function(n){return function(e){return function(t){var r=function(c){return function(l){if(l instanceof v)return new m([c]);if(l instanceof m)return new m(HV(l.value0)([c]));throw new Error("Failed pattern match at PSD3.Data.Graph (line 112, column 5 - line 112, column 68): "+[c.constructor.name,l.constructor.name])}},a=WV(DI(n.getNodeId)(e)),o=OV(DI(function(c){return new S(n.getNodeId(c),c)})(e)),u=Ha(function(c){return function(l){var s=n.getLinkTarget(l);return gI(r(l))(s)(c)}})(ie)(t),i=Ha(function(c){return function(l){var s=n.getLinkSource(l);return gI(r(l))(s)(c)}})(ie)(t),f={nodeById:o,linksBySource:i,linksByTarget:u,nodeIds:a};return{nodes:e,links:t,maps:f}}}};var TI=V(_t),EI=T(gn),$V=Ef(An),wI=Fr(gn),id=Q(de),kV=Q(Xx(An)),qV=Io(cn)(An);var CI=function(n){return function(e){return function(t){var r=function(i){return TI(ku(i.openPaths))(function(f){return TI(jt(f.head))(function(c){var l=hI(c)(t),s=EI(n.getLinkTarget)(l),p=Pg(function(D){return!$V(D)(i.nodes)})(s),_=wI(p.no)(function(D){return new S(c,D)}),d=wI(p.yes)(function(D){return mt(D)(f.head)}),g=Ze(d);return g?new m({nodes:i.nodes,spanningTree:i.spanningTree,openPaths:f.tail,paths:mt(f.head)(i.paths),redundantEdges:id(i.redundantEdges)(_)}):new m({paths:i.paths,openPaths:id(f.tail)(d),nodes:kV(i.nodes)(qV(p.yes)),spanningTree:id(i.spanningTree)(EI(function(D){return new S(c,D)})(p.yes)),redundantEdges:id(i.redundantEdges)(_)})})})},a=function(i){var f=!1,c;function l(s){if(Ze(s.openPaths))return f=!0,s;if(pe){var p=r(s);if(p instanceof v)return f=!0,s;if(p instanceof m){i=p.value0;return}throw new Error("Failed pattern match at PSD3.Data.Graph.Algorithms (line 68, column 21 - line 70, column 35): "+[p.constructor.name])}throw new Error("Failed pattern match at PSD3.Data.Graph.Algorithms (line 66, column 5 - line 70, column 35): "+[s.constructor.name])}for(;!f;)c=l(i);return c},o={nodes:ad,spanningTree:[],redundantEdges:[],paths:[],openPaths:[[e]]},u=a(o);return{nodes:u.nodes,spanningTree:u.spanningTree,redundantEdges:u.redundantEdges,paths:u.paths}}}};var ft=(function(){function n(){}return n.value=new n,n})(),tt=(function(){function n(){}return n.value=new n,n})(),wp=(function(){function n(){}return n.value=new n,n})(),Cp=(function(){function n(){}return n.value=new n,n})(),MI=(function(){function n(){}return n.value=new n,n})(),FI=(function(){function n(){}return n.value=new n,n})();var Mf={eq:function(n){return function(e){return n instanceof ft&&e instanceof ft||n instanceof tt&&e instanceof tt}}};var BV={eq:function(n){return function(e){return n instanceof wp&&e instanceof wp||n instanceof Cp&&e instanceof Cp||n instanceof MI&&e instanceof MI||n instanceof FI&&e instanceof FI}}},GV=tn(BV);var fd=function(n){return GV(n.linkType)(wp.value)};var ld=Tt(An),VV=Ef(An),Ea=Tt(ee),JV=Bo(pt),X0=po(St),sd=ur(St),II=Si(An)(An),zV=Ef(II),jV=T(Zo),Z0=ut(An),QV=Yn($e),XV=Qo(An),Ta=V(dt),fl=L(qt),ul=Yn(cn),ol=Fr(Xn),il=T(gn),YV=ei(cn),_d=ZF(zr),KV=tf(zr),AI=ut(ee),Y0=Va(ee)(cn),ZV=Q(de),n4=bp(An),e4=Io(Yx)(An),t4=Io(cn)(II),ct=V(rc),li=Ao(iu(od)),pd=li(Cf),r4=rl(Xa(li(pd({reflectSymbol:function(){return"title"}})()())({reflectSymbol:function(){return"kind"}})()())()),nb=ya(Tp(r4)),eb=Ao(iu(rl(od))),LI={reflectSymbol:function(){return"name"}},a4={reflectSymbol:function(){return"module"}},o4=Ao(iu(Tp(Xa(eb(Ao(iu(rl(Xa(li(Ao(iu(lI))(li(pd({reflectSymbol:function(){return"targetModule"}})()())({reflectSymbol:function(){return"target"}})()())({reflectSymbol:function(){return"isCrossModule"}})()())({reflectSymbol:function(){return"identifier"}})()())())))(li(pd(LI)()())(a4)()())({reflectSymbol:function(){return"calls"}})()())({reflectSymbol:function(){return"calledBy"}})()())()))),u4={reflectSymbol:function(){return"functions"}},i4=ya(Xa(o4(Cf)(u4)()())());var cd=q(Ae),SI=Ao(sI(od)),K0=Ao(iu(cI)),f4={reflectSymbol:function(){return"repoPath"}},c4={reflectSymbol:function(){return"id"}},l4={reflectSymbol:function(){return"description"}};var s4=ya(Xa(Ao(iu(rl(Xa(SI(K0(SI(li(li(K0(Cf)({reflectSymbol:function(){return"snapshotCount"}})()())(f4)()())(LI)()())({reflectSymbol:function(){return"latestSnapshotAt"}})()())(c4)()())(l4)()())())))(Cf)({reflectSymbol:function(){return"projects"}})()())()),NI=pd({reflectSymbol:function(){return"path"}})()(),PI={reflectSymbol:function(){return"depends"}},RI=ya(Tp(Xa(eb(li(NI)({reflectSymbol:function(){return"package"}})()())(PI)()())())),OI=ya(Tp(Xa(eb(Cf)(PI)()())())),xI={reflectSymbol:function(){return"loc"}},HI=ya(Xa(Ao(iu(rl(Xa(K0(NI)(xI)()())())))(Cf)(xI)()())());var p4=function(n){return function(e){return function(t){var r=(function(){var o=ld(t.id)(n);if(o instanceof m){var u=(o.value0.y/1e3-.5)*1400,i=(o.value0.x/1e3-.5)*2e3;return{cluster:t.cluster,fx:t.fx,fy:t.fy,gridX:t.gridX,gridY:t.gridY,id:t.id,isInTree:t.isInTree,name:t.name,nodeType:t.nodeType,orbitAngle:t.orbitAngle,package:t.package,r:t.r,sources:t.sources,targets:t.targets,vx:t.vx,vy:t.vy,x:t.x,y:t.y,treeX:i,treeY:u}}if(o instanceof v)return t;throw new Error("Failed pattern match at Data.Loader (line 564, column 19 - line 574, column 22): "+[o.constructor.name])})(),a=VV(t.id)(e);return{id:r.id,x:r.x,y:r.y,vx:r.vx,vy:r.vy,fx:r.fx,fy:r.fy,name:r.name,nodeType:r.nodeType,package:r.package,r:r.r,cluster:r.cluster,targets:r.targets,sources:r.sources,gridX:r.gridX,gridY:r.gridY,orbitAngle:r.orbitAngle,treeX:r.treeX,treeY:r.treeY,isInTree:a}}}},_4=function(n){return function(e){return function(t){return function(r){return function(a){var o=In(100)(Ea(a)(t)),u=JV(8)(Xt(Tn(o))*.5),i=Tn(X0(r)(8)),f=(i-Tn(X0(e)(8))/2)*120,c=Tn(sd(r)(8)),l=(c-Tn(8)/2+.5)*120,s=2*Mh*Tn(r)/Tn(e);return{id:r,name:a,nodeType:tt.value,package:a,x:l,y:f,vx:0,vy:0,fx:null,fy:null,r:u,cluster:r,targets:[],sources:[],gridX:l,gridY:f,orbitAngle:s,treeX:0,treeY:0,isInTree:!1}}}}}},m4=function(n){return function(e){var t=new S(e.source,e.target),r=zV(t)(n);return r?{source:e.source,target:e.target,linkType:wp.value}:{source:e.source,target:e.target,linkType:Cp.value}}},WI=function(n){return function(e){return Ya(n(Hr(e)))(jV(WI(n))(Kr(e)))}},Ka=function(n){return function(e){if(e instanceof en)return new en(n(e.value0));if(e instanceof B)return new B(e.value0);throw new Error("Failed pattern match at Data.Loader (line 236, column 1 - line 236, column 62): "+[n.constructor.name,e.constructor.name])}},v4=function(n){return function(e){var t=function(r){return function(a){var o=Hr(r),u=Kr(r),i=Z0(o.id)({x:o.x,y:o.y})(a);return QV(function(f){return function(c){return t(c)(f)}})(i)(u)}};return t(e)(ie)}},d4=function(n){var e=ho(function(r){return r.name==="PSD3.Main"})(n);if(e instanceof m)return e.value0.id;if(e instanceof v){var t=Hi(XV(function(r){return X(r.sources)})(n));if(t instanceof m)return t.value0.id;if(t instanceof v)return 0;throw new Error("Failed pattern match at Data.Loader (line 511, column 7 - line 513, column 21): "+[t.constructor.name])}throw new Error("Failed pattern match at Data.Loader (line 506, column 3 - line 513, column 21): "+[e.constructor.name])},Za=function(n){return Ta(Bx(sx)(n))(function(e){return fl((function(){if(e instanceof en)return new en("Fetch error: "+$0(e.value0));if(e instanceof B)return new B(e.value0.body);throw new Error("Failed pattern match at Data.Loader (line 232, column 10 - line 234, column 42): "+[e.constructor.name])})())})},D4=function(n){var e=Ms(ws(n))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789._-");if(e instanceof m)return e.value0;if(e instanceof v)return 0;throw new Error("Failed pattern match at Data.Loader (line 792, column 14 - line 794, column 15): "+[e.constructor.name])},g4=function(n){var e=Sh(n);return ul(function(t){return function(r){return sd((t*31|0)+D4(r)|0)(1e6)}})(0)(e)},h4=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){return function(u){return function(i){return function(f){return function(c){return function(l){var s=Ge(n)(t),p=In("unknown")(ol(s)(function(G){return G.package})),_=In(0)(Ea(p)(a)),d=oe(f)(_),g=In(0)(ol(d)(function(G){return G.gridY})),D=In(0)(ol(d)(function(G){return G.gridX})),b=In("")(ol(s)(function(G){return G.path})),I=e+u|0,M=In([])(ld(I)(l)),h=In([])(ld(I)(c)),y=g4(n),C=2*Mh*Tn(sd(y)(360))/360,P=30+Tn(sd(X0(y)(360))(30)),k=pa(C)*P,sn=_a(C)*P,U=In(50)(Ea(b)(r)),J=4+Xt(Tn(U))*.8,jn=In(0)(Ea(p)(a)),Hn=g+sn,E=D+k;return{id:I,name:n,nodeType:ft.value,package:p,x:E,y:Hn,vx:0,vy:0,fx:null,fy:null,r:J,cluster:jn,targets:h,sources:M,gridX:E,gridY:Hn,orbitAngle:0,treeX:0,treeY:0,isInTree:!1}}}}}}}}}}}},y4=function(n){return function(e){var t=function(a){return Ee(function(o){var u=o.value0===a;return u?new m(o.value1):v.value})(e)},r=function(a){var o=t(a),u=il(r)(o);return Ya(a)(YV(u))};return r(n)}},b4=function(n){return function(e){var t=function(r){return function(a){var o=Ea(a.value0)(e);if(o instanceof v)return r;if(o instanceof m){var u=Ee(function(i){return Ea(i)(e)})(a.value1.depends);return Z0(o.value0)(u)(r)}throw new Error("Failed pattern match at Data.Loader (line 758, column 5 - line 764, column 42): "+[o.constructor.name])}};return ul(t)(ie)(_d(n))}},T4=function(n){var e=function(t){return function(r){return ul(function(a){return function(o){var u=In([])(ld(o)(a));return Z0(o)(jr(u)(r.value0))(a)}})(t)(r.value1)}};return ul(e)(ie)(KV(n))},E4=function(n){var e=function(t){return function(r){var a=In([])(Ea(r.value1.package)(t));return AI(r.value1.package)(jr(a)(r.value0))(t)}};return ul(e)(ie)(_d(n))},w4=function(n){return function(e){var t=function(r){return function(a){var o=In(50)(Ea(a.value1.path)(e)),u=In(0)(Ea(a.value1.package)(r));return AI(a.value1.package)(u+o|0)(r)}};return ul(t)(ie)(_d(n))}},$I=function(n){return Y0(il(function(e){return new S(e.path,e.loc)})(n))},C4=function(n){return function(e){var t=function(r){var a=Ea(r.value0)(e);if(a instanceof v)return[];if(a instanceof m)return Ee(function(o){return ol(Ea(o)(e))(function(u){return{source:a.value0,target:u,linkType:Cp.value}})})(r.value1.depends);throw new Error("Failed pattern match at Data.Loader (line 739, column 5 - line 750, column 25): "+[a.constructor.name])};return xi(il(t)(_d(n)))}},kI=function(n){return function(e){return function(t){return function(r){var a={size:{width:1e3,height:1e3},minSeparation:1,separation:v.value,layerScale:v.value},o=vv(e),u=E4(n),i=br(function(x){return function(j){return{name:j,depends:In([])(ol(Ge(j)(e))(function(mn){return mn.depends})),modules:In([])(Ea(j)(u))}}})(o),f=w4(n)(t),c=Y0(br(function(x){return function(j){return new S(j,x)}})(o)),l=X(o),s=br(_4(o)(l)(f))(o),p=vv(n),_=Y0(br(function(x){return function(j){return new S(j,x+l|0)}})(p)),d=b4(n)(_),g=T4(d),D=X(p),b=br(function(x){return function(j){return h4(j)(x)(n)(t)(c)(_)(l)(D)(s)(d)(g)}})(p),I=ZV(s)(b),M=d4(b),h={getNodeId:function(x){return x.id},getLinkSource:function(x){return x.source},getLinkTarget:function(x){return x.target}},y=C4(n)(_),C=yI(h)(I)(y),P=CI(h)(M)(C),k=y4(M)(P.spanningTree),sn=WI(function(x){return{id:x,x:0,y:0,depth:0,height:0}})(k),U=dI(a)(sn),J=v4(1e3)(U),jn=n4(M)(e4(P.nodes)),Hn=il(p4(J)(jn))(I),E=t4(P.spanningTree),G=il(m4(E))(y);return{nodes:Hn,links:G,packages:i,declarations:r,moduleCount:D,packageCount:l}}}}},ci="http://localhost:8080",qI=function(n){var e=Yo(",")(n);return Ta(Za(ci+("/api/batch-declarations/"+e)))(function(t){return fl(ct(t)(function(r){return ct(Ka(ha)(nb(r)))(function(a){return new B(a)})}))})},UI=function(n){var e=Yo(",")(n);return Ta(Za(ci+("/api/batch-function-calls/"+e)))(function(t){return fl(ct(t)(function(r){return ct(Ka(ha)(i4(r)))(function(a){return new B(a.functions)})}))})};var BI=(function(){var n=function(e){return{id:e.id,name:e.name,repoPath:e.repoPath,description:e.description,snapshotCount:e.snapshotCount,latestSnapshotAt:e.latestSnapshotAt,snapshots:[]}};return Ta(Za(ci+"/api/projects"))(function(e){return fl(ct(e)(function(t){return ct(Ka(ha)(s4(t)))(function(r){return new B(il(n)(r.projects))})}))})})();var GI=(function(){return Ta(Za(ci+"/data/spago-data/modules.json"))(function(n){return Ta(Za(ci+"/data/spago-data/packages.json"))(function(e){return Ta(Za(ci+"/data/spago-data/LOC.json"))(function(t){return Ta(Za(ci+"/data/spago-data/declarations-summary.json"))(function(r){return fl(ct(n)(function(a){return ct(e)(function(o){return ct(t)(function(u){return ct(r)(function(i){return ct(Ka(ha)(RI(a)))(function(f){return ct(Ka(ha)(OI(o)))(function(c){return ct(Ka(ha)(HI(u)))(function(l){return ct(Ka(ha)(nb(i)))(function(s){var p=$I(l.loc);return new B(kI(f)(c)(p)(s))})})})})})})})}))})})})})})();var VI=function(n){var e=ci+"/api/project-";return Ta(Za(e+("modules/"+cd(n))))(function(t){return Ta(Za(e+("packages/"+cd(n))))(function(r){return Ta(Za(e+("loc/"+cd(n))))(function(a){return Ta(Za(e+("declarations-summary/"+cd(n))))(function(o){return fl(ct(t)(function(u){return ct(r)(function(i){return ct(a)(function(f){return ct(o)(function(c){return ct(Ka(ha)(RI(u)))(function(l){return ct(Ka(ha)(OI(i)))(function(s){return ct(Ka(ha)(HI(f)))(function(p){return ct(Ka(ha)(nb(c)))(function(_){var d=$I(p.loc);return new B(kI(l)(s)(d)(_))})})})})})})})}))})})})})};var tb=n=>e=>n<e.length?e.charAt(n):"",rb=n=>e=>t=>t.substring(n,e);var Mp=Math.random;var md="http://www.w3.org/1999/xhtml",ab={svg:"http://www.w3.org/2000/svg",xhtml:md,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fu(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),ab.hasOwnProperty(e)?{space:ab[e],local:n}:n}function x4(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===md&&e.documentElement.namespaceURI===md?e.createElement(n):e.createElementNS(t,n)}}function I4(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function vd(n){var e=fu(n);return(e.local?I4:x4)(e)}function A4(){}function Ff(n){return n==null?A4:function(){return this.querySelector(n)}}function zI(n){typeof n!="function"&&(n=Ff(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=new Array(u),f,c,l=0;l<u;++l)(f=o[l])&&(c=n.call(f,f.__data__,l,o))&&("__data__"in f&&(c.__data__=f.__data__),i[l]=c);return new lt(r,this._parents)}function ob(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function L4(){return[]}function Fp(n){return n==null?L4:function(){return this.querySelectorAll(n)}}function N4(n){return function(){return ob(n.apply(this,arguments))}}function jI(n){typeof n=="function"?n=N4(n):n=Fp(n);for(var e=this._groups,t=e.length,r=[],a=[],o=0;o<t;++o)for(var u=e[o],i=u.length,f,c=0;c<i;++c)(f=u[c])&&(r.push(n.call(f,f.__data__,c,u)),a.push(f));return new lt(r,a)}function Sp(n){return function(){return this.matches(n)}}function dd(n){return function(e){return e.matches(n)}}var P4=Array.prototype.find;function R4(n){return function(){return P4.call(this.children,n)}}function O4(){return this.firstElementChild}function QI(n){return this.select(n==null?O4:R4(typeof n=="function"?n:dd(n)))}var H4=Array.prototype.filter;function W4(){return Array.from(this.children)}function $4(n){return function(){return H4.call(this.children,n)}}function XI(n){return this.selectAll(n==null?W4:$4(typeof n=="function"?n:dd(n)))}function YI(n){typeof n!="function"&&(n=Sp(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=[],f,c=0;c<u;++c)(f=o[c])&&n.call(f,f.__data__,c,o)&&i.push(f);return new lt(r,this._parents)}function Dd(n){return new Array(n.length)}function KI(){return new lt(this._enter||this._groups.map(Dd),this._parents)}function xp(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}xp.prototype={constructor:xp,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function ZI(n){return function(){return n}}function k4(n,e,t,r,a,o){for(var u=0,i,f=e.length,c=o.length;u<c;++u)(i=e[u])?(i.__data__=o[u],r[u]=i):t[u]=new xp(n,o[u]);for(;u<f;++u)(i=e[u])&&(a[u]=i)}function q4(n,e,t,r,a,o,u){var i,f,c=new Map,l=e.length,s=o.length,p=new Array(l),_;for(i=0;i<l;++i)(f=e[i])&&(p[i]=_=u.call(f,f.__data__,i,e)+"",c.has(_)?a[i]=f:c.set(_,f));for(i=0;i<s;++i)_=u.call(n,o[i],i,o)+"",(f=c.get(_))?(r[i]=f,f.__data__=o[i],c.delete(_)):t[i]=new xp(n,o[i]);for(i=0;i<l;++i)(f=e[i])&&c.get(p[i])===f&&(a[i]=f)}function U4(n){return n.__data__}function nA(n,e){if(!arguments.length)return Array.from(this,U4);var t=e?q4:k4,r=this._parents,a=this._groups;typeof n!="function"&&(n=ZI(n));for(var o=a.length,u=new Array(o),i=new Array(o),f=new Array(o),c=0;c<o;++c){var l=r[c],s=a[c],p=s.length,_=B4(n.call(l,l&&l.__data__,c,r)),d=_.length,g=i[c]=new Array(d),D=u[c]=new Array(d),b=f[c]=new Array(p);t(l,s,g,D,b,_,e);for(var I=0,M=0,h,y;I<d;++I)if(h=g[I]){for(I>=M&&(M=I+1);!(y=D[M])&&++M<d;);h._next=y||null}}return u=new lt(u,r),u._enter=i,u._exit=f,u}function B4(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function eA(){return new lt(this._exit||this._groups.map(Dd),this._parents)}function tA(n,e,t){var r=this.enter(),a=this,o=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(a=e(a),a&&(a=a.selection())),t==null?o.remove():t(o),r&&a?r.merge(a).order():a}function rA(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,a=t.length,o=r.length,u=Math.min(a,o),i=new Array(a),f=0;f<u;++f)for(var c=t[f],l=r[f],s=c.length,p=i[f]=new Array(s),_,d=0;d<s;++d)(_=c[d]||l[d])&&(p[d]=_);for(;f<a;++f)i[f]=t[f];return new lt(i,this._parents)}function aA(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],a=r.length-1,o=r[a],u;--a>=0;)(u=r[a])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function oA(n){n||(n=G4);function e(s,p){return s&&p?n(s.__data__,p.__data__):!s-!p}for(var t=this._groups,r=t.length,a=new Array(r),o=0;o<r;++o){for(var u=t[o],i=u.length,f=a[o]=new Array(i),c,l=0;l<i;++l)(c=u[l])&&(f[l]=c);f.sort(e)}return new lt(a,this._parents).order()}function G4(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function uA(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function iA(){return Array.from(this)}function fA(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length;a<o;++a){var u=r[a];if(u)return u}return null}function cA(){let n=0;for(let e of this)++n;return n}function lA(){return!this.node()}function sA(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],o=0,u=a.length,i;o<u;++o)(i=a[o])&&n.call(i,i.__data__,o,a);return this}function V4(n){return function(){this.removeAttribute(n)}}function J4(n){return function(){this.removeAttributeNS(n.space,n.local)}}function z4(n,e){return function(){this.setAttribute(n,e)}}function j4(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Q4(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function X4(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function pA(n,e){var t=fu(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?J4:V4:typeof e=="function"?t.local?X4:Q4:t.local?j4:z4)(t,e))}function gd(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Y4(n){return function(){this.style.removeProperty(n)}}function K4(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Z4(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function _A(n,e,t){return arguments.length>1?this.each((e==null?Y4:typeof e=="function"?Z4:K4)(n,e,t??"")):si(this.node(),n)}function si(n,e){return n.style.getPropertyValue(e)||gd(n).getComputedStyle(n,null).getPropertyValue(e)}function nJ(n){return function(){delete this[n]}}function eJ(n,e){return function(){this[n]=e}}function tJ(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function mA(n,e){return arguments.length>1?this.each((e==null?nJ:typeof e=="function"?tJ:eJ)(n,e)):this.node()[n]}function vA(n){return n.trim().split(/^|\s+/)}function ub(n){return n.classList||new dA(n)}function dA(n){this._node=n,this._names=vA(n.getAttribute("class")||"")}dA.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function DA(n,e){for(var t=ub(n),r=-1,a=e.length;++r<a;)t.add(e[r])}function gA(n,e){for(var t=ub(n),r=-1,a=e.length;++r<a;)t.remove(e[r])}function rJ(n){return function(){DA(this,n)}}function aJ(n){return function(){gA(this,n)}}function oJ(n,e){return function(){(e.apply(this,arguments)?DA:gA)(this,n)}}function hA(n,e){var t=vA(n+"");if(arguments.length<2){for(var r=ub(this.node()),a=-1,o=t.length;++a<o;)if(!r.contains(t[a]))return!1;return!0}return this.each((typeof e=="function"?oJ:e?rJ:aJ)(t,e))}function uJ(){this.textContent=""}function iJ(n){return function(){this.textContent=n}}function fJ(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function yA(n){return arguments.length?this.each(n==null?uJ:(typeof n=="function"?fJ:iJ)(n)):this.node().textContent}function cJ(){this.innerHTML=""}function lJ(n){return function(){this.innerHTML=n}}function sJ(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function bA(n){return arguments.length?this.each(n==null?cJ:(typeof n=="function"?sJ:lJ)(n)):this.node().innerHTML}function pJ(){this.nextSibling&&this.parentNode.appendChild(this)}function TA(){return this.each(pJ)}function _J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function EA(){return this.each(_J)}function wA(n){var e=typeof n=="function"?n:vd(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function mJ(){return null}function CA(n,e){var t=typeof n=="function"?n:vd(n),r=e==null?mJ:typeof e=="function"?e:Ff(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function vJ(){var n=this.parentNode;n&&n.removeChild(this)}function MA(){return this.each(vJ)}function dJ(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function DJ(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function FA(n){return this.select(n?DJ:dJ)}function SA(n){return arguments.length?this.property("__data__",n):this.node().__data__}function gJ(n){return function(e){n.call(this,e,this.__data__)}}function hJ(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function yJ(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,a=e.length,o;t<a;++t)o=e[t],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function bJ(n,e,t){return function(){var r=this.__on,a,o=gJ(e);if(r){for(var u=0,i=r.length;u<i;++u)if((a=r[u]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),a.value=e;return}}this.addEventListener(n.type,o,t),a={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(a):this.__on=[a]}}function xA(n,e,t){var r=hJ(n+""),a,o=r.length,u;if(arguments.length<2){var i=this.node().__on;if(i){for(var f=0,c=i.length,l;f<c;++f)for(a=0,l=i[f];a<o;++a)if((u=r[a]).type===l.type&&u.name===l.name)return l.value}return}for(i=e?bJ:yJ,a=0;a<o;++a)this.each(i(r[a],e,t));return this}function IA(n,e,t){var r=gd(n),a=r.CustomEvent;typeof a=="function"?a=new a(e,t):(a=r.document.createEvent("Event"),t?(a.initEvent(e,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(e,!1,!1)),n.dispatchEvent(a)}function TJ(n,e){return function(){return IA(this,n,e)}}function EJ(n,e){return function(){return IA(this,n,e.apply(this,arguments))}}function AA(n,e){return this.each((typeof e=="function"?EJ:TJ)(n,e))}function*LA(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length,u;a<o;++a)(u=r[a])&&(yield u)}var ib=[null];function lt(n,e){this._groups=n,this._parents=e}function NA(){return new lt([[document.documentElement]],ib)}function wJ(){return this}lt.prototype=NA.prototype={constructor:lt,select:zI,selectAll:jI,selectChild:QI,selectChildren:XI,filter:YI,data:nA,enter:KI,exit:eA,join:tA,merge:rA,selection:wJ,order:aA,sort:oA,call:uA,nodes:iA,node:fA,size:cA,empty:lA,each:sA,attr:pA,style:_A,property:mA,classed:hA,text:yA,html:bA,raise:TA,lower:EA,append:wA,insert:CA,remove:MA,clone:FA,datum:SA,on:xA,dispatch:AA,[Symbol.iterator]:LA};var cu=NA;function Bn(n){return typeof n=="string"?new lt([[document.querySelector(n)]],[document.documentElement]):new lt([[n]],ib)}function PA(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Tr(n,e){if(n=PA(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[n.clientX-a.left-e.clientLeft,n.clientY-a.top-e.clientTop]}}return[n.pageX,n.pageY]}var cl=null,RA=null,fb=()=>(cl||(cl=document.createElement("div"),cl.className="psd3-tooltip",cl.style.cssText=`
      position: fixed;
      display: none;
      pointer-events: none;
      z-index: 10000;
    `,document.body.appendChild(cl),RA&&CJ(RA)),cl),CJ=n=>{let e=fb();n.background&&(e.style.background=n.background),n.color&&(e.style.color=n.color),n.padding&&(e.style.padding=n.padding),n.borderRadius&&(e.style.borderRadius=n.borderRadius),n.fontSize&&(e.style.fontSize=n.fontSize),n.fontFamily&&(e.style.fontFamily=n.fontFamily),n.border&&(e.style.border=n.border),n.boxShadow&&(e.style.boxShadow=n.boxShadow),n.maxWidth&&(e.style.maxWidth=n.maxWidth),n.lineHeight&&(e.style.lineHeight=n.lineHeight),n.backdropFilter&&(e.style.backdropFilter=n.backdropFilter,e.style.webkitBackdropFilter=n.backdropFilter)},OA=n=>e=>t=>()=>{let r=fb();r.innerHTML=n,r.style.display="block";let a=r.getBoundingClientRect(),o=window.innerWidth,u=window.innerHeight,i=e+15,f=t+10;i+a.width>o&&(i=e-a.width-15),f+a.height>u&&(f=t-a.height-10),r.style.left=i+"px",r.style.top=f+"px"},HA=()=>{fb().style.display="none"};var WA=n=>e=>t=>()=>{let a=Bn(n).append("g").datum(e).attr("class",`module-pack pack-${e.id} ${t?"reexport-module":"empty-module"}`).attr("transform",`translate(${e.x},${e.y})`);t?(a.append("circle").attr("cx",0).attr("cy",0).attr("r",e.r*1.5).attr("fill","none").attr("stroke","#9467bd").attr("stroke-width",3).attr("stroke-dasharray","5,3").attr("class","reexport-ring"),a.append("circle").attr("cx",0).attr("cy",0).attr("r",4).attr("fill","#9467bd").attr("class","reexport-center")):a.append("circle").attr("cx",0).attr("cy",0).attr("r",e.r).attr("fill","#ccc").attr("stroke","#999").attr("stroke-width",1).attr("class","empty-module-circle")},$A=n=>e=>t=>()=>{let r=new Set(e),a=new Set(t);Bn("#explorer-nodes").selectAll("g.module-pack").each(function(){let o=Bn(this),u=o.datum();if(!u)return;let i=u.name;o.classed("highlight-caller",!1).classed("highlight-callee",!1).classed("highlight-source",!1).classed("highlight-dimmed",!1),i===n?o.classed("highlight-source",!0):r.has(i)?o.classed("highlight-caller",!0):a.has(i)?o.classed("highlight-callee",!0):o.classed("highlight-dimmed",!0)}),Bn("#explorer-links").selectAll("line").each(function(){Bn(this).classed("highlight-dimmed",!0)})},kA=()=>{Bn("#explorer-nodes").selectAll("g.module-pack").classed("highlight-caller",!1).classed("highlight-callee",!1).classed("highlight-source",!1).classed("highlight-dimmed",!1),Bn("#explorer-links").selectAll("line").classed("highlight-dimmed",!1)},qA=n=>e=>t=>r=>a=>o=>u=>i=>()=>{Bn(n).append("g").datum(e).attr("class",`module-pack pack-${e.id}`).attr("transform",`translate(${e.x},${e.y})`).selectAll("circle").data(t).enter().append("circle").attr("cx",l=>l.x-r).attr("cy",l=>l.y-r).attr("r",l=>l.r).attr("fill",l=>a(l)()).attr("fill-opacity",l=>l.depth===0?.3:l.depth===1?.6:.8).attr("stroke","#fff").attr("stroke-width",.5).attr("class",l=>l.depth===0?"pack-module":l.depth===1?"pack-category":"pack-declaration").style("cursor",l=>l.depth===2?"pointer":"default").on("click",function(l,s){s.depth===2&&(l.stopPropagation(),o(e.name)(s.data_)(s.category)())}).on("mouseenter",function(l,s){if(s.depth===2){Bn(this).attr("stroke","#000").attr("stroke-width",2);let p=`
          <div class="tooltip-header">${s.data_}</div>
          <div class="tooltip-package">${e.name}</div>
          <div class="tooltip-metrics">
            <div class="tooltip-metric">
              <span class="metric-label">Type</span>
              <span class="metric-value">${s.category}</span>
            </div>
          </div>
        `;OA(p)(l.pageX)(l.pageY)(),s.category==="value"&&u(e.name)(s.data_)(s.category)()}}).on("mouseleave",function(l,s){s.depth===2&&(Bn(this).attr("stroke","#fff").attr("stroke-width",.5),HA(),s.category==="value"&&i())})};var ll=Og(Yf),FJ=Q(de),pu=T(gn),JA=Su(pt),Ap=Bo(pt),SJ=ut(An),xJ=Va(An)(cn),IJ=Qo(pt),pb=Yn(cn),AJ=Bo(An),mb=ur(St);var cb=T(Xn),lb=Zn(vo),bd=V(_t),su=Tt(An),zA=L(aa),LJ=rm(cn),NJ=Kl(pt),_u=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var lu=(function(){function n(){}return n.value=new n,n})(),jA=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),QA=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var UA=function(n){return function(e){return function(t){var r=ll(e)(t),a=ll(n)(t);if(a instanceof m&&r instanceof m){var o=r.value0>a.value0;if(o){var u=Lg(a.value0+1|0)(t),i=lm(r.value0)(t);return FJ(u)(i)}var f=r.value0<a.value0;return f?Oi(r.value0)(a.value0+1|0)(t):t}return t}}},PJ=function(n){return function(e){var t=function(i){return function(f){return function(c){return function(l){var s=c+i*l.value0.y,p=f+i*l.value0.x,_=i*l.value0.r;return new _u({data_:l.value0.data_,depth:l.value0.depth,height:l.value0.height,value:l.value0.value,x:p,y:s,r:_,children:pu(t(i)(p)(s))(l.value0.children)})}}}},r=JA(n.size.width)(n.size.height)/(2*e.value0.r),a=r*e.value0.r,o=n.size.height/2,u=n.size.width/2;return new _u({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x:u,y:o,r:a,children:pu(t(r)(u)(o))(e.value0.children)})}},XA=function(n){return function(e){return function(t){var r=n.y-e.y,a=n.x-e.x,o=a*a+r*r,u=o!==0;if(u){var i=(n.r+t.r)*(n.r+t.r),f=(e.r+t.r)*(e.r+t.r),c=f>i;if(c){var l=(o+i-f)/(2*o),s=Xt(Ap(0)(i/o-l*l));return{x:n.x-l*a-s*r,y:n.y-l*r+s*a,r:t.r}}var l=(o+f-i)/(2*o),s=Xt(Ap(0)(f/o-l*l));return{x:e.x+l*a-s*r,y:e.y+l*r+s*a,r:t.r}}return{x:e.x+t.r,y:e.y,r:t.r}}}},RJ=function(n){return function(e){return function(t){return function(r){var a=ll(n)(r);if(a instanceof v)return r;if(a instanceof m)return In(r)(Rg(a.value0+1|0)(t)(r));throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 174, column 3 - line 178, column 62): "+[a.constructor.name])}}}},BA=function(n){return function(e){return function(t){return function(r){var a=SJ(r.nextId)(t)(r.circles),o=RJ(n)(e)(r.nextId)(r.frontChain);return{circles:a,frontChain:o,nextId:r.nextId+1|0}}}}},OJ=function(n){return function(e){return function(t){var r={r:e.r,x:n.r,y:0},a={r:n.r,x:-e.r,y:0},o=XA(r)(a)(t),u=xJ([new S(0,a),new S(1,r),new S(2,o)]);return{circles:u,frontChain:[0,2,1],nextId:3}}}},YA=function(n){var e=function(t){return function(r){if(t.children instanceof v)return new _u({data_:t.data_,depth:r,height:0,value:In(0)(t.value),children:[],x:0,y:0,r:0});if(t.children instanceof m){var a=pu(function(c){return e(c)(r+1|0)})(t.children.value0),o=IJ(function(c){return-c.value0.value})(a),u=pb(function(c){return function(l){return c+l.value0.value}})(0)(o),i=pu(function(c){return c.value0.height})(o),f=pb(AJ)(0)(i);return new _u({data_:t.data_,depth:r,height:f+1|0,value:u,children:o,x:0,y:0,r:0})}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 685, column 5 - line 717, column 14): "+[t.children.constructor.name])}};return e(n)(0)},GA=function(n){return function(e){var t=ll(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=X(e),a=mb((t.value0-1|0)+r|0)(r);return oe(e)(a)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 241, column 3 - line 248, column 34): "+[t.constructor.name])}},hd=function(n){return function(e){var t=ll(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=mb(t.value0+1|0)(X(e));return oe(e)(r)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 230, column 3 - line 236, column 34): "+[t.constructor.name])}},KA=function(n){return function(e){var t=ll(n)(e);if(t instanceof v)return v.value;if(t instanceof m){var r=mb(t.value0+1|0)(X(e));return oe(e)(r)}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 138, column 3 - line 144, column 34): "+[t.constructor.name])}};var ZA=1e-6,VA=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r+e.r-ZA;return a>0&&a*a>r*r+t*t}},HJ=1e-9,nL=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r-e.r+Ap(n.r)(Ap(e.r)(1))*HJ;return a>0&&a*a>r*r+t*t}},sb=function(n){return function(e){return $g(nL(n))(e)}},yd=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=n.r-e.r;return a<0||a*a<r*r+t*t}},eL=function(n){return function(e){return function(t){var r=n.x*n.x+n.y*n.y-n.r*n.r,a=r-e.x*e.x-e.y*e.y+e.r*e.r,o=r-t.x*t.x-t.y*t.y+t.r*t.r,u=t.r-n.r,i=e.r-n.r,f=n.y-t.y,c=n.y-e.y,l=n.x-t.x,s=n.x-e.x,p=l*c-s*f,_=(c*o-f*a)/(p*2)-n.x,d=(f*i-c*u)/p,g=(l*a-s*o)/(p*2)-n.y,D=_*_+g*g-n.r*n.r,b=(s*u-l*i)/p,I=d*d+b*b-1,M=2*(n.r+_*d+g*b),h=(function(){var y=Eh(I)>ZA;return y?-(M+Xt(M*M-4*I*D))/(2*I):-D/M})();return{x:n.x+_+d*h,y:n.y+g+b*h,r:h}}}},Ip=function(n){return function(e){var t=e.y-n.y,r=e.x-n.x,a=e.r-n.r,o=Xt(r*r+t*t);return{x:(n.x+e.x+r/o*a)/2,y:(n.y+e.y+t/o*a)/2,r:(o+n.r+e.r)/2}}},WJ=function(n){return function(e){if(sb(e)(n))return[e];if(pe){var t=X(n),r=function(f){var c=!1,l;function s(p){if(p>=t)return c=!0,v.value;if(pe){var _=oe(n)(p);if(_ instanceof m){var d=Ip(_.value0)(e),g=yd(e)(_.value0)&&sb(d)(n);if(g)return c=!0,new m([_.value0,e]);f=p+1|0;return}if(_ instanceof v){f=p+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 559, column 13 - line 566, column 52): "+[_.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 555, column 7 - line 555, column 56): "+[p.constructor.name])}for(;!c;)l=s(f);return l},a=function(f){return function(c){var l=f,s=!1,p;function _(d,g){if(g>=t)return s=!0,v.value;if(pe){var D=oe(n)(g),b=oe(n)(d);if(b instanceof m&&D instanceof m){var I=Ip(D.value0)(e),M=Ip(b.value0)(e),h=Ip(b.value0)(D.value0),y=eL(b.value0)(D.value0)(e),C=yd(h)(e)&&yd(M)(D.value0)&&yd(I)(b.value0)&&sb(y)(n);if(C)return s=!0,new m([b.value0,D.value0,e]);l=d,c=g+1|0;return}l=d,c=g+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 576, column 7 - line 576, column 58): "+[d.constructor.name,g.constructor.name])}for(;!s;)p=_(l,c);return p}},o=function(f){var c=!1,l;function s(p){if(p>=(t-1|0))return c=!0,v.value;if(pe){var _=a(p)(p+1|0);if(_ instanceof m)return c=!0,new m(_.value0);if(_ instanceof v){f=p+1|0;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 572, column 13 - line 574, column 54): "+[_.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 568, column 7 - line 568, column 58): "+[p.constructor.name])}for(;!c;)l=s(f);return l},u=r(0);if(u instanceof m)return u.value0;if(u instanceof v){var i=o(0);if(i instanceof m)return i.value0;if(i instanceof v)return n;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 549, column 11 - line 551, column 29): "+[i.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 546, column 7 - line 551, column 29): "+[u.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 542, column 1 - line 542, column 54): "+[n.constructor.name,e.constructor.name])}},$J=function(n){return{x:n.x,y:n.y,r:n.r}},kJ=function(n){var e=X(n);return e===1?In({x:0,y:0,r:0})(cb($J)(oe(n)(0))):e===2?In({x:0,y:0,r:0})(lb(cb(Ip)(oe(n)(0)))(oe(n)(1))):e===3?In({x:0,y:0,r:0})(lb(lb(cb(eL)(oe(n)(0)))(oe(n)(1)))(oe(n)(2))):{x:0,y:0,r:0}},qJ=function(n){var e=X(n),t=function(r){return function(a){return function(o){var u=r,i=a,f=!1,c;function l(s,p,_){if(s>=e){if(_ instanceof m)return f=!0,_.value0;if(_ instanceof v)return f=!0,{x:0,y:0,r:0};throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 600, column 9 - line 602, column 48): "+[_.constructor.name])}if(pe){var d=oe(n)(s);if(d instanceof v){u=s+1|0,i=p,o=_;return}if(d instanceof m){if(_ instanceof m&&nL(_.value0)(d.value0)){u=s+1|0,i=p,o=_;return}var g=WJ(p)(d.value0),D=kJ(g);u=0,i=g,o=new m(D);return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 604, column 9 - line 615, column 44): "+[d.constructor.name])}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 597, column 3 - line 597, column 54): "+[s.constructor.name,p.constructor.name,_.constructor.name])}for(;!f;)c=l(u,i,o);return c}}};return t(0)([])(v.value)},tL=(function(){return{size:{width:1,height:1},padding:0,radius:v.value}})(),UJ=function(n){return function(e){var t=n.r+e.r,r=(n.x*e.r+e.x*n.r)/t,a=(n.y*e.r+e.y*n.r)/t;return r*r+a*a}},BJ=function(n){return function(e){return bd(su(n)(e.circles))(function(t){return bd(KA(n)(e.frontChain))(function(r){return bd(su(r)(e.circles))(function(a){return zA({nodeId:n,score:UJ(t)(a)})})})})}},GJ=function(n){var e=Ee(function(r){return BJ(r)(n)})(n.frontChain),t=LJ(NJ(function(r){return r.score}))(e);if(t instanceof v)return v.value;if(t instanceof m)return bd(KA(t.value0.nodeId)(n.frontChain))(function(r){return zA(new S(t.value0.nodeId,r))});throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 165, column 5 - line 169, column 40): "+[t.constructor.name])},VJ=function(n){return function(e){return function(t){return function(r){var a=function(c){return function(l){return function(s){return function(p){var _=c,d=l,g=s,D=!1,b;function I(M,h,y,C){var P=y<=C;if(P){var J=su(M)(r.circles);if(J instanceof m){var k=VA(J.value0)(t);if(k)return D=!0,new jA(M);var sn=hd(M)(r.frontChain);if(sn instanceof m){var U=hd(h)(r.frontChain);if(U instanceof m&&sn.value0===U.value0)return D=!0,lu.value;_=sn.value0,d=h,g=y+J.value0.r,p=C;return}if(sn instanceof v)return D=!0,lu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 280, column 13 - line 286, column 37): "+[sn.constructor.name])}if(J instanceof v)return D=!0,lu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 274, column 7 - line 287, column 31): "+[J.constructor.name])}var J=su(h)(r.circles);if(J instanceof m){var jn=VA(J.value0)(t);if(jn)return D=!0,new QA(h);var sn=GA(h)(r.frontChain);if(sn instanceof m){var U=hd(sn.value0)(r.frontChain);if(U instanceof m&&M===U.value0)return D=!0,lu.value;_=M,d=sn.value0,g=y,p=C+J.value0.r;return}if(sn instanceof v)return D=!0,lu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 296, column 13 - line 302, column 37): "+[sn.constructor.name])}if(J instanceof v)return D=!0,lu.value;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 290, column 7 - line 303, column 31): "+[J.constructor.name])}for(;!D;)b=I(_,d,g,p);return b}}}},o=su(e)(r.circles),u=su(n)(r.circles);if(u instanceof m&&o instanceof m){var i=GA(n)(r.frontChain),f=hd(e)(r.frontChain);return f instanceof m&&i instanceof m?a(f.value0)(i.value0)(o.value0.r)(u.value0.r):lu.value}return lu.value}}}},JJ=function(n){return function(e){return function(t){return function(r){return function(a){var o=n,u=e,i=t,f=r,c=!1,l;function s(p,_,d,g,D){if(p<=0)return c=!0,BA(d)(g)(_)(D);if(pe){var b=su(g)(D.circles),I=su(d)(D.circles);if(I instanceof m&&b instanceof m){var M=XA(b.value0)(I.value0)(_),h=VJ(d)(g)(M)(D);if(h instanceof lu)return c=!0,BA(d)(g)(M)(D);if(h instanceof jA){var y=UA(d)(h.value0)(D.frontChain),C={circles:D.circles,nextId:D.nextId,frontChain:y};o=p-1|0,u=_,i=d,f=h.value0,a=C;return}if(h instanceof QA){var y=UA(h.value0)(g)(D.frontChain),C={circles:D.circles,nextId:D.nextId,frontChain:y};o=p-1|0,u=_,i=h.value0,f=g,a=C;return}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 380, column 13 - line 396, column 101): "+[h.constructor.name])}return c=!0,D}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 368, column 1 - line 368, column 91): "+[p.constructor.name,_.constructor.name,d.constructor.name,g.constructor.name,D.constructor.name])}for(;!c;)l=s(o,u,i,f,a);return l}}}}},zJ=JJ(100),rL=function(n){return function(e){if(e.value0.children.length===0){var t=(function(){if(n.radius instanceof m)return n.radius.value0(e.value0.data_);if(n.radius instanceof v)return Xt(e.value0.value);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 752, column 13 - line 754, column 37): "+[n.radius.constructor.name])})();return new _u({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,children:e.value0.children,x:e.value0.x,y:e.value0.y,r:Ap(0)(t)})}return new _u({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x:e.value0.x,y:e.value0.y,r:e.value0.r,children:pu(rL(n))(e.value0.children)})}},jJ=function(n){return function(e){var t=GJ(e);if(t instanceof v)return e;if(t instanceof m)return zJ(n)(t.value0.value0)(t.value0.value1)(e);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 404, column 3 - line 406, column 67): "+[t.constructor.name])}},QJ=function(n){var e=X(n),t=e===0;if(t)return{circles:[],radius:0};var r=e===1;if(r){var i=oe(n)(0);if(i instanceof m)return{circles:[{r:i.value0.r,x:0,y:0}],radius:i.value0.r};if(i instanceof v)return{circles:[],radius:0};throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Pack (line 415, column 7 - line 417, column 48): "+[i.constructor.name])}var a=e===2;if(a){var i=oe(n)(1),f=oe(n)(0);if(f instanceof m&&i instanceof m){var o={r:i.value0.r,x:f.value0.r,y:0},u={r:f.value0.r,x:-i.value0.r,y:0};return{circles:[u,o],radius:f.value0.r+i.value0.r}}return{circles:[],radius:0}}var i=oe(n)(2),f=oe(n)(1),c=oe(n)(0);if(c instanceof m&&f instanceof m&&i instanceof m){var l=lm(3)(n),s=OJ(c.value0)(f.value0)(i.value0),p=pb(Qn(jJ))(s)(l),_=Ee(function(D){return su(D)(p.circles)})(Xo(0)(e-1|0)),d=qJ(_),g=pu(function(D){return{r:D.r,x:D.x-d.x,y:D.y-d.y}})(_);return{circles:g,radius:d.r}}return{circles:[],radius:0}},_b=function(n){return function(e){return function(t){var r=function(d){return function(g){return new _u({data_:d.value0.data_,depth:d.value0.depth,height:d.value0.height,value:d.value0.value,children:d.value0.children,r:d.value0.r,x:g.x,y:g.y})}},a=function(d){return function(g){return{x:g.x,y:g.y,r:g.r-d}}},o=function(d){return{x:d.value0.x,y:d.value0.y,r:d.value0.r}},u=function(d){return function(g){return{x:g.x,y:g.y,r:g.r+d}}};if(t.value0.children.length===0)return new _u(t.value0);var i=e.padding*n,f=pu(_b(n)(e))(t.value0.children),c=pu((function(){var d=u(i);return function(g){return d(o(g))}})())(f),l=QJ(c),s=pu(a(i))(l.circles),p=xr(r)(f)(s),_={data_:t.value0.data_,depth:t.value0.depth,height:t.value0.height,value:t.value0.value,x:t.value0.x,y:t.value0.y,r:l.radius+i,children:p};return new _u(_)}}},aL=function(n){return function(e){var t=rL(n)(e),r=_b(1)({size:n.size,radius:n.radius,padding:0})(t),a=r.value0.r/JA(n.size.width)(n.size.height),o=_b(a)(n)(t),u=PJ(n)(o);return u}};var YJ=L(Rn),KJ=ss(ee),Td=T(gn),ZJ=Qo(An),n8=V(wu),e8=Q(de),vb=Yt(ue),oL=q(Ae),t8=function(n){return function(e){return WA("#explorer-nodes")(n)(e)}},r8=function(n){return{x:n.node.value0.x,y:n.node.value0.y,r:n.node.value0.r,depth:n.node.value0.depth,data_:n.node.value0.data_,category:n.category}};var uL=$A,a8=function(n){var e=KJ(Td(function(r){return r.kind})(n)),t=Td(function(r){return{kind:r,decls:Le(function(a){return a.kind===r})(n)}})(e);return ZJ(function(r){return-X(r.decls)|0})(Le(function(r){return!Ze(r.decls)})(t))},iL=function(n){return function(e){var t=(function(){var a=n.value0.depth===1;return a?n.value0.data_:e})(),r=n8(n.value0.children)(function(a){return iL(a)(t)});return e8([{node:n,category:t}])(r)}},fL=kA,o8=(function(){return hh(gc.value)})(),u8=(function(){return hh(gc.value)})(),i8=function(n){return n.depth===0?"#333":n.depth===1?u8(n.data_):o8(n.category)},f8=function(n){return YJ(i8(n))},c8=function(n){return{data_:n.title,value:new m(1),children:v.value}},l8=function(n){var e=Ze(n.decls);return e?v.value:new m({data_:n.kind,value:v.value,children:new m(Td(c8)(n.decls))})},s8=function(n){return function(e){var t=a8(e),r=Ee(l8)(t);return{data_:n,value:v.value,children:(function(){var a=Ze(r);return a?v.value:new m(r)})()}}},cL=function(n){return function(e){return function(t){return function(r){return function(a){var o=In([])(Ge(a.name)(n)),u=Ze(o);if(u){var i=!Ze(a.targets);return function(){return(function(){return i?vb("[BubblePack] Re-export module: "+(a.name+(" (depends on "+(oL(X(a.targets))+" modules)"))))():vb("[BubblePack] Empty module: "+a.name)()})(),t8(a)(i)(),a.r}}return function(){vb("[BubblePack] Rendering "+(a.name+(" with "+(oL(X(o))+" declarations"))))();var c=s8(a.name)(o),l=YA(c),s=a.r*5,p={radius:tL.radius,size:{width:s,height:s},padding:1.5},_=aL(p)(l),d=iL(_)(""),g=Td(r8)(d),D=s/2;return qA("#explorer-nodes")(a)(g)(D)(f8)(e)(t)(r)(),_.value0.r}}}}}};var db="http://localhost:8080",Db=n=>e=>()=>{let t=document.getElementById("call-graph-popup"),r=document.getElementById("call-graph-title"),a=document.getElementById("call-graph-callers-list"),o=document.getElementById("call-graph-source-code"),u=document.getElementById("call-graph-callees-list");if(!t){console.error("[CallGraphPopup] Popup element not found");return}r.textContent=`${e} (${n})`,a.innerHTML='<div class="call-graph-loading">Loading...</div>',o.innerHTML='<div class="call-graph-loading">Loading source code...</div>',u.innerHTML='<div class="call-graph-loading">Loading...</div>',t.style.display="flex",_8(n,e).then(i=>{i.callers&&i.callers.length>0?a.innerHTML=i.callers.map(c=>{let l=typeof c=="string"?c:c.target||c,s=typeof c=="object"?c.targetModule:null;return s&&l?`<div class="call-graph-list-item call-graph-link" data-module="${mu(s)}" data-function="${mu(l)}">${mu(l)}</div>`:`<div class="call-graph-list-item">${mu(l)}</div>`}).join(""):a.innerHTML='<div class="call-graph-empty">No callers found</div>',i.callees&&i.callees.length>0?u.innerHTML=i.callees.map(c=>{let l=typeof c=="string"?c:c.target||c,s=typeof c=="object"?c.targetModule:null;return s&&l?`<div class="call-graph-list-item call-graph-link" data-module="${mu(s)}" data-function="${mu(l)}">${mu(l)}</div>`:`<div class="call-graph-list-item">${mu(l)}</div>`}).join(""):u.innerHTML='<div class="call-graph-empty">No calls found</div>';let f="";if(i.gitMetrics){let c=i.gitMetrics;f+='<div class="call-graph-git-metrics">',f+=`<div class="git-metric"><strong>Commits:</strong> ${c.commit_count||0}</div>`,f+=`<div class="git-metric"><strong>Last modified:</strong> ${c.days_since_modified||0} days ago</div>`,f+=`<div class="git-metric"><strong>Authors:</strong> ${c.author_count||0}</div>`,c.authors&&c.authors.length>0&&(f+=`<div class="git-metric"><strong>Contributors:</strong> ${c.authors.slice(0,3).join(", ")}${c.authors.length>3?"...":""}</div>`),f+="</div>"}i.sourceCode?f+=`<pre class="call-graph-source">${mu(i.sourceCode)}</pre>`:f+='<div class="call-graph-empty">Source code not available</div>',o.innerHTML=f,document.querySelectorAll(".call-graph-link").forEach(c=>{c.addEventListener("click",()=>{let l=c.getAttribute("data-module"),s=c.getAttribute("data-function");l&&s&&Db(l)(s)()})})}).catch(i=>{console.error("[CallGraphPopup] Error fetching call graph data:",i),a.innerHTML='<div class="call-graph-error">Error loading callers</div>',o.innerHTML='<div class="call-graph-error">Error loading source code</div>',u.innerHTML='<div class="call-graph-error">Error loading callees</div>'})},Ed=()=>{let n=document.getElementById("call-graph-popup");n&&(n.style.display="none")};async function _8(n,e){try{let r=new URLSearchParams(window.location.search).get("snapshot")||"1",u=(await(await fetch(`${db}/api/module-function-calls/${encodeURIComponent(n)}?snapshot=${r}`)).json()).functions?.[e];if(!u)return console.warn(`[CallGraphPopup] No data found for ${n}.${e}`),{callers:[],callees:[],sourceCode:null,gitMetrics:null};let c=(await(await fetch(`${db}/api/module-declarations/${encodeURIComponent(n)}?snapshot=${r}`)).json()).declarations?.find(p=>p.title===e),l;c?.sourceCode?l=c.sourceCode:c?l=`${c.kind}: ${c.title}

(Source code not available)`:l=`${e}

(Declaration not found)`;let s=null;try{let p=await fetch(`${db}/api/module-metrics/${encodeURIComponent(n)}?snapshot=${r}`);p.ok&&(s=await p.json())}catch(p){console.warn("[CallGraphPopup] Could not fetch git metrics:",p)}return{callers:u.calledBy||[],callees:u.calls||[],sourceCode:l,gitMetrics:s}}catch(t){throw console.error("[CallGraphPopup] Fetch error:",t),t}}function mu(n){let e=document.createElement("div");return e.textContent=n,e.innerHTML}typeof document<"u"&&document.addEventListener("DOMContentLoaded",()=>{let n=document.getElementById("call-graph-close");n&&n.addEventListener("click",Ed);let e=document.getElementById("call-graph-popup");e&&e.addEventListener("click",t=>{t.target===e&&Ed()}),document.addEventListener("keydown",t=>{if(t.key==="Escape"){let r=document.getElementById("call-graph-popup");r&&r.style.display!=="none"&&Ed()}})});var lL=Db;function sL(n){let e=+this._x.call(null,n),t=+this._y.call(null,n);return pL(this.cover(e,t),e,t,n)}function pL(n,e,t,r){if(isNaN(e)||isNaN(t))return n;var a,o=n._root,u={data:r},i=n._x0,f=n._y0,c=n._x1,l=n._y1,s,p,_,d,g,D,b,I;if(!o)return n._root=u,n;for(;o.length;)if((g=e>=(s=(i+c)/2))?i=s:c=s,(D=t>=(p=(f+l)/2))?f=p:l=p,a=o,!(o=o[b=D<<1|g]))return a[b]=u,n;if(_=+n._x.call(null,o.data),d=+n._y.call(null,o.data),e===_&&t===d)return u.next=o,a?a[b]=u:n._root=u,n;do a=a?a[b]=new Array(4):n._root=new Array(4),(g=e>=(s=(i+c)/2))?i=s:c=s,(D=t>=(p=(f+l)/2))?f=p:l=p;while((b=D<<1|g)===(I=(d>=p)<<1|_>=s));return a[I]=o,a[b]=u,n}function _L(n){var e,t,r=n.length,a,o,u=new Array(r),i=new Array(r),f=1/0,c=1/0,l=-1/0,s=-1/0;for(t=0;t<r;++t)isNaN(a=+this._x.call(null,e=n[t]))||isNaN(o=+this._y.call(null,e))||(u[t]=a,i[t]=o,a<f&&(f=a),a>l&&(l=a),o<c&&(c=o),o>s&&(s=o));if(f>l||c>s)return this;for(this.cover(f,c).cover(l,s),t=0;t<r;++t)pL(this,u[t],i[t],n[t]);return this}function mL(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,a=this._x1,o=this._y1;if(isNaN(t))a=(t=Math.floor(n))+1,o=(r=Math.floor(e))+1;else{for(var u=a-t||1,i=this._root,f,c;t>n||n>=a||r>e||e>=o;)switch(c=(e<r)<<1|n<t,f=new Array(4),f[c]=i,i=f,u*=2,c){case 0:a=t+u,o=r+u;break;case 1:t=a-u,o=r+u;break;case 2:a=t+u,r=o-u;break;case 3:t=a-u,r=o-u;break}this._root&&this._root.length&&(this._root=i)}return this._x0=t,this._y0=r,this._x1=a,this._y1=o,this}function vL(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function dL(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ut(n,e,t,r,a){this.node=n,this.x0=e,this.y0=t,this.x1=r,this.y1=a}function DL(n,e,t){var r,a=this._x0,o=this._y0,u,i,f,c,l=this._x1,s=this._y1,p=[],_=this._root,d,g;for(_&&p.push(new Ut(_,a,o,l,s)),t==null?t=1/0:(a=n-t,o=e-t,l=n+t,s=e+t,t*=t);d=p.pop();)if(!(!(_=d.node)||(u=d.x0)>l||(i=d.y0)>s||(f=d.x1)<a||(c=d.y1)<o))if(_.length){var D=(u+f)/2,b=(i+c)/2;p.push(new Ut(_[3],D,b,f,c),new Ut(_[2],u,b,D,c),new Ut(_[1],D,i,f,b),new Ut(_[0],u,i,D,b)),(g=(e>=b)<<1|n>=D)&&(d=p[p.length-1],p[p.length-1]=p[p.length-1-g],p[p.length-1-g]=d)}else{var I=n-+this._x.call(null,_.data),M=e-+this._y.call(null,_.data),h=I*I+M*M;if(h<t){var y=Math.sqrt(t=h);a=n-y,o=e-y,l=n+y,s=e+y,r=_.data}}return r}function gL(n){if(isNaN(l=+this._x.call(null,n))||isNaN(s=+this._y.call(null,n)))return this;var e,t=this._root,r,a,o,u=this._x0,i=this._y0,f=this._x1,c=this._y1,l,s,p,_,d,g,D,b;if(!t)return this;if(t.length)for(;;){if((d=l>=(p=(u+f)/2))?u=p:f=p,(g=s>=(_=(i+c)/2))?i=_:c=_,e=t,!(t=t[D=g<<1|d]))return this;if(!t.length)break;(e[D+1&3]||e[D+2&3]||e[D+3&3])&&(r=e,b=D)}for(;t.data!==n;)if(a=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,a?(o?a.next=o:delete a.next,this):e?(o?e[D]=o:delete e[D],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[b]=t:this._root=t),this):(this._root=o,this)}function hL(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function yL(){return this._root}function bL(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function TL(n){var e=[],t,r=this._root,a,o,u,i,f;for(r&&e.push(new Ut(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(r=t.node,o=t.x0,u=t.y0,i=t.x1,f=t.y1)&&r.length){var c=(o+i)/2,l=(u+f)/2;(a=r[3])&&e.push(new Ut(a,c,l,i,f)),(a=r[2])&&e.push(new Ut(a,o,l,c,f)),(a=r[1])&&e.push(new Ut(a,c,u,i,l)),(a=r[0])&&e.push(new Ut(a,o,u,c,l))}return this}function EL(n){var e=[],t=[],r;for(this._root&&e.push(new Ut(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var a=r.node;if(a.length){var o,u=r.x0,i=r.y0,f=r.x1,c=r.y1,l=(u+f)/2,s=(i+c)/2;(o=a[0])&&e.push(new Ut(o,u,i,l,s)),(o=a[1])&&e.push(new Ut(o,l,i,f,s)),(o=a[2])&&e.push(new Ut(o,u,s,l,c)),(o=a[3])&&e.push(new Ut(o,l,s,f,c))}t.push(r)}for(;r=t.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this}function wL(n){return n[0]}function CL(n){return arguments.length?(this._x=n,this):this._x}function ML(n){return n[1]}function FL(n){return arguments.length?(this._y=n,this):this._y}function Sf(n,e,t){var r=new gb(e??wL,t??ML,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function gb(n,e,t,r,a,o){this._x=n,this._y=e,this._x0=t,this._y0=r,this._x1=a,this._y1=o,this._root=void 0}function SL(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Er=Sf.prototype=gb.prototype;Er.copy=function(){var n=new gb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,r;if(!e)return n;if(!e.length)return n._root=SL(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var a=0;a<4;++a)(r=e.source[a])&&(r.length?t.push({source:r,target:e.target[a]=new Array(4)}):e.target[a]=SL(r));return n};Er.add=sL;Er.addAll=_L;Er.cover=mL;Er.data=vL;Er.extent=dL;Er.find=DL;Er.remove=gL;Er.removeAll=hL;Er.root=yL;Er.size=bL;Er.visit=TL;Er.visitAfter=EL;Er.x=CL;Er.y=FL;function Ct(n){return function(){return n}}function no(n){return(n()-.5)*1e-6}function d8(n){return n.x+n.vx}function D8(n){return n.y+n.vy}function hb(n){var e,t,r,a=1,o=1;typeof n!="function"&&(n=Ct(n==null?1:+n));function u(){for(var c,l=e.length,s,p,_,d,g,D,b=0;b<o;++b)for(s=Sf(e,d8,D8).visitAfter(i),c=0;c<l;++c)p=e[c],g=t[p.index],D=g*g,_=p.x+p.vx,d=p.y+p.vy,s.visit(I);function I(M,h,y,C,P){var k=M.data,sn=M.r,U=g+sn;if(k){if(k.index>p.index){var J=_-k.x-k.vx,jn=d-k.y-k.vy,Hn=J*J+jn*jn;Hn<U*U&&(J===0&&(J=no(r),Hn+=J*J),jn===0&&(jn=no(r),Hn+=jn*jn),Hn=(U-(Hn=Math.sqrt(Hn)))/Hn*a,p.vx+=(J*=Hn)*(U=(sn*=sn)/(D+sn)),p.vy+=(jn*=Hn)*U,k.vx-=J*(U=1-U),k.vy-=jn*U)}return}return h>_+U||C<_-U||y>d+U||P<d-U}}function i(c){if(c.data)return c.r=t[c.data.index];for(var l=c.r=0;l<4;++l)c[l]&&c[l].r>c.r&&(c.r=c[l].r)}function f(){if(e){var c,l=e.length,s;for(t=new Array(l),c=0;c<l;++c)s=e[c],t[s.index]=+n(s,c,e)}}return u.initialize=function(c,l){e=c,r=l,f()},u.iterations=function(c){return arguments.length?(o=+c,u):o},u.strength=function(c){return arguments.length?(a=+c,u):a},u.radius=function(c){return arguments.length?(n=typeof c=="function"?c:Ct(+c),f(),u):n},u}function g8(n){return n.index}function xL(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function yb(n){var e=g8,t=s,r,a=Ct(30),o,u,i,f,c,l=1;n==null&&(n=[]);function s(D){return 1/Math.min(i[D.source.index],i[D.target.index])}function p(D){for(var b=0,I=n.length;b<l;++b)for(var M=0,h,y,C,P,k,sn,U;M<I;++M)h=n[M],y=h.source,C=h.target,P=C.x+C.vx-y.x-y.vx||no(c),k=C.y+C.vy-y.y-y.vy||no(c),sn=Math.sqrt(P*P+k*k),sn=(sn-o[M])/sn*D*r[M],P*=sn,k*=sn,C.vx-=P*(U=f[M]),C.vy-=k*U,y.vx+=P*(U=1-U),y.vy+=k*U}function _(){if(u){var D,b=u.length,I=n.length,M=new Map(u.map((y,C)=>[e(y,C,u),y])),h;for(D=0,i=new Array(b);D<I;++D)h=n[D],h.index=D,typeof h.source!="object"&&(h.source=xL(M,h.source)),typeof h.target!="object"&&(h.target=xL(M,h.target)),i[h.source.index]=(i[h.source.index]||0)+1,i[h.target.index]=(i[h.target.index]||0)+1;for(D=0,f=new Array(I);D<I;++D)h=n[D],f[D]=i[h.source.index]/(i[h.source.index]+i[h.target.index]);r=new Array(I),d(),o=new Array(I),g()}}function d(){if(u)for(var D=0,b=n.length;D<b;++D)r[D]=+t(n[D],D,n)}function g(){if(u)for(var D=0,b=n.length;D<b;++D)o[D]=+a(n[D],D,n)}return p.initialize=function(D,b){u=D,c=b,_()},p.links=function(D){return arguments.length?(n=D,_(),p):n},p.id=function(D){return arguments.length?(e=D,p):e},p.iterations=function(D){return arguments.length?(l=+D,p):l},p.strength=function(D){return arguments.length?(t=typeof D=="function"?D:Ct(+D),d(),p):t},p.distance=function(D){return arguments.length?(a=typeof D=="function"?D:Ct(+D),g(),p):a},p}var h8={value:()=>{}};function AL(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new wd(t)}function wd(n){this._=n}function y8(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");if(a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}wd.prototype=AL.prototype={constructor:wd,on:function(n,e){var t=this._,r=y8(n+"",t),a,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((a=(n=r[o]).type)&&(a=b8(t[a],n.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(a=(n=r[o]).type)t[a]=IL(t[a],n.name,e);else if(e==null)for(a in t)t[a]=IL(t[a],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new wd(n)},call:function(n,e){if((a=arguments.length-2)>0)for(var t=new Array(a),r=0,a,o;r<a;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],r=0,a=o.length;r<a;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,o=r.length;a<o;++a)r[a].value.apply(e,t)}};function b8(n,e){for(var t=0,r=n.length,a;t<r;++t)if((a=n[t]).name===e)return a.value}function IL(n,e,t){for(var r=0,a=n.length;r<a;++r)if(n[r].name===e){n[r]=h8,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var xf=AL;var sl=0,Np=0,Lp=0,NL=1e3,Cd,Pp,Md=0,If=0,Fd=0,Rp=typeof performance=="object"&&performance.now?performance:Date,PL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Hp(){return If||(PL(T8),If=Rp.now()+Fd)}function T8(){If=0}function Op(){this._call=this._time=this._next=null}Op.prototype=Sd.prototype={constructor:Op,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Hp():+t)+(e==null?0:+e),!this._next&&Pp!==this&&(Pp?Pp._next=this:Cd=this,Pp=this),this._call=n,this._time=t,bb()},stop:function(){this._call&&(this._call=null,this._time=1/0,bb())}};function Sd(n,e,t){var r=new Op;return r.restart(n,e,t),r}function RL(){Hp(),++sl;for(var n=Cd,e;n;)(e=If-n._time)>=0&&n._call.call(void 0,e),n=n._next;--sl}function LL(){If=(Md=Rp.now())+Fd,sl=Np=0;try{RL()}finally{sl=0,w8(),If=0}}function E8(){var n=Rp.now(),e=n-Md;e>NL&&(Fd-=e,Md=n)}function w8(){for(var n,e=Cd,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Cd=t);Pp=n,bb(r)}function bb(n){if(!sl){Np&&(Np=clearTimeout(Np));var e=n-If;e>24?(n<1/0&&(Np=setTimeout(LL,n-Rp.now()-Fd)),Lp&&(Lp=clearInterval(Lp))):(Lp||(Md=Rp.now(),Lp=setInterval(E8,NL)),sl=1,PL(LL))}}function xd(n,e,t){var r=new Op;return e=e==null?0:+e,r.restart(a=>{r.stop(),n(a+e)},e,t),r}function OL(n){return n.x}function HL(n){return n.y}var S0n=Math.PI*(3-Math.sqrt(5));function Tb(){var n,e,t,r,a=Ct(-30),o,u=1,i=1/0,f=.81;function c(_){var d,g=n.length,D=Sf(n,OL,HL).visitAfter(s);for(r=_,d=0;d<g;++d)e=n[d],D.visit(p)}function l(){if(n){var _,d=n.length,g;for(o=new Array(d),_=0;_<d;++_)g=n[_],o[g.index]=+a(g,_,n)}}function s(_){var d=0,g,D,b=0,I,M,h;if(_.length){for(I=M=h=0;h<4;++h)(g=_[h])&&(D=Math.abs(g.value))&&(d+=g.value,b+=D,I+=D*g.x,M+=D*g.y);_.x=I/b,_.y=M/b}else{g=_,g.x=g.data.x,g.y=g.data.y;do d+=o[g.data.index];while(g=g.next)}_.value=d}function p(_,d,g,D){if(!_.value)return!0;var b=_.x-e.x,I=_.y-e.y,M=D-d,h=b*b+I*I;if(M*M/f<h)return h<i&&(b===0&&(b=no(t),h+=b*b),I===0&&(I=no(t),h+=I*I),h<u&&(h=Math.sqrt(u*h)),e.vx+=b*_.value*r/h,e.vy+=I*_.value*r/h),!0;if(_.length||h>=i)return;(_.data!==e||_.next)&&(b===0&&(b=no(t),h+=b*b),I===0&&(I=no(t),h+=I*I),h<u&&(h=Math.sqrt(u*h)));do _.data!==e&&(M=o[_.data.index]*r/h,e.vx+=b*M,e.vy+=I*M);while(_=_.next)}return c.initialize=function(_,d){n=_,t=d,l()},c.strength=function(_){return arguments.length?(a=typeof _=="function"?_:Ct(+_),l(),c):a},c.distanceMin=function(_){return arguments.length?(u=_*_,c):Math.sqrt(u)},c.distanceMax=function(_){return arguments.length?(i=_*_,c):Math.sqrt(i)},c.theta=function(_){return arguments.length?(f=_*_,c):Math.sqrt(f)},c}function Id(n){var e=Ct(.1),t,r,a;typeof n!="function"&&(n=Ct(n==null?0:+n));function o(i){for(var f=0,c=t.length,l;f<c;++f)l=t[f],l.vx+=(a[f]-l.x)*r[f]*i}function u(){if(t){var i,f=t.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+n(t[i],i,t))?0:+e(t[i],i,t)}}return o.initialize=function(i){t=i,u()},o.strength=function(i){return arguments.length?(e=typeof i=="function"?i:Ct(+i),u(),o):e},o.x=function(i){return arguments.length?(n=typeof i=="function"?i:Ct(+i),u(),o):n},o}function Ad(n){var e=Ct(.1),t,r,a;typeof n!="function"&&(n=Ct(n==null?0:+n));function o(i){for(var f=0,c=t.length,l;f<c;++f)l=t[f],l.vy+=(a[f]-l.y)*r[f]*i}function u(){if(t){var i,f=t.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+n(t[i],i,t))?0:+e(t[i],i,t)}}return o.initialize=function(i){t=i,u()},o.strength=function(i){return arguments.length?(e=typeof i=="function"?i:Ct(+i),u(),o):e},o.y=function(i){return arguments.length?(n=typeof i=="function"?i:Ct(+i),u(),o):n},o}var WL={passive:!1},Af={capture:!0,passive:!1};function Ld(n){n.stopImmediatePropagation()}function pi(n){n.preventDefault(),n.stopImmediatePropagation()}function Wp(n){var e=n.document.documentElement,t=Bn(n).on("dragstart.drag",pi,Af);"onselectstart"in e?t.on("selectstart.drag",pi,Af):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $p(n,e){var t=n.document.documentElement,r=Bn(n).on("dragstart.drag",null);e&&(r.on("click.drag",pi,Af),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var kp=n=>()=>n;function qp(n,{sourceEvent:e,subject:t,target:r,identifier:a,active:o,x:u,y:i,dx:f,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}qp.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function C8(n){return!n.ctrlKey&&!n.button}function M8(){return this.parentNode}function F8(n,e){return e??{x:n.x,y:n.y}}function S8(){return navigator.maxTouchPoints||"ontouchstart"in this}function Up(){var n=C8,e=M8,t=F8,r=S8,a={},o=xf("start","drag","end"),u=0,i,f,c,l,s=0;function p(h){h.on("mousedown.drag",_).filter(r).on("touchstart.drag",D).on("touchmove.drag",b,WL).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(h,y){if(!(l||!n.call(this,h,y))){var C=M(this,e.call(this,h,y),h,y,"mouse");C&&(Bn(h.view).on("mousemove.drag",d,Af).on("mouseup.drag",g,Af),Wp(h.view),Ld(h),c=!1,i=h.clientX,f=h.clientY,C("start",h))}}function d(h){if(pi(h),!c){var y=h.clientX-i,C=h.clientY-f;c=y*y+C*C>s}a.mouse("drag",h)}function g(h){Bn(h.view).on("mousemove.drag mouseup.drag",null),$p(h.view,c),pi(h),a.mouse("end",h)}function D(h,y){if(n.call(this,h,y)){var C=h.changedTouches,P=e.call(this,h,y),k=C.length,sn,U;for(sn=0;sn<k;++sn)(U=M(this,P,h,y,C[sn].identifier,C[sn]))&&(Ld(h),U("start",h,C[sn]))}}function b(h){var y=h.changedTouches,C=y.length,P,k;for(P=0;P<C;++P)(k=a[y[P].identifier])&&(pi(h),k("drag",h,y[P]))}function I(h){var y=h.changedTouches,C=y.length,P,k;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),P=0;P<C;++P)(k=a[y[P].identifier])&&(Ld(h),k("end",h,y[P]))}function M(h,y,C,P,k,sn){var U=o.copy(),J=Tr(sn||C,y),jn,Hn,E;if((E=t.call(h,new qp("beforestart",{sourceEvent:C,target:p,identifier:k,active:u,x:J[0],y:J[1],dx:0,dy:0,dispatch:U}),P))!=null)return jn=E.x-J[0]||0,Hn=E.y-J[1]||0,function G(x,j,mn){var Cn=J,Pn;switch(x){case"start":a[k]=G,Pn=u++;break;case"end":delete a[k],--u;case"drag":J=Tr(mn||j,y),Pn=u;break}U.call(x,h,new qp(x,{sourceEvent:j,subject:E,target:p,identifier:k,active:Pn,x:J[0]+jn,y:J[1]+Hn,dx:J[0]-Cn[0],dy:J[1]-Cn[1],dispatch:U}),P)}}return p.filter=function(h){return arguments.length?(n=typeof h=="function"?h:kp(!!h),p):n},p.container=function(h){return arguments.length?(e=typeof h=="function"?h:kp(h),p):e},p.subject=function(h){return arguments.length?(t=typeof h=="function"?h:kp(h),p):t},p.touchable=function(h){return arguments.length?(r=typeof h=="function"?h:kp(!!h),p):r},p.on=function(){var h=o.on.apply(o,arguments);return h===o?p:h},p.clickDistance=function(h){return arguments.length?(s=(h=+h)*h,p):Math.sqrt(s)},p}function qL(n){return Tb().strength(n.strength).theta(n.theta).distanceMin(n.distanceMin).distanceMax(n.distanceMax)}function UL(n){return yb().distance(n.distance).strength(n.strength).iterations(n.iterations)}function BL(n){return Id(n.x).strength(n.strength)}function GL(n){return Ad(n.y).strength(n.strength)}function VL(n){return Id().x(e=>e.gridX).strength(n)}function JL(n){return Ad().y(e=>e.gridY).strength(n)}function zL(n){return function(e){return function(t){return hb().radius(r=>r.r+n).strength(e).iterations(t)}}}function jL(n){return function(e){return function(){let t=performance.now();n.initialize&&n.initialize(e,Math.random);let r=performance.now()-t;return r>1&&console.log(`[InitForce] Took ${r.toFixed(1)}ms for ${e.length} nodes`),n}}}function QL(n){return function(e){return function(t){return function(){n.initialize&&n.initialize(e,Math.random);let r=t.map(a=>({...a}));return n.links(r),n}}}}function XL(n){return function(e){return function(){let t=performance.now();n(e);let r=performance.now()-t;r>5&&console.log(`[Force] ${n.name||"unknown"} took ${r.toFixed(1)}ms`)}}}var Nd=0;function YL(n){return function(e){return function(){let t=performance.now();if(Nd%100===0){let a=n.find(o=>o.fx==null);console.log(a?`[IntegrateDebug tick=${Nd}] free node ${a.id}: x=${a.x?.toFixed(1)}, y=${a.y?.toFixed(1)}, vx=${a.vx?.toFixed(3)}, vy=${a.vy?.toFixed(3)}`:`[IntegrateDebug tick=${Nd}] NO FREE NODES! All ${n.length} nodes have fx set`)}Nd++;for(let a=0;a<n.length;a++){let o=n[a];o.fx!=null?(o.x=o.fx,o.vx=0):(o.vx*=e,o.x+=o.vx),o.fy!=null?(o.y=o.fy,o.vy=0):(o.vy*=e,o.y+=o.vy)}let r=performance.now()-t;r>2&&console.log(`[Integrate] Took ${r.toFixed(1)}ms for ${n.length} nodes`)}}}function KL(n){return function(e){return function(t){return function(r){let a=n+(r-n)*t;return a<e?0:a}}}}function ZL(n){return function(){for(let e=0;e<n.length;e++){let t=n[e];t.index=e,t.vx===void 0&&(t.vx=0),t.vy===void 0&&(t.vy=0),t.x===void 0&&(t.x=Math.random()*100-50),t.y===void 0&&(t.y=Math.random()*100-50),t.id===93&&(t.__simMarker__=!0,console.log(`[InitNodes] Marked node 93 with __simMarker__, x=${t.x?.toFixed(1)}`))}}}var vu={count:0,totalTime:0,maxTime:0,lastReport:Date.now()},$L=performance.now(),_i={total:0,max:0,count:0},kL=!0,x8=8;function Eb(n){return function(){let e=performance.now(),t=e-$L,r,a=function(o){let u=performance.now(),i=u-e,f=performance.now();n(o||u)();let c=performance.now()-f;$L=performance.now(),vu.count++,vu.totalTime+=c,vu.maxTime=Math.max(vu.maxTime,c),_i.total+=i,_i.max=Math.max(_i.max,i),_i.count++;let l=Date.now();if(l-vu.lastReport>2e3){let s=vu.totalTime/vu.count,p=_i.total/_i.count;console.log(`[AnimLoop] ${vu.count} ticks, work=${s.toFixed(1)}ms, wait=${p.toFixed(0)}ms (max=${_i.max.toFixed(0)}ms) [${kL?"setTimeout":"rAF"}]`),vu={count:0,totalTime:0,maxTime:0,lastReport:l},_i={total:0,max:0,count:0}}};return kL?(r=setTimeout(a,x8),function(){clearTimeout(r)}):(r=requestAnimationFrame(a),function(){cancelAnimationFrame(r)})}}function nN(){return function(){return{cancel:function(){}}}}function wb(n){return function(e){return function(){n.cancel=e}}}function eN(n){return function(){return n.cancel}}function tN(n){return function(e){return function(t){return function(){let r=Bn(e).node();if(!r){console.warn("[attachGroupDragWithReheat] Container not found:",e);return}let a=Up().subject(function(o){let u=o.sourceEvent.target;for(;u&&!u.classList?.contains("module-pack");)u=u.parentElement;return u?.__data__}).on("start",function(o){t(),o.subject.fx=o.subject.x,o.subject.fy=o.subject.y}).on("drag",function(o){let[u,i]=Tr(o,r);o.subject.fx=u,o.subject.fy=i}).on("end",function(o){o.subject.fx=null,o.subject.fy=null});n.forEach(function(o){Bn(o).call(a).style("cursor","grab")})}}}}var A8=V(bt),L8=ar(Rn),N8=Dn(yn),P8=ca(Rn)(cn);var rN=function(n){return function(){var t=nN(),r=function(o){return function(){var i=n(o)();return L8(i)(function(){var c=Eb(r)();return wb(t)(c)()})()}},a=Eb(r)();return wb(t)(a)(),A8(eN(t))(N8)}};var aN=YL,oN=ZL,Cb=QL,wr=jL,uN=KL;var Pd=qL,Mb=UL,iN=JL;var Rd=GL,fN=VL;var Od=BL,Fb=zL;var cN=tN;var R8=XL,lN=function(n){return function(e){return P8(n)(function(t){return R8(t)(e)})}};var sN=n=>()=>{Bn(n).selectAll("circle").attr("cx",e=>e.x).attr("cy",e=>e.y)},pN=n=>()=>{Bn(n).selectAll("line").attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y)},_N=n=>()=>{Bn(n).selectAll("g.module-pack").attr("transform",e=>`translate(${e.x},${e.y})`)};var xb=Wt();var Hd=function(n){return pN(xb(n))},mN=function(n){return _N(xb(n))},vN=function(n){return sN(xb(n))};function DN(n){return function(e){return function(){let t=e.value;for(let r=0;r<t.length;r++){let a=t[r],o=n[a.id];o&&(a.x=o.x,a.y=o.y)}}}}function gN(n){return function(e){return function(t){return function(r){return function(){let a=r.value;for(let o=0;o<a.length;o++){let u=a[o],i=String(u.id),f=n[i],c=e[i];f&&c&&(u.x=f.x+(c.x-f.x)*t,u.y=f.y+(c.y-f.y)*t)}}}}}}var Bp={alpha:1,alphaMin:.001,alphaDecay:.01,alphaTarget:0,velocityDecay:.4};var k8=Qr($e),hN=L(Rn),Ib=Ei(Rn),q8=ca(Rn)(cn),U8=tf(zr);var yN=function(n){return function(e){return DN(n)(e.nodes)}};var B8=function(n){return function(){var t=R(n.nodes)(),r=R(n.forces)(),a=R(n.alpha)(),o=k8(Ps(r));lN(o)(a)(),aN(t)(n.config.velocityDecay)();var u=uN(a)(n.config.alphaMin)(n.config.alphaDecay)(n.config.alphaTarget);rn(u)(n.alpha)();var i=R(n.tickCallback)();return i(),u}};var Wd=function(n){return function(){var t=R(n.running)();return Ib(t)(function(){rn(!0)(n.running)();var a=rN(function(o){return function(){var i=R(n.running)();if(i){var f=B8(n)(),c=f>0;return Ib(c)(rn(!1)(n.running))(),c}return!1}})();return rn(a)(n.cancelAnimation)()})()}},Gp=function(n){return function(e){return function(){oN(n)(),rn(n)(e.nodes)();var r=R(e.forces)();return q8(U8(r))(function(a){return function(){return wr(a.value1)(n)(),void 0}})()}}};var Lf=function(n){return function(){rn(1)(n.alpha)();var t=R(n.running)();return Ib(t)(Wd(n))()}};var $d=function(n){return function(e){return rn(n)(e.tickCallback)}};var bN=function(n){return function(e){return function(t){return function(r){return gN(n)(e)(t)(r.nodes)}}}},Zr=function(n){return R(n.nodes)};var TN=(function(){return{alphaMin:Bp.alphaMin,alphaDecay:Bp.alphaDecay,alphaTarget:Bp.alphaTarget,velocityDecay:Bp.velocityDecay}})(),EN=function(n){return function(){var t=zn([])(),r=zn([])(),a=zn(ie)(),o=zn(1)(),u=zn(!1)(),i=zn(hN(void 0))(),f=zn(hN(void 0))();return{nodes:t,links:r,forces:a,alpha:o,config:n,running:u,cancelAnimation:i,tickCallback:f}}};function kd(n){return function(e){let t=e.value;for(let r=0;r<t.length;r++){let a=t[r];for(let o=0;o<n.length;o++){let u=n[o];if(u.select(a)){let i=u.apply(a);Object.assign(a,i);break}}}}}var mi=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),vi=(function(){function n(){}return n.value=new n,n})();var MN=function(n){var e=Tn(n)/16.67;return 1/e};var FN=function(n){var e=n<.5;return e?4*n*n*n:1-(-2*n+2)*(-2*n+2)*(-2*n+2)/2};var di=Yt(ue),qd=L(Rn),z8=ca(Rn)(cn),j8=tf(zr),Q8=Qa(cn),X8=T(gn),SN=q(Ae),Y8=Su(pt),K8=MN(2e3),Z8=function(n){return function(){return di("[Scene] Starting CSS transition: "+(n.property+(" -> "+n.targetValue)))(),void 0}},xN=function(n){return function(e){return he(function(t){return{currentScene:t.currentScene,nodesGroupId:t.nodesGroupId,simulation:t.simulation,transition:t.transition,linksGroupId:new m(n)}})(e)}},n7=function(n){if(n.currentScene instanceof v)return qd(void 0);if(n.currentScene instanceof m){if(n.currentScene.value0.stableMode instanceof mi)return qd(void 0);if(n.currentScene.value0.stableMode instanceof vi)return qd(void 0);throw new Error("Failed pattern match at Engine.Scene (line 288, column 17 - line 290, column 33): "+[n.currentScene.value0.stableMode.constructor.name])}throw new Error("Failed pattern match at Engine.Scene (line 286, column 25 - line 290, column 33): "+[n.currentScene.constructor.name])},e7=function(n){return function(){var t=R(n.nodes)(),r=R(n.forces)();return z8(j8(r))(function(a){return function(){return wr(a.value1)(t)(),di("[Scene] Re-initialized force: "+a.value0)()}})()}},IN=function(n){return function(e){return{simulation:n,currentScene:v.value,transition:v.value,nodesGroupId:e,linksGroupId:v.value}}},Ab=function(n){return he(function(e){return{currentScene:e.currentScene,nodesGroupId:e.nodesGroupId,simulation:e.simulation,transition:e.transition,linksGroupId:v.value}})(n)},t7=function(n){return Q8(X8(function(e){return new S(SN(e.id),{x:e.x,y:e.y})})(n))},AN=function(n){return function(e){var t=kd(n)(e.nodes);return qd(void 0)}},r7=function(n){return function(e){return function(t){return function(){di("[Scene] Transition complete: "+n.targetScene.name)(),yN(n.targetPositions)(t.simulation)();var a=Zr(t.simulation)(),o=n.targetScene.finalRules(a);return AN(o)(t.simulation)(),di("[Scene] Applied "+(SN(X(o))+" final rules"))(),e7(t.simulation)(),(function(){if(n.targetScene.stableMode instanceof mi)return di("[Scene] Entering Physics mode")(),Lf(t.simulation)();if(n.targetScene.stableMode instanceof vi)return di("[Scene] Entering Static mode")(),void 0;throw new Error("Failed pattern match at Engine.Scene (line 270, column 3 - line 276, column 16): "+[n.targetScene.stableMode.constructor.name])})(),rn({linksGroupId:t.linksGroupId,nodesGroupId:t.nodesGroupId,simulation:t.simulation,currentScene:new m(n.targetScene),transition:v.value})(e)()}}}},a7=function(n){return function(e){return function(t){var r=Y8(1)(n.progress+K8),a=r>=1;if(a)return r7(n)(e)(t);var o=FN(r);return function(){return bN(n.startPositions)(n.targetPositions)(o)(t.simulation)(),rn({currentScene:t.currentScene,linksGroupId:t.linksGroupId,nodesGroupId:t.nodesGroupId,simulation:t.simulation,transition:new m({startPositions:n.startPositions,targetPositions:n.targetPositions,targetScene:n.targetScene,progress:r})})(e)()}}}},Lb=function(n){return function(){var t=R(n)();if((function(){if(t.transition instanceof m)return a7(t.transition.value0)(n)(t)();if(t.transition instanceof v)return n7(t)();throw new Error("Failed pattern match at Engine.Scene (line 215, column 3 - line 217, column 37): "+[t.transition.constructor.name])})(),vN(t.nodesGroupId)(),t.linksGroupId instanceof m)return Hd(t.linksGroupId.value0)();if(t.linksGroupId instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Scene (line 223, column 3 - line 225, column 25): "+[t.linksGroupId.constructor.name])}},LN=function(n){return function(e){return function(){var r=R(e)();if(r.transition instanceof m)return di("[Scene] Already transitioning, ignoring")();if(r.transition instanceof v){di("[Scene] Starting transition to: "+n.name)();var a=Zr(r.simulation)(),o=t7(a);AN(n.initRules)(r.simulation)();var u=Zr(r.simulation)(),i=n.layout(u);return(function(){if(n.cssTransition instanceof m)return Z8(n.cssTransition.value0)();if(n.cssTransition instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Scene (line 175, column 7 - line 177, column 29): "+[n.cssTransition.constructor.name])})(),rn({currentScene:r.currentScene,linksGroupId:r.linksGroupId,nodesGroupId:r.nodesGroupId,simulation:r.simulation,transition:new m({targetScene:n,startPositions:o,targetPositions:i,progress:0})})(e)(),Lf(r.simulation)()}throw new Error("Failed pattern match at Engine.Scene (line 158, column 3 - line 190, column 34): "+[r.transition.constructor.name])}}};var u7=po(St),i7=ur(St),f7=T(gn),c7=tn(Mf),l7=Qa(cn),s7=q(Ae),wa=4e3,Ca=2500,p7=function(n){if(n.nodeType instanceof tt)return n.id;if(n.nodeType instanceof ft)return n.cluster;throw new Error("Failed pattern match at Viz.SpagoGridTest.GridLayout (line 75, column 22 - line 77, column 29): "+[n.nodeType.constructor.name])},_7=function(n){var e=wa/Ca,t=yc(Xt(Tn(n)*e)),r=yc(Tn(n)/Tn(t)),a=Ca*.8/Tn(r),o=wa*.8/Tn(t);return{gridCols:t,gridColsN:Tn(t),gridRowsN:Tn(r),spacingX:o,spacingY:a}},m7=function(n){return function(e){var t=u7(e)(n.gridCols),r=(Tn(t)-n.gridRowsN/2+.5)*n.spacingY,a=i7(e)(n.gridCols),o=(Tn(a)-n.gridColsN/2+.5)*n.spacingX;return{x:o,y:r}}};var Nb=function(n){var e=X(Le(function(r){return c7(r.nodeType)(tt.value)})(n)),t=_7(e);return l7(f7(function(r){return new S(s7(r.id),m7(t)(p7(r)))})(n))};var na=900;var pl=Qa(cn),_l=T(gn),Ma=q(Ae),Rb=tn(Mf),d7=po(St),D7=ur(St),NN=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:null,fy:null}},g7=function(n){return pl(_l(function(e){return new S(Ma(e.id),{x:e.x,y:e.y})})(n))};var h7=function(n){var e=_a(n.orbitAngle)*na,t=pa(n.orbitAngle)*na;return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:t,fy:e,gridX:t,gridY:e}},Ud=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:n.x,fy:n.y}},ml={name:"pinAll",select:H(!0),apply:Ud},Vp=function(n){return Rb(n.nodeType)(ft.value)&&n.isInTree},y7=function(n){var e=function(t){var r=Vp(t);return r?new S(Ma(t.id),{x:t.treeX,y:t.treeY}):new S(Ma(t.id),{x:t.x,y:t.y})};return pl(_l(e)(n))},PN=(function(){return{name:"TreeForm",initRules:[ml],layout:y7,finalRules:function(n){return[{name:"pinTreeModulesAtTree",select:Vp,apply:function(e){return{id:e.id,x:e.x,y:e.y,vx:e.vx,vy:e.vy,name:e.name,nodeType:e.nodeType,package:e.package,r:e.r,cluster:e.cluster,targets:e.targets,sources:e.sources,gridX:e.gridX,gridY:e.gridY,orbitAngle:e.orbitAngle,treeX:e.treeX,treeY:e.treeY,isInTree:e.isInTree,fx:e.treeX,fy:e.treeY}}},{name:"pinOthersAtCurrent",select:function(e){return!Vp(e)},apply:Ud}]},stableMode:vi.value,cssTransition:v.value}})(),RN=(function(){return{name:"TreeRun",initRules:[ml],layout:g7,finalRules:function(n){return[{name:"unpinTreeModules",select:Vp,apply:NN},{name:"pinOthersAtCurrent",select:function(e){return!Vp(e)},apply:Ud}]},stableMode:new mi({}),cssTransition:v.value}})(),Di=function(n){return Rb(n.nodeType)(tt.value)},ON=function(n){var e=Le(Di)(n),t=function(o){var u=_a(o.orbitAngle)*na,i=pa(o.orbitAngle)*na;return new S(Ma(o.id),{x:i,y:u})},r=pl(_l(t)(e)),a=function(o){return function(u){if(u.nodeType instanceof tt){var i=_a(u.orbitAngle)*na,f=pa(u.orbitAngle)*na;return new S(Ma(u.id),{x:f,y:i})}if(u.nodeType instanceof ft){var c=Ge(Ma(u.cluster))(o);if(c instanceof m)return new S(Ma(u.id),c.value0);if(c instanceof v)return new S(Ma(u.id),{x:u.x,y:u.y});throw new Error("Failed pattern match at Engine.Scenes (line 256, column 9 - line 258, column 67): "+[c.constructor.name])}throw new Error("Failed pattern match at Engine.Scenes (line 250, column 35 - line 258, column 67): "+[u.nodeType.constructor.name])}};return pl(_l(a(r))(n))};var Bd=function(n){return Rb(n.nodeType)(ft.value)},b7=function(n){var e=Le(Di)(n),t=function(a){var o=_a(a.orbitAngle)*na,u=pa(a.orbitAngle)*na;return new S(Ma(a.id),{x:u,y:o})},r=pl(_l(t)(e));return[{name:"pinPackagesAtOrbit",select:Di,apply:function(a){var o=_a(a.orbitAngle)*na,u=pa(a.orbitAngle)*na;return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:u,fy:o,gridX:u,gridY:o}}},{name:"pinModulesAtOrbit",select:Bd,apply:function(a){var o=Ge(Ma(a.cluster))(r);if(o instanceof m)return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:o.value0.x,fy:o.value0.y,gridX:o.value0.x,gridY:o.value0.y};if(o instanceof v)return Ud(a);throw new Error("Failed pattern match at Engine.Scenes (line 288, column 11 - line 295, column 38): "+[o.constructor.name])}}]},HN=(function(){return{name:"OrbitForm",initRules:[ml],layout:ON,finalRules:b7,stableMode:vi.value,cssTransition:v.value}})(),T7=function(n){var e=Le(Di)(n),t=function(a){var o=_a(a.orbitAngle)*na,u=pa(a.orbitAngle)*na;return new S(Ma(a.id),{x:u,y:o})},r=pl(_l(t)(e));return[{name:"pinPackagesAtOrbit",select:Di,apply:h7},{name:"unpinModulesSetGridToOrbit",select:Bd,apply:function(a){var o=Ge(Ma(a.cluster))(r);if(o instanceof m)return{id:a.id,x:a.x,y:a.y,vx:a.vx,vy:a.vy,name:a.name,nodeType:a.nodeType,package:a.package,r:a.r,cluster:a.cluster,targets:a.targets,sources:a.sources,orbitAngle:a.orbitAngle,treeX:a.treeX,treeY:a.treeY,isInTree:a.isInTree,fx:null,fy:null,gridX:o.value0.x,gridY:o.value0.y};if(o instanceof v)return NN(a);throw new Error("Failed pattern match at Engine.Scenes (line 318, column 11 - line 325, column 35): "+[o.constructor.name])}}]},WN=(function(){return{name:"OrbitRun",initRules:[ml],layout:ON,finalRules:T7,stableMode:new mi({}),cssTransition:v.value}})(),$N=function(n){var e=X(Le(Di)(n)),t=wa/Ca,r=yc(Xt(Tn(e)*t)),a=Tn(r),o=yc(Tn(e)/Tn(r)),u=Tn(o),i=Ca*.8/Tn(o),f=wa*.8/Tn(r);return{pkgGridPos:function(c){var l=d7(c)(r),s=(Tn(l)-u/2+.5)*i,p=D7(c)(r),_=(Tn(p)-a/2+.5)*f;return{x:_,y:s}}}},E7=function(n){var e=$N(n);return[{name:"pinPackagesAtGrid",select:Di,apply:function(t){var r=e.pkgGridPos(t.id);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}},{name:"pinModulesAtGrid",select:Bd,apply:function(t){var r=e.pkgGridPos(t.cluster);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}}]},kN=(function(){return{name:"GridForm",initRules:[ml],layout:Nb,finalRules:E7,stableMode:vi.value,cssTransition:v.value}})(),w7=function(n){var e=$N(n);return[{name:"pinPackagesAtGrid",select:Di,apply:function(t){var r=e.pkgGridPos(t.id);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:r.x,fy:r.y,gridX:r.x,gridY:r.y}}},{name:"unpinModulesSetGrid",select:Bd,apply:function(t){var r=e.pkgGridPos(t.cluster);return{id:t.id,x:t.x,y:t.y,vx:t.vx,vy:t.vy,name:t.name,nodeType:t.nodeType,package:t.package,r:t.r,cluster:t.cluster,targets:t.targets,sources:t.sources,orbitAngle:t.orbitAngle,treeX:t.treeX,treeY:t.treeY,isInTree:t.isInTree,fx:null,fy:null,gridX:r.x,gridY:r.y}}}]},Gd=(function(){return{name:"GridRun",initRules:[ml],layout:Nb,finalRules:w7,stableMode:new mi({}),cssTransition:v.value}})();var qN=n=>()=>{for(;n.firstChild;)n.removeChild(n.firstChild)},UN=()=>{let n=document.querySelectorAll(".watermark-package"),e=document.querySelectorAll(".watermark-package-label");n.forEach((t,r)=>{let a=e[r];a&&(t.addEventListener("mouseenter",()=>{a.style.opacity="1.0",a.style.transition="opacity 0.2s ease"}),t.addEventListener("mouseleave",()=>{a.style.opacity="0.3",a.style.transition="opacity 0.2s ease"}))})};var Ob=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),vl=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var BN=function(n){return n.value0.value};var Vd=T(gn),S7=Yn(cn),x7=is(An)(cn);var Hb=function(n){return function(e){var t=Ze(n.value0.children);if(t)return new Ob({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,parent:v.value,children:[],value:e(n.value0.data_)});var r=e(n.value0.data_),a=Vd(function(i){return Hb(i)(e)})(n.value0.children),o=S7(function(i){return function(f){return i+BN(f)}})(0)(a),u=r+o;return new Ob({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,parent:v.value,children:a,value:u})}};var I7=function(n){return n.value0.height},GN=function(n){return function(e){var t=function(a){var o=Ze(a.value0.children);if(o)return new vl({data_:a.value0.data_,depth:a.value0.depth,parent:a.value0.parent,children:a.value0.children,height:0});var u=Vd(t)(a.value0.children),i=Vd(I7)(u),f=In(0)(x7(i));return new vl({data_:a.value0.data_,depth:a.value0.depth,parent:a.value0.parent,children:u,height:f+1|0})},r=function(a){return function(o){return function(u){var i=e(u);if(i instanceof v)return new vl({data_:u,depth:o,height:0,parent:a,children:[]});if(i instanceof m){var f=new vl({data_:u,depth:o,height:0,parent:a,children:[]}),c=Vd(r(new m(f))(o+1|0))(i.value0),l=new vl({data_:u,depth:o,height:0,parent:a,children:c});return l}throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Core (line 35, column 5 - line 70, column 27): "+[i.constructor.name])}}};return t(r(v.value)(0)(n))}};var VN=T(gn),JN=Yn(cn);var zN=Q(de);var Jd=Bo(pt),L7=Su(pt),Wr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),jN=function(n){return new Wr({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,value:n.value0.value,children:VN(jN)(n.value0.children),x0:0,y0:0,x1:0,y1:0})},N7=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){var i=n.value0.value!==0;return i?(a-t)/n.value0.value:0})(),u=JN(function(i){return function(f){var c=f.value0.value*o,l=new Wr({data_:f.value0.data_,depth:f.value0.depth,height:f.value0.height,value:f.value0.value,children:f.value0.children,x0:e,x1:r,y0:i.y,y1:i.y+c});return{children:jr(i.children)(l),y:i.y+c}}})({children:[],y:t})(n.value0.children);return new Wr({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,value:n.value0.value,x0:n.value0.x0,y0:n.value0.y0,x1:n.value0.x1,y1:n.value0.y1,children:u.children})}}}}};var QN=function(n){return function(e){return function(t){var r=(function(){var U=oe(t)(e.value0.depth);if(U instanceof m)return U.value0;if(U instanceof v)return 0;throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 125, column 9 - line 127, column 21): "+[U.constructor.name])})(),a=e.value0.x0+r,o=e.value0.x1-r,u=(function(){var U=o<a;return U?(a+o)/2:a})(),i=(function(){var U=o<a;return U?(a+o)/2:o})(),f=e.value0.y0+r,c=e.value0.y1-r,l=(function(){var U=c<f;return U?(f+c)/2:f})(),s=(function(){var U=c<f;return U?(f+c)/2:c})(),p=new Wr({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,children:e.value0.children,x0:u,y0:l,x1:i,y1:s}),_=Ze(e.value0.children);if(_)return p;var d=n.paddingInner/2,g=zN(t)([d]),D=s-n.paddingBottom+d,b=l+n.paddingTop-d,I=(function(){var U=D<b;return U?(b+D)/2:b})(),M=(function(){var U=D<b;return U?(b+D)/2:D})(),h=i-n.paddingRight+d,y=u+n.paddingLeft-d,C=(function(){var U=h<y;return U?(y+h)/2:y})(),P=(function(){var U=h<y;return U?(y+h)/2:h})(),k=n.tile(p)(C)(I)(P)(M),sn=VN(function(U){return QN(n)(U)(g)})(k.value0.children);return new Wr({data_:k.value0.data_,depth:k.value0.depth,height:k.value0.height,value:k.value0.value,x0:k.value0.x0,y0:k.value0.y0,x1:k.value0.x1,y1:k.value0.y1,children:sn})}}},XN=function(n){return function(e){var t=jN(e),r=new Wr({data_:t.value0.data_,depth:t.value0.depth,height:t.value0.height,value:t.value0.value,children:t.value0.children,x0:0,y0:0,x1:n.size.width,y1:n.size.height}),a=QN(n)(r)([]);return a}},P7=(function(){return(1+Xt(5))/2})();var R7=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){var i=n.value0.value!==0;return i?(r-e)/n.value0.value:0})(),u=JN(function(i){return function(f){var c=f.value0.value*o,l=new Wr({data_:f.value0.data_,depth:f.value0.depth,height:f.value0.height,value:f.value0.value,children:f.value0.children,x0:i.x,x1:i.x+c,y0:t,y1:a});return{children:jr(i.children)(l),x:i.x+c}}})({children:[],x:e})(n.value0.children);return new Wr({data_:n.value0.data_,depth:n.value0.depth,height:n.value0.height,value:n.value0.value,x0:n.value0.x0,y0:n.value0.y0,x1:n.value0.x1,y1:n.value0.y1,children:u.children})}}}}};var O7=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){var u=X(e.value0.children),i=function(f){return function(c){return function(l){return function(s){return function(p){return function(_){return function(d){return function(g){var D=f,b=c,I=l,M=s,h=p,y=_,C=d,P=!1,k;function sn(U,J,jn,Hn,E,G,x,j){var mn=U>=u;if(mn)return P=!0,j;var Cn=function(Me){return function(ae){var Te=Me,mr=!1,gt;function Br(Vt,Ie){var Mn=Vt>=u;if(Mn)return mr=!0,{i1:Vt,sumValue:Ie};var Wn=(function(){var hn=oe(e.value0.children)(Vt);if(hn instanceof m)return hn.value0;if(hn instanceof v)return new Wr(e.value0);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 360, column 31 - line 362, column 42): "+[hn.constructor.name])})(),En=Wn.value0.value!==0;if(En)return mr=!0,{i1:Vt+1|0,sumValue:Wn.value0.value};Te=Vt+1|0,ae=Ie}for(;!mr;)gt=Br(Te,ae);return gt}},Pn=Cn(J)(0),ve=G-Hn,Pe=E-jn,nn=Jd(ve/Pe)(Pe/ve)/(x*n),xn=Pn.sumValue*Pn.sumValue*nn,re=function(Me){return function(ae){return function(Te){return function(mr){return function(gt){var Br=Me,Vt=ae,Ie=Te,Mn=mr,Wn=!1,En;function hn(Vn,Kn,qe,Mt,$o){var XD=Vn>=u;if(XD)return Wn=!0,{i1:Vn,sumValue:Kn,minRatio:$o};var YD=(function(){var N_=oe(e.value0.children)(Vn);if(N_ instanceof m)return N_.value0;if(N_ instanceof v)return new Wr(e.value0);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 386, column 31 - line 388, column 42): "+[N_.constructor.name])})(),KD=Kn+YD.value0.value,DE=L7(qe)(YD.value0.value),gE=Jd(Mt)(YD.value0.value),hE=KD*KD*nn,yE=Jd(gE/hE)(hE/DE),XO=yE>$o;if(XO)return Wn=!0,{i1:Vn,sumValue:Kn,minRatio:$o};Br=Vn+1|0,Vt=KD,Ie=DE,Mn=gE,gt=yE}for(;!Wn;)En=hn(Br,Vt,Ie,Mn,gt);return En}}}}},qn=(function(){var Me=oe(e.value0.children)(Pn.i1-1|0);if(Me instanceof m)return Me.value0;if(Me instanceof v)return new Wr(e.value0);throw new Error("Failed pattern match at DataViz.Layout.Hierarchy.Treemap (line 399, column 30 - line 401, column 36): "+[Me.constructor.name])})(),fn=Pe<ve,O=re(Pn.i1)(Pn.sumValue)(qn.value0.value)(qn.value0.value)(Jd(qn.value0.value/xn)(xn/qn.value0.value)),ne=Oi(U)(O.i1)(e.value0.children),Gn=new Wr({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,x0:e.value0.x0,y0:e.value0.y0,x1:e.value0.x1,y1:e.value0.y1,children:ne,value:O.sumValue}),Ce=(function(){if(fn){var Me=(function(){var gt=x!==0;return gt?Hn+ve*O.sumValue/x:G})(),Te=R7(Gn)(jn)(Hn)(E)(Me);return{children:Te.value0.children,nextX0:jn,nextY0:Me,nextX1:E,nextY1:G}}var ae=(function(){var mr=x!==0;return mr?jn+Pe*O.sumValue/x:E})(),Te=N7(Gn)(jn)(Hn)(ae)(G);return{children:Te.value0.children,nextX0:ae,nextY0:Hn,nextX1:E,nextY1:G}})();D=O.i1,b=O.i1,I=Ce.nextX0,M=Ce.nextY0,h=Ce.nextX1,y=Ce.nextY1,C=x-O.sumValue,g=zN(j)(Ce.children)}for(;!P;)k=sn(D,b,I,M,h,y,C,g);return k}}}}}}}};return{children:i(0)(0)(t)(r)(a)(o)(e.value0.value)([]),x0:t,y0:r}}}}}}},Wb=function(n){return function(e){return function(t){return function(r){return function(a){return function(o){var u=O7(n)(new Wr(e.value0))(t)(r)(a)(o);return new Wr({data_:e.value0.data_,depth:e.value0.depth,height:e.value0.height,value:e.value0.value,x0:e.value0.x0,y0:e.value0.y0,x1:e.value0.x1,y1:e.value0.y1,children:u.children})}}}}}},Jp={size:{width:1,height:1},tile:Wb(P7),round:!1,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};var zp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),jp=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),$b=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var Nf=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Pf=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Qp=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),Fa={toAttr:function(n){return function(e){return new Nf(e,new zp(n))}}},Rf={toAttr:function(n){return function(e){return new Pf(e,function(t){return zp.create(n(t))})}}};var dl={toAttr:function(n){return function(e){return new Nf(e,new jp(n))}}},Cr={toAttr:function(n){return function(e){return new Pf(e,function(t){return jp.create(n(t))})}}};var Xe=function(n){return n.toAttr},YN=function(n){var e=Xe(n);return function(t){return e(t)("transform")}},KN=function(n){var e=Xe(n);return function(t){return e(t)("viewBox")}},ZN=function(n){var e=Xe(n);return function(t){return e(t)("width")}},nP=function(n){var e=Xe(n);return function(t){return e(t)("x")}},eP=function(n){var e=Xe(n);return function(t){return e(t)("x1")}},tP=function(n){var e=Xe(n);return function(t){return e(t)("x2")}},rP=function(n){var e=Xe(n);return function(t){return e(t)("y")}},aP=function(n){var e=Xe(n);return function(t){return e(t)("y1")}},oP=function(n){var e=Xe(n);return function(t){return e(t)("y2")}},uP=function(n){var e=Xe(n);return function(t){return e(t)("textContent")}},iP=function(n){var e=Xe(n);return function(t){return e(t)("text-anchor")}},Xp=function(n){var e=Xe(n);return function(t){return e(t)("stroke-width")}};var zd=function(n){var e=Xe(n);return function(t){return e(t)("stroke")}},fP=function(n){var e=Xe(n);return function(t){return e(t)("r")}},jd=function(n){var e=Xe(n);return function(t){return e(t)("opacity")}},Qd=function(n){var e=Xe(n);return function(t){return e(t)("id")}},cP=function(n){var e=Xe(n);return function(t){return e(t)("height")}},lP=function(n){var e=Xe(n);return function(t){return e(t)("font-size")}},sP=function(n){var e=Xe(n);return function(t){return e(t)("font-family")}};var Xd=function(n){var e=Xe(n);return function(t){return e(t)("fill")}};var pP=function(n){var e=Xe(n);return function(t){return e(t)("d")}},_P=function(n){var e=Xe(n);return function(t){return e(t)("cy")}},mP=function(n){var e=Xe(n);return function(t){return e(t)("cx")}},Yp=function(n){var e=Xe(n);return function(t){return e(t)("class")}};var vP=function(n){return n.selectAll},Kd=function(n){return n.select};var dP=function(n){return n.on};var Zd=function(n){return n.appendData};var nD=function(n){return n.appendChild};function eD(n){return function(){return n.__data__}}function Kp(n){return function(e){return function(){e.__data__=n}}}function tD(n){return function(e){return function(){e.textContent=n}}}function rD(n){return n.offsetX}function aD(n){return n.offsetY}function gP(n){return function(){let e=document.querySelector(n);e&&(e.innerHTML="")}}function hP(n){return JSON.stringify(n)}var $7=xf("start","end","cancel","interrupt"),k7=[],TP=0,yP=1,uD=2,oD=3,bP=4,iD=5,Zp=6;function gi(n,e,t,r,a,o){var u=n.__transition;if(!u)n.__transition={};else if(t in u)return;q7(n,t,{name:e,index:r,group:a,on:$7,tween:k7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:TP})}function n_(n,e){var t=Nt(n,e);if(t.state>TP)throw new Error("too late; already scheduled");return t}function tr(n,e){var t=Nt(n,e);if(t.state>oD)throw new Error("too late; already running");return t}function Nt(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function q7(n,e,t){var r=n.__transition,a;r[e]=t,t.timer=Sd(o,0,t.time);function o(c){t.state=yP,t.timer.restart(u,t.delay,t.time),t.delay<=c&&u(c-t.delay)}function u(c){var l,s,p,_;if(t.state!==yP)return f();for(l in r)if(_=r[l],_.name===t.name){if(_.state===oD)return xd(u);_.state===bP?(_.state=Zp,_.timer.stop(),_.on.call("interrupt",n,n.__data__,_.index,_.group),delete r[l]):+l<e&&(_.state=Zp,_.timer.stop(),_.on.call("cancel",n,n.__data__,_.index,_.group),delete r[l])}if(xd(function(){t.state===oD&&(t.state=bP,t.timer.restart(i,t.delay,t.time),i(c))}),t.state=uD,t.on.call("start",n,n.__data__,t.index,t.group),t.state===uD){for(t.state=oD,a=new Array(p=t.tween.length),l=0,s=-1;l<p;++l)(_=t.tween[l].value.call(n,n.__data__,t.index,t.group))&&(a[++s]=_);a.length=s+1}}function i(c){for(var l=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(f),t.state=iD,1),s=-1,p=a.length;++s<p;)a[s].call(n,l);t.state===iD&&(t.on.call("end",n,n.__data__,t.index,t.group),f())}function f(){t.state=Zp,t.timer.stop(),delete r[e];for(var c in r)return;delete n.__transition}}function Of(n,e){var t=n.__transition,r,a,o=!0,u;if(t){e=e==null?null:e+"";for(u in t){if((r=t[u]).name!==e){o=!1;continue}a=r.state>uD&&r.state<iD,r.state=Zp,r.timer.stop(),r.on.call(a?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[u]}o&&delete n.__transition}}function EP(n){return this.each(function(){Of(this,n)})}function U7(n,e){var t,r;return function(){var a=tr(this,n),o=a.tween;if(o!==t){r=t=o;for(var u=0,i=r.length;u<i;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}a.tween=r}}function B7(n,e,t){var r,a;if(typeof t!="function")throw new Error;return function(){var o=tr(this,n),u=o.tween;if(u!==r){a=(r=u).slice();for(var i={name:e,value:t},f=0,c=a.length;f<c;++f)if(a[f].name===e){a[f]=i;break}f===c&&a.push(i)}o.tween=a}}function wP(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=Nt(this.node(),t).tween,a=0,o=r.length,u;a<o;++a)if((u=r[a]).name===n)return u.value;return null}return this.each((e==null?U7:B7)(t,n,e))}function Dl(n,e,t){var r=n._id;return n.each(function(){var a=tr(this,r);(a.value||(a.value={}))[e]=t.apply(this,arguments)}),function(a){return Nt(a,r).value[e]}}function fD(n,e){var t;return(typeof e=="number"?Qt:e instanceof $a?Gi:(t=$a(e))?(e=t,Gi):gs)(n,e)}function G7(n){return function(){this.removeAttribute(n)}}function V7(n){return function(){this.removeAttributeNS(n.space,n.local)}}function J7(n,e,t){var r,a=t+"",o;return function(){var u=this.getAttribute(n);return u===a?null:u===r?o:o=e(r=u,t)}}function z7(n,e,t){var r,a=t+"",o;return function(){var u=this.getAttributeNS(n.space,n.local);return u===a?null:u===r?o:o=e(r=u,t)}}function j7(n,e,t){var r,a,o;return function(){var u,i=t(this),f;return i==null?void this.removeAttribute(n):(u=this.getAttribute(n),f=i+"",u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i)))}}function Q7(n,e,t){var r,a,o;return function(){var u,i=t(this),f;return i==null?void this.removeAttributeNS(n.space,n.local):(u=this.getAttributeNS(n.space,n.local),f=i+"",u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i)))}}function CP(n,e){var t=fu(n),r=t==="transform"?nh:fD;return this.attrTween(n,typeof e=="function"?(t.local?Q7:j7)(t,r,Dl(this,"attr."+n,e)):e==null?(t.local?V7:G7)(t):(t.local?z7:J7)(t,r,e))}function X7(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Y7(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function K7(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&Y7(n,o)),t}return a._value=e,a}function Z7(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&X7(n,o)),t}return a._value=e,a}function MP(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=fu(n);return this.tween(t,(r.local?K7:Z7)(r,e))}function n6(n,e){return function(){n_(this,n).delay=+e.apply(this,arguments)}}function e6(n,e){return e=+e,function(){n_(this,n).delay=e}}function FP(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?n6:e6)(e,n)):Nt(this.node(),e).delay}function t6(n,e){return function(){tr(this,n).duration=+e.apply(this,arguments)}}function r6(n,e){return e=+e,function(){tr(this,n).duration=e}}function SP(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?t6:r6)(e,n)):Nt(this.node(),e).duration}function a6(n,e){if(typeof e!="function")throw new Error;return function(){tr(this,n).ease=e}}function xP(n){var e=this._id;return arguments.length?this.each(a6(e,n)):Nt(this.node(),e).ease}function o6(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;tr(this,n).ease=t}}function IP(n){if(typeof n!="function")throw new Error;return this.each(o6(this._id,n))}function AP(n){typeof n!="function"&&(n=Sp(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],u=o.length,i=r[a]=[],f,c=0;c<u;++c)(f=o[c])&&n.call(f,f.__data__,c,o)&&i.push(f);return new Mr(r,this._parents,this._name,this._id)}function LP(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,a=t.length,o=Math.min(r,a),u=new Array(r),i=0;i<o;++i)for(var f=e[i],c=t[i],l=f.length,s=u[i]=new Array(l),p,_=0;_<l;++_)(p=f[_]||c[_])&&(s[_]=p);for(;i<r;++i)u[i]=e[i];return new Mr(u,this._parents,this._name,this._id)}function u6(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function i6(n,e,t){var r,a,o=u6(e)?n_:tr;return function(){var u=o(this,n),i=u.on;i!==r&&(a=(r=i).copy()).on(e,t),u.on=a}}function NP(n,e){var t=this._id;return arguments.length<2?Nt(this.node(),t).on.on(n):this.each(i6(t,n,e))}function f6(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function PP(){return this.on("end.remove",f6(this._id))}function RP(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Ff(n));for(var r=this._groups,a=r.length,o=new Array(a),u=0;u<a;++u)for(var i=r[u],f=i.length,c=o[u]=new Array(f),l,s,p=0;p<f;++p)(l=i[p])&&(s=n.call(l,l.__data__,p,i))&&("__data__"in l&&(s.__data__=l.__data__),c[p]=s,gi(c[p],e,t,p,c,Nt(l,t)));return new Mr(o,this._parents,e,t)}function OP(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Fp(n));for(var r=this._groups,a=r.length,o=[],u=[],i=0;i<a;++i)for(var f=r[i],c=f.length,l,s=0;s<c;++s)if(l=f[s]){for(var p=n.call(l,l.__data__,s,f),_,d=Nt(l,t),g=0,D=p.length;g<D;++g)(_=p[g])&&gi(_,e,t,g,p,d);o.push(p),u.push(l)}return new Mr(o,u,e,t)}var c6=cu.prototype.constructor;function HP(){return new c6(this._groups,this._parents)}function l6(n,e){var t,r,a;return function(){var o=si(this,n),u=(this.style.removeProperty(n),si(this,n));return o===u?null:o===t&&u===r?a:a=e(t=o,r=u)}}function WP(n){return function(){this.style.removeProperty(n)}}function s6(n,e,t){var r,a=t+"",o;return function(){var u=si(this,n);return u===a?null:u===r?o:o=e(r=u,t)}}function p6(n,e,t){var r,a,o;return function(){var u=si(this,n),i=t(this),f=i+"";return i==null&&(f=i=(this.style.removeProperty(n),si(this,n))),u===f?null:u===r&&f===a?o:(a=f,o=e(r=u,i))}}function _6(n,e){var t,r,a,o="style."+e,u="end."+o,i;return function(){var f=tr(this,n),c=f.on,l=f.value[o]==null?i||(i=WP(e)):void 0;(c!==t||a!==l)&&(r=(t=c).copy()).on(u,a=l),f.on=r}}function $P(n,e,t){var r=(n+="")=="transform"?Zg:fD;return e==null?this.styleTween(n,l6(n,r)).on("end.style."+n,WP(n)):typeof e=="function"?this.styleTween(n,p6(n,r,Dl(this,"style."+n,e))).each(_6(this._id,n)):this.styleTween(n,s6(n,r,e),t).on("end.style."+n,null)}function m6(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function v6(n,e,t){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&m6(n,u,t)),r}return o._value=e,o}function kP(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,v6(n,e,t??""))}function d6(n){return function(){this.textContent=n}}function D6(n){return function(){var e=n(this);this.textContent=e??""}}function qP(n){return this.tween("text",typeof n=="function"?D6(Dl(this,"text",n)):d6(n==null?"":n+""))}function g6(n){return function(e){this.textContent=n.call(this,e)}}function h6(n){var e,t;function r(){var a=n.apply(this,arguments);return a!==t&&(e=(t=a)&&g6(a)),e}return r._value=n,r}function UP(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,h6(n))}function BP(){for(var n=this._name,e=this._id,t=cD(),r=this._groups,a=r.length,o=0;o<a;++o)for(var u=r[o],i=u.length,f,c=0;c<i;++c)if(f=u[c]){var l=Nt(f,e);gi(f,n,t,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Mr(r,this._parents,n,t)}function GP(){var n,e,t=this,r=t._id,a=t.size();return new Promise(function(o,u){var i={value:u},f={value:function(){--a===0&&o()}};t.each(function(){var c=tr(this,r),l=c.on;l!==n&&(e=(n=l).copy(),e._.cancel.push(i),e._.interrupt.push(i),e._.end.push(f)),c.on=e}),a===0&&o()})}var y6=0;function Mr(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function VP(n){return cu().transition(n)}function cD(){return++y6}var du=cu.prototype;Mr.prototype=VP.prototype={constructor:Mr,select:RP,selectAll:OP,selectChild:du.selectChild,selectChildren:du.selectChildren,filter:AP,merge:LP,selection:HP,transition:BP,call:du.call,nodes:du.nodes,node:du.node,size:du.size,empty:du.empty,each:du.each,on:NP,attr:CP,attrTween:MP,style:$P,styleTween:kP,text:qP,textTween:UP,remove:PP,tween:wP,delay:FP,duration:SP,ease:xP,easeVarying:IP,end:GP,[Symbol.iterator]:du[Symbol.iterator]};var kb=n=>+n;function qb(n){return n*n}function Ub(n){return n*(2-n)}function gl(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function Bb(n){return n*n*n}function Gb(n){return--n*n*n+1}function hi(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var JP=Math.PI,zP=JP/2;function Vb(n){return+n==1?1:1-Math.cos(n*zP)}function Jb(n){return Math.sin(n*zP)}function hl(n){return(1-Math.cos(JP*n))/2}function Lo(n){return(Math.pow(2,-10*n)-.0009765625)*1.0009775171065494}function zb(n){return Lo(1-+n)}function jb(n){return 1-Lo(n)}function yl(n){return((n*=2)<=1?Lo(1-n):2-Lo(n-1))/2}function Qb(n){return 1-Math.sqrt(1-n*n)}function Xb(n){return Math.sqrt(1- --n*n)}function bl(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var Yb=.36363636363636365,b6=6/11,T6=8/11,E6=3/4,w6=9/11,C6=10/11,M6=15/16,F6=21/22,S6=63/64,lD=1/Yb/Yb;function Kb(n){return 1-Du(1-n)}function Du(n){return(n=+n)<Yb?lD*n*n:n<T6?lD*(n-=b6)*n+E6:n<C6?lD*(n-=w6)*n+M6:lD*(n-=F6)*n+S6}function Zb(n){return((n*=2)<=1?1-Du(1-n):Du(n-1)+1)/2}var nT=1.70158,eT=(function n(e){e=+e;function t(r){return(r=+r)*r*(e*(r-1)+r)}return t.overshoot=n,t})(nT),tT=(function n(e){e=+e;function t(r){return--r*r*((r+1)*e+r)+1}return t.overshoot=n,t})(nT),Tl=(function n(e){e=+e;function t(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return t.overshoot=n,t})(nT);var El=2*Math.PI,rT=1,aT=.3,oT=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=El);function a(o){return e*Lo(- --o)*Math.sin((r-o)/t)}return a.amplitude=function(o){return n(o,t*El)},a.period=function(o){return n(e,o)},a})(rT,aT),wl=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=El);function a(o){return 1-e*Lo(o=+o)*Math.sin((o+r)/t)}return a.amplitude=function(o){return n(o,t*El)},a.period=function(o){return n(e,o)},a})(rT,aT),uT=(function n(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=El);function a(o){return((o=o*2-1)<0?e*Lo(-o)*Math.sin((r-o)/t):2-e*Lo(o)*Math.sin((r+o)/t))/2}return a.amplitude=function(o){return n(o,t*El)},a.period=function(o){return n(e,o)},a})(rT,aT);var x6={time:null,delay:0,duration:250,ease:hi};function I6(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function jP(n){var e,t;n instanceof Mr?(e=n._id,n=n._name):(e=cD(),(t=x6).time=Hp(),n=n==null?null:n+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var u=r[o],i=u.length,f,c=0;c<i;++c)(f=u[c])&&gi(f,n,e,c,u,t||I6(f,e));return new Mr(r,this._parents,n,e)}cu.prototype.interrupt=EP;cu.prototype.transition=jP;var e_=n=>()=>n;function iT(n,{sourceEvent:e,target:t,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function eo(n,e,t){this.k=n,this.x=e,this.y=t}eo.prototype={constructor:eo,scale:function(n){return n===1?this:new eo(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new eo(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var t_=new eo(1,0,0);fT.prototype=eo.prototype;function fT(n){for(;!n.__zoom;)if(!(n=n.parentNode))return t_;return n.__zoom}function sD(n){n.stopImmediatePropagation()}function Cl(n){n.preventDefault(),n.stopImmediatePropagation()}function A6(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function L6(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function QP(){return this.__zoom||t_}function N6(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function P6(){return navigator.maxTouchPoints||"ontouchstart"in this}function R6(n,e,t){var r=n.invertX(e[0][0])-t[0][0],a=n.invertX(e[1][0])-t[1][0],o=n.invertY(e[0][1])-t[0][1],u=n.invertY(e[1][1])-t[1][1];return n.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function cT(){var n=A6,e=L6,t=R6,r=N6,a=P6,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],i=250,f=eh,c=xf("start","zoom","end"),l,s,p,_=500,d=150,g=0,D=10;function b(E){E.property("__zoom",QP).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",sn).on("dblclick.zoom",U).filter(a).on("touchstart.zoom",J).on("touchmove.zoom",jn).on("touchend.zoom touchcancel.zoom",Hn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(E,G,x,j){var mn=E.selection?E.selection():E;mn.property("__zoom",QP),E!==mn?y(E,G,x,j):mn.interrupt().each(function(){C(this,arguments).event(j).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},b.scaleBy=function(E,G,x,j){b.scaleTo(E,function(){var mn=this.__zoom.k,Cn=typeof G=="function"?G.apply(this,arguments):G;return mn*Cn},x,j)},b.scaleTo=function(E,G,x,j){b.transform(E,function(){var mn=e.apply(this,arguments),Cn=this.__zoom,Pn=x==null?h(mn):typeof x=="function"?x.apply(this,arguments):x,ve=Cn.invert(Pn),Pe=typeof G=="function"?G.apply(this,arguments):G;return t(M(I(Cn,Pe),Pn,ve),mn,u)},x,j)},b.translateBy=function(E,G,x,j){b.transform(E,function(){return t(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),u)},null,j)},b.translateTo=function(E,G,x,j,mn){b.transform(E,function(){var Cn=e.apply(this,arguments),Pn=this.__zoom,ve=j==null?h(Cn):typeof j=="function"?j.apply(this,arguments):j;return t(t_.translate(ve[0],ve[1]).scale(Pn.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof x=="function"?-x.apply(this,arguments):-x),Cn,u)},j,mn)};function I(E,G){return G=Math.max(o[0],Math.min(o[1],G)),G===E.k?E:new eo(G,E.x,E.y)}function M(E,G,x){var j=G[0]-x[0]*E.k,mn=G[1]-x[1]*E.k;return j===E.x&&mn===E.y?E:new eo(E.k,j,mn)}function h(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function y(E,G,x,j){E.on("start.zoom",function(){C(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(j).end()}).tween("zoom",function(){var mn=this,Cn=arguments,Pn=C(mn,Cn).event(j),ve=e.apply(mn,Cn),Pe=x==null?h(ve):typeof x=="function"?x.apply(mn,Cn):x,nn=Math.max(ve[1][0]-ve[0][0],ve[1][1]-ve[0][1]),xn=mn.__zoom,re=typeof G=="function"?G.apply(mn,Cn):G,qn=f(xn.invert(Pe).concat(nn/xn.k),re.invert(Pe).concat(nn/re.k));return function(fn){if(fn===1)fn=re;else{var O=qn(fn),ne=nn/O[2];fn=new eo(ne,Pe[0]-O[0]*ne,Pe[1]-O[1]*ne)}Pn.zoom(null,fn)}})}function C(E,G,x){return!x&&E.__zooming||new P(E,G)}function P(E,G){this.that=E,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,G),this.taps=0}P.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,G){return this.mouse&&E!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var G=Bn(this.that).datum();c.call(E,this.that,new iT(E,{sourceEvent:this.sourceEvent,target:b,type:E,transform:this.that.__zoom,dispatch:c}),G)}};function k(E,...G){if(!n.apply(this,arguments))return;var x=C(this,G).event(E),j=this.__zoom,mn=Math.max(o[0],Math.min(o[1],j.k*Math.pow(2,r.apply(this,arguments)))),Cn=Tr(E);if(x.wheel)(x.mouse[0][0]!==Cn[0]||x.mouse[0][1]!==Cn[1])&&(x.mouse[1]=j.invert(x.mouse[0]=Cn)),clearTimeout(x.wheel);else{if(j.k===mn)return;x.mouse=[Cn,j.invert(Cn)],Of(this),x.start()}Cl(E),x.wheel=setTimeout(Pn,d),x.zoom("mouse",t(M(I(j,mn),x.mouse[0],x.mouse[1]),x.extent,u));function Pn(){x.wheel=null,x.end()}}function sn(E,...G){if(p||!n.apply(this,arguments))return;var x=E.currentTarget,j=C(this,G,!0).event(E),mn=Bn(E.view).on("mousemove.zoom",Pe,!0).on("mouseup.zoom",nn,!0),Cn=Tr(E,x),Pn=E.clientX,ve=E.clientY;Wp(E.view),sD(E),j.mouse=[Cn,this.__zoom.invert(Cn)],Of(this),j.start();function Pe(xn){if(Cl(xn),!j.moved){var re=xn.clientX-Pn,qn=xn.clientY-ve;j.moved=re*re+qn*qn>g}j.event(xn).zoom("mouse",t(M(j.that.__zoom,j.mouse[0]=Tr(xn,x),j.mouse[1]),j.extent,u))}function nn(xn){mn.on("mousemove.zoom mouseup.zoom",null),$p(xn.view,j.moved),Cl(xn),j.event(xn).end()}}function U(E,...G){if(n.apply(this,arguments)){var x=this.__zoom,j=Tr(E.changedTouches?E.changedTouches[0]:E,this),mn=x.invert(j),Cn=x.k*(E.shiftKey?.5:2),Pn=t(M(I(x,Cn),j,mn),e.apply(this,G),u);Cl(E),i>0?Bn(this).transition().duration(i).call(y,Pn,j,E):Bn(this).call(b.transform,Pn,j,E)}}function J(E,...G){if(n.apply(this,arguments)){var x=E.touches,j=x.length,mn=C(this,G,E.changedTouches.length===j).event(E),Cn,Pn,ve,Pe;for(sD(E),Pn=0;Pn<j;++Pn)ve=x[Pn],Pe=Tr(ve,this),Pe=[Pe,this.__zoom.invert(Pe),ve.identifier],mn.touch0?!mn.touch1&&mn.touch0[2]!==Pe[2]&&(mn.touch1=Pe,mn.taps=0):(mn.touch0=Pe,Cn=!0,mn.taps=1+!!l);l&&(l=clearTimeout(l)),Cn&&(mn.taps<2&&(s=Pe[0],l=setTimeout(function(){l=null},_)),Of(this),mn.start())}}function jn(E,...G){if(this.__zooming){var x=C(this,G).event(E),j=E.changedTouches,mn=j.length,Cn,Pn,ve,Pe;for(Cl(E),Cn=0;Cn<mn;++Cn)Pn=j[Cn],ve=Tr(Pn,this),x.touch0&&x.touch0[2]===Pn.identifier?x.touch0[0]=ve:x.touch1&&x.touch1[2]===Pn.identifier&&(x.touch1[0]=ve);if(Pn=x.that.__zoom,x.touch1){var nn=x.touch0[0],xn=x.touch0[1],re=x.touch1[0],qn=x.touch1[1],fn=(fn=re[0]-nn[0])*fn+(fn=re[1]-nn[1])*fn,O=(O=qn[0]-xn[0])*O+(O=qn[1]-xn[1])*O;Pn=I(Pn,Math.sqrt(fn/O)),ve=[(nn[0]+re[0])/2,(nn[1]+re[1])/2],Pe=[(xn[0]+qn[0])/2,(xn[1]+qn[1])/2]}else if(x.touch0)ve=x.touch0[0],Pe=x.touch0[1];else return;x.zoom("touch",t(M(Pn,ve,Pe),x.extent,u))}}function Hn(E,...G){if(this.__zooming){var x=C(this,G).event(E),j=E.changedTouches,mn=j.length,Cn,Pn;for(sD(E),p&&clearTimeout(p),p=setTimeout(function(){p=null},_),Cn=0;Cn<mn;++Cn)Pn=j[Cn],x.touch0&&x.touch0[2]===Pn.identifier?delete x.touch0:x.touch1&&x.touch1[2]===Pn.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(Pn=Tr(Pn,this),Math.hypot(s[0]-Pn[0],s[1]-Pn[1])<D)){var ve=Bn(this).on("dblclick.zoom");ve&&ve.apply(this,arguments)}}}return b.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:e_(+E),b):r},b.filter=function(E){return arguments.length?(n=typeof E=="function"?E:e_(!!E),b):n},b.touchable=function(E){return arguments.length?(a=typeof E=="function"?E:e_(!!E),b):a},b.extent=function(E){return arguments.length?(e=typeof E=="function"?E:e_([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),b):e},b.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],b):[o[0],o[1]]},b.translateExtent=function(E){return arguments.length?(u[0][0]=+E[0][0],u[1][0]=+E[1][0],u[0][1]=+E[0][1],u[1][1]=+E[1][1],b):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},b.constrain=function(E){return arguments.length?(t=E,b):t},b.duration=function(E){return arguments.length?(i=+E,b):i},b.interpolate=function(E){return arguments.length?(f=E,b):f},b.on=function(){var E=c.on.apply(c,arguments);return E===c?b:E},b.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,b):Math.sqrt(g)},b.tapDistance=function(E){return arguments.length?(D=+E,b):D},b}function lT(n){return e=>t=>r=>()=>{let a=Bn(n),o=a.select(r);function u(f){o.attr("transform",f.transform)}let i=cT().scaleExtent([e,t]).on("zoom",u);return a.call(i),n}}function sT(n){return()=>()=>{let e=Bn(n),t={x:0,y:0};function r(u){Bn(this).raise()}function a(u){t.x+=u.dx,t.y+=u.dy,Bn(this).attr("transform",`translate(${t.x},${t.y})`)}let o=Up().on("start",r).on("drag",a);return e.call(o),n}}function pT(n){return e=>()=>{let t=Bn(n);return t.on("click",function(r){e()}),t.style("cursor","pointer"),n}}function _T(n){return e=>()=>{let t=Bn(n);return t.on("click",function(r,a){e(a)()}),t.style("cursor","pointer"),n}}function mT(n){return e=>()=>(Bn(n).on("mouseenter",function(r,a){e(a)()}),n)}function vT(n){return e=>()=>(Bn(n).on("mouseleave",function(r,a){e(a)()}),n)}function dT(n){return e=>t=>()=>{let r=Bn(n);return r.on("mouseenter",function(a){let o=Bn(this);o.raise(),e.forEach(u=>{o.attr(u.attr,u.value)})}),r.on("mouseleave",function(a){let o=Bn(this);t.forEach(u=>{o.attr(u.attr,u.value)})}),n}}function DT(n){return e=>()=>(n.addEventListener("mousemove",function(t){let r=this.__data__;e(r,t)}),n)}function gT(n){return e=>()=>(n.addEventListener("mouseenter",function(t){let r=this.__data__;e(r,t)}),n)}function hT(n){return e=>()=>(n.addEventListener("mouseleave",function(t){let r=this.__data__;e(r,t)}),n)}var XP=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})();var YP=(function(){function n(){}return n.value=new n,n})(),KP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),pD=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),yT=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),ZP=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),bT=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),TT=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),_D=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),nR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),eR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),mD=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),tR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var ET=(function(){return _D.create})();var wT=(function(){return TT.create})();var CT=(function(){return bT.create})();var rR=function(n){return function(e){return{scaleExtent:n,targetSelector:e}}};var aR=Ri(),oR=Cc(Ko),uR=function(n){var e=tn(n);return function(t){return function(r){return function(a){var o=function(i){return function(f){return function(c){var l=a(c),s=Wi(function(D){return e(a(D.datum))(l)})(f.remainingOld);if(s instanceof v){var p={datum:c,newIndex:i};return{remainingOld:f.remainingOld,matchedIndices:f.matchedIndices,update:f.update,enter:mt(p)(f.enter)}}if(s instanceof m){var _=In(f.remainingOld)(ps(s.value0)(f.remainingOld)),d=aR(f.remainingOld)(s.value0),g={element:d.element,oldDatum:c,newDatum:c,newIndex:i};return{enter:f.enter,update:mt(g)(f.update),remainingOld:_,matchedIndices:mt(s.value0)(f.matchedIndices)}}throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 167, column 9 - line 189, column 18): "+[s.constructor.name])}}},u=oR(o)({remainingOld:r,enter:[],update:[],matchedIndices:[]})(t);return{enter:Na(u.enter),update:Na(u.update),exit:u.remainingOld}}}}},iR=function(n){var e=tn(n);return function(t){return function(r){var a=function(u){return function(i){return function(f){var c=Wi(function(d){return e(d.datum)(f)})(i.remainingOld);if(c instanceof v){var l={datum:f,newIndex:u};return{remainingOld:i.remainingOld,matchedIndices:i.matchedIndices,update:i.update,enter:mt(l)(i.enter)}}if(c instanceof m){var s=In(i.remainingOld)(ps(c.value0)(i.remainingOld)),p=aR(i.remainingOld)(c.value0),_={element:p.element,oldDatum:f,newDatum:f,newIndex:u};return{enter:i.enter,update:mt(_)(i.update),remainingOld:s,matchedIndices:mt(c.value0)(i.matchedIndices)}}throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 100, column 7 - line 122, column 16): "+[c.constructor.name])}}},o=oR(a)({remainingOld:r,enter:[],update:[],matchedIndices:[]})(t);return{enter:Na(o.enter),update:Na(o.update),exit:o.remainingOld}}}};var Bt=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),te=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Ye=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),rr=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var gu=(function(){function n(){}return n.value=new n,n})(),No=(function(){function n(){}return n.value=new n,n})(),Hf=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),Wf=(function(){function n(){}return n.value=new n,n})(),Ml=(function(){function n(){}return n.value=new n,n})(),Fl=(function(){function n(){}return n.value=new n,n})(),$f=(function(){function n(){}return n.value=new n,n})(),Sl=(function(){function n(){}return n.value=new n,n})(),Sa=(function(){function n(){}return n.value=new n,n})(),xl=(function(){function n(){}return n.value=new n,n})(),vD=(function(){function n(){}return n.value=new n,n})(),dD=(function(){function n(){}return n.value=new n,n})(),DD=(function(){function n(){}return n.value=new n,n})(),gD=(function(){function n(){}return n.value=new n,n})(),hD=(function(){function n(){}return n.value=new n,n})(),yD=(function(){function n(){}return n.value=new n,n})(),bD=(function(){function n(){}return n.value=new n,n})(),TD=(function(){function n(){}return n.value=new n,n})();var fR=function(n){if(n instanceof Wf||n instanceof Ml||n instanceof Fl||n instanceof $f||n instanceof Sl||n instanceof Sa||n instanceof xl)return gu.value;if(n instanceof vD||n instanceof dD||n instanceof DD||n instanceof gD||n instanceof hD||n instanceof yD||n instanceof bD||n instanceof TD)return No.value;throw new Error("Failed pattern match at PSD3v2.Selection.Types (line 201, column 1 - line 201, column 47): "+[n.constructor.name])};function a_(n){return function(e){return function(t){return function(r){return function(){let a=Bn(r).transition();if(a=a.duration(n),e!=null&&(a=a.delay(e)),t!=null){let o=k6(t);o&&(a=a.ease(o))}return a}}}}}function hu(n){return function(e){return function(t){return function(){t.attr(n,e)}}}}function ED(n){return function(){n.remove()}}function k6(n){return{linear:kb,quad:gl,quadIn:qb,quadOut:Ub,quadInOut:gl,cubic:hi,cubicIn:Bb,cubicOut:Gb,cubicInOut:hi,sin:hl,sinIn:Vb,sinOut:Jb,sinInOut:hl,exp:yl,expIn:zb,expOut:jb,expInOut:yl,circle:bl,circleIn:Qb,circleOut:Xb,circleInOut:bl,elastic:wl,elasticIn:oT,elasticOut:wl,elasticInOut:uT,back:Tl,backIn:eT,backOut:tT,backInOut:Tl,bounce:Du,bounceIn:Kb,bounceOut:Du,bounceInOut:Zb}[n]}var q6=(function(){function n(){}return n.value=new n,n})(),U6=(function(){function n(){}return n.value=new n,n})(),B6=(function(){function n(){}return n.value=new n,n})(),G6=(function(){function n(){}return n.value=new n,n})(),V6=(function(){function n(){}return n.value=new n,n})(),J6=(function(){function n(){}return n.value=new n,n})(),z6=(function(){function n(){}return n.value=new n,n})(),j6=(function(){function n(){}return n.value=new n,n})(),Q6=(function(){function n(){}return n.value=new n,n})(),X6=(function(){function n(){}return n.value=new n,n})(),Y6=(function(){function n(){}return n.value=new n,n})(),K6=(function(){function n(){}return n.value=new n,n})(),Z6=(function(){function n(){}return n.value=new n,n})(),nz=(function(){function n(){}return n.value=new n,n})(),ez=(function(){function n(){}return n.value=new n,n})(),tz=(function(){function n(){}return n.value=new n,n})(),rz=(function(){function n(){}return n.value=new n,n})(),az=(function(){function n(){}return n.value=new n,n})(),oz=(function(){function n(){}return n.value=new n,n})(),uz=(function(){function n(){}return n.value=new n,n})(),iz=(function(){function n(){}return n.value=new n,n})(),fz=(function(){function n(){}return n.value=new n,n})(),cz=(function(){function n(){}return n.value=new n,n})(),lz=(function(){function n(){}return n.value=new n,n})(),sz=(function(){function n(){}return n.value=new n,n})(),pz=(function(){function n(){}return n.value=new n,n})(),_z=(function(){function n(){}return n.value=new n,n})(),mz=(function(){function n(){}return n.value=new n,n})(),vz=(function(){function n(){}return n.value=new n,n})(),dz=(function(){function n(){}return n.value=new n,n})(),Dz=(function(){function n(){}return n.value=new n,n})(),gz=(function(){function n(){}return n.value=new n,n})(),hz=(function(){function n(){}return n.value=new n,n})(),cR={show:function(n){if(n instanceof q6)return"linear";if(n instanceof U6)return"cubic";if(n instanceof B6)return"cubicIn";if(n instanceof G6)return"cubicOut";if(n instanceof V6)return"cubicInOut";if(n instanceof J6)return"quad";if(n instanceof z6)return"quadIn";if(n instanceof j6)return"quadOut";if(n instanceof Q6)return"quadInOut";if(n instanceof X6)return"sin";if(n instanceof Y6)return"sinIn";if(n instanceof K6)return"sinOut";if(n instanceof Z6)return"sinInOut";if(n instanceof nz)return"exp";if(n instanceof ez)return"expIn";if(n instanceof tz)return"expOut";if(n instanceof rz)return"expInOut";if(n instanceof az)return"circle";if(n instanceof oz)return"circleIn";if(n instanceof uz)return"circleOut";if(n instanceof iz)return"circleInOut";if(n instanceof fz)return"elastic";if(n instanceof cz)return"elasticIn";if(n instanceof lz)return"elasticOut";if(n instanceof sz)return"elasticInOut";if(n instanceof pz)return"back";if(n instanceof _z)return"backIn";if(n instanceof mz)return"backOut";if(n instanceof vz)return"backInOut";if(n instanceof dz)return"bounce";if(n instanceof Dz)return"bounceIn";if(n instanceof gz)return"bounceOut";if(n instanceof hz)return"bounceInOut";throw new Error("Failed pattern match at PSD3v2.Transition.Types (line 79, column 1 - line 112, column 35): "+[n.constructor.name])}};var bz=q(cR),wD=function(n){if(n instanceof v)return it(v.value);if(n instanceof m)return it(new m(n.value0));throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 53, column 1 - line 53, column 69): "+[n.constructor.name])},Tz=function(n){return bz(n)},CD=function(n){if(n instanceof v)return it(v.value);if(n instanceof m)return it(new m(Tz(n.value0)));throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 58, column 1 - line 58, column 57): "+[n.constructor.name])};var yu=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),sR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),pR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),_R=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),mR=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var kf=function(n){return function(e){return function(){return e[n]}}},wz=kf("URL"),Cz=kf("documentURI"),Mz=kf("origin"),Fz=kf("compatMode"),Sz=kf("characterSet"),xz=kf("contentType");var Iz=kf("documentElement");function FT(n){return function(e){return function(){return e.createElement(n)}}}function vR(n){return function(e){return function(t){return function(){return t.createElementNS(n,e)}}}}var dR=function(n){return vR(it(n))};var to=function(n){return function(e){return function(){return e[n]}}};var Nz=to("baseURI"),Pz=to("ownerDocument"),DR=to("parentNode"),Rz=to("parentElement");var gR=to("childNodes"),hR=to("firstChild"),Oz=to("lastChild"),Hz=to("previousSibling"),yR=to("nextSibling"),Wz=to("nodeValue");var $z=to("textContent");function ST(n){return function(e){return function(t){return function(){t.insertBefore(n,e)}}}}function bu(n){return function(e){return function(){e.appendChild(n)}}}function qf(n){return function(e){return function(){e.removeChild(n)}}}var xT=T(Ln);var Il=(function(){var n=xT(_e);return function(e){return n(DR(e))}})();var bR=(function(){var n=xT(_e);return function(e){return n(yR(e))}})();var TR=(function(){var n=xT(_e);return function(e){return n(hR(e))}})();function FD(n){return function(){return[].slice.call(n)}}var $r=function(){return window};var Po=A;var o_=A;function CR(n,e,t){var r=Object.prototype.toString.call(t);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(t):n}var MR=A;var IT=function(n){return CR(v.value,m.create,n)};function kr(n){return function(){return n.document}}function u_(n){return n.clientX}function i_(n){return n.clientY}function f_(n){return n.pageX}function c_(n){return n.pageY}var T9=V(bt),Rl=L(Rn);var Bf=Ve(Rn)(cn),Gf=We(Jr)(Rn),Ro=ce(Ln),E9=at(ot),xa=Q(de),ea=Nn(ue),Uf=Yt(ue),ta=q(Ae),NR=Fr(Xn),xD=on(An),qr=Fr(gn),w9=q(or),C9=q(Zf),__=$h(Rn)(Ko),LT=Ri(),m_=zu(Mc)(Rn),PR=ur(St),Pl=Ls(ee),Gt=T(gn),l_=ut(ee),M9=H_(wu);var F9=function(n){return n==="circle"?Wf.value:n==="rect"?Ml.value:n==="path"?Fl.value:n==="line"?$f.value:n==="text"?Sl.value:n==="g"?Sa.value:n==="svg"?xl.value:n==="div"?vD.value:n==="span"?dD.value:n==="table"?DD.value:n==="tr"?gD.value:n==="td"?hD.value:n==="th"?yD.value:n==="tbody"?bD.value:n==="thead"?TD.value:Sa.value},RR=function(n){var e=Nn(n);return function(t){return e(function(){var a=T9($r)(kr)(),o=o_(a),u=Po(a),i=Ja(t)(u)();if(i instanceof v)return new Bt({parentElements:[],document:o});if(i instanceof m)return new Bt({parentElements:[i.value0],document:o});throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 90, column 3 - line 98, column 8): "+[i.constructor.name])})}};var ID=function(n){var e=Nn(n);return function(t){return e((function(){var r=(function(){if(t instanceof rr)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 324, column 34 - line 325, column 30): "+[t.constructor.name])})();return Bf(function(a){var o=lr(a);return function(){var i=Il(o)();if(i instanceof m)return qf(o)(i.value0)();if(i instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 329, column 5 - line 331, column 27): "+[i.constructor.name])}})(r.elements)})())}},s_=ID(ue),Ol=function(n){return function(e){return function(){var r=Gf(function(a){var o=dy(a);return function(){var i=zm(n)(o)(),f=FD(i)();return Ee(Dy)(f)}})(e)();return xi(r)}}},OR=function(n){return function(e){var t=function(o){if(o instanceof Bt)return o.value0.parentElements;if(o instanceof te)return o.value0.elements;if(o instanceof Ye)return o.value0.parentElements;if(o instanceof rr)return o.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 871, column 3 - line 871, column 59): "+[o.constructor.name])},r=function(o){return function(u){if(o instanceof pD)return Ro(lT(u)(o.value0.scaleExtent.value0)(o.value0.scaleExtent.value1)(o.value0.targetSelector));if(o instanceof yT&&o.value0 instanceof YP)return Ro(sT(u)(void 0));if(o instanceof yT&&o.value0 instanceof KP)return Rl(void 0);if(o instanceof ZP)return Ro(pT(u)(o.value0));if(o instanceof bT)return Ro(_T(u)(o.value0));if(o instanceof TT)return Ro(mT(u)(o.value0));if(o instanceof _D)return Ro(vT(u)(o.value0));if(o instanceof nR)return Ro(dT(u)(o.value0.enter)(o.value0.leave));if(o instanceof eR)return Ro(DT(u)(function(i,f){return o.value0({datum:i,clientX:Tn(u_(f)),clientY:Tn(i_(f)),pageX:Tn(f_(f)),pageY:Tn(c_(f)),offsetX:rD(f),offsetY:aD(f)})()}));if(o instanceof mD)return Ro(gT(u)(function(i,f){return o.value0({datum:i,clientX:Tn(u_(f)),clientY:Tn(i_(f)),pageX:Tn(f_(f)),pageY:Tn(c_(f)),offsetX:rD(f),offsetY:aD(f)})()}));if(o instanceof tR)return Ro(hT(u)(function(i,f){return o.value0({datum:i,clientX:Tn(u_(f)),clientY:Tn(i_(f)),pageX:Tn(f_(f)),pageY:Tn(c_(f)),offsetX:rD(f),offsetY:aD(f)})()}));throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 878, column 3 - line 878, column 60): "+[o.constructor.name,u.constructor.name])}},a=t(e);return function(){return Bf(r(n))(a)(),e}}},NT=function(n){var e=L(n.Monad0().Applicative0());return function(t){return function(r){var a=(function(){if(t instanceof te)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 502, column 68 - line 503, column 28): "+[t.constructor.name])})(),o=(function(){if(r instanceof te)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 505, column 53 - line 506, column 28): "+[r.constructor.name])})();return e(new te({elements:xa(a.elements)(o.elements),data:xa(a.data)(o.data),indices:v.value,document:a.document}))}}},PT=function(n){var e=Nn(n);return function(t){var r=Qr(t);return function(a){var o=uR(a);return function(u){return function(i){return function(f){return function(c){return e((function(){var l=(function(){if(c instanceof Bt)return c.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 626, column 55 - line 627, column 28): "+[c.constructor.name])})();return function(){var p=Ol(f)(l.parentElements)(),_=Gf(function(C){return function(){var k=eD(C)(),sn=_e(k);return{element:C,datum:sn}}})(p)();ea(Uf("joinDataWithKey: found "+(ta(X(p))+(" existing elements with selector '"+(f+"'")))))(),ea(Uf("joinDataWithKey: "+(ta(X(Ee(function(C){return C.datum})(_)))+" of those have data bound")))();var d=Ee(function(C){return NR(C.datum)(function(P){return{element:C.element,datum:P}})})(_),g=r(u),D=o(g)(d)(i),b=go(function(C){return function(P){return xD(C.newIndex)(P.newIndex)}})(D.enter),I=new Ye({parentElements:l.parentElements,pendingData:qr(b)(function(C){return C.datum}),indices:new m(qr(b)(function(C){return C.newIndex})),document:l.document}),M=go(function(C){return function(P){return xD(C.newIndex)(P.newIndex)}})(D.update),h=new te({elements:qr(M)(function(C){return C.element}),data:qr(M)(function(C){return C.newDatum}),indices:new m(qr(M)(function(C){return C.newIndex})),document:l.document}),y=new rr({elements:qr(D.exit)(function(C){return C.element}),data:qr(D.exit)(function(C){return C.datum}),document:l.document});return new Hf({enter:I,update:h,exit:y})}})())}}}}}}},S9=PT(ue)(cn)(yt),AD=function(n){var e=Nn(n);return function(t){var r=Qr(t);return function(a){var o=iR(a.Eq0());return function(u){return function(i){return function(f){return e((function(){var c=(function(){if(f instanceof Bt)return f.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 537, column 55 - line 538, column 28): "+[f.constructor.name])})();return function(){var s=Ol(i)(c.parentElements)(),p=Gf(function(y){return function(){var P=eD(y)(),k=_e(P);return{element:y,datum:k}}})(s)();ea(Uf("joinData: found "+(ta(X(s))+(" existing elements with selector '"+(i+"'")))))(),ea(Uf("joinData: "+(ta(X(Ee(function(y){return y.datum})(p)))+" of those have data bound")))();var _=Ee(function(y){return NR(y.datum)(function(C){return{element:y.element,datum:C}})})(p),d=r(u),g=o(d)(_),D=go(function(y){return function(C){return xD(y.newIndex)(C.newIndex)}})(g.enter),b=new Ye({parentElements:c.parentElements,pendingData:qr(D)(function(y){return y.datum}),indices:new m(qr(D)(function(y){return y.newIndex})),document:c.document}),I=go(function(y){return function(C){return xD(y.newIndex)(C.newIndex)}})(g.update),M=new te({elements:qr(I)(function(y){return y.element}),data:qr(I)(function(y){return y.newDatum}),indices:new m(qr(I)(function(y){return y.newIndex})),document:c.document}),h=new rr({elements:qr(g.exit)(function(y){return y.element}),data:qr(g.exit)(function(y){return y.datum}),document:c.document});return new Hf({enter:b,update:M,exit:h})}})())}}}}}},x9=AD(ue)(cn),FR=function(n){var e=(function(){if(n instanceof rr)return n.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1071, column 52 - line 1072, column 30): "+[n.constructor.name])})();return xr(S.create)(e.elements)(e.data)},HR=function(n){if(n instanceof Bt||n instanceof te||n instanceof Ye||n instanceof rr)return Rl(n.value0.document);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 815, column 1 - line 815, column 82): "+[n.constructor.name])},WR=function(n){var e=Nn(n);return function(t){return function(r){return e(function(){var o=HR(r)(),u=(function(){if(r instanceof Bt)return r.value0.parentElements;if(r instanceof te)return r.value0.elements;if(r instanceof Ye)return r.value0.parentElements;if(r instanceof rr)return r.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 122, column 19 - line 126, column 48): "+[r.constructor.name])})();return new Bt({parentElements:u,document:o})})}}},$R=function(n){var e=Nn(n);return function(t){return function(r){return e(function(){var o=HR(r)(),u=(function(){if(r instanceof Bt)return Ol(t)(r.value0.parentElements)();if(r instanceof te)return Ol(t)(r.value0.elements)();if(r instanceof Ye)return Ol(t)(r.value0.parentElements)();if(r instanceof rr)return Ol(t)(r.value0.elements)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 154, column 15 - line 162, column 50): "+[r.constructor.name])})(),i=Gf(function(f){return function(){var l=eD(f)(),s=_e(l);if(s instanceof m)return s.value0;if(s instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 168, column 16 - line 170, column 39): "+[s.constructor.name])}})(u)();return new te({elements:u,data:i,indices:v.value,document:o})})}}},SR=function(n){var e=(function(){if(n instanceof te)return n.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1083, column 52 - line 1084, column 28): "+[n.constructor.name])})();return xr(S.create)(e.elements)(e.data)},xR=function(n){if(n instanceof Wf)return"circle";if(n instanceof Ml)return"rect";if(n instanceof Fl)return"path";if(n instanceof $f)return"line";if(n instanceof Sl)return"text";if(n instanceof Sa)return"g";if(n instanceof xl)return"svg";if(n instanceof vD)return"div";if(n instanceof dD)return"span";if(n instanceof DD)return"table";if(n instanceof gD)return"tr";if(n instanceof hD)return"td";if(n instanceof yD)return"th";if(n instanceof bD)return"tbody";if(n instanceof TD)return"thead";throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 962, column 1 - line 962, column 45): "+[n.constructor.name])},LD=function(n){return function(e){var t=fR(n);if(t instanceof gu)return dR(new m("http://www.w3.org/2000/svg"))(xR(n))(e);if(t instanceof No)return FT(xR(n))(e);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 825, column 3 - line 831, column 64): "+[t.constructor.name])}},kR=function(n){var e=Nn(n);return function(t){return e(gP(t))}},Oo=function(n){if(n instanceof zp)return n.value0;if(n instanceof jp)return w9(n.value0);if(n instanceof $b)return C9(n.value0);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 957, column 1 - line 957, column 51): "+[n.constructor.name])},SD=function(n){return function(e){return function(t){var r=wD(n.delay),a=CD(n.easing);return __(function(o){return function(u){return function(){var f=a_(n.duration)(r)(a)(u.value0)();return Bf(function(c){if(c instanceof Nf)return hu(c.value0)(Oo(c.value1))(f);if(c instanceof Pf)return hu(c.value0)(Oo(c.value1(u.value1)))(f);if(c instanceof Qp)return hu(c.value0)(Oo(c.value1(u.value1)(o)))(f);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1023, column 32 - line 1031, column 103): "+[c.constructor.name])})(t)()}}})(e)}}},IR=function(n){return function(e){return function(t){var r=wD(n.delay),a=CD(n.easing);return __(function(o){return function(u){return function(){var f=a_(n.duration)(r)(a)(u.value0)();return Bf(function(c){if(c instanceof Nf)return hu(c.value0)(Oo(c.value1))(f);if(c instanceof Pf)return hu(c.value0)(Oo(c.value1(u.value1)))(f);if(c instanceof Qp)return hu(c.value0)(Oo(c.value1(u.value1)(o)))(f);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1051, column 32 - line 1059, column 103): "+[c.constructor.name])})(t)(),ED(f)()}}})(e)}}},Vf=function(n){return function(e){return function(t){return function(r){return Bf(function(a){if(a instanceof Nf){var o=a.value0==="textContent";return o?tD(Oo(a.value1))(n):Gs(a.value0)(Oo(a.value1))(n)}if(a instanceof Pf){var u=Oo(a.value1(e)),i=a.value0==="textContent";return i?tD(u)(n):Gs(a.value0)(u)(n)}if(a instanceof Qp){var u=Oo(a.value1(e)(t)),f=a.value0==="textContent";return f?tD(u)(n):Gs(a.value0)(u)(n)}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 938, column 30 - line 955, column 51): "+[a.constructor.name])})(r)}}}},I9=function(n){var e=Nn(n);return function(t){return function(r){return e((function(){if(r instanceof te){var a=xr(S.create)(r.value0.data)(r.value0.elements);return function(){return __(function(u){return function(i){var f=t(i.value0);return Vf(i.value1)(i.value0)(u)(f)}})(a)(),r}}return Rl(r)})())}}},RT=function(n){var e=Nn(n);return function(t){return function(r){return e((function(){var a=(function(){if(r instanceof te)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 260, column 76 - line 261, column 28): "+[r.constructor.name])})(),o=xr(S.create)(a.data)(a.elements);return function(){return __(function(i){return function(f){var c=(function(){if(a.indices instanceof m)return LT(a.indices.value0)(i);if(a.indices instanceof v)return i;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 266, column 22 - line 268, column 30): "+[a.indices.constructor.name])})();return Vf(f.value1)(f.value0)(c)(t)}})(o)(),new te({elements:a.elements,data:a.data,indices:a.indices,document:a.document})}})())}}},AR=RT(ue),OT=function(n){var e=Nn(n);return function(t){return function(r){return e((function(){var a=(function(){if(r instanceof rr)return r.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 295, column 67 - line 296, column 30): "+[r.constructor.name])})(),o=xr(S.create)(a.data)(a.elements);return function(){return __(function(i){return function(f){return Vf(f.value1)(f.value0)(i)(t)}})(o)(),new rr({elements:a.elements,data:a.data,document:a.document})}})())}}},LR=OT(ue),A9=function(n){return function(e){return function(t){return function(r){return function(a){return function(){return Kp(e)(n)(),r instanceof yu?Vf(n)(e)(t)(r.value0.attrs)():void 0}}}}}},L9=function(n){return function(e){return function(t){var r=(function(){if(t instanceof te)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1705, column 66 - line 1706, column 32): "+[t.constructor.name])})();return m_(function(a){return function(o){var u=oe(r.elements)(a);if(u instanceof v)return sr("renderTemplatesForBoundSelection: index out of bounds");if(u instanceof m){var i=e(o),f=new te({elements:[u.value0],data:[o],indices:new m([a]),document:r.document});return function(){return A9(u.value0)(o)(a)(i)(r.document)(),new S(u.value0,ie)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1711, column 9 - line 1735, column 43): "+[u.constructor.name])}})(r.data)}}},qR=function(n){var e=Nn(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof te)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 455, column 82 - line 456, column 28): "+[a.constructor.name])})();return function(){var i=m_(function(f){return function(c){return function(){var s=LD(t)(o.document)();Kp(c.value1)(s)(),Vf(s)(c.value1)(f)(r)();var p=lr(s),_=lr(c.value0);return bu(p)(_)(),s}}})(xr(S.create)(o.elements)(o.data))();return new te({elements:i,data:o.data,indices:v.value,document:o.document})}})())}}}},HT=function(n){var e=Nn(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Bt)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 399, column 55 - line 400, column 28): "+[a.constructor.name])})();return function(){var i=Gf(function(f){return function(){var l=LD(t)(o.document)();Vf(l)(void 0)(0)(r)();var s=lr(l),p=lr(f);return bu(s)(p)(),l}})(o.parentElements)();return new Bt({parentElements:i,document:o.document})}})())}}}},N9=HT(ue),p_=function(n){return function(e){return function(t){var r=(function(){if(t instanceof Ye)return t.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1656, column 68 - line 1657, column 34): "+[t.constructor.name])})();return m_(function(a){return function(o){var u=PR(a)(X(r.parentElements)),i=oe(r.parentElements)(u);if(i instanceof v)return sr("renderTemplatesForPendingSelection: no parent elements");if(i instanceof m){var f=e(o),c=new Bt({parentElements:[i.value0],document:r.document});return function(){var s=ND(n)(c)(f)();return Kp(o)(s.value0)(),new S(s.value0,s.value1)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1665, column 9 - line 1685, column 49): "+[i.constructor.name])}})(r.pendingData)}}},ND=function(n){var e=x9(n),t=L9(n);return function(r){return function(a){if(a instanceof yu)return function(){var i=N9(a.value0.elemType)(a.value0.attrs)(r)(),f=(function(){if(i instanceof Bt){var p=jt(i.value0.parentElements);if(p instanceof m)return p.value0;if(p instanceof v)return sr("renderTree: appendChild returned empty selection");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1108, column 29 - line 1110, column 102): "+[p.constructor.name])}return sr("renderTree: appendChild should return EmptySelection")})(),c=Gf(ND(n)(i))(a.value0.children)(),l=Ha(Pl)(ie)(Gt(ge)(c)),s=(function(){if(a.value0.name instanceof m)return l_(a.value0.name.value0)(i)(l);if(a.value0.name instanceof v)return l;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1119, column 21 - line 1121, column 34): "+[a.value0.name.constructor.name])})();return new S(f,s)};if(a instanceof sR)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)();ea((function(){var P=(function(){return i.value0.enter instanceof Ye?X(i.value0.enter.value0.pendingData):0})(),k=(function(){return i.value0.update instanceof te?X(i.value0.update.value0.data):0})(),sn=(function(){return i.value0.exit instanceof te?X(i.value0.exit.value0.data):i.value0.exit instanceof rr?X(i.value0.exit.value0.data):0})();return Uf("Tree API Join '"+(a.value0.name+("': enter="+(ta(P)+(", update="+(ta(k)+(", exit="+ta(sn))))))))})())(),s_(i.value0.exit)();var f=p_(n)(a.value0.template)(i.value0.enter)(),c=Gt(Fe)(f),l=Gt(ge)(f),s=t(a.value0.template)(i.value0.update)(),p=Gt(Fe)(s),_=Gt(ge)(s),d=xa(c)(p),g=xa(l)(_),D=Ha(Pl)(ie)(g),b=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.document;if(i.value0.update instanceof te)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1181, column 12 - line 1182, column 43): "+[i.value0.update.constructor.name])})(),I=(function(){return i.value0.enter instanceof Ye?i.value0.enter.value0.pendingData:[]})(),M=(function(){return i.value0.update instanceof te?i.value0.update.value0.data:[]})(),h=new te({elements:d,data:xa(I)(M),indices:new m(Xo(0)(X(d)-1|0)),document:b}),y=l_(a.value0.name)(h)(D),C=(function(){var P=jt(d);if(P instanceof m)return P.value0;if(P instanceof v)return sr("renderTree Join: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1208, column 20 - line 1210, column 88): "+[P.constructor.name])})();return new S(C,y)};if(a instanceof pR)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)(),f=P9(n)(a.value0.decompose)(a.value0.template)(F9(a.value0.key))(i.value0.enter)(),c=Gt(Fe)(f),l=Gt(ge)(f),s=Ha(Pl)(ie)(l),p=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1234, column 52 - line 1235, column 34): "+[i.value0.enter.constructor.name])})(),_=new te({elements:c,data:p.pendingData,indices:new m(Xo(0)(X(c)-1|0)),document:p.document}),d=l_(a.value0.name)(_)(s),g=(function(){var D=jt(c);if(D instanceof m)return D.value0;if(D instanceof v)return sr("renderTree NestedJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1251, column 20 - line 1253, column 94): "+[D.constructor.name])})();return new S(g,d)};if(a instanceof _R)return function(){var i=e(a.value0.joinData)(a.value0.key)(r)();ea((function(){var P=(function(){return i.value0.enter instanceof Ye?X(i.value0.enter.value0.pendingData):0})(),k=(function(){return i.value0.update instanceof te?X(i.value0.update.value0.data):0})(),sn=(function(){return i.value0.exit instanceof te?X(i.value0.exit.value0.data):i.value0.exit instanceof rr?X(i.value0.exit.value0.data):0})();return Uf("Tree API SceneJoin '"+(a.value0.name+("': enter="+(ta(P)+(", update="+(ta(k)+(", exit="+ta(sn))))))))})())(),(function(){if(a.value0.exitBehavior instanceof m){if(a.value0.exitBehavior.value0.transition instanceof m){var P=FR(i.value0.exit);return ea(IR(a.value0.exitBehavior.value0.transition.value0)(P)(a.value0.exitBehavior.value0.attrs))()}if(a.value0.exitBehavior.value0.transition instanceof v)return LR(a.value0.exitBehavior.value0.attrs)(i.value0.exit)(),s_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1293, column 7 - line 1301, column 20): "+[a.value0.exitBehavior.value0.transition.constructor.name])}if(a.value0.exitBehavior instanceof v)return s_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1291, column 3 - line 1305, column 16): "+[a.value0.exitBehavior.constructor.name])})();var f=(function(){if(a.value0.enterBehavior instanceof m){var P=function(sn){var U=a.value0.template(sn);return U instanceof yu?new yu({name:U.value0.name,elemType:U.value0.elemType,children:U.value0.children,attrs:xa(U.value0.attrs)(a.value0.enterBehavior.value0.initialAttrs)}):U},k=p_(n)(P)(i.value0.enter)();return(function(){if(a.value0.enterBehavior.value0.transition instanceof m){var sn=Gt(Fe)(k),U=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.pendingData;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1334, column 41 - line 1335, column 54): "+[i.value0.enter.constructor.name])})(),J=xr(S.create)(sn)(U);return ea(Bf(function(jn){var Hn=(function(){var E=a.value0.template(jn.value1);return E instanceof yu?E.value0.attrs:[]})();return SD(a.value0.enterBehavior.value0.transition.value0)([new S(jn.value0,jn.value1)])(Hn)})(J))()}if(a.value0.enterBehavior.value0.transition instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1329, column 7 - line 1344, column 29): "+[a.value0.enterBehavior.value0.transition.constructor.name])})(),k}if(a.value0.enterBehavior instanceof v)return p_(n)(a.value0.template)(i.value0.enter)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1316, column 27 - line 1349, column 68): "+[a.value0.enterBehavior.constructor.name])})(),c=Gt(Fe)(f),l=Gt(ge)(f),s=(function(){if(a.value0.updateBehavior instanceof m)return(function(){if(a.value0.updateBehavior.value0.transition instanceof m){var P=SR(i.value0.update);return ea(SD(a.value0.updateBehavior.value0.transition.value0)(P)(a.value0.updateBehavior.value0.attrs))()}if(a.value0.updateBehavior.value0.transition instanceof v)return AR(a.value0.updateBehavior.value0.attrs)(i.value0.update)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1358, column 7 - line 1366, column 20): "+[a.value0.updateBehavior.value0.transition.constructor.name])})(),t(a.value0.template)(i.value0.update)();if(a.value0.updateBehavior instanceof v)return t(a.value0.template)(i.value0.update)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1355, column 28 - line 1372, column 67): "+[a.value0.updateBehavior.constructor.name])})(),p=Gt(Fe)(s),_=Gt(ge)(s),d=xa(c)(p),g=xa(l)(_),D=Ha(Pl)(ie)(g),b=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.document;if(i.value0.update instanceof te)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1389, column 12 - line 1390, column 43): "+[i.value0.update.constructor.name])})(),I=(function(){return i.value0.enter instanceof Ye?i.value0.enter.value0.pendingData:[]})(),M=(function(){return i.value0.update instanceof te?i.value0.update.value0.data:[]})(),h=new te({elements:d,data:xa(I)(M),indices:new m(Xo(0)(X(d)-1|0)),document:b}),y=l_(a.value0.name)(h)(D),C=(function(){var P=jt(d);if(P instanceof m)return P.value0;if(P instanceof v)return sr("renderTree SceneJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1415, column 20 - line 1417, column 93): "+[P.constructor.name])})();return new S(C,y)};if(a instanceof mR){var o=M9(Gt(a.value0.decompose)(a.value0.joinData));return function(){var i=S9(o)(hP)(a.value0.key)(r)();ea((function(){var y=(function(){return i.value0.enter instanceof Ye?X(i.value0.enter.value0.pendingData):0})(),C=(function(){return i.value0.update instanceof te?X(i.value0.update.value0.data):0})(),P=(function(){return i.value0.exit instanceof te?X(i.value0.exit.value0.data):i.value0.exit instanceof rr?X(i.value0.exit.value0.data):0})();return Uf("Tree API SceneNestedJoin '"+(a.value0.name+("': enter="+(ta(y)+(", update="+(ta(C)+(", exit="+ta(P))))))))})())(),(function(){if(a.value0.exitBehavior instanceof m){if(a.value0.exitBehavior.value0.transition instanceof m){var y=FR(i.value0.exit);return ea(IR(a.value0.exitBehavior.value0.transition.value0)(y)(a.value0.exitBehavior.value0.attrs))()}if(a.value0.exitBehavior.value0.transition instanceof v)return LR(a.value0.exitBehavior.value0.attrs)(i.value0.exit)(),s_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1468, column 7 - line 1476, column 20): "+[a.value0.exitBehavior.value0.transition.constructor.name])}if(a.value0.exitBehavior instanceof v)return s_(i.value0.exit)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1466, column 3 - line 1479, column 16): "+[a.value0.exitBehavior.constructor.name])})();var f=(function(){if(a.value0.enterBehavior instanceof m){var y=function(P){var k=a.value0.template(P);return k instanceof yu?new yu({name:k.value0.name,elemType:k.value0.elemType,children:k.value0.children,attrs:xa(k.value0.attrs)(a.value0.enterBehavior.value0.initialAttrs)}):k},C=p_(n)(y)(i.value0.enter)();return(function(){if(a.value0.enterBehavior.value0.transition instanceof m){var P=Gt(Fe)(C),k=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.pendingData;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1512, column 41 - line 1513, column 54): "+[i.value0.enter.constructor.name])})(),sn=xr(S.create)(P)(k);return ea(Bf(function(U){var J=(function(){var jn=a.value0.template(U.value1);return jn instanceof yu?jn.value0.attrs:[]})();return SD(a.value0.enterBehavior.value0.transition.value0)([new S(U.value0,U.value1)])(J)})(sn))()}if(a.value0.enterBehavior.value0.transition instanceof v)return void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1507, column 7 - line 1522, column 29): "+[a.value0.enterBehavior.value0.transition.constructor.name])})(),C}if(a.value0.enterBehavior instanceof v)return p_(n)(a.value0.template)(i.value0.enter)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1496, column 27 - line 1525, column 92): "+[a.value0.enterBehavior.constructor.name])})(),c=(function(){if(a.value0.updateBehavior instanceof m)return(function(){if(a.value0.updateBehavior.value0.transition instanceof m){var y=SR(i.value0.update);return ea(SD(a.value0.updateBehavior.value0.transition.value0)(y)(a.value0.updateBehavior.value0.attrs))()}if(a.value0.updateBehavior.value0.transition instanceof v)return AR(a.value0.updateBehavior.value0.attrs)(i.value0.update)(),void 0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1531, column 7 - line 1539, column 20): "+[a.value0.updateBehavior.value0.transition.constructor.name])})(),t(a.value0.template)(i.value0.update)();if(a.value0.updateBehavior instanceof v)return t(a.value0.template)(i.value0.update)();throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1528, column 28 - line 1542, column 91): "+[a.value0.updateBehavior.constructor.name])})(),l=Gt(Fe)(c),s=Gt(Fe)(f),p=xa(s)(l),_=Gt(ge)(c),d=Gt(ge)(f),g=xa(d)(_),D=Ha(Pl)(ie)(g),b=(function(){if(i.value0.enter instanceof Ye)return i.value0.enter.value0.document;if(i.value0.update instanceof te)return i.value0.update.value0.document;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1563, column 12 - line 1564, column 43): "+[i.value0.update.constructor.name])})(),I=new te({elements:p,data:o,indices:new m(Xo(0)(X(p)-1|0)),document:b}),M=l_(a.value0.name)(I)(D),h=(function(){var y=jt(p);if(y instanceof m)return y.value0;if(y instanceof v)return sr("renderTree SceneNestedJoin: no elements created");throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1578, column 20 - line 1580, column 99): "+[y.constructor.name])})();return new S(h,M)}}throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1094, column 1 - line 1099, column 74): "+[r.constructor.name,a.constructor.name])}}},P9=function(n){return function(e){return function(t){return function(r){return function(a){var o=(function(){if(a instanceof Ye)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1601, column 68 - line 1602, column 34): "+[a.constructor.name])})();return m_(function(u){return function(i){var f=PR(u)(X(o.parentElements)),c=oe(o.parentElements)(f);if(c instanceof v)return sr("renderNestedTemplatesForPendingSelection: no parent elements");if(c instanceof m)return function(){var s=LD(r)(o.document)(),p=lr(s),_=lr(c.value0);bu(p)(_)();var d=e(i),g=Gf(function(b){var I=t(b),M=new Bt({parentElements:[s],document:o.document});return function(){var y=ND(n)(M)(I)();return y.value1}})(d)(),D=Ha(Pl)(ie)(g);return new S(s,D)};throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1607, column 9 - line 1636, column 57): "+[c.constructor.name])}})(o.pendingData)}}}}};var UR=function(n){var e=ND(n);return function(t){return function(r){return function(){var o=e(t)(r)();return o.value1}}}},PD=function(n){var e=Nn(n);return function(t){return function(r){return function(a){return e((function(){var o=(function(){if(a instanceof Ye)return a.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 204, column 77 - line 205, column 30): "+[a.constructor.name])})(),u=(function(){var i=jt(o.parentElements);if(i instanceof m)return i.value0;if(i instanceof v)return LT(o.parentElements)(0);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 210, column 14 - line 212, column 68): "+[i.constructor.name])})();return function(){var f=m_(function(c){return function(l){var s=(function(){if(o.indices instanceof m)return LT(o.indices.value0)(c);if(o.indices instanceof v)return c;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 217, column 22 - line 219, column 30): "+[o.indices.constructor.name])})();return function(){var _=LD(t)(o.document)();Vf(_)(l)(s)(r)(),Kp(l)(_)();var d=lr(_),g=lr(u);return bu(d)(g)(),_}}})(o.pendingData)();return new te({elements:f,data:o.pendingData,indices:o.indices,document:o.document})}})())}}}},R9=PD(ue),BR=function(n){var e=Nn(n);return function(t){var r=Qr(t);return function(a){return function(o){return function(u){return function(i){return e((function(){var f=(function(){if(i instanceof Bt)return i.value0;throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 771, column 55 - line 772, column 28): "+[i.constructor.name])})(),c=r(o),l=new Ye({parentElements:f.parentElements,pendingData:c,indices:new m(Xo(0)(X(c)-1|0)),document:f.document});return R9(a)(u)(l)})())}}}}}},GR=function(n){var e=n.Monad0(),t=e.Bind1(),r=V(t),a=AD(n),o=PD(n),u=L(e.Applicative0()),i=I9(n),f=E9(t),c=ID(n),l=NT(n);return function(s){var p=a(s);return function(_){var d=p(_);return function(g){return function(D){return function(b){return function(I){return function(M){return function(h){return function(y){return r(d(D)(b)(I))(function(C){return r(r(o(g)([])(C.value0.enter))(function(P){if(M instanceof v)return u(P);if(M instanceof m)return i(M.value0)(P);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 724, column 5 - line 726, column 55): "+[M.constructor.name])}))(function(P){return r((function(){if(h instanceof v)return u(C.value0.update);if(h instanceof m)return i(h.value0)(C.value0.update);throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 729, column 18 - line 731, column 54): "+[h.constructor.name])})())(function(k){return f((function(){if(y instanceof v)return c(C.value0.exit);if(y instanceof m)return r(i(y.value0)(C.value0.exit))(function(){return c(C.value0.exit)});throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 734, column 3 - line 738, column 18): "+[y.constructor.name])})())(function(){return l(P)(k)})})})})}}}}}}}}}};function WT(n){return function(e){return function(){return n.add(e)}}}function $T(n){return function(e){return function(){return n.remove(e)}}}var $9=function(n){if(n instanceof Bt)return n.value0.parentElements;if(n instanceof te)return n.value0.elements;if(n instanceof Ye)return n.value0.parentElements;if(n instanceof rr)return n.value0.elements;throw new Error("Failed pattern match at PSD3v2.Selection.Query (line 146, column 46 - line 150, column 35): "+[n.constructor.name])};var JR=$9;var q9=RR(ue),zR=WR(ue),U9=$R(ue),B9=GR(ue),G9=BR(ue),V9=AD(ue),jR=PT(ue),J9=PD(ue),z9=RT(ue),j9=OT(ue),Q9=ID(ue),X9=kR(ue),Y9=NT(ue),K9=HT(ue),Z9=qR(ue),nj=T(Ns);var ej=function(n){return n};var v_=ue,tj=Ra,Ho={select:function(n){return function(){var t=q9(n)();return t}},selectAll:function(n){return function(e){return function(){var r=zR(n)(e)();return r}}},openSelection:function(n){return function(e){return function(){var r=zR(e)(n)();return r}}},selectAllWithData:function(n){return function(e){return function(){var r=U9(n)(e)();return r}}},renderData:function(n){var e=B9(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(i){return function(f){return function(c){return function(l){return function(){var p=r(a)(o)(u)(i)(f)(c)(l)();return p}}}}}}}}}},appendData:function(n){var e=G9(n);return function(t){return function(r){return function(a){return function(o){return function(){var i=e(t)(r)(a)(o)();return i}}}}}},joinData:function(n){var e=V9(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(){var f=r(a)(o)(u)();return new Hf({enter:f.value0.enter,update:f.value0.update,exit:f.value0.exit})}}}}}},joinDataWithKey:function(n){var e=jR(n);return function(t){var r=e(t.Eq0());return function(a){return function(o){return function(u){return function(i){return function(){var c=r(a)(o)(u)(i)();return new Hf({enter:c.value0.enter,update:c.value0.update,exit:c.value0.exit})}}}}}}},updateJoin:function(n){var e=jR(n);return function(t){var r=e(t.Eq0());return function(a){return function(o){return function(u){return function(i){return function(f){return function(){var l=r(u)(i)(f)(a)();return new Hf({enter:l.value0.enter,update:l.value0.update,exit:l.value0.exit})}}}}}}}},append:function(n){return function(e){return function(t){return function(){var a=J9(n)(e)(t)();return a}}}},setAttrs:function(n){return function(e){return function(){var r=z9(n)(e)();return r}}},setAttrsExit:function(n){return function(e){return function(){var r=j9(n)(e)();return r}}},remove:function(n){return Q9(n)},clear:function(n){return X9(n)},merge:function(n){return function(e){return function(){var r=Y9(n)(e)();return r}}},appendChild:function(n){return function(e){return function(t){return function(){var a=K9(n)(e)(t)();return a}}}},appendChildInheriting:function(n){return function(e){return function(t){return function(){var a=Z9(n)(e)(t)();return a}}}},on:function(n){return function(e){return function(){var r=OR(n)(e)();return r}}},renderTree:function(n){var e=UR(n);return function(t){return function(r){return function(){var o=e(t)(r)();return nj(ej)(o)}}}},Monad0:function(){return tj}};var Hl=bt;var RD=Rn,ro=function(n){return n};var QR=function(n){return JR(n)};var OD=V(Hl),rj=Kd(Ho),aj=nD(Ho),oj=YN(Fa),YR=q(or),uj=Qd(Fa),KR=Zd(Ho)(cn),ZR=nP(Cr),n2=rP(Cr),ij=ZN(Cr),fj=cP(Cr),e2=Xd(Fa),cj=zd(Fa),lj=Xp(dl),t2=jd(dl),r2=Yp(Fa),sj=at(ot),a2=sj(Hl),o2=Yt(v_),HD=q(Ae),pj=iP(Fa),_j=sP(Fa),mj=lP(dl),vj=uP(Rf),dj=L(RD),kT=Yt(ue),qT=tn(Mf),UT=Qa(cn),Dj=Yn(cn),WD=T(gn),d_=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),D_=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),g_=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})();var gj=(function(){return{round:Jp.round,paddingRight:Jp.paddingRight,paddingBottom:Jp.paddingBottom,paddingLeft:Jp.paddingLeft,size:{width:wa,height:Ca},tile:Wb(1),paddingInner:2,paddingOuter:4,paddingTop:20}})(),hj=function(n){if(n instanceof d_||n instanceof D_)return 0;if(n instanceof g_)return n.value0.loc;throw new Error("Failed pattern match at Engine.Treemap (line 59, column 1 - line 59, column 33): "+[n.constructor.name])},yj=function(n){if(n instanceof d_)return-1;if(n instanceof D_||n instanceof g_)return n.value0.packageIndex;throw new Error("Failed pattern match at Engine.Treemap (line 65, column 1 - line 65, column 37): "+[n.constructor.name])},bj=function(n){if(n instanceof d_)return"root";if(n instanceof D_||n instanceof g_)return n.value0.name;throw new Error("Failed pattern match at Engine.Treemap (line 71, column 1 - line 71, column 32): "+[n.constructor.name])};var Tj=function(n){if(n instanceof d_)return new m(n.value0.children);if(n instanceof D_)return new m(n.value0.children);if(n instanceof g_)return v.value;throw new Error("Failed pattern match at Engine.Treemap (line 53, column 1 - line 53, column 55): "+[n.constructor.name])},Ej=function(n){return OD(rj("#treemap-watermark"))(function(e){var t=-Ca/2,r=-wa/2;return OD(aj(Sa.value)([oj("translate("+(YR(r)+(","+(YR(t)+")")))),uj("watermark-inner")])(e))(function(a){return OD(KR(Ml.value)(n)([ZR(function(o){return o.x0}),n2(function(o){return o.y0}),ij(function(o){return o.x1-o.x0}),fj(function(o){return o.y1-o.y0}),e2("none"),cj("rgba(255, 255, 255, 0.15)"),lj(1),t2(1),r2("watermark-package")])(a))(function(){return a2(o2("[Treemap] Rendering watermark labels for "+(HD(X(n))+" packages")))(function(){return OD(KR(Sl.value)(n)([ZR(function(o){return(o.x0+o.x1)/2}),n2(function(o){return o.y0+14}),pj("middle"),e2("rgba(255, 255, 255, 0.2)"),_j("Monaco, 'Courier New', monospace"),mj(10),t2(1),r2("watermark-package-label"),vj(function(o){return o.name})])(a))(function(){return a2(o2("[Treemap] Watermark labels rendered"))(function(){return dj(void 0)})})})})})})};var BT=function(n){var e={name:bj(n.value0.data_),packageIndex:yj(n.value0.data_),x0:n.value0.x0,y0:n.value0.y0,x1:n.value0.x1,y1:n.value0.y1,depth:n.value0.depth},t=Wg(BT)(n.value0.children),r=n.value0.depth>0;return r?mt(e)(t):t},u2=function(n){var e=GN(n)(Tj),t=Hb(e)(hj),r=XN(gj)(t);return r},i2=function(){var e=$r(),t=kr(e)(),r=Po(t),a=Ja("#treemap-watermark")(r)();if(a instanceof m)return qN(a.value0)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Treemap (line 475, column 3 - line 477, column 25): "+[a.constructor.name])};var f2=function(n){var e=Le(function(c){return qT(c.nodeType)(tt.value)})(n),t=UT(br(function(c){return function(l){return new S(l.name,c)}})(e)),r=Le(function(c){return qT(c.nodeType)(ft.value)})(n),a=function(c){return function(l){return new g_({name:l.name,packageIndex:c,loc:l.r*l.r})}},o=function(c){return function(l){var s=(function(){var p=Ge(l.package)(c);if(p instanceof m)return p.value0;if(p instanceof v)return[];throw new Error("Failed pattern match at Engine.Treemap (line 112, column 20 - line 114, column 24): "+[p.constructor.name])})();return Fy(l.package)(jr(s)(l))(c)}},u=Dj(o)(Rr)(r),i=function(c){var l=Ge(c.name)(u);if(l instanceof v)return v.value;if(l instanceof m){var s=(function(){var _=Ge(c.name)(t);if(_ instanceof m)return _.value0;if(_ instanceof v)return 0;throw new Error("Failed pattern match at Engine.Treemap (line 126, column 22 - line 128, column 27): "+[_.constructor.name])})(),p=WD(a(s))(l.value0);return new m(new D_({name:c.name,packageIndex:s,children:p}))}throw new Error("Failed pattern match at Engine.Treemap (line 122, column 7 - line 135, column 16): "+[l.constructor.name])},f=Ee(i)(e);return new d_({children:f})},wj=function(n){var e=f2(n),t=-Ca/2,r=-wa/2,a=function(f){var c=(f.y0+f.y1)/2+t,l=(f.x0+f.x1)/2+r;return new S(f.name,{x:l,y:c})},o=u2(e),u=BT(o),i=Le(function(f){return f.depth===1})(u);return UT(WD(a)(i))},GT=function(n){var e=wj(n),t=Le(function(o){return qT(o.nodeType)(tt.value)})(n),r=UT(WD(function(o){return new S(HD(o.id),o.name)})(t)),a=function(o){if(o.nodeType instanceof tt){var u=Ge(o.name)(e);if(u instanceof m)return{name:o.name,nodeType:o.nodeType,cluster:o.cluster,fx:o.fx,fy:o.fy,id:o.id,isInTree:o.isInTree,orbitAngle:o.orbitAngle,package:o.package,r:o.r,sources:o.sources,targets:o.targets,treeX:o.treeX,treeY:o.treeY,vx:o.vx,vy:o.vy,gridX:u.value0.x,gridY:u.value0.y,x:u.value0.x,y:u.value0.y};if(u instanceof v)return o;throw new Error("Failed pattern match at Engine.Treemap (line 348, column 11 - line 350, column 28): "+[u.constructor.name])}if(o.nodeType instanceof ft){var u=Ge(HD(o.cluster))(r);if(u instanceof m){var i=Ge(u.value0)(e);if(i instanceof m)return{cluster:o.cluster,name:o.name,nodeType:o.nodeType,fx:o.fx,fy:o.fy,id:o.id,isInTree:o.isInTree,orbitAngle:o.orbitAngle,package:o.package,r:o.r,sources:o.sources,targets:o.targets,treeX:o.treeX,treeY:o.treeY,vx:o.vx,vy:o.vy,gridX:i.value0.x,gridY:i.value0.y,x:i.value0.x,y:i.value0.y};if(i instanceof v)return o;throw new Error("Failed pattern match at Engine.Treemap (line 355, column 15 - line 357, column 32): "+[i.constructor.name])}if(u instanceof v)return o;throw new Error("Failed pattern match at Engine.Treemap (line 353, column 11 - line 358, column 28): "+[u.constructor.name])}throw new Error("Failed pattern match at Engine.Treemap (line 346, column 7 - line 358, column 28): "+[o.nodeType.constructor.name])};return WD(a)(n)};var VT=function(n){return function(){kT("[Treemap] Rendering watermark...")();var t=f2(n),r=u2(t),a=BT(r),o=Le(function(u){return u.depth===1})(a);return kT("[Treemap] Watermark: "+(HD(X(o))+" packages"))(),ro(Ej(o))(),UN(),kT("[Treemap] Watermark render complete")()}};var c2=n=>{let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t].key,n[t].value);return e},l2=n=>e=>e.get(n),s2=n=>n==null;var xj=q(Ae),Ij=T(gn),p2=V(_t),Aj=L(aa),_2=function(n){return function(e){var t=oe(n)(e);if(t instanceof m)return t.value0;if(t instanceof v)return sr("swizzleLinks: Array index out of bounds: "+xj(e));throw new Error("Failed pattern match at PSD3.ForceEngine.Links (line 115, column 26 - line 117, column 85): "+[t.constructor.name])}},v2=function(n){return function(e){return function(t){var r=function(a){return function(o){var u=_2(n)(o.target),i=_2(n)(o.source);return t(i)(u)(a)(o)}};return br(r)(e)}}},m2=function(n){return function(e){var t=l2(n)(e),r=s2(t);return r?v.value:new m(t)}};var Lj=function(n){return function(e){return c2(Ij(function(t){return{key:n(t),value:t}})(e))}},d2=function(n){return function(e){return function(t){return function(r){var a=function(i){return function(f){return p2(m2(f.source)(i))(function(c){return p2(m2(f.target)(i))(function(l){return Aj({src:c,tgt:l,link:f})})})}},o=function(i){return function(f){return r(f.src)(f.tgt)(i)(f.link)}},u=Lj(n)(e);return br(o)(Ee(a(u))(t))}}}};function D2(n){return function(e){return function(t){return function(){let r=n+" "+e;document.querySelectorAll(r).forEach(o=>{let u=o.__data__;if(u!==void 0){let i=t(u);i&&o.classList.add(i)}})}}}}function g2(n){return function(e){return function(t){return function(){let r=n+" "+e;document.querySelectorAll(r).forEach(o=>{t.forEach(u=>{o.classList.remove(u)})})}}}}var h_=g2,JT=D2;var Wl=null,zT=null,jT=()=>(Wl||(Wl=document.createElement("div"),Wl.className="psd3-tooltip",Wl.style.cssText=`
      position: fixed;
      display: none;
      pointer-events: none;
      z-index: 10000;
    `,document.body.appendChild(Wl),zT&&h2(zT)),Wl),h2=n=>{let e=jT();n.background&&(e.style.background=n.background),n.color&&(e.style.color=n.color),n.padding&&(e.style.padding=n.padding),n.borderRadius&&(e.style.borderRadius=n.borderRadius),n.fontSize&&(e.style.fontSize=n.fontSize),n.fontFamily&&(e.style.fontFamily=n.fontFamily),n.border&&(e.style.border=n.border),n.boxShadow&&(e.style.boxShadow=n.boxShadow),n.maxWidth&&(e.style.maxWidth=n.maxWidth),n.lineHeight&&(e.style.lineHeight=n.lineHeight),n.backdropFilter&&(e.style.backdropFilter=n.backdropFilter,e.style.webkitBackdropFilter=n.backdropFilter)},y2=n=>e=>t=>()=>{let r=jT();r.innerHTML=n,r.style.display="block";let a=r.getBoundingClientRect(),o=window.innerWidth,u=window.innerHeight,i=e+15,f=t+10;i+a.width>o&&(i=e-a.width-15),f+a.height>u&&(f=t-a.height-10),r.style.left=i+"px",r.style.top=f+"px"},b2=()=>{jT().style.display="none"};var T2=n=>()=>{zT=n,h2(n)};var QT=function(n){var e=function(t){return y2(n(t.datum))(t.pageX)(t.pageY)};return new mD(e)};var $D=b2,E2=(function(){return{background:new m("rgba(212, 201, 168, 0.95)"),color:new m("#2c2c2c"),padding:new m("12px 16px"),borderRadius:new m("4px"),fontSize:new m("12px"),fontFamily:new m("'Courier New', monospace"),border:new m("1px solid rgba(0, 0, 0, 0.1)"),boxShadow:new m("0 2px 8px rgba(0, 0, 0, 0.12)"),maxWidth:new m("300px"),lineHeight:new m("1.6"),backdropFilter:new m("blur(12px)")}})();var w2=T2;var yi=q(or);var M2=function(n){return function(e){return function(t){return function(r){var a=(e+r)/2;return"M"+(yi(n)+(","+(yi(e)+("C"+(yi(n)+(","+(yi(a)+(" "+(yi(t)+(","+(yi(a)+(" "+(yi(t)+(","+yi(r)))))))))))))))}}}};var Wj=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}};var F2=Tt(An);var L2=at(ot),me=Yt(ue),$j=q(Zf),ao=ut(ee),Re=V(Hl),Bl=Kd(Ho),C_=Zd(Ho)(cn),N2=eP(Cr),P2=aP(Cr),R2=tP(Cr),O2=oP(Cr),M_=zd(Rf),nE=Xp(Cr),eE=jd(Cr),F_=Yp(Rf),Gl=L(RD),Ke=q(Ae),kj=L(Rn),qj=Qa(cn),Uj=We(Jr)(Rn),Bj=pP(Rf),tE=Xd(Rf),ql=Io(cn)(An),Vl=T(gn),zf=Ef(An),Gj=Va(An)(cn),S2=ss(ee),_r=L2(dt),$l=Yt(pr),Jf=V(dt),x2=L(qt),Pt=Nn(pr),Vj=ca(Rn)(cn),Jj=vP(Ho),E_=q(or),XT=ar(Rn),I2=Q(de),H2=Nn(v_),W2=mP(Cr),$2=_P(Cr),k2=fP(Cr),q2=Xp(dl),zj=L2(Hl),jj=Yt(v_),Tu=dP(Ho),Qj=ce(Ln),y_=nD(Ho),Xj=KN(Fa),b_=Qd(Fa),A2=Yp(Fa),Yj=function(n){return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:null,fy:null}};var Kj=function(n){if(n instanceof nt&&n.value0 instanceof qa)return"Treemap (used)";if(n instanceof nt&&n.value0 instanceof Xr)return"Treemap (project)";if(n instanceof nt&&n.value0 instanceof $t)return"Treemap (all)";if(n instanceof Kt&&n.value0 instanceof qa)return"TreeLayout (used, root: "+(n.value1+")");if(n instanceof Kt&&n.value0 instanceof Xr)return"TreeLayout (project, root: "+(n.value1+")");if(n instanceof Kt&&n.value0 instanceof $t)return"TreeLayout (all, root: "+(n.value1+")");if(n instanceof Zt&&n.value0 instanceof qa)return"ForceLayout (used, root: "+(n.value1+")");if(n instanceof Zt&&n.value0 instanceof Xr)return"ForceLayout (project, root: "+(n.value1+")");if(n instanceof Zt&&n.value0 instanceof $t)return"ForceLayout (all, root: "+(n.value1+")");if(n instanceof At&&n.value0 instanceof Xr)return"PackageGrid (project only)";if(n instanceof At&&n.value0 instanceof $t)return"PackageGrid (all)";if(n instanceof At&&n.value0 instanceof qa)return"PackageGrid (used)";if(n instanceof nr&&n.value0 instanceof Xr)return"ModuleOrbit (project only)";if(n instanceof nr&&n.value0 instanceof $t)return"ModuleOrbit (all)";if(n instanceof nr&&n.value0 instanceof qa)return"ModuleOrbit (used)";if(n instanceof cr&&n.value0 instanceof Xr)return"DependencyTree (project only)";if(n instanceof cr&&n.value0 instanceof $t)return"DependencyTree (all)";if(n instanceof cr&&n.value0 instanceof qa)return"DependencyTree (used)";if(n instanceof Yr)return"Neighborhood ("+(n.value0+")");if(n instanceof ma)return"FunctionCalls ("+(n.value0+")");throw new Error("Failed pattern match at Engine.Explorer (line 923, column 1 - line 923, column 37): "+[n.constructor.name])},kD=function(n){return function(){var t=$r(),r=kr(t)(),a=Po(r),o=Ja("#explorer-nodes")(a)();if(o instanceof m){var u=Vm(o.value0)();return(function(){return n?WT(u)("tree-scene")():$T(u)("tree-scene")()})(),me("[Explorer] Set tree-scene class: "+$j(n))()}if(o instanceof v)return me("[Explorer] Could not find #explorer-nodes for CSS class")();throw new Error("Failed pattern match at Engine.Explorer (line 800, column 3 - line 806, column 77): "+[o.constructor.name])}},Zj=function(n){return function(e){return function(){rn(ie)(e.forces)();var r=Pd({strength:-400,theta:.9,distanceMin:1,distanceMax:1e10});wr(r)(n)(),he(ao("charge")(r))(e.forces)();var a=Fb(20)(.7)(1);wr(a)(n)(),he(ao("collide")(a))(e.forces)();var o=Od({x:0,strength:.05});wr(o)(n)(),he(ao("x")(o))(e.forces)();var u=Rd({y:0,strength:.05});return wr(u)(n)(),he(ao("y")(u))(e.forces)(),me("[Explorer] Neighborhood forces set (stronger charge=-400, collide=20)")()}}};var nQ=function(n){var e=function(o){return o.target.y},t=function(o){return o.target.x},r=function(o){return o.source.y},a=function(o){return o.source.x};return Re(Bl("#explorer-links"))(function(o){return Re(C_($f.value)(n)([N2(a),P2(r),R2(t),O2(e),M_(function(u){return"white"}),nE(function(u){return 1.5}),eE(function(u){return .6}),F_(function(u){return"neighborhood-link"})])(o))(function(){return Gl(void 0)})})},eQ=function(n){var e=function(o){return o.target.y},t=function(o){return o.target.x},r=function(o){return o.source.y},a=function(o){return o.source.x};return Re(Bl("#explorer-links"))(function(o){return Re(C_($f.value)(n)([N2(a),P2(r),R2(t),O2(e),M_(function(u){return"white"}),nE(function(u){return 1}),eE(function(u){return .6}),F_(function(u){return"force-link"})])(o))(function(){return Gl(void 0)})})},tQ=function(n){return function(e){var t=Le(fd)(e);return function(){me("[Explorer] Rendering "+(Ke(X(t))+" force links"))();var a=v2(n)(t)(function(o){return function(u){return function(i){return function(f){return{source:o,target:u,linkType:f.linkType}}}}});return ro(eQ(a))(),void 0}}},U2=function(n){var e=function(a){if(a.nodeType instanceof tt)return new m(new S(Ke(a.id),{x:a.gridX,y:a.gridY}));if(a.nodeType instanceof ft)return v.value;throw new Error("Failed pattern match at Engine.Explorer (line 369, column 21 - line 371, column 26): "+[a.nodeType.constructor.name])},t=qj(Ee(e)(n)),r=function(a){if(a.nodeType instanceof tt)return kj(a);if(a.nodeType instanceof ft)return function(){var u=Mp(),i=Mp(),f=(function(){var s=Ge(Ke(a.cluster))(t);if(s instanceof m)return s.value0;if(s instanceof v)return{x:0,y:0};throw new Error("Failed pattern match at Engine.Explorer (line 379, column 32 - line 381, column 40): "+[s.constructor.name])})(),c=(u-.5)*100,l=(i-.5)*100;return{cluster:a.cluster,nodeType:a.nodeType,fx:a.fx,fy:a.fy,gridX:a.gridX,gridY:a.gridY,id:a.id,isInTree:a.isInTree,name:a.name,orbitAngle:a.orbitAngle,package:a.package,r:a.r,sources:a.sources,targets:a.targets,treeX:a.treeX,treeY:a.treeY,vx:a.vx,vy:a.vy,x:f.x+c,y:f.y+l}};throw new Error("Failed pattern match at Engine.Explorer (line 373, column 25 - line 384, column 58): "+[a.nodeType.constructor.name])};return Uj(r)(n)};var rQ=fL,aQ=function(n){return function(e){return function(t){return function(){return me("[Explorer] Declaration clicked: "+(n+("."+(e+(" (kind: "+(t+")"))))))(),lL(n)(e)()}}}};var B2="#explorer-nodes",G2=function(n){return function(e){if(e.nodeType instanceof tt)return n instanceof nt?le(e.cluster):le(e.cluster);if(e.nodeType instanceof ft)return n instanceof nt?"rgba(255, 255, 255, 0.9)":le(e.cluster);throw new Error("Failed pattern match at Engine.Explorer (line 581, column 25 - line 591, column 34): "+[e.nodeType.constructor.name])}},V2=function(n){if(n.nodeType instanceof tt)return"node package-node";if(n.nodeType instanceof ft){if(n.isInTree)return"node tree-module";if(pe)return"node non-tree-module"}throw new Error("Failed pattern match at Engine.Explorer (line 651, column 15 - line 655, column 42): "+[n.nodeType.constructor.name])},oQ=function(n){return function(e){var t=F2(e.target)(n),r=F2(e.source)(n);return r instanceof m&&t instanceof m?M2(r.value0.treeX)(r.value0.treeY)(t.value0.treeX)(t.value0.treeY):""}},uQ=function(n){return function(e){return Re(Bl("#explorer-links"))(function(t){return Re(C_(Fl.value)(e)([Bj(oQ(n)),tE(function(r){return"none"}),M_(function(r){return"white"}),nE(function(r){return 1.5}),eE(function(r){return .5}),F_(function(r){return"tree-link"})])(t))(function(){return Gl(void 0)})})}},YT=function(n){return NM(Fh)(n)},Ur=(function(){return Or(zn(new nt($t.value)))})(),Eu=(function(){return Or(zn(v.value))})(),qD=Or(zn([])),UD=Or(zn({projectName:"",moduleCount:0,packageCount:0})),Ul=Or(zn([])),iQ=function(n){return function(){var t=R(Ul)(),r=ql(Vl(function(u){return u.id})(n)),a=Le(function(u){return zf(u.source)(r)&&zf(u.target)(r)})(t);me("[Explorer] Rendering "+(Ke(X(a))+" neighborhood links"))();var o=d2(function(u){return u.id})(n)(a)(function(u){return function(i){return function(f){return function(c){return{source:u,target:i,linkType:c.linkType}}}}});return ro(nQ(o))(),void 0}};var fQ=function(n){return function(){var t=R(Ul)(),r=Le(fd)(t);me("[Explorer] Rendering "+(Ke(X(r))+" tree links"))();var a=Gj(Vl(function(o){return new S(o.id,o)})(n));return ro(uQ(a)(r))(),void 0}},rE=Or(zn(Rr)),w_=(function(){return Or(zn({focusedNodeId:v.value,fullNodes:[]}))})(),ZT=Or(zn(Rr)),J2=function(n){var e=function(r){if(r instanceof tt)return"Package";if(r instanceof ft)return"Module";throw new Error("Failed pattern match at Engine.Explorer (line 502, column 3 - line 502, column 38): "+[r.constructor.name])},t=function(r){return function(a){return'<div class="tooltip-metric">'+('<span class="metric-label">'+(r+("</span>"+('<span class="metric-value">'+(a+"</span></div>")))))}};return'<div class="tooltip-header">'+(n.name+("</div>"+('<div class="tooltip-package">'+(n.package+("</div>"+('<div class="tooltip-metrics">'+(t("Type")(e(n.nodeType))+(t("Dependencies")(Ke(X(n.targets)))+(t("Dependents")(Ke(X(n.sources)))+"</div>")))))))))},z2="#explorer-links",j2=function(n){if(n.nodeType instanceof tt)return{id:n.id,x:n.x,y:n.y,vx:n.vx,vy:n.vy,name:n.name,nodeType:n.nodeType,package:n.package,r:n.r,cluster:n.cluster,targets:n.targets,sources:n.sources,gridX:n.gridX,gridY:n.gridY,orbitAngle:n.orbitAngle,treeX:n.treeX,treeY:n.treeY,isInTree:n.isInTree,fx:n.gridX,fy:n.gridY};if(n.nodeType instanceof ft)return n;throw new Error("Failed pattern match at Engine.Explorer (line 359, column 27 - line 361, column 21): "+[n.nodeType.constructor.name])},cQ=function(n){var e=function(u){return function(i){var f=u,c=!1,l;function s(p,_){if(_===-1)return c=!0,-1;var d=tb(_)(p)===".";if(d)return c=!0,_;f=p,i=_-1|0}for(;!c;)l=s(f,i);return l}},t=(function(){var u=function(i){return function(f){var c=i,l=!1,s;function p(_,d){var g=tb(_)(d);if(g==="")return l=!0,_;c=_+1|0,f=d}for(;!l;)s=p(c,f);return s}};return u(0)})(),r=function(u){var i=t(u),f=e(u)(i-1|0),c=f<0;return c?{module:"",name:u}:{module:rb(0)(f)(u),name:rb(f+1|0)(i)(u)}},a=r(n),o=a.module==="";return o?v.value:new m(a.module)},lQ=function(n){return function(e){return function(t){return function(){var a=R(rE)(),o=n+("."+e),u=Ge(o)(a);if(u instanceof v)return void 0;if(u instanceof m){var i=S2(Vl(function(c){return c.targetModule})(u.value0.calls)),f=S2(Ee(cQ)(u.value0.calledBy));return uL(n)(f)(i)()}throw new Error("Failed pattern match at Engine.Explorer (line 1427, column 3 - line 1434, column 64): "+[u.constructor.name])}}}},Q2=function(n){var e=function(t){return function(){var a=TR(t)();if(a instanceof m)return qf(a.value0)(t)(),e(t)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Explorer (line 787, column 5 - line 791, column 27): "+[a.constructor.name])}};return e(lr(n))},BD=function(){var e=$r(),t=kr(e)(),r=Po(t),a=Ja("#explorer-nodes")(r)();if(a instanceof m)return Q2(a.value0)();if(a instanceof v)return me("[Explorer] Could not find #explorer-nodes")();throw new Error("Failed pattern match at Engine.Explorer (line 1349, column 3 - line 1351, column 63): "+[a.constructor.name])},kl=function(){var e=$r(),t=kr(e)(),r=Po(t),a=Ja("#explorer-links")(r)();if(a instanceof m)return Q2(a.value0)(),me("[Explorer] Cleared tree links")();if(a instanceof v)return me("[Explorer] Could not find #explorer-links")();throw new Error("Failed pattern match at Engine.Explorer (line 772, column 3 - line 777, column 63): "+[a.constructor.name])},sQ=function(){return mN(B2)(),Hd(z2)()},pQ=function(n){return function(e){return function(){me("[Explorer] Focusing on neighborhood with "+(Ke(X(n))+" nodes"))(),$D(),kl(),BD();var r=Vl(Yj)(n);Gp(r)(e)();var a=Zr(e)();return Zj(a)(e)(),Sv((function(){var o=Ee(function(u){var i=u.name!=="";return i?new m(u.name):v.value})(a);return _r($l("[Explorer] Fetching batch data for "+(Ke(X(o))+" modules")))(function(){return Jf(qI(o))(function(u){return _r((function(){if(u instanceof en)return $l("[Explorer] Batch declarations error: "+u.value0);if(u instanceof B)return x2(void 0);throw new Error("Failed pattern match at Engine.Explorer (line 1032, column 5 - line 1034, column 27): "+[u.constructor.name])})())(function(){var i=(function(){if(u instanceof B)return u.value0;if(u instanceof en)return Rr;throw new Error("Failed pattern match at Engine.Explorer (line 1036, column 22 - line 1038, column 31): "+[u.constructor.name])})();return Jf(UI(o))(function(f){return _r((function(){if(f instanceof en)return $l("[Explorer] Batch function calls error: "+f.value0);if(f instanceof B)return x2(void 0);throw new Error("Failed pattern match at Engine.Explorer (line 1042, column 5 - line 1044, column 27): "+[f.constructor.name])})())(function(){var c=(function(){if(f instanceof B)return f.value0;if(f instanceof en)return Rr;throw new Error("Failed pattern match at Engine.Explorer (line 1046, column 23 - line 1048, column 31): "+[f.constructor.name])})();return _r(Pt(rn(c)(rE)))(function(){return _r(Pt(me("[Explorer] Batch fetched: "+(Ke(mv(i))+(" modules with declarations, "+(Ke(mv(c))+" function entries"))))))(function(){return Pt(function(){Vj(a)(function(p){return function(){return cL(i)(aQ)(lQ)(rQ)(p)(),void 0}})();var s=ro(Re(Bl("#explorer-nodes"))(function(p){return Re(Jj("g.module-pack")(p))(function(_){return Gl(QR(_))})}))();return cN(s)("#explorer-zoom-group")(Lf(e))(),iQ(a)(),$d(sQ)(e)(),Lf(e)()})})})})})})})})})())(),void 0}}};var _Q=function(n){return function(e){return function(t){var r=Le(fd)(e);return function(){me("[Explorer] Setting up force-directed tree with "+(Ke(X(r))+" links"))(),rn(ie)(t.forces)();var o=Mb({distance:30,strength:.7,iterations:1});Cb(o)(n)(r)(),he(ao("link")(o))(t.forces)();var u=Pd({strength:-100,theta:.9,distanceMin:1,distanceMax:1e10});wr(u)(n)(),he(ao("charge")(u))(t.forces)();var i=Od({x:0,strength:.1});wr(i)(n)(),he(ao("x")(i))(t.forces)();var f=Rd({y:0,strength:.1});return wr(f)(n)(),he(ao("y")(f))(t.forces)(),me("[Explorer] Tree forces added (link, charge, x, y)")()}}}};var KT=function(n){return function(e){var t=Im("#")(n);if(t instanceof m){var r=In(0)(YT(Ju(2)(t.value0))),a=In(0)(YT(Ju(2)(Yi(2)(t.value0)))),o=In(0)(YT(Ju(2)(Yi(4)(t.value0))));return"rgba("+(Ke(r)+(","+(Ke(a)+(","+(Ke(o)+(","+(E_(e)+")")))))))}if(t instanceof v)return n;throw new Error("Failed pattern match at Engine.Explorer (line 616, column 3 - line 624, column 24): "+[t.constructor.name])}},X2=function(n){return function(e){if(e.nodeType instanceof tt)return n instanceof nt?le(e.cluster):KT(le(e.cluster))(.1);if(e.nodeType instanceof ft){if(n instanceof nt){var t=Ze(e.sources);return t?"none":"rgba(255, 255, 255, 0.9)"}return e.isInTree?KT(le(e.cluster))(.5):KT(le(e.cluster))(.1)}throw new Error("Failed pattern match at Engine.Explorer (line 597, column 24 - line 611, column 58): "+[e.nodeType.constructor.name])}},aE=function(n){return function(e){var t=Fb(5)(.7)(1);return function(){wr(t)(n)(),he(ao("collide")(t))(e.forces)();var a=fN(.5);wr(a)(n)(),he(ao("gridX")(a))(e.forces)();var o=iN(.5);return wr(o)(n)(),he(ao("gridY")(o))(e.forces)(),me("[Explorer] Grid forces added")()}}},Y2=function(n){return function(e){return function(){return me("[Explorer] Restoring grid forces")(),rn(ie)(e.forces)(),aE(n)(e)()}}},jf=function(n){return function(e){var t=function(a){return a==="GridForm"||a==="GridRun"||a==="OrbitForm"||a==="OrbitRun"},r=(function(){return n==="GridForm"?new m(kN):n==="GridRun"?new m(Gd):n==="OrbitForm"?new m(HN):n==="OrbitRun"?new m(WN):n==="TreeForm"?new m(PN):n==="TreeRun"?new m(RN):v.value})();if(r instanceof m)return function(){return XT(n==="TreeForm")(function(){var u=R(e)(),i=Zr(u.simulation)();return kl(),fQ(i)(),kD(!0)()})(),XT(n==="TreeRun")(function(){var u=R(e)(),i=Zr(u.simulation)(),f=R(Ul)();return kl(),_Q(i)(f)(u.simulation)(),tQ(i)(f)(),xN(z2)(e)(),kD(!0)()})(),XT(t(n))(function(){var u=R(e)(),i=Zr(u.simulation)();return Y2(i)(u.simulation)(),kl(),Ab(e)(),kD(!1)()})(),LN(r.value0)(e)()};if(r instanceof v)return me("[Explorer] Unknown scene: "+n);throw new Error("Failed pattern match at Engine.Explorer (line 318, column 3 - line 349, column 63): "+[r.constructor.name])}},K2=function(n){return function(){var t=R(w_)(),r=R(Eu)();if(r instanceof v)return me("[Explorer] No state ref available")();if(r instanceof m){var a=R(r.value0)();if(t.focusedNodeId instanceof m&&t.focusedNodeId.value0===n.id)return me("[Explorer] Unfocusing from node "+(Ke(n.id)+" (via navigateBack)"))(),Z2(962)(),void 0;var o=Zr(a.simulation)(),u=(function(){var s=Ze(t.fullNodes);return s?o:t.fullNodes})(),i=ql(I2([n.id])(I2(n.targets)(n.sources))),f=Le(function(s){return zf(s.id)(i)})(o);me("[Explorer] Focusing on node "+(Ke(n.id)+(" (neighborhood: "+(Ke(X(f))+" nodes)"))))(),rn({focusedNodeId:new m(n.id),fullNodes:u})(w_)();var c=R(Ur)();he(mt(c))(qD)();var l=new Yr(n.name);return rn(l)(Ur)(),pQ(f)(a.simulation)()}throw new Error("Failed pattern match at Engine.Explorer (line 953, column 3 - line 997, column 65): "+[r.constructor.name])}},mQ=function(n){return function(){var t=R(w_)(),r=R(Eu)();if(r instanceof v)return me("[Explorer] No state ref to restore")();if(r instanceof m){var a=R(r.value0)();if(n instanceof nt)return rn(n)(Ur)();if(n instanceof Kt||n instanceof Zt||n instanceof At||n instanceof nr||n instanceof cr)return T_(t.fullNodes)(n)(a.simulation)();if(n instanceof Yr)return rn(n)(Ur)();if(n instanceof ma)return rn(n)(Ur)();throw new Error("Failed pattern match at Engine.Explorer (line 1261, column 7 - line 1277, column 50): "+[n.constructor.name])}throw new Error("Failed pattern match at Engine.Explorer (line 1256, column 3 - line 1277, column 50): "+[r.constructor.name])}},T_=function(n){return function(e){return function(t){return function(){Gp(n)(t)(),Y2(n)(t)(),kl(),BD(),ro(oE(n))();var a=R(Eu)();return(function(){if(a instanceof m)return Ab(a.value0)(),$d(Lb(a.value0))(t)();if(a instanceof v)return void 0;throw new Error("Failed pattern match at Engine.Explorer (line 1299, column 3 - line 1303, column 25): "+[a.constructor.name])})(),rn(e)(Ur)(),rn({focusedNodeId:v.value,fullNodes:[]})(w_)(),Lf(t)(),void 0}}}},oE=function(n){return Re(Bl("#explorer-nodes"))(function(e){return Re(H2(R(Ur)))(function(t){return Re(C_(Wf.value)(n)([W2(function(r){return r.x}),$2(function(r){return r.y}),k2(function(r){return r.r}),tE(X2(t)),M_(G2(t)),q2(1),F_(V2)])(e))(function(r){return zj(jj("[Explorer] Reattaching event handlers to circles"))(function(){var a=["highlighted-source","highlighted-upstream","highlighted-downstream","dimmed"];return Re(Tu(wT(function(o){return function(){h_("#explorer-nodes")("circle")(a)();var i=ql(o.targets),f=ql(o.sources);return JT("#explorer-nodes")("circle")(function(c){var l=c.id===o.id;if(l)return"highlighted-source";var s=zf(c.id)(i);if(s)return"highlighted-upstream";var p=zf(c.id)(f);return p?"highlighted-downstream":"dimmed"})()}}))(r))(function(){return Re(Tu(ET(function(o){return function(){return h_("#explorer-nodes")("circle")(a)(),$D()}}))(r))(function(){return Re(Tu(QT(J2))(r))(function(){return Re(Tu(CT(K2))(r))(function(){return Gl(void 0)})})})})})})})})},Z2=Wj("navigateBack","Engine.Explorer",function(){return function(){var e=R(qD)(),t=ku(e);if(t instanceof v)return me("[Explorer] Navigation stack empty, nothing to go back to")(),!1;if(t instanceof m)return me("[Explorer] Navigating back to: "+Kj(t.value0.head))(),rn(t.value0.tail)(qD)(),mQ(t.value0.head)(),!0;throw new Error("Failed pattern match at Engine.Explorer (line 1238, column 3 - line 1248, column 16): "+[t.constructor.name])}}),nO=Z2(1235);var eO=function(n){return function(){var t=R(Eu)();if(t instanceof m){var r=R(t.value0)(),a=Zr(r.simulation)();return BD(),Qj(ro(oE(a)))()}if(t instanceof v)return me("[Explorer] No simulation state available for color update")();throw new Error("Failed pattern match at Engine.Explorer (line 640, column 3 - line 647, column 79): "+[t.constructor.name])}};var vQ=function(n){return function(e){return Re(Bl(n))(function(t){return Re(y_(xl.value)([Xj(E_(-wa/2)+(" "+(E_(-Ca/2)+(" "+(E_(wa)+(" "+E_(Ca))))))),b_("explorer-svg"),A2("ce-viz")])(t))(function(r){return Re(y_(Sa.value)([b_("explorer-zoom-group")])(r))(function(a){return Re(y_(Sa.value)([b_("treemap-watermark"),A2("watermark")])(a))(function(){return Re(y_(Sa.value)([b_("explorer-links")])(a))(function(){return Re(y_(Sa.value)([b_("explorer-nodes")])(a))(function(o){return Re(H2(R(Ur)))(function(u){return Re(C_(Wf.value)(e)([W2(function(i){return i.x}),$2(function(i){return i.y}),k2(function(i){return i.r}),tE(X2(u)),M_(G2(u)),q2(1),F_(V2)])(o))(function(i){return Re(Tu(new pD(rR(new XP(.1,10))("#explorer-zoom-group")))(r))(function(){var f=["highlighted-source","highlighted-upstream","highlighted-downstream","dimmed"];return Re(Tu(wT(function(c){return function(){h_("#explorer-nodes")("circle")(f)();var s=ql(c.targets),p=ql(c.sources);return JT("#explorer-nodes")("circle")(function(_){var d=_.id===c.id;if(d)return"highlighted-source";var g=zf(_.id)(s);if(g)return"highlighted-upstream";var D=zf(_.id)(p);return D?"highlighted-downstream":"dimmed"})()}}))(i))(function(){return Re(Tu(ET(function(c){return function(){return h_("#explorer-nodes")("circle")(f)(),$D()}}))(i))(function(){return Re(Tu(QT(J2))(i))(function(){return Re(Tu(CT(K2))(i))(function(){return Gl({nodeSel:i})})})})})})})})})})})})})})}},tO=function(n){return function(e){return function(){me("[Explorer] Initializing with new Scene Engine")(),rn({projectName:"purescript-d3-dataviz",moduleCount:n.moduleCount,packageCount:n.packageCount})(UD)();var r=GT(n.nodes),a=U2(r)(),o=Vl(j2)(a),u=EN(TN)();Gp(o)(u)(),aE(o)(u)();var i=Zr(u)();ro(vQ(e)(i))(),VT(n.nodes)();var f=IN(u)(B2),c=zn(f)();return $d(Lb(c))(u)(),Wd(u)(),he(function(l){return{linksGroupId:l.linksGroupId,nodesGroupId:l.nodesGroupId,simulation:l.simulation,transition:l.transition,currentScene:new m(Gd)}})(c)(),c}}},rO=function(n){var e=new nt($t.value);return function(){return rn(e)(Ur)(),me("[Explorer] ViewState initialized (Halogen NarrativePanel polls this)")(),Sv(_r($l("[Explorer] BUILD: 2025-12-03 - Immediate TangleJS init"))(function(){return _r($l("[Explorer] Loading data..."))(function(){return Jf(GI)(function(r){if(r instanceof en)return Pt(me("[Explorer] Error: "+r.value0));if(r instanceof B)return _r(Pt(me("[Explorer] Loaded: "+(Ke(r.value0.moduleCount)+(" modules, "+(Ke(r.value0.packageCount)+" packages"))))))(function(){return _r(Pt(rn(r.value0.links)(Ul)))(function(){return _r(Pt(rn(r.value0.declarations)(ZT)))(function(){return Jf(Pt(tO(r.value0)(n)))(function(a){return _r(Pt(rn(new m(a))(Eu)))(function(){return Pt(me("[Explorer] Ready (function calls loaded on-demand per neighborhood)"))})})})})});throw new Error("Failed pattern match at Engine.Explorer (line 154, column 5 - line 166, column 95): "+[r.constructor.name])})})}))()}},dQ=function(n){return function(e){return function(){me("[Explorer] Updating visualization with new model")(),rn({projectName:"project",moduleCount:n.moduleCount,packageCount:n.packageCount})(UD)();var r=GT(n.nodes),a=U2(r)(),o=Vl(j2)(a),u=R(e)();Gp(o)(u.simulation)(),aE(o)(u.simulation)();var i=Zr(u.simulation)();return ro(oE(i))(),i2(),VT(n.nodes)(),he(function(f){return{linksGroupId:f.linksGroupId,nodesGroupId:f.nodesGroupId,simulation:f.simulation,transition:f.transition,currentScene:new m(Gd)}})(e)(),Wd(u.simulation)()}}},aO=function(n){return function(){return me("[Explorer] Reloading with project: "+Ke(n))(),rn([])(Ul)(),rn(Rr)(ZT)(),rn(Rr)(rE)(),rn([])(qD)(),rn({focusedNodeId:v.value,fullNodes:[]})(w_)(),kl(),kD(!1)(),BD(),Sv(_r($l("[Explorer] Loading data for project "+(Ke(n)+"...")))(function(){return Jf(VI(n))(function(t){if(t instanceof en)return Pt(me("[Explorer] Error loading project: "+t.value0));if(t instanceof B)return _r(Pt(me("[Explorer] Loaded: "+(Ke(t.value0.moduleCount)+(" modules, "+(Ke(t.value0.packageCount)+" packages"))))))(function(){return _r(Pt(rn(t.value0.links)(Ul)))(function(){return _r(Pt(rn(t.value0.declarations)(ZT)))(function(){return Jf(Pt(R(Eu)))(function(r){return _r((function(){if(r instanceof v)return Jf(Pt(tO(t.value0)("#viz")))(function(a){return Pt(rn(new m(a))(Eu))});if(r instanceof m)return Pt(dQ(t.value0)(r.value0));throw new Error("Failed pattern match at Engine.Explorer (line 255, column 9 - line 262, column 56): "+[r.constructor.name])})())(function(){return Pt(me("[Explorer] Project switch complete"))})})})})});throw new Error("Failed pattern match at Engine.Explorer (line 245, column 5 - line 264, column 62): "+[t.constructor.name])})}))()}};var gQ=s0();var oO=function(){return function(n){var e=gQ(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return function(i){return function(f){return _S(new _p(r(a)(o)(u)(i)(function(c){return m.create(f(c))})))}}}}}}}};var MQ=ce(df);var FQ=kv();var uE=function(){return function(n){var e=FQ(n);return function(t){var r=e(t);return function(a){return function(o){return function(u){return MQ(r(a)(o)(u(void 0)))}}}}}};var xQ=at(ot),zl=q(Ae),bi=V(jc),S_=Lu(Jc),Dt=xQ(jc),x_=ar(Df),sO=wi(XM),Jl=Au(Jc),GD=ce(df),IQ=T(gn),pO={reflectSymbol:function(){return"narrativePanel"}},fO=uE()(pO)(Yl),AQ=wi(qo(ag()($_($_(rg)()({reflectSymbol:function(){return"name"}})(yt))()({reflectSymbol:function(){return"color"}})(yt)))),LQ=oO()(pO)(Yl),_O=(function(){function n(){}return n.value=new n,n})(),mO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),vO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),cO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),lO=(function(){function n(e,t){this.value0=e,this.value1=t}return n.create=function(e){return function(t){return new n(e,t)}},n})(),dO=(function(){function n(e){this.value0=e}return n.create=function(e){return new n(e)},n})(),NQ=function(n){if(n instanceof nt)return"Treemap";if(n instanceof Kt)return"TreeLayout";if(n instanceof Zt)return"ForceLayout";if(n instanceof At)return"PackageGrid";if(n instanceof nr)return"ModuleOrbit";if(n instanceof cr)return"DependencyTree";if(n instanceof Yr)return"Neighborhood("+(n.value0+")");if(n instanceof ma)return"FunctionCalls("+(n.value0+")");throw new Error("Failed pattern match at Component.SpagoGridApp (line 278, column 1 - line 278, column 37): "+[n.constructor.name])},PQ=function(){return nO(),void 0},RQ=function(n){return n instanceof nt||n instanceof Kt||n instanceof Zt||n instanceof At||n instanceof nr||n instanceof cr?n.value0:$t.value},OQ=function(n){return function(e){return function(t){if(n==="layout"){var r=RQ(t);return e==="treemap"?new nt(r):e==="tree"?new Kt(r,"PSD3.Main"):e==="force"?new Zt(r,"PSD3.Main"):e==="grid"?new At(r):e==="orbit"?new nr(r):t}if(n==="scope"){var r=(function(){var o=e==="project";return o?Xr.value:$t.value})();return t instanceof nt?new nt(r):t instanceof Kt?new Kt(r,t.value1):t instanceof Zt?new Zt(r,t.value1):t instanceof At?new At(r):t instanceof nr?new nr(r):t instanceof cr?new cr(r):t}return t}}},HQ=function(n){return function(e){return function(){var r=R(Ur)(),a=OQ(n)(e)(r);rn(a)(Ur)(),eO(a)();var o=R(Eu)();if(o instanceof m)return n==="layout"&&a instanceof nt?jf("TreemapRun")(o.value0)():n==="layout"&&a instanceof Kt?jf("TreeForm")(o.value0)():n==="layout"&&a instanceof Zt?jf("TreeRun")(o.value0)():n==="layout"&&a instanceof At?jf("GridRun")(o.value0)():n==="layout"&&a instanceof nr?jf("OrbitRun")(o.value0)():n==="layout"&&a instanceof cr?jf("TreeRun")(o.value0)():void 0;if(o instanceof v)return void 0;throw new Error("Failed pattern match at Component.SpagoGridApp (line 218, column 3 - line 234, column 25): "+[o.constructor.name])}}},iE=(function(){return Oe.value})(),DO=function(n){var e=Nn(zc(n.MonadEffect0())),t=mf(o0(n)),r=function(o){return function(u){return o-u*Tn(xm(o/u))}},a=function(o){return function(u){var i=r(Tn(o)*.618033988749895)(1);return{name:"Package "+zl(o+1|0),color:Es(i)}}};return bi(e(R(Ur)))(function(o){return bi(e(R(UD)))(function(u){return bi(S_)(function(i){return Dt(x_(sO(i.viewState)(o))(I_(n)(new mO(o))))(function(){return Dt(x_(Ze(i.packagePalette)&&u.packageCount>0)((function(){var f=br(a)(Ng(u.packageCount)(void 0));return I_(n)(new vO(f))})()))(function(){return Dt(t(i1(100)))(function(){return DO(n)})})})})})})},I_=function(n){var e=zc(n.MonadEffect0()),t=Yt(e),r=Nn(e),a=mf(o0(n));return function(o){if(o instanceof _O)return Dt(t("[SpagoGridApp] Initializing..."))(function(){return Dt(r(rO("#viz")))(function(){return Dt(Jl(function(u){var i={};for(var f in u)({}).hasOwnProperty.call(u,f)&&(i[f]=u[f]);return i.initialized=!0,i}))(function(){return Dt(GD(sp(bi(a(BI))(function(u){if(u instanceof B){var i=IQ(function(f){return{id:f.id,name:f.name}})(u.value0);return Dt(t("[SpagoGridApp] Loaded "+(zl(X(u.value0))+" projects")))(function(){return I_(n)(new cO(i))})}if(u instanceof en)return t("[SpagoGridApp] Failed to load projects: "+u.value0);throw new Error("Failed pattern match at Component.SpagoGridApp (line 111, column 7 - line 117, column 66): "+[u.constructor.name])}))))(function(){return GD(sp(DO(n)))})})})});if(o instanceof mO)return bi(S_)(function(u){return x_(sO(u.viewState)(o.value0))(Dt(t("[SpagoGridApp] ViewState changed to: "+NQ(o.value0)))(function(){return Dt(Jl(function(i){var f={};for(var c in i)({}).hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f.viewState=o.value0,f}))(function(){return Dt(t("[SpagoGridApp] Sending SetViewState to NarrativePanel"))(function(){return GD(fO(iE)(void 0)(b0.create(o.value0)))})})}))});if(o instanceof vO)return bi(S_)(function(u){return x_(AQ(u.packagePalette)(o.value0))(Dt(t("[SpagoGridApp] Package palette changed ("+(zl(X(o.value0))+" packages)")))(function(){return Dt(Jl(function(i){var f={};for(var c in i)({}).hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f.packagePalette=o.value0,f}))(function(){return GD(fO(iE)(void 0)(T0.create(o.value0)))})}))});if(o instanceof cO)return Dt(t("[SpagoGridApp] Setting projects in state"))(function(){return Jl(function(u){var i={};for(var f in u)({}).hasOwnProperty.call(u,f)&&(i[f]=u[f]);return i.projects=o.value0,i})});if(o instanceof lO)return bi(S_)(function(u){return x_(u.projectId!==o.value0)(Dt(t("[SpagoGridApp] Switching to project: "+(o.value1+(" (id: "+(zl(o.value0)+")")))))(function(){return Dt(Jl(function(i){var f={};for(var c in i)({}).hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f.projectId=o.value0,f.projectName=o.value1,f.packagePalette=[],f}))(function(){var i=new At($t.value);return Dt(r(rn(i)(Ur)))(function(){return Dt(Jl(function(f){var c={};for(var l in f)({}).hasOwnProperty.call(f,l)&&(c[l]=f[l]);return c.viewState=i,c}))(function(){return r(aO(o.value0))})})})}))});if(o instanceof dO){if(o.value0 instanceof g0)return Dt(t("[SpagoGridApp] Control changed: "+(o.value0.value0+(" -> "+o.value0.value1))))(function(){return r(HQ(o.value0.value0)(o.value0.value1))});if(o.value0 instanceof h0)return Dt(t("[SpagoGridApp] Back button clicked"))(function(){return r(PQ)});if(o.value0 instanceof y0)return Dt(t("[SpagoGridApp] Project selected: "+zl(o.value0.value0)))(function(){return bi(S_)(function(u){var i=ho(function(f){return f.id===o.value0.value0})(u.projects);if(i instanceof m)return I_(n)(new lO(o.value0.value0,i.value0.name));if(i instanceof v)return t("[SpagoGridApp] Unknown project ID: "+zl(o.value0.value0));throw new Error("Failed pattern match at Component.SpagoGridApp (line 171, column 9 - line 173, column 86): "+[i.constructor.name])})});throw new Error("Failed pattern match at Component.SpagoGridApp (line 157, column 5 - line 173, column 86): "+[o.value0.constructor.name])}throw new Error("Failed pattern match at Component.SpagoGridApp (line 100, column 16 - line 173, column 86): "+[o.constructor.name])}},WQ=function(n){var e=Q1(n);return function(t){return Qe([ke("explorer-app")])([LQ(iE)(void 0)(e)({viewState:t.viewState,packagePalette:t.packagePalette,projectName:t.projectName,projectId:t.projectId,projects:t.projects})(dO.create),(function(){if(t.error instanceof m)return Qe([yf(["floating-panel","floating-panel--bottom-right","error-message"])])([et(t.error.value0)]);if(t.error instanceof v)return et("");throw new Error("Failed pattern match at Component.SpagoGridApp (line 89, column 7 - line 93, column 30): "+[t.error.constructor.name])})(),Qe([Vv("viz")])([])])}},gO=function(n){return vp({initialState:function(e){return{initialized:!1,error:v.value,viewState:new At($t.value),packagePalette:[],projectName:j1,projectId:1,projects:[]}},render:WQ(n),eval:mp({handleQuery:ii.handleQuery,receive:ii.receive,finalize:ii.finalize,handleAction:I_(n),initialize:new m(_O.value)})})};var kQ=V(dt),qQ=Nn(pr),UQ=Ue(bt),BQ=io(bt),GQ=L(qt),VQ=Ue(_t),JQ=L(Rn);var hO=function(n){return kQ(qQ(UQ(BQ((function(){var e=Ja(n);return function(t){return e(Po(t))}})())(kr))($r)))(function(e){return GQ(VQ(IT)(e))})},yO=Av(Dr(Ku)(H(JQ(void 0))));var VD={suspend:r1,fork:a1,join:ap,Monad0:function(){return Uc},Functor1:function(){return s1}};var JD=function(n){return n.fork};var TO=A,oo=A,EO=function(n){var e=Ve(n)(hr);return function(t){return oo(function(r){return e(t)(r.rendering)})}},jQ=A,wO=function(n){return function(e){return oo(function(t){return jQ(e(t.rendering))})}},QQ=A,zD=function(n){return function(e){return n(e)}},CO=function(n){return function(e){return function(t){return function(r){return function(){var o=zn({})(),u=zn(Ac)(),i=zn(Ac)(),f=zn(t)(),c=zn(new m($.value))(),l=zn(new m($.value))(),s=zn(v.value)(),p=zn(1)(),_=zn(new m(ie))(),d=zn(ie)(),g={component:n,state:n.initialState(e),refs:ie,children:Ac,childrenIn:u,childrenOut:i,selfRef:o,handlerRef:f,pendingQueries:c,pendingOuts:l,pendingHandlers:s,rendering:v.value,fresh:p,subscriptions:_,forks:d,lifecycleHandlers:r};return rn(g)(o)(),QQ(o)}}}}};var XQ=Ve(Rn)(hr),YQ=Ue(_t),KQ=Tt(a0),rt=V(dt),Ne=Nn(pr),ZQ=at(ot),uo=ZQ(dt),AO=Ve(qt),nX=AO($e),LO=JD(VD),eX=rp(_f)(Bc)($e),Wo=L(qt),tX=T(Hh),MO=oi(_f),rX=T(ui),FO=qc(_f),aX=T(Xn),oX=ut(a0),uX=wS(Bc),iX=xc(qv),fX=Ew(Ra),cX=ut(qv),SO=AO(hr),xO=Tt(qv),lX=Tt(ee),sX=$S(p1),pX=Ic(ee),_X=function(n){return function(e){return function(){var r=R(e)(),a=R(r.subscriptions)();return XQ(Nv)(YQ(KQ(n))(a))()}}},jD=function(n){return function(e){return rt(Ne(R(n)))(function(t){if(t instanceof v)return e;if(t instanceof m)return Ne(rn(new m(new Y(e,t.value0)))(n));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 188, column 33 - line 190, column 57): "+[t.constructor.name])})}},QD=function(n){return function(e){return uo(Ne(rn({initializers:$.value,finalizers:$.value})(n)))(function(){return rt(Ne(e))(function(t){return rt(Ne(R(n)))(function(r){return uo(nX(LO)(r.finalizers))(function(){return uo(eX(r.initializers))(function(){return Wo(t)})})})})})}},Qf=Av(Dr(Ku)(H(L(Rn)(void 0)))),IO=function(n){return function(e){return rt(Ne(R(e)))(function(t){return Ne(sg(function(r){return{state:r+1|0,value:n(r)}})(t.fresh))})}},cE=function(n){return function(e){return function(t){return rt(Ne(R(e)))(function(r){return Ti(n)(e)(r.component.eval(new Zc(tX(m.create)(aF(t)),H(v.value))))})}}},Ti=function(n){return function(e){return function(t){var r=function(o){return function(u){return rt(Ne(R(o)))(function(i){return v1(function(f){var c=function(l){return MO(rt(Ne(R(l)))(function(s){return oo(function(p){return cE(n)(p.selfRef)(f.value1)})(s)}))};return rX(f.value2)(FO(f.value0(Bc)(c)(i.children)))})(u)})}},a=function(o){return function(u){if(u instanceof up)return rt(Ne(R(o)))(function(i){var f=u.value0(i.state);if(vf(i.state)(f.value1))return Wo(f.value0);if(pe)return uo(Ne(rn({component:i.component,refs:i.refs,children:i.children,childrenIn:i.childrenIn,childrenOut:i.childrenOut,selfRef:i.selfRef,handlerRef:i.handlerRef,pendingQueries:i.pendingQueries,pendingOuts:i.pendingOuts,pendingHandlers:i.pendingHandlers,rendering:i.rendering,fresh:i.fresh,subscriptions:i.subscriptions,forks:i.forks,lifecycleHandlers:i.lifecycleHandlers,state:f.value1})(o)))(function(){return uo(QD(i.lifecycleHandlers)(n(i.lifecycleHandlers)(o)))(function(){return Wo(f.value0)})});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[f.constructor.name])});if(u instanceof Pv)return rt(IO(E1)(o))(function(i){return rt(Ne(g1(u.value0(i))(function(f){return Qf(lE(n)(o)(new af(f)))})))(function(f){return rt(Ne(R(o)))(function(c){return uo(Ne(he(aX(oX(i)(f)))(c.subscriptions)))(function(){return Wo(u.value1(i))})})})});if(u instanceof Rv)return uo(Ne(_X(u.value0)(o)))(function(){return Wo(u.value1)});if(u instanceof Gc)return u.value0;if(u instanceof ip)return r(o)(u.value0);if(u instanceof fp)return rt(Ne(R(o)))(function(i){return rt(Ne(R(i.handlerRef)))(function(f){return uo(jD(i.pendingOuts)(f(u.value0)))(function(){return Wo(u.value1)})})});if(u instanceof Ov)return FO(uX(Ry((function(){var i=Ti(n)(o);return function(f){return MO(i(f))}})())(u.value0)));if(u instanceof cp)return rt(IO(w1)(o))(function(i){return rt(Ne(R(o)))(function(f){return rt(Ne(zn(!1)))(function(c){return rt(LO(l1(Ne(function(){return he(iX(i))(f.forks)(),rn(!0)(c)()}))(Ti(n)(o)(u.value0))))(function(l){return uo(Ne(fX(R(c))(he(cX(i)(l))(f.forks))))(function(){return Wo(u.value1(i))})})})})});if(u instanceof Hv)return rt(Ne(R(o)))(function(i){return rt(Ne(R(i.forks)))(function(f){return uo(SO(ap)(xO(u.value0)(f)))(function(){return Wo(u.value1)})})});if(u instanceof Wv)return rt(Ne(R(o)))(function(i){return rt(Ne(R(i.forks)))(function(f){return uo(SO(op(Co("Cancelled")))(xO(u.value0)(f)))(function(){return Wo(u.value1)})})});if(u instanceof $v)return rt(Ne(R(o)))(function(i){return Wo(u.value1(lX(u.value0)(i.refs)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 139, column 33): "+[u.constructor.name])}};return sX(a(e))(t)}}},lE=function(n){return function(e){return function(t){if(t instanceof Kh)return Ne(Qn(he)(e)(zD(function(r){return{component:r.component,state:r.state,children:r.children,childrenIn:r.childrenIn,childrenOut:r.childrenOut,selfRef:r.selfRef,handlerRef:r.handlerRef,pendingQueries:r.pendingQueries,pendingOuts:r.pendingOuts,pendingHandlers:r.pendingHandlers,rendering:r.rendering,fresh:r.fresh,subscriptions:r.subscriptions,forks:r.forks,lifecycleHandlers:r.lifecycleHandlers,refs:pX(H(t.value1))(t.value0)(r.refs)}})));if(t instanceof af)return rt(Ne(R(e)))(function(r){return Ti(n)(e)(r.component.eval(new Kc(t.value0,void 0)))});throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[t.constructor.name])}}};var vX=V(bt),dX=at(ot),$O=ca(Rn)(hr),kO=Ve(qt)($e),qO=JD(VD),L_=Ue(bt),UO=Ve(Rn),BO=UO(hr),NO=UO(rf),PO=dX(dt),DX=rp(_f)(Bc)($e),A_=Nn(pr),RO=L(Rn),sE=T(Ln),pE=L(qt),_E=ar(Rn),gX=wO(Ln),hX=ce(ui),OO=hF(Rn),yX=EO(Rn),bX=ia(Pw),TX=jl(Ln),mE=V(dt),EX=Nn(ue),HO=(function(){return zn({initializers:$.value,finalizers:$.value})})(),WO=function(n){return function(){var t=R(n)();return rn(v.value)(n)(),$O(t)((function(){var r=kO(qO);return function(a){return Qf(r(ni(a)))}})())()}},wX=function(n){return function(){return L_(BO(NO(Nv)))(R(n.subscriptions))(),rn(v.value)(n.subscriptions)(),L_(NO((function(){var t=op(Co("finalized"));return function(r){return Qf(t(r))}})()))(R(n.forks))(),rn(ie)(n.forks)()}},GO=function(n){return function(e){return function(t){var r=function(l){return function(s){return oo(function(p){var _=Ti(u)(p.selfRef)(p.component.eval(new Qc(void 0)));return he(function(d){return{initializers:new Y(PO(DX(ni(d.initializers)))(function(){return PO(_)(function(){return A_(function(){return WO(p.pendingQueries)(),WO(p.pendingOuts)()})})}),s),finalizers:d.finalizers}})(l)})}},a=function(l){return function(s){return function(p){return l0(function(_){return function(){var g=HO(),D=CO(_)(p)(s)(g)(),b=R(l)();return rn({initializers:$.value,finalizers:b.finalizers})(l)(),L_(oo((function(){var I=u(l);return function(M){return I((function(h){return h.selfRef})(M))}})()))(R(D))(),L_(r(l)(b.initializers))(R(D))(),D}})}}},o=function(l){return function(s){return function(p){return function(_){return c0(function(d){return function(){var D=sE(d.pop)(R(p))(),b=(function(){if(D instanceof m){rn(D.value0.value1)(p)();var M=R(D.value0.value0)();return oo(function(h){return function(){return Qn(rn)(h.handlerRef)((function(){var C=Se(pE(void 0))(s);return function(P){return C(d.output(P))}})())(),Qf(Ti(u)(h.selfRef)(h.component.eval(new Yc(d.input,void 0))))()}})(M)(),D.value0.value0}if(D instanceof v)return a(l)((function(){var h=Se(pE(void 0))(s);return function(y){return h(d.output(y))}})())(d.input)(d.component)();throw new Error("Failed pattern match at Halogen.Aff.Driver (line 213, column 14 - line 222, column 98): "+[D.constructor.name])})(),I=sE(function(M){return es(d.get(M))})(R(_))();return _E(I)(xs("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),he(d.set(b))(_)(),vX(R(b))(gX(function(M){if(M instanceof v)return AF("Halogen internal error: child was not initialized in renderChild");if(M instanceof m)return RO(n.renderChild(M.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 227, column 37 - line 229, column 50): "+[M.constructor.name])}))()}})}}}},u=function(l){return function(s){return function(){var _=R(s)(),d=sE(Pu)(R(_.pendingHandlers))();_E(d)(rn(new m($.value))(_.pendingHandlers))(),rn(Ac)(_.childrenOut)(),rn(_.children)(_.childrenIn)();var g=(function(){var h=jD(_.pendingHandlers),y=lE(u)(_.selfRef);return function(C){return h(hX(y(C)))}})(),D=(function(){var h=jD(_.pendingQueries);return function(y){return h(g(af.create(y)))}})(),b=n.render(function(h){return Qf(g(h))})(o(l)(D)(_.childrenIn)(_.childrenOut))(_.component.render(_.state))(_.rendering)(),I=R(_.childrenOut)(),M=R(_.childrenIn)();return OO(M)(function(h){return function(){var C=R(h)();return yX(n.removeChild)(C)(),i(l)(C)()}})(),Qn(he)(_.selfRef)(zD(function(h){return{component:h.component,state:h.state,refs:h.refs,childrenIn:h.childrenIn,childrenOut:h.childrenOut,selfRef:h.selfRef,handlerRef:h.handlerRef,pendingQueries:h.pendingQueries,pendingOuts:h.pendingOuts,pendingHandlers:h.pendingHandlers,fresh:h.fresh,subscriptions:h.subscriptions,forks:h.forks,lifecycleHandlers:h.lifecycleHandlers,rendering:new m(b),children:I}}))(),_E(d)(Qn(bX)(void 0)(function(h){return function(){var C=R(_.pendingHandlers)();rn(new m($.value))(_.pendingHandlers)(),BO((function(){var sn=kO(qO);return function(U){return Qf(sn(ni(U)))}})())(C)();var P=R(_.pendingHandlers)(),k=Se(!1)(OF)(P);return k?TX(rn(v.value)(_.pendingHandlers))(new It(void 0))():new Ht(void 0)}}))()}}},i=function(l){return oo(function(s){return function(){wX(s)();var _=Ti(u)(s.selfRef)(s.component.eval(new Xc(void 0)));return he(function(d){return{initializers:d.initializers,finalizers:new Y(_,d.finalizers)}})(l)(),OO(s.children)(function(d){return function(){var D=R(d)();return i(l)(D)()}})()}})},f=function(l){return function(s){return function(p){return mE(A_(R(l)))(function(_){return _?pE(v.value):cE(u)(s)(p)})}}},c=function(l){return function(s){return function(p){return QD(s)(function(){var d=R(l)();return d?void 0:(rn(!0)(l)(),i(s)(p)(),oo(function(g){return function(){var b=EX(R(g.selfRef))();return $O(b.rendering)(n.dispose)()}})(p)())})}}};return mE(A_(HO))(function(l){return mE(A_(zn(!1)))(function(s){return QD(l)(function(){var _=y1(),d=L_(R)(a(l)((function(){var g=h1(_.listener);return function(D){return A_(g(D))}})())(t)(e))();return oo(function(g){return RO({query:f(s)(g.selfRef),messages:_.emitter,dispose:c(s)(l)(d)})})(d)()})})})}}};var vE=function(n,e,t){var r=0,a;return function(o){if(r===2)return a;if(r===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+o+")",e,o);return r=1,a=t(),r=2,a}},dE=ce(Ln),MX=L(Rn),FX=Ve(Rn)(hr),SX=Wt(),xX=ar(Rn),IX=xu(lg(lg(lo))),AX=Dn(yn),LX=V(dt),NX=Nn(pr),PX=T(Ln),RX=Ue(bt);var OX=function(n){return function(e){return function(t){return e instanceof m&&t instanceof m?dE(ST(n)(e.value0)(t.value0)):e instanceof v&&t instanceof m?dE(bu(n)(t.value0)):MX(void 0)}}},VO=function(n){return function(){var t=Il(n.node)();return FX(function(r){return qf(n.node)(r)})(t)()}},HX=function(n){return function(e){return function(t){var r=TO(function(i){return i.node}),a=function(i){return i instanceof m?Nr(i.value0):void 0},o=function(i){var f=F1(SX)(i),c=vE("patch","Halogen.VDom.Driver",function(){return function(g,D){if(g instanceof m){if(D instanceof _p)return Nr(g.value0),s(100)(D.value0);if(D instanceof Bv){var b=Lr(g.value0,D.value0);return je(new ze(er(b),new m(b),c(103),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 97, column 22 - line 103, column 79): "+[D.constructor.name])}return l(104)(D)}}),l=vE("render","Halogen.VDom.Driver",function(){return function(g){if(g instanceof _p)return s(86)(g.value0);if(g instanceof Bv){var D=f(g.value0);return je(new ze(er(D),new m(D),c(89),a))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 84, column 7 - line 89, column 75): "+[g.constructor.name])}}),s=vE("renderComponentSlot","Halogen.VDom.Driver",function(){return function(g){var D=R(e)(),b=D(g)(),I=r(b);return je(new ze(I,v.value,c(117),a))}}),p=c(91),_=l(82),d=s(109);return _},u=cS(n);return{buildWidget:o,buildAttributes:u,document:t}}}},WX=function(n){return function(e){var t=function(r){return function(a){return function(o){return function(u){if(u instanceof v)return function(){var f=zn(a)(),c=HX(r)(f)(n),l=zs(c)(o),s=er(l);return dE(bu(s)(MR(e)))(),{machine:l,node:s,renderChildRef:f}};if(u instanceof m)return function(){rn(a)(u.value0.renderChildRef)();var f=Il(u.value0.node)(),c=bR(u.value0.node)(),l=Lr(u.value0.machine,o),s=er(l);return xX(IX(vf)(u.value0.node)(s))(OX(s)(c)(f))(),{machine:l,node:s,renderChildRef:u.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 157, column 5 - line 173, column 80): "+[u.constructor.name])}}}};return{render:t,renderChild:AX,removeChild:VO,dispose:VO}}},JO=function(n){return function(e){return function(t){return LX(NX(PX(o_)(RX(kr)($r))))(function(r){return GO(WX(r)(t))(n)(e)})}}};var kX=at(ot),zO=V(dt),jO=Nn(pr),qX=kX(dt),UX=gO(_1),BX=L(qt),QO=function(){return wo("[Main] Starting with Halogen wrapper around SpagoGridTest...")(),wo("[Main] IMPORTANT: Using selectElement to mount into #app (not body)")(),w2(E2)(),wo("[Main] Tooltip configured with floating panel theme")(),yO(zO(hO("#app"))(function(e){if(e instanceof v)return jO(wo("[Main] ERROR: Could not find #app element!"));if(e instanceof m)return qX(jO(wo("[Main] Found #app, mounting Halogen...")))(function(){return zO(JO(UX)(void 0)(e.value0))(function(){return BX(void 0)})});throw new Error("Failed pattern match at Main (line 27, column 5 - line 32, column 18): "+[e.constructor.name])}))()};QO();})();
