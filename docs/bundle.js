/* Generated by Spago v0.93.44 */
(() => {
  // output/Affjax/foreign.js
  function _ajax(platformSpecificDriver, timeoutErrorMessageIdent, requestFailedMessageIdent, mkHeader, options2) {
    return function(errback, callback) {
      var xhr = platformSpecificDriver.newXHR();
      var fixedUrl = platformSpecificDriver.fixupUrl(options2.url, xhr);
      xhr.open(options2.method || "GET", fixedUrl, true, options2.username, options2.password);
      if (options2.headers) {
        try {
          for (var i2 = 0, header2; (header2 = options2.headers[i2]) != null; i2++) {
            xhr.setRequestHeader(header2.field, header2.value);
          }
        } catch (e) {
          errback(e);
        }
      }
      var onerror = function(msgIdent) {
        return function() {
          errback(new Error(msgIdent));
        };
      };
      xhr.onerror = onerror(requestFailedMessageIdent);
      xhr.ontimeout = onerror(timeoutErrorMessageIdent);
      xhr.onload = function() {
        callback({
          status: xhr.status,
          statusText: xhr.statusText,
          headers: xhr.getAllResponseHeaders().split("\r\n").filter(function(header3) {
            return header3.length > 0;
          }).map(function(header3) {
            var i3 = header3.indexOf(":");
            return mkHeader(header3.substring(0, i3))(header3.substring(i3 + 2));
          }),
          body: xhr.response
        });
      };
      xhr.responseType = options2.responseType;
      xhr.withCredentials = options2.withCredentials;
      xhr.timeout = options2.timeout;
      xhr.send(options2.content);
      return function(error4, cancelErrback, cancelCallback) {
        try {
          xhr.abort();
        } catch (e) {
          return cancelErrback(e);
        }
        return cancelCallback();
      };
    };
  }

  // output/Data.Functor/foreign.js
  var arrayMap = function(f) {
    return function(arr) {
      var l = arr.length;
      var result = new Array(l);
      for (var i2 = 0; i2 < l; i2++) {
        result[i2] = f(arr[i2]);
      }
      return result;
    };
  };

  // output/Control.Semigroupoid/index.js
  var semigroupoidFn = {
    compose: function(f) {
      return function(g) {
        return function(x10) {
          return f(g(x10));
        };
      };
    }
  };

  // output/Control.Category/index.js
  var identity = function(dict) {
    return dict.identity;
  };
  var categoryFn = {
    identity: function(x10) {
      return x10;
    },
    Semigroupoid0: function() {
      return semigroupoidFn;
    }
  };

  // output/Data.Boolean/index.js
  var otherwise = true;

  // output/Data.Function/index.js
  var on = function(f) {
    return function(g) {
      return function(x10) {
        return function(y10) {
          return f(g(x10))(g(y10));
        };
      };
    };
  };
  var flip = function(f) {
    return function(b10) {
      return function(a2) {
        return f(a2)(b10);
      };
    };
  };
  var $$const = function(a2) {
    return function(v) {
      return a2;
    };
  };

  // output/Data.Unit/foreign.js
  var unit = void 0;

  // output/Type.Proxy/index.js
  var $$Proxy = /* @__PURE__ */ (function() {
    function $$Proxy2() {
    }
    ;
    $$Proxy2.value = new $$Proxy2();
    return $$Proxy2;
  })();

  // output/Data.Functor/index.js
  var map = function(dict) {
    return dict.map;
  };
  var mapFlipped = function(dictFunctor) {
    var map116 = map(dictFunctor);
    return function(fa) {
      return function(f) {
        return map116(f)(fa);
      };
    };
  };
  var $$void = function(dictFunctor) {
    return map(dictFunctor)($$const(unit));
  };
  var voidLeft = function(dictFunctor) {
    var map116 = map(dictFunctor);
    return function(f) {
      return function(x10) {
        return map116($$const(x10))(f);
      };
    };
  };
  var voidRight = function(dictFunctor) {
    var map116 = map(dictFunctor);
    return function(x10) {
      return map116($$const(x10));
    };
  };
  var functorArray = {
    map: arrayMap
  };

  // output/Data.Semigroup/foreign.js
  var concatString = function(s1) {
    return function(s2) {
      return s1 + s2;
    };
  };
  var concatArray = function(xs) {
    return function(ys) {
      if (xs.length === 0) return ys;
      if (ys.length === 0) return xs;
      return xs.concat(ys);
    };
  };

  // output/Data.Symbol/index.js
  var reflectSymbol = function(dict) {
    return dict.reflectSymbol;
  };

  // output/Data.Void/index.js
  var absurd = function(a2) {
    var spin = function($copy_v) {
      var $tco_result;
      function $tco_loop(v) {
        $copy_v = v;
        return;
      }
      ;
      while (true) {
        $tco_result = $tco_loop($copy_v);
      }
      ;
      return $tco_result;
    };
    return spin(a2);
  };

  // output/Record.Unsafe/foreign.js
  var unsafeGet = function(label5) {
    return function(rec) {
      return rec[label5];
    };
  };
  var unsafeSet = function(label5) {
    return function(value15) {
      return function(rec) {
        var copy2 = {};
        for (var key in rec) {
          if ({}.hasOwnProperty.call(rec, key)) {
            copy2[key] = rec[key];
          }
        }
        copy2[label5] = value15;
        return copy2;
      };
    };
  };

  // output/Data.Semigroup/index.js
  var semigroupString = {
    append: concatString
  };
  var semigroupArray = {
    append: concatArray
  };
  var append = function(dict) {
    return dict.append;
  };

  // output/Control.Alt/index.js
  var alt = function(dict) {
    return dict.alt;
  };

  // output/Control.Apply/foreign.js
  var arrayApply = function(fs) {
    return function(xs) {
      var l = fs.length;
      var k = xs.length;
      var result = new Array(l * k);
      var n = 0;
      for (var i2 = 0; i2 < l; i2++) {
        var f = fs[i2];
        for (var j = 0; j < k; j++) {
          result[n++] = f(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Apply/index.js
  var identity2 = /* @__PURE__ */ identity(categoryFn);
  var applyArray = {
    apply: arrayApply,
    Functor0: function() {
      return functorArray;
    }
  };
  var apply = function(dict) {
    return dict.apply;
  };
  var applyFirst = function(dictApply) {
    var apply1 = apply(dictApply);
    var map52 = map(dictApply.Functor0());
    return function(a2) {
      return function(b10) {
        return apply1(map52($$const)(a2))(b10);
      };
    };
  };
  var applySecond = function(dictApply) {
    var apply1 = apply(dictApply);
    var map52 = map(dictApply.Functor0());
    return function(a2) {
      return function(b10) {
        return apply1(map52($$const(identity2))(a2))(b10);
      };
    };
  };
  var lift2 = function(dictApply) {
    var apply1 = apply(dictApply);
    var map52 = map(dictApply.Functor0());
    return function(f) {
      return function(a2) {
        return function(b10) {
          return apply1(map52(f)(a2))(b10);
        };
      };
    };
  };

  // output/Control.Applicative/index.js
  var pure = function(dict) {
    return dict.pure;
  };
  var unless = function(dictApplicative) {
    var pure114 = pure(dictApplicative);
    return function(v) {
      return function(v1) {
        if (!v) {
          return v1;
        }
        ;
        if (v) {
          return pure114(unit);
        }
        ;
        throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var when = function(dictApplicative) {
    var pure114 = pure(dictApplicative);
    return function(v) {
      return function(v1) {
        if (v) {
          return v1;
        }
        ;
        if (!v) {
          return pure114(unit);
        }
        ;
        throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var liftA1 = function(dictApplicative) {
    var apply5 = apply(dictApplicative.Apply0());
    var pure114 = pure(dictApplicative);
    return function(f) {
      return function(a2) {
        return apply5(pure114(f))(a2);
      };
    };
  };

  // output/Data.Bounded/foreign.js
  var topChar = String.fromCharCode(65535);
  var bottomChar = String.fromCharCode(0);
  var topNumber = Number.POSITIVE_INFINITY;
  var bottomNumber = Number.NEGATIVE_INFINITY;

  // output/Data.Ord/foreign.js
  var unsafeCompareImpl = function(lt) {
    return function(eq9) {
      return function(gt) {
        return function(x10) {
          return function(y10) {
            return x10 < y10 ? lt : x10 === y10 ? eq9 : gt;
          };
        };
      };
    };
  };
  var ordIntImpl = unsafeCompareImpl;
  var ordNumberImpl = unsafeCompareImpl;
  var ordStringImpl = unsafeCompareImpl;
  var ordCharImpl = unsafeCompareImpl;
  var ordArrayImpl = function(f) {
    return function(xs) {
      return function(ys) {
        var i2 = 0;
        var xlen = xs.length;
        var ylen = ys.length;
        while (i2 < xlen && i2 < ylen) {
          var x10 = xs[i2];
          var y10 = ys[i2];
          var o = f(x10)(y10);
          if (o !== 0) {
            return o;
          }
          i2++;
        }
        if (xlen === ylen) {
          return 0;
        } else if (xlen > ylen) {
          return -1;
        } else {
          return 1;
        }
      };
    };
  };

  // output/Data.Eq/foreign.js
  var refEq = function(r1) {
    return function(r2) {
      return r1 === r2;
    };
  };
  var eqBooleanImpl = refEq;
  var eqIntImpl = refEq;
  var eqNumberImpl = refEq;
  var eqCharImpl = refEq;
  var eqStringImpl = refEq;
  var eqArrayImpl = function(f) {
    return function(xs) {
      return function(ys) {
        if (xs.length !== ys.length) return false;
        for (var i2 = 0; i2 < xs.length; i2++) {
          if (!f(xs[i2])(ys[i2])) return false;
        }
        return true;
      };
    };
  };

  // output/Data.Eq/index.js
  var eqUnit = {
    eq: function(v) {
      return function(v1) {
        return true;
      };
    }
  };
  var eqString = {
    eq: eqStringImpl
  };
  var eqRowNil = {
    eqRecord: function(v) {
      return function(v1) {
        return function(v2) {
          return true;
        };
      };
    }
  };
  var eqRecord = function(dict) {
    return dict.eqRecord;
  };
  var eqRec = function() {
    return function(dictEqRecord) {
      return {
        eq: eqRecord(dictEqRecord)($$Proxy.value)
      };
    };
  };
  var eqNumber = {
    eq: eqNumberImpl
  };
  var eqInt = {
    eq: eqIntImpl
  };
  var eqChar = {
    eq: eqCharImpl
  };
  var eqBoolean = {
    eq: eqBooleanImpl
  };
  var eq = function(dict) {
    return dict.eq;
  };
  var eq2 = /* @__PURE__ */ eq(eqBoolean);
  var eqArray = function(dictEq) {
    return {
      eq: eqArrayImpl(eq(dictEq))
    };
  };
  var eqRowCons = function(dictEqRecord) {
    var eqRecord1 = eqRecord(dictEqRecord);
    return function() {
      return function(dictIsSymbol) {
        var reflectSymbol2 = reflectSymbol(dictIsSymbol);
        return function(dictEq) {
          var eq33 = eq(dictEq);
          return {
            eqRecord: function(v) {
              return function(ra) {
                return function(rb) {
                  var tail2 = eqRecord1($$Proxy.value)(ra)(rb);
                  var key = reflectSymbol2($$Proxy.value);
                  var get14 = unsafeGet(key);
                  return eq33(get14(ra))(get14(rb)) && tail2;
                };
              };
            }
          };
        };
      };
    };
  };
  var notEq = function(dictEq) {
    var eq33 = eq(dictEq);
    return function(x10) {
      return function(y10) {
        return eq2(eq33(x10)(y10))(false);
      };
    };
  };

  // output/Data.Ordering/index.js
  var LT = /* @__PURE__ */ (function() {
    function LT2() {
    }
    ;
    LT2.value = new LT2();
    return LT2;
  })();
  var GT = /* @__PURE__ */ (function() {
    function GT2() {
    }
    ;
    GT2.value = new GT2();
    return GT2;
  })();
  var EQ = /* @__PURE__ */ (function() {
    function EQ2() {
    }
    ;
    EQ2.value = new EQ2();
    return EQ2;
  })();
  var eqOrdering = {
    eq: function(v) {
      return function(v1) {
        if (v instanceof LT && v1 instanceof LT) {
          return true;
        }
        ;
        if (v instanceof GT && v1 instanceof GT) {
          return true;
        }
        ;
        if (v instanceof EQ && v1 instanceof EQ) {
          return true;
        }
        ;
        return false;
      };
    }
  };

  // output/Data.Ring/foreign.js
  var intSub = function(x10) {
    return function(y10) {
      return x10 - y10 | 0;
    };
  };

  // output/Data.Semiring/foreign.js
  var intAdd = function(x10) {
    return function(y10) {
      return x10 + y10 | 0;
    };
  };
  var intMul = function(x10) {
    return function(y10) {
      return x10 * y10 | 0;
    };
  };
  var numAdd = function(n1) {
    return function(n2) {
      return n1 + n2;
    };
  };
  var numMul = function(n1) {
    return function(n2) {
      return n1 * n2;
    };
  };

  // output/Data.Semiring/index.js
  var semiringNumber = {
    add: numAdd,
    zero: 0,
    mul: numMul,
    one: 1
  };
  var semiringInt = {
    add: intAdd,
    zero: 0,
    mul: intMul,
    one: 1
  };
  var one = function(dict) {
    return dict.one;
  };
  var mul = function(dict) {
    return dict.mul;
  };
  var add = function(dict) {
    return dict.add;
  };

  // output/Data.Ring/index.js
  var ringInt = {
    sub: intSub,
    Semiring0: function() {
      return semiringInt;
    }
  };

  // output/Data.Ord/index.js
  var eqRec2 = /* @__PURE__ */ eqRec();
  var notEq2 = /* @__PURE__ */ notEq(eqOrdering);
  var ordUnit = {
    compare: function(v) {
      return function(v1) {
        return EQ.value;
      };
    },
    Eq0: function() {
      return eqUnit;
    }
  };
  var ordString = /* @__PURE__ */ (function() {
    return {
      compare: ordStringImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqString;
      }
    };
  })();
  var ordRecordNil = {
    compareRecord: function(v) {
      return function(v1) {
        return function(v2) {
          return EQ.value;
        };
      };
    },
    EqRecord0: function() {
      return eqRowNil;
    }
  };
  var ordNumber = /* @__PURE__ */ (function() {
    return {
      compare: ordNumberImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqNumber;
      }
    };
  })();
  var ordInt = /* @__PURE__ */ (function() {
    return {
      compare: ordIntImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqInt;
      }
    };
  })();
  var ordChar = /* @__PURE__ */ (function() {
    return {
      compare: ordCharImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqChar;
      }
    };
  })();
  var compareRecord = function(dict) {
    return dict.compareRecord;
  };
  var ordRecord = function() {
    return function(dictOrdRecord) {
      var eqRec1 = eqRec2(dictOrdRecord.EqRecord0());
      return {
        compare: compareRecord(dictOrdRecord)($$Proxy.value),
        Eq0: function() {
          return eqRec1;
        }
      };
    };
  };
  var compare = function(dict) {
    return dict.compare;
  };
  var compare2 = /* @__PURE__ */ compare(ordInt);
  var comparing = function(dictOrd) {
    var compare32 = compare(dictOrd);
    return function(f) {
      return function(x10) {
        return function(y10) {
          return compare32(f(x10))(f(y10));
        };
      };
    };
  };
  var max = function(dictOrd) {
    var compare32 = compare(dictOrd);
    return function(x10) {
      return function(y10) {
        var v = compare32(x10)(y10);
        if (v instanceof LT) {
          return y10;
        }
        ;
        if (v instanceof EQ) {
          return x10;
        }
        ;
        if (v instanceof GT) {
          return x10;
        }
        ;
        throw new Error("Failed pattern match at Data.Ord (line 181, column 3 - line 184, column 12): " + [v.constructor.name]);
      };
    };
  };
  var min = function(dictOrd) {
    var compare32 = compare(dictOrd);
    return function(x10) {
      return function(y10) {
        var v = compare32(x10)(y10);
        if (v instanceof LT) {
          return x10;
        }
        ;
        if (v instanceof EQ) {
          return x10;
        }
        ;
        if (v instanceof GT) {
          return y10;
        }
        ;
        throw new Error("Failed pattern match at Data.Ord (line 172, column 3 - line 175, column 12): " + [v.constructor.name]);
      };
    };
  };
  var ordArray = function(dictOrd) {
    var compare32 = compare(dictOrd);
    var eqArray2 = eqArray(dictOrd.Eq0());
    return {
      compare: /* @__PURE__ */ (function() {
        var toDelta = function(x10) {
          return function(y10) {
            var v = compare32(x10)(y10);
            if (v instanceof EQ) {
              return 0;
            }
            ;
            if (v instanceof LT) {
              return 1;
            }
            ;
            if (v instanceof GT) {
              return -1 | 0;
            }
            ;
            throw new Error("Failed pattern match at Data.Ord (line 79, column 7 - line 82, column 17): " + [v.constructor.name]);
          };
        };
        return function(xs) {
          return function(ys) {
            return compare2(0)(ordArrayImpl(toDelta)(xs)(ys));
          };
        };
      })(),
      Eq0: function() {
        return eqArray2;
      }
    };
  };
  var ordRecordCons = function(dictOrdRecord) {
    var compareRecord1 = compareRecord(dictOrdRecord);
    var eqRowCons2 = eqRowCons(dictOrdRecord.EqRecord0())();
    return function() {
      return function(dictIsSymbol) {
        var reflectSymbol2 = reflectSymbol(dictIsSymbol);
        var eqRowCons1 = eqRowCons2(dictIsSymbol);
        return function(dictOrd) {
          var compare32 = compare(dictOrd);
          var eqRowCons22 = eqRowCons1(dictOrd.Eq0());
          return {
            compareRecord: function(v) {
              return function(ra) {
                return function(rb) {
                  var key = reflectSymbol2($$Proxy.value);
                  var left3 = compare32(unsafeGet(key)(ra))(unsafeGet(key)(rb));
                  var $95 = notEq2(left3)(EQ.value);
                  if ($95) {
                    return left3;
                  }
                  ;
                  return compareRecord1($$Proxy.value)(ra)(rb);
                };
              };
            },
            EqRecord0: function() {
              return eqRowCons22;
            }
          };
        };
      };
    };
  };
  var clamp = function(dictOrd) {
    var min1 = min(dictOrd);
    var max1 = max(dictOrd);
    return function(low2) {
      return function(hi) {
        return function(x10) {
          return min1(hi)(max1(low2)(x10));
        };
      };
    };
  };

  // output/Data.Bounded/index.js
  var top = function(dict) {
    return dict.top;
  };
  var boundedChar = {
    top: topChar,
    bottom: bottomChar,
    Ord0: function() {
      return ordChar;
    }
  };
  var bottom = function(dict) {
    return dict.bottom;
  };

  // output/Data.Show/foreign.js
  var showIntImpl = function(n) {
    return n.toString();
  };
  var showNumberImpl = function(n) {
    var str2 = n.toString();
    return isNaN(str2 + ".0") ? str2 : str2 + ".0";
  };
  var showStringImpl = function(s) {
    var l = s.length;
    return '"' + s.replace(
      /[\0-\x1F\x7F"\\]/g,
      // eslint-disable-line no-control-regex
      function(c, i2) {
        switch (c) {
          case '"':
          case "\\":
            return "\\" + c;
          case "\x07":
            return "\\a";
          case "\b":
            return "\\b";
          case "\f":
            return "\\f";
          case "\n":
            return "\\n";
          case "\r":
            return "\\r";
          case "	":
            return "\\t";
          case "\v":
            return "\\v";
        }
        var k = i2 + 1;
        var empty9 = k < l && s[k] >= "0" && s[k] <= "9" ? "\\&" : "";
        return "\\" + c.charCodeAt(0).toString(10) + empty9;
      }
    ) + '"';
  };
  var showArrayImpl = function(f) {
    return function(xs) {
      var ss = [];
      for (var i2 = 0, l = xs.length; i2 < l; i2++) {
        ss[i2] = f(xs[i2]);
      }
      return "[" + ss.join(",") + "]";
    };
  };

  // output/Data.Show/index.js
  var showString = {
    show: showStringImpl
  };
  var showNumber = {
    show: showNumberImpl
  };
  var showInt = {
    show: showIntImpl
  };
  var showBoolean = {
    show: function(v) {
      if (v) {
        return "true";
      }
      ;
      if (!v) {
        return "false";
      }
      ;
      throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): " + [v.constructor.name]);
    }
  };
  var show = function(dict) {
    return dict.show;
  };
  var showArray = function(dictShow) {
    return {
      show: showArrayImpl(show(dictShow))
    };
  };

  // output/Data.Maybe/index.js
  var identity3 = /* @__PURE__ */ identity(categoryFn);
  var Nothing = /* @__PURE__ */ (function() {
    function Nothing2() {
    }
    ;
    Nothing2.value = new Nothing2();
    return Nothing2;
  })();
  var Just = /* @__PURE__ */ (function() {
    function Just2(value0) {
      this.value0 = value0;
    }
    ;
    Just2.create = function(value0) {
      return new Just2(value0);
    };
    return Just2;
  })();
  var maybe = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Nothing) {
          return v;
        }
        ;
        if (v2 instanceof Just) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };
  var isNothing = /* @__PURE__ */ maybe(true)(/* @__PURE__ */ $$const(false));
  var isJust = /* @__PURE__ */ maybe(false)(/* @__PURE__ */ $$const(true));
  var functorMaybe = {
    map: function(v) {
      return function(v1) {
        if (v1 instanceof Just) {
          return new Just(v(v1.value0));
        }
        ;
        return Nothing.value;
      };
    }
  };
  var map2 = /* @__PURE__ */ map(functorMaybe);
  var fromMaybe = function(a2) {
    return maybe(a2)(identity3);
  };
  var fromJust = function() {
    return function(v) {
      if (v instanceof Just) {
        return v.value0;
      }
      ;
      throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): " + [v.constructor.name]);
    };
  };
  var eqMaybe = function(dictEq) {
    var eq9 = eq(dictEq);
    return {
      eq: function(x10) {
        return function(y10) {
          if (x10 instanceof Nothing && y10 instanceof Nothing) {
            return true;
          }
          ;
          if (x10 instanceof Just && y10 instanceof Just) {
            return eq9(x10.value0)(y10.value0);
          }
          ;
          return false;
        };
      }
    };
  };
  var ordMaybe = function(dictOrd) {
    var compare9 = compare(dictOrd);
    var eqMaybe1 = eqMaybe(dictOrd.Eq0());
    return {
      compare: function(x10) {
        return function(y10) {
          if (x10 instanceof Nothing && y10 instanceof Nothing) {
            return EQ.value;
          }
          ;
          if (x10 instanceof Nothing) {
            return LT.value;
          }
          ;
          if (y10 instanceof Nothing) {
            return GT.value;
          }
          ;
          if (x10 instanceof Just && y10 instanceof Just) {
            return compare9(x10.value0)(y10.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Maybe (line 0, column 0 - line 0, column 0): " + [x10.constructor.name, y10.constructor.name]);
        };
      },
      Eq0: function() {
        return eqMaybe1;
      }
    };
  };
  var applyMaybe = {
    apply: function(v) {
      return function(v1) {
        if (v instanceof Just) {
          return map2(v.value0)(v1);
        }
        ;
        if (v instanceof Nothing) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Functor0: function() {
      return functorMaybe;
    }
  };
  var bindMaybe = {
    bind: function(v) {
      return function(v1) {
        if (v instanceof Just) {
          return v1(v.value0);
        }
        ;
        if (v instanceof Nothing) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Apply0: function() {
      return applyMaybe;
    }
  };
  var applicativeMaybe = /* @__PURE__ */ (function() {
    return {
      pure: Just.create,
      Apply0: function() {
        return applyMaybe;
      }
    };
  })();
  var altMaybe = {
    alt: function(v) {
      return function(v1) {
        if (v instanceof Nothing) {
          return v1;
        }
        ;
        return v;
      };
    },
    Functor0: function() {
      return functorMaybe;
    }
  };
  var plusMaybe = /* @__PURE__ */ (function() {
    return {
      empty: Nothing.value,
      Alt0: function() {
        return altMaybe;
      }
    };
  })();
  var alternativeMaybe = {
    Applicative0: function() {
      return applicativeMaybe;
    },
    Plus1: function() {
      return plusMaybe;
    }
  };

  // output/Data.MediaType.Common/index.js
  var applicationJSON = "application/json";
  var applicationFormURLEncoded = "application/x-www-form-urlencoded";

  // output/Affjax.RequestBody/index.js
  var ArrayView = /* @__PURE__ */ (function() {
    function ArrayView2(value0) {
      this.value0 = value0;
    }
    ;
    ArrayView2.create = function(value0) {
      return new ArrayView2(value0);
    };
    return ArrayView2;
  })();
  var Blob = /* @__PURE__ */ (function() {
    function Blob3(value0) {
      this.value0 = value0;
    }
    ;
    Blob3.create = function(value0) {
      return new Blob3(value0);
    };
    return Blob3;
  })();
  var Document = /* @__PURE__ */ (function() {
    function Document3(value0) {
      this.value0 = value0;
    }
    ;
    Document3.create = function(value0) {
      return new Document3(value0);
    };
    return Document3;
  })();
  var $$String = /* @__PURE__ */ (function() {
    function $$String3(value0) {
      this.value0 = value0;
    }
    ;
    $$String3.create = function(value0) {
      return new $$String3(value0);
    };
    return $$String3;
  })();
  var FormData = /* @__PURE__ */ (function() {
    function FormData2(value0) {
      this.value0 = value0;
    }
    ;
    FormData2.create = function(value0) {
      return new FormData2(value0);
    };
    return FormData2;
  })();
  var FormURLEncoded = /* @__PURE__ */ (function() {
    function FormURLEncoded2(value0) {
      this.value0 = value0;
    }
    ;
    FormURLEncoded2.create = function(value0) {
      return new FormURLEncoded2(value0);
    };
    return FormURLEncoded2;
  })();
  var Json = /* @__PURE__ */ (function() {
    function Json3(value0) {
      this.value0 = value0;
    }
    ;
    Json3.create = function(value0) {
      return new Json3(value0);
    };
    return Json3;
  })();
  var toMediaType = function(v) {
    if (v instanceof FormURLEncoded) {
      return new Just(applicationFormURLEncoded);
    }
    ;
    if (v instanceof Json) {
      return new Just(applicationJSON);
    }
    ;
    return Nothing.value;
  };

  // output/Unsafe.Coerce/foreign.js
  var unsafeCoerce2 = function(x10) {
    return x10;
  };

  // output/Safe.Coerce/index.js
  var coerce = function() {
    return unsafeCoerce2;
  };

  // output/Data.Newtype/index.js
  var coerce2 = /* @__PURE__ */ coerce();
  var unwrap = function() {
    return coerce2;
  };
  var alaF = function() {
    return function() {
      return function() {
        return function() {
          return function(v) {
            return coerce2;
          };
        };
      };
    };
  };

  // output/Affjax.RequestHeader/index.js
  var unwrap2 = /* @__PURE__ */ unwrap();
  var Accept = /* @__PURE__ */ (function() {
    function Accept2(value0) {
      this.value0 = value0;
    }
    ;
    Accept2.create = function(value0) {
      return new Accept2(value0);
    };
    return Accept2;
  })();
  var ContentType = /* @__PURE__ */ (function() {
    function ContentType2(value0) {
      this.value0 = value0;
    }
    ;
    ContentType2.create = function(value0) {
      return new ContentType2(value0);
    };
    return ContentType2;
  })();
  var RequestHeader = /* @__PURE__ */ (function() {
    function RequestHeader2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    RequestHeader2.create = function(value0) {
      return function(value1) {
        return new RequestHeader2(value0, value1);
      };
    };
    return RequestHeader2;
  })();
  var value = function(v) {
    if (v instanceof Accept) {
      return unwrap2(v.value0);
    }
    ;
    if (v instanceof ContentType) {
      return unwrap2(v.value0);
    }
    ;
    if (v instanceof RequestHeader) {
      return v.value1;
    }
    ;
    throw new Error("Failed pattern match at Affjax.RequestHeader (line 26, column 1 - line 26, column 33): " + [v.constructor.name]);
  };
  var name = function(v) {
    if (v instanceof Accept) {
      return "Accept";
    }
    ;
    if (v instanceof ContentType) {
      return "Content-Type";
    }
    ;
    if (v instanceof RequestHeader) {
      return v.value0;
    }
    ;
    throw new Error("Failed pattern match at Affjax.RequestHeader (line 21, column 1 - line 21, column 32): " + [v.constructor.name]);
  };

  // output/Affjax.ResponseFormat/index.js
  var identity4 = /* @__PURE__ */ identity(categoryFn);
  var $$ArrayBuffer = /* @__PURE__ */ (function() {
    function $$ArrayBuffer2(value0) {
      this.value0 = value0;
    }
    ;
    $$ArrayBuffer2.create = function(value0) {
      return new $$ArrayBuffer2(value0);
    };
    return $$ArrayBuffer2;
  })();
  var Blob2 = /* @__PURE__ */ (function() {
    function Blob3(value0) {
      this.value0 = value0;
    }
    ;
    Blob3.create = function(value0) {
      return new Blob3(value0);
    };
    return Blob3;
  })();
  var Document2 = /* @__PURE__ */ (function() {
    function Document3(value0) {
      this.value0 = value0;
    }
    ;
    Document3.create = function(value0) {
      return new Document3(value0);
    };
    return Document3;
  })();
  var Json2 = /* @__PURE__ */ (function() {
    function Json3(value0) {
      this.value0 = value0;
    }
    ;
    Json3.create = function(value0) {
      return new Json3(value0);
    };
    return Json3;
  })();
  var $$String2 = /* @__PURE__ */ (function() {
    function $$String3(value0) {
      this.value0 = value0;
    }
    ;
    $$String3.create = function(value0) {
      return new $$String3(value0);
    };
    return $$String3;
  })();
  var Ignore = /* @__PURE__ */ (function() {
    function Ignore2(value0) {
      this.value0 = value0;
    }
    ;
    Ignore2.create = function(value0) {
      return new Ignore2(value0);
    };
    return Ignore2;
  })();
  var toResponseType = function(v) {
    if (v instanceof $$ArrayBuffer) {
      return "arraybuffer";
    }
    ;
    if (v instanceof Blob2) {
      return "blob";
    }
    ;
    if (v instanceof Document2) {
      return "document";
    }
    ;
    if (v instanceof Json2) {
      return "text";
    }
    ;
    if (v instanceof $$String2) {
      return "text";
    }
    ;
    if (v instanceof Ignore) {
      return "";
    }
    ;
    throw new Error("Failed pattern match at Affjax.ResponseFormat (line 44, column 3 - line 50, column 19): " + [v.constructor.name]);
  };
  var toMediaType2 = function(v) {
    if (v instanceof Json2) {
      return new Just(applicationJSON);
    }
    ;
    return Nothing.value;
  };
  var string = /* @__PURE__ */ (function() {
    return new $$String2(identity4);
  })();
  var json = /* @__PURE__ */ (function() {
    return new Json2(identity4);
  })();
  var ignore = /* @__PURE__ */ (function() {
    return new Ignore(identity4);
  })();

  // output/Affjax.ResponseHeader/index.js
  var ResponseHeader = /* @__PURE__ */ (function() {
    function ResponseHeader2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ResponseHeader2.create = function(value0) {
      return function(value1) {
        return new ResponseHeader2(value0, value1);
      };
    };
    return ResponseHeader2;
  })();

  // output/Control.Bind/foreign.js
  var arrayBind = typeof Array.prototype.flatMap === "function" ? function(arr) {
    return function(f) {
      return arr.flatMap(f);
    };
  } : function(arr) {
    return function(f) {
      var result = [];
      var l = arr.length;
      for (var i2 = 0; i2 < l; i2++) {
        var xs = f(arr[i2]);
        var k = xs.length;
        for (var j = 0; j < k; j++) {
          result.push(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Bind/index.js
  var identity5 = /* @__PURE__ */ identity(categoryFn);
  var discard = function(dict) {
    return dict.discard;
  };
  var bindArray = {
    bind: arrayBind,
    Apply0: function() {
      return applyArray;
    }
  };
  var bind = function(dict) {
    return dict.bind;
  };
  var bindFlipped = function(dictBind) {
    return flip(bind(dictBind));
  };
  var composeKleisliFlipped = function(dictBind) {
    var bindFlipped12 = bindFlipped(dictBind);
    return function(f) {
      return function(g) {
        return function(a2) {
          return bindFlipped12(f)(g(a2));
        };
      };
    };
  };
  var composeKleisli = function(dictBind) {
    var bind115 = bind(dictBind);
    return function(f) {
      return function(g) {
        return function(a2) {
          return bind115(f(a2))(g);
        };
      };
    };
  };
  var discardUnit = {
    discard: function(dictBind) {
      return bind(dictBind);
    }
  };
  var join = function(dictBind) {
    var bind115 = bind(dictBind);
    return function(m) {
      return bind115(m)(identity5);
    };
  };

  // output/Data.Either/index.js
  var Left = /* @__PURE__ */ (function() {
    function Left3(value0) {
      this.value0 = value0;
    }
    ;
    Left3.create = function(value0) {
      return new Left3(value0);
    };
    return Left3;
  })();
  var Right = /* @__PURE__ */ (function() {
    function Right3(value0) {
      this.value0 = value0;
    }
    ;
    Right3.create = function(value0) {
      return new Right3(value0);
    };
    return Right3;
  })();
  var note = function(a2) {
    return maybe(new Left(a2))(Right.create);
  };
  var functorEither = {
    map: function(f) {
      return function(m) {
        if (m instanceof Left) {
          return new Left(m.value0);
        }
        ;
        if (m instanceof Right) {
          return new Right(f(m.value0));
        }
        ;
        throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): " + [m.constructor.name]);
      };
    }
  };
  var either = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Left) {
          return v(v2.value0);
        }
        ;
        if (v2 instanceof Right) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };

  // output/Effect/foreign.js
  var pureE = function(a2) {
    return function() {
      return a2;
    };
  };
  var bindE = function(a2) {
    return function(f) {
      return function() {
        return f(a2())();
      };
    };
  };

  // output/Control.Monad/index.js
  var unlessM = function(dictMonad) {
    var bind66 = bind(dictMonad.Bind1());
    var unless2 = unless(dictMonad.Applicative0());
    return function(mb) {
      return function(m) {
        return bind66(mb)(function(b10) {
          return unless2(b10)(m);
        });
      };
    };
  };
  var ap = function(dictMonad) {
    var bind66 = bind(dictMonad.Bind1());
    var pure36 = pure(dictMonad.Applicative0());
    return function(f) {
      return function(a2) {
        return bind66(f)(function(f$prime) {
          return bind66(a2)(function(a$prime) {
            return pure36(f$prime(a$prime));
          });
        });
      };
    };
  };

  // output/Data.EuclideanRing/foreign.js
  var intDegree = function(x10) {
    return Math.min(Math.abs(x10), 2147483647);
  };
  var intDiv = function(x10) {
    return function(y10) {
      if (y10 === 0) return 0;
      return y10 > 0 ? Math.floor(x10 / y10) : -Math.floor(x10 / -y10);
    };
  };
  var intMod = function(x10) {
    return function(y10) {
      if (y10 === 0) return 0;
      var yy = Math.abs(y10);
      return (x10 % yy + yy) % yy;
    };
  };

  // output/Data.CommutativeRing/index.js
  var commutativeRingInt = {
    Ring0: function() {
      return ringInt;
    }
  };

  // output/Data.EuclideanRing/index.js
  var mod = function(dict) {
    return dict.mod;
  };
  var euclideanRingInt = {
    degree: intDegree,
    div: intDiv,
    mod: intMod,
    CommutativeRing0: function() {
      return commutativeRingInt;
    }
  };
  var div = function(dict) {
    return dict.div;
  };

  // output/Data.Monoid/index.js
  var monoidString = {
    mempty: "",
    Semigroup0: function() {
      return semigroupString;
    }
  };
  var mempty = function(dict) {
    return dict.mempty;
  };

  // output/Effect/index.js
  var $runtime_lazy = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var monadEffect = {
    Applicative0: function() {
      return applicativeEffect;
    },
    Bind1: function() {
      return bindEffect;
    }
  };
  var bindEffect = {
    bind: bindE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var applicativeEffect = {
    pure: pureE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var $lazy_functorEffect = /* @__PURE__ */ $runtime_lazy("functorEffect", "Effect", function() {
    return {
      map: liftA1(applicativeEffect)
    };
  });
  var $lazy_applyEffect = /* @__PURE__ */ $runtime_lazy("applyEffect", "Effect", function() {
    return {
      apply: ap(monadEffect),
      Functor0: function() {
        return $lazy_functorEffect(0);
      }
    };
  });
  var functorEffect = /* @__PURE__ */ $lazy_functorEffect(20);
  var applyEffect = /* @__PURE__ */ $lazy_applyEffect(23);

  // output/Effect.Exception/foreign.js
  function error(msg) {
    return new Error(msg);
  }
  function message(e) {
    return e.message;
  }
  function throwException(e) {
    return function() {
      throw e;
    };
  }

  // output/Effect.Exception/index.js
  var $$throw = function($4) {
    return throwException(error($4));
  };

  // output/Control.Monad.Error.Class/index.js
  var throwError = function(dict) {
    return dict.throwError;
  };
  var catchError = function(dict) {
    return dict.catchError;
  };
  var $$try = function(dictMonadError) {
    var catchError1 = catchError(dictMonadError);
    var Monad0 = dictMonadError.MonadThrow0().Monad0();
    var map52 = map(Monad0.Bind1().Apply0().Functor0());
    var pure36 = pure(Monad0.Applicative0());
    return function(a2) {
      return catchError1(map52(Right.create)(a2))(function($52) {
        return pure36(Left.create($52));
      });
    };
  };

  // output/Data.Identity/index.js
  var Identity = function(x10) {
    return x10;
  };
  var functorIdentity = {
    map: function(f) {
      return function(m) {
        return f(m);
      };
    }
  };
  var applyIdentity = {
    apply: function(v) {
      return function(v1) {
        return v(v1);
      };
    },
    Functor0: function() {
      return functorIdentity;
    }
  };
  var bindIdentity = {
    bind: function(v) {
      return function(f) {
        return f(v);
      };
    },
    Apply0: function() {
      return applyIdentity;
    }
  };
  var applicativeIdentity = {
    pure: Identity,
    Apply0: function() {
      return applyIdentity;
    }
  };
  var monadIdentity = {
    Applicative0: function() {
      return applicativeIdentity;
    },
    Bind1: function() {
      return bindIdentity;
    }
  };

  // output/Effect.Ref/foreign.js
  var _new = function(val) {
    return function() {
      return { value: val };
    };
  };
  var read = function(ref2) {
    return function() {
      return ref2.value;
    };
  };
  var modifyImpl = function(f) {
    return function(ref2) {
      return function() {
        var t = f(ref2.value);
        ref2.value = t.state;
        return t.value;
      };
    };
  };
  var write = function(val) {
    return function(ref2) {
      return function() {
        ref2.value = val;
      };
    };
  };

  // output/Effect.Ref/index.js
  var $$void2 = /* @__PURE__ */ $$void(functorEffect);
  var $$new = _new;
  var modify$prime = modifyImpl;
  var modify = function(f) {
    return modify$prime(function(s) {
      var s$prime = f(s);
      return {
        state: s$prime,
        value: s$prime
      };
    });
  };
  var modify_ = function(f) {
    return function(s) {
      return $$void2(modify(f)(s));
    };
  };

  // output/Control.Monad.Rec.Class/index.js
  var bindFlipped2 = /* @__PURE__ */ bindFlipped(bindEffect);
  var map3 = /* @__PURE__ */ map(functorEffect);
  var Loop = /* @__PURE__ */ (function() {
    function Loop2(value0) {
      this.value0 = value0;
    }
    ;
    Loop2.create = function(value0) {
      return new Loop2(value0);
    };
    return Loop2;
  })();
  var Done = /* @__PURE__ */ (function() {
    function Done2(value0) {
      this.value0 = value0;
    }
    ;
    Done2.create = function(value0) {
      return new Done2(value0);
    };
    return Done2;
  })();
  var tailRecM = function(dict) {
    return dict.tailRecM;
  };
  var monadRecEffect = {
    tailRecM: function(f) {
      return function(a2) {
        var fromDone = function(v) {
          if (v instanceof Done) {
            return v.value0;
          }
          ;
          throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 137, column 30 - line 137, column 44): " + [v.constructor.name]);
        };
        return function __do3() {
          var r = bindFlipped2($$new)(f(a2))();
          (function() {
            while (!(function __do4() {
              var v = read(r)();
              if (v instanceof Loop) {
                var e = f(v.value0)();
                write(e)(r)();
                return false;
              }
              ;
              if (v instanceof Done) {
                return true;
              }
              ;
              throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 128, column 22 - line 133, column 28): " + [v.constructor.name]);
            })()) {
            }
            ;
            return {};
          })();
          return map3(fromDone)(read(r))();
        };
      };
    },
    Monad0: function() {
      return monadEffect;
    }
  };

  // output/Control.Monad.ST.Internal/foreign.js
  var map_ = function(f) {
    return function(a2) {
      return function() {
        return f(a2());
      };
    };
  };
  var pure_ = function(a2) {
    return function() {
      return a2;
    };
  };
  var bind_ = function(a2) {
    return function(f) {
      return function() {
        return f(a2())();
      };
    };
  };
  var foreach = function(as) {
    return function(f) {
      return function() {
        for (var i2 = 0, l = as.length; i2 < l; i2++) {
          f(as[i2])();
        }
      };
    };
  };

  // output/Control.Monad.ST.Internal/index.js
  var $runtime_lazy2 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var functorST = {
    map: map_
  };
  var monadST = {
    Applicative0: function() {
      return applicativeST;
    },
    Bind1: function() {
      return bindST;
    }
  };
  var bindST = {
    bind: bind_,
    Apply0: function() {
      return $lazy_applyST(0);
    }
  };
  var applicativeST = {
    pure: pure_,
    Apply0: function() {
      return $lazy_applyST(0);
    }
  };
  var $lazy_applyST = /* @__PURE__ */ $runtime_lazy2("applyST", "Control.Monad.ST.Internal", function() {
    return {
      apply: ap(monadST),
      Functor0: function() {
        return functorST;
      }
    };
  });

  // output/Data.HeytingAlgebra/foreign.js
  var boolConj = function(b12) {
    return function(b22) {
      return b12 && b22;
    };
  };
  var boolDisj = function(b12) {
    return function(b22) {
      return b12 || b22;
    };
  };
  var boolNot = function(b10) {
    return !b10;
  };

  // output/Data.HeytingAlgebra/index.js
  var tt = function(dict) {
    return dict.tt;
  };
  var not = function(dict) {
    return dict.not;
  };
  var implies = function(dict) {
    return dict.implies;
  };
  var ff = function(dict) {
    return dict.ff;
  };
  var disj = function(dict) {
    return dict.disj;
  };
  var heytingAlgebraBoolean = {
    ff: false,
    tt: true,
    implies: function(a2) {
      return function(b10) {
        return disj(heytingAlgebraBoolean)(not(heytingAlgebraBoolean)(a2))(b10);
      };
    },
    conj: boolConj,
    disj: boolDisj,
    not: boolNot
  };
  var conj = function(dict) {
    return dict.conj;
  };
  var heytingAlgebraFunction = function(dictHeytingAlgebra) {
    var ff1 = ff(dictHeytingAlgebra);
    var tt1 = tt(dictHeytingAlgebra);
    var implies1 = implies(dictHeytingAlgebra);
    var conj1 = conj(dictHeytingAlgebra);
    var disj1 = disj(dictHeytingAlgebra);
    var not1 = not(dictHeytingAlgebra);
    return {
      ff: function(v) {
        return ff1;
      },
      tt: function(v) {
        return tt1;
      },
      implies: function(f) {
        return function(g) {
          return function(a2) {
            return implies1(f(a2))(g(a2));
          };
        };
      },
      conj: function(f) {
        return function(g) {
          return function(a2) {
            return conj1(f(a2))(g(a2));
          };
        };
      },
      disj: function(f) {
        return function(g) {
          return function(a2) {
            return disj1(f(a2))(g(a2));
          };
        };
      },
      not: function(f) {
        return function(a2) {
          return not1(f(a2));
        };
      }
    };
  };

  // output/Data.Tuple/index.js
  var Tuple = /* @__PURE__ */ (function() {
    function Tuple2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Tuple2.create = function(value0) {
      return function(value1) {
        return new Tuple2(value0, value1);
      };
    };
    return Tuple2;
  })();
  var snd = function(v) {
    return v.value1;
  };
  var functorTuple = {
    map: function(f) {
      return function(m) {
        return new Tuple(m.value0, f(m.value1));
      };
    }
  };
  var fst = function(v) {
    return v.value0;
  };
  var eqTuple = function(dictEq) {
    var eq9 = eq(dictEq);
    return function(dictEq1) {
      var eq15 = eq(dictEq1);
      return {
        eq: function(x10) {
          return function(y10) {
            return eq9(x10.value0)(y10.value0) && eq15(x10.value1)(y10.value1);
          };
        }
      };
    };
  };
  var ordTuple = function(dictOrd) {
    var compare9 = compare(dictOrd);
    var eqTuple1 = eqTuple(dictOrd.Eq0());
    return function(dictOrd1) {
      var compare12 = compare(dictOrd1);
      var eqTuple2 = eqTuple1(dictOrd1.Eq0());
      return {
        compare: function(x10) {
          return function(y10) {
            var v = compare9(x10.value0)(y10.value0);
            if (v instanceof LT) {
              return LT.value;
            }
            ;
            if (v instanceof GT) {
              return GT.value;
            }
            ;
            return compare12(x10.value1)(y10.value1);
          };
        },
        Eq0: function() {
          return eqTuple2;
        }
      };
    };
  };

  // output/Control.Monad.State.Class/index.js
  var state = function(dict) {
    return dict.state;
  };
  var modify_2 = function(dictMonadState) {
    var state1 = state(dictMonadState);
    return function(f) {
      return state1(function(s) {
        return new Tuple(unit, f(s));
      });
    };
  };
  var modify2 = function(dictMonadState) {
    var state1 = state(dictMonadState);
    return function(f) {
      return state1(function(s) {
        var s$prime = f(s);
        return new Tuple(s$prime, s$prime);
      });
    };
  };
  var gets = function(dictMonadState) {
    var state1 = state(dictMonadState);
    return function(f) {
      return state1(function(s) {
        return new Tuple(f(s), s);
      });
    };
  };
  var get = function(dictMonadState) {
    return state(dictMonadState)(function(s) {
      return new Tuple(s, s);
    });
  };

  // output/Control.Monad.Trans.Class/index.js
  var lift = function(dict) {
    return dict.lift;
  };

  // output/Effect.Class/index.js
  var monadEffectEffect = {
    liftEffect: /* @__PURE__ */ identity(categoryFn),
    Monad0: function() {
      return monadEffect;
    }
  };
  var liftEffect = function(dict) {
    return dict.liftEffect;
  };

  // output/Control.Monad.Except.Trans/index.js
  var map4 = /* @__PURE__ */ map(functorEither);
  var ExceptT = function(x10) {
    return x10;
  };
  var runExceptT = function(v) {
    return v;
  };
  var mapExceptT = function(f) {
    return function(v) {
      return f(v);
    };
  };
  var functorExceptT = function(dictFunctor) {
    var map116 = map(dictFunctor);
    return {
      map: function(f) {
        return mapExceptT(map116(map4(f)));
      }
    };
  };
  var monadExceptT = function(dictMonad) {
    return {
      Applicative0: function() {
        return applicativeExceptT(dictMonad);
      },
      Bind1: function() {
        return bindExceptT(dictMonad);
      }
    };
  };
  var bindExceptT = function(dictMonad) {
    var bind66 = bind(dictMonad.Bind1());
    var pure36 = pure(dictMonad.Applicative0());
    return {
      bind: function(v) {
        return function(k) {
          return bind66(v)(either(function($193) {
            return pure36(Left.create($193));
          })(function(a2) {
            var v1 = k(a2);
            return v1;
          }));
        };
      },
      Apply0: function() {
        return applyExceptT(dictMonad);
      }
    };
  };
  var applyExceptT = function(dictMonad) {
    var functorExceptT1 = functorExceptT(dictMonad.Bind1().Apply0().Functor0());
    return {
      apply: ap(monadExceptT(dictMonad)),
      Functor0: function() {
        return functorExceptT1;
      }
    };
  };
  var applicativeExceptT = function(dictMonad) {
    return {
      pure: (function() {
        var $194 = pure(dictMonad.Applicative0());
        return function($195) {
          return ExceptT($194(Right.create($195)));
        };
      })(),
      Apply0: function() {
        return applyExceptT(dictMonad);
      }
    };
  };
  var monadThrowExceptT = function(dictMonad) {
    var monadExceptT1 = monadExceptT(dictMonad);
    return {
      throwError: (function() {
        var $204 = pure(dictMonad.Applicative0());
        return function($205) {
          return ExceptT($204(Left.create($205)));
        };
      })(),
      Monad0: function() {
        return monadExceptT1;
      }
    };
  };
  var altExceptT = function(dictSemigroup) {
    var append21 = append(dictSemigroup);
    return function(dictMonad) {
      var Bind1 = dictMonad.Bind1();
      var bind66 = bind(Bind1);
      var pure36 = pure(dictMonad.Applicative0());
      var functorExceptT1 = functorExceptT(Bind1.Apply0().Functor0());
      return {
        alt: function(v) {
          return function(v1) {
            return bind66(v)(function(rm) {
              if (rm instanceof Right) {
                return pure36(new Right(rm.value0));
              }
              ;
              if (rm instanceof Left) {
                return bind66(v1)(function(rn) {
                  if (rn instanceof Right) {
                    return pure36(new Right(rn.value0));
                  }
                  ;
                  if (rn instanceof Left) {
                    return pure36(new Left(append21(rm.value0)(rn.value0)));
                  }
                  ;
                  throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): " + [rn.constructor.name]);
                });
              }
              ;
              throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): " + [rm.constructor.name]);
            });
          };
        },
        Functor0: function() {
          return functorExceptT1;
        }
      };
    };
  };

  // output/Control.Monad.Except/index.js
  var unwrap3 = /* @__PURE__ */ unwrap();
  var runExcept = function($3) {
    return unwrap3(runExceptT($3));
  };

  // output/Data.Argonaut.Core/foreign.js
  function id(x10) {
    return x10;
  }
  function stringify(j) {
    return JSON.stringify(j);
  }

  // output/Foreign.Object/foreign.js
  var empty = {};
  function _lookup(no, yes, k, m) {
    return k in m ? yes(m[k]) : no;
  }
  function toArrayWithKey(f) {
    return function(m) {
      var r = [];
      for (var k in m) {
        if (hasOwnProperty.call(m, k)) {
          r.push(f(k)(m[k]));
        }
      }
      return r;
    };
  }
  var keys = Object.keys || toArrayWithKey(function(k) {
    return function() {
      return k;
    };
  });

  // output/Data.Array/foreign.js
  var rangeImpl = function(start7, end2) {
    var step3 = start7 > end2 ? -1 : 1;
    var result = new Array(step3 * (end2 - start7) + 1);
    var i2 = start7, n = 0;
    while (i2 !== end2) {
      result[n++] = i2;
      i2 += step3;
    }
    result[n] = i2;
    return result;
  };
  var replicateFill = function(count, value15) {
    if (count < 1) {
      return [];
    }
    var result = new Array(count);
    return result.fill(value15);
  };
  var replicatePolyfill = function(count, value15) {
    var result = [];
    var n = 0;
    for (var i2 = 0; i2 < count; i2++) {
      result[n++] = value15;
    }
    return result;
  };
  var replicateImpl = typeof Array.prototype.fill === "function" ? replicateFill : replicatePolyfill;
  var fromFoldableImpl = /* @__PURE__ */ (function() {
    function Cons2(head6, tail2) {
      this.head = head6;
      this.tail = tail2;
    }
    var emptyList = {};
    function curryCons(head6) {
      return function(tail2) {
        return new Cons2(head6, tail2);
      };
    }
    function listToArray(list) {
      var result = [];
      var count = 0;
      var xs = list;
      while (xs !== emptyList) {
        result[count++] = xs.head;
        xs = xs.tail;
      }
      return result;
    }
    return function(foldr6, xs) {
      return listToArray(foldr6(curryCons)(emptyList)(xs));
    };
  })();
  var length = function(xs) {
    return xs.length;
  };
  var unconsImpl = function(empty9, next, xs) {
    return xs.length === 0 ? empty9({}) : next(xs[0])(xs.slice(1));
  };
  var indexImpl = function(just, nothing, xs, i2) {
    return i2 < 0 || i2 >= xs.length ? nothing : just(xs[i2]);
  };
  var findIndexImpl = function(just, nothing, f, xs) {
    for (var i2 = 0, l = xs.length; i2 < l; i2++) {
      if (f(xs[i2])) return just(i2);
    }
    return nothing;
  };
  var _deleteAt = function(just, nothing, i2, l) {
    if (i2 < 0 || i2 >= l.length) return nothing;
    var l1 = l.slice();
    l1.splice(i2, 1);
    return just(l1);
  };
  var reverse = function(l) {
    return l.slice().reverse();
  };
  var concat = function(xss) {
    if (xss.length <= 1e4) {
      return Array.prototype.concat.apply([], xss);
    }
    var result = [];
    for (var i2 = 0, l = xss.length; i2 < l; i2++) {
      var xs = xss[i2];
      for (var j = 0, m = xs.length; j < m; j++) {
        result.push(xs[j]);
      }
    }
    return result;
  };
  var filterImpl = function(f, xs) {
    return xs.filter(f);
  };
  var sortByImpl = /* @__PURE__ */ (function() {
    function mergeFromTo(compare9, fromOrdering, xs1, xs2, from3, to2) {
      var mid;
      var i2;
      var j;
      var k;
      var x10;
      var y10;
      var c;
      mid = from3 + (to2 - from3 >> 1);
      if (mid - from3 > 1) mergeFromTo(compare9, fromOrdering, xs2, xs1, from3, mid);
      if (to2 - mid > 1) mergeFromTo(compare9, fromOrdering, xs2, xs1, mid, to2);
      i2 = from3;
      j = mid;
      k = from3;
      while (i2 < mid && j < to2) {
        x10 = xs2[i2];
        y10 = xs2[j];
        c = fromOrdering(compare9(x10)(y10));
        if (c > 0) {
          xs1[k++] = y10;
          ++j;
        } else {
          xs1[k++] = x10;
          ++i2;
        }
      }
      while (i2 < mid) {
        xs1[k++] = xs2[i2++];
      }
      while (j < to2) {
        xs1[k++] = xs2[j++];
      }
    }
    return function(compare9, fromOrdering, xs) {
      var out;
      if (xs.length < 2) return xs;
      out = xs.slice(0);
      mergeFromTo(compare9, fromOrdering, out, xs.slice(0), 0, xs.length);
      return out;
    };
  })();
  var sliceImpl = function(s, e, l) {
    return l.slice(s, e);
  };
  var zipWithImpl = function(f, xs, ys) {
    var l = xs.length < ys.length ? xs.length : ys.length;
    var result = new Array(l);
    for (var i2 = 0; i2 < l; i2++) {
      result[i2] = f(xs[i2])(ys[i2]);
    }
    return result;
  };
  var unsafeIndexImpl = function(xs, n) {
    return xs[n];
  };

  // output/Data.Array.ST/foreign.js
  function unsafeFreezeThawImpl(xs) {
    return xs;
  }
  var unsafeFreezeImpl = unsafeFreezeThawImpl;
  var unsafeThawImpl = unsafeFreezeThawImpl;
  function copyImpl(xs) {
    return xs.slice();
  }
  var thawImpl = copyImpl;
  var pushImpl = function(a2, xs) {
    return xs.push(a2);
  };

  // output/Control.Monad.ST.Uncurried/foreign.js
  var runSTFn1 = function runSTFn12(fn) {
    return function(a2) {
      return function() {
        return fn(a2);
      };
    };
  };
  var runSTFn2 = function runSTFn22(fn) {
    return function(a2) {
      return function(b10) {
        return function() {
          return fn(a2, b10);
        };
      };
    };
  };

  // output/Data.Array.ST/index.js
  var unsafeThaw = /* @__PURE__ */ runSTFn1(unsafeThawImpl);
  var unsafeFreeze = /* @__PURE__ */ runSTFn1(unsafeFreezeImpl);
  var thaw = /* @__PURE__ */ runSTFn1(thawImpl);
  var withArray = function(f) {
    return function(xs) {
      return function __do3() {
        var result = thaw(xs)();
        f(result)();
        return unsafeFreeze(result)();
      };
    };
  };
  var push = /* @__PURE__ */ runSTFn2(pushImpl);

  // output/Data.Foldable/foreign.js
  var foldrArray = function(f) {
    return function(init8) {
      return function(xs) {
        var acc = init8;
        var len = xs.length;
        for (var i2 = len - 1; i2 >= 0; i2--) {
          acc = f(xs[i2])(acc);
        }
        return acc;
      };
    };
  };
  var foldlArray = function(f) {
    return function(init8) {
      return function(xs) {
        var acc = init8;
        var len = xs.length;
        for (var i2 = 0; i2 < len; i2++) {
          acc = f(acc)(xs[i2]);
        }
        return acc;
      };
    };
  };

  // output/Control.Plus/index.js
  var empty2 = function(dict) {
    return dict.empty;
  };

  // output/Data.Bifunctor/index.js
  var bimap = function(dict) {
    return dict.bimap;
  };

  // output/Data.Monoid.Disj/index.js
  var Disj = function(x10) {
    return x10;
  };
  var semigroupDisj = function(dictHeytingAlgebra) {
    var disj2 = disj(dictHeytingAlgebra);
    return {
      append: function(v) {
        return function(v1) {
          return disj2(v)(v1);
        };
      }
    };
  };
  var monoidDisj = function(dictHeytingAlgebra) {
    var semigroupDisj1 = semigroupDisj(dictHeytingAlgebra);
    return {
      mempty: ff(dictHeytingAlgebra),
      Semigroup0: function() {
        return semigroupDisj1;
      }
    };
  };

  // output/Data.Foldable/index.js
  var eq12 = /* @__PURE__ */ eq(eqOrdering);
  var alaF2 = /* @__PURE__ */ alaF()()()();
  var foldr = function(dict) {
    return dict.foldr;
  };
  var traverse_ = function(dictApplicative) {
    var applySecond3 = applySecond(dictApplicative.Apply0());
    var pure36 = pure(dictApplicative);
    return function(dictFoldable) {
      var foldr22 = foldr(dictFoldable);
      return function(f) {
        return foldr22(function($454) {
          return applySecond3(f($454));
        })(pure36(unit));
      };
    };
  };
  var for_ = function(dictApplicative) {
    var traverse_15 = traverse_(dictApplicative);
    return function(dictFoldable) {
      return flip(traverse_15(dictFoldable));
    };
  };
  var foldl = function(dict) {
    return dict.foldl;
  };
  var indexl = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(idx) {
      var go2 = function(cursor) {
        return function(a2) {
          if (cursor.elem instanceof Just) {
            return cursor;
          }
          ;
          var $296 = cursor.pos === idx;
          if ($296) {
            return {
              elem: new Just(a2),
              pos: cursor.pos
            };
          }
          ;
          return {
            pos: cursor.pos + 1 | 0,
            elem: cursor.elem
          };
        };
      };
      var $455 = foldl22(go2)({
        elem: Nothing.value,
        pos: 0
      });
      return function($456) {
        return (function(v) {
          return v.elem;
        })($455($456));
      };
    };
  };
  var intercalate = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(dictMonoid) {
      var append21 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(sep) {
        return function(xs) {
          var go2 = function(v) {
            return function(v1) {
              if (v.init) {
                return {
                  init: false,
                  acc: v1
                };
              }
              ;
              return {
                init: false,
                acc: append21(v.acc)(append21(sep)(v1))
              };
            };
          };
          return foldl22(go2)({
            init: true,
            acc: mempty2
          })(xs).acc;
        };
      };
    };
  };
  var maximumBy = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(cmp) {
      var max$prime = function(v) {
        return function(v1) {
          if (v instanceof Nothing) {
            return new Just(v1);
          }
          ;
          if (v instanceof Just) {
            return new Just((function() {
              var $303 = eq12(cmp(v.value0)(v1))(GT.value);
              if ($303) {
                return v.value0;
              }
              ;
              return v1;
            })());
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): " + [v.constructor.name, v1.constructor.name]);
        };
      };
      return foldl22(max$prime)(Nothing.value);
    };
  };
  var maximum = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(dictFoldable) {
      return maximumBy(dictFoldable)(compare9);
    };
  };
  var minimumBy = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(cmp) {
      var min$prime = function(v) {
        return function(v1) {
          if (v instanceof Nothing) {
            return new Just(v1);
          }
          ;
          if (v instanceof Just) {
            return new Just((function() {
              var $307 = eq12(cmp(v.value0)(v1))(LT.value);
              if ($307) {
                return v.value0;
              }
              ;
              return v1;
            })());
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 454, column 3 - line 454, column 27): " + [v.constructor.name, v1.constructor.name]);
        };
      };
      return foldl22(min$prime)(Nothing.value);
    };
  };
  var minimum = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(dictFoldable) {
      return minimumBy(dictFoldable)(compare9);
    };
  };
  var foldableMaybe = {
    foldr: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Nothing) {
            return v1;
          }
          ;
          if (v2 instanceof Just) {
            return v(v2.value0)(v1);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldl: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Nothing) {
            return v1;
          }
          ;
          if (v2 instanceof Just) {
            return v(v1)(v2.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      return function(v) {
        return function(v1) {
          if (v1 instanceof Nothing) {
            return mempty2;
          }
          ;
          if (v1 instanceof Just) {
            return v(v1.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name]);
        };
      };
    }
  };
  var foldableEither = {
    foldr: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Left) {
            return v1;
          }
          ;
          if (v2 instanceof Right) {
            return v(v2.value0)(v1);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldl: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Left) {
            return v1;
          }
          ;
          if (v2 instanceof Right) {
            return v(v1)(v2.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      return function(v) {
        return function(v1) {
          if (v1 instanceof Left) {
            return mempty2;
          }
          ;
          if (v1 instanceof Right) {
            return v(v1.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): " + [v.constructor.name, v1.constructor.name]);
        };
      };
    }
  };
  var foldMapDefaultR = function(dictFoldable) {
    var foldr22 = foldr(dictFoldable);
    return function(dictMonoid) {
      var append21 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldr22(function(x10) {
          return function(acc) {
            return append21(f(x10))(acc);
          };
        })(mempty2);
      };
    };
  };
  var foldableArray = {
    foldr: foldrArray,
    foldl: foldlArray,
    foldMap: function(dictMonoid) {
      return foldMapDefaultR(foldableArray)(dictMonoid);
    }
  };
  var foldMap = function(dict) {
    return dict.foldMap;
  };
  var any = function(dictFoldable) {
    var foldMap22 = foldMap(dictFoldable);
    return function(dictHeytingAlgebra) {
      return alaF2(Disj)(foldMap22(monoidDisj(dictHeytingAlgebra)));
    };
  };

  // output/Data.Function.Uncurried/foreign.js
  var mkFn2 = function(fn) {
    return function(a2, b10) {
      return fn(a2)(b10);
    };
  };
  var runFn2 = function(fn) {
    return function(a2) {
      return function(b10) {
        return fn(a2, b10);
      };
    };
  };
  var runFn3 = function(fn) {
    return function(a2) {
      return function(b10) {
        return function(c) {
          return fn(a2, b10, c);
        };
      };
    };
  };
  var runFn4 = function(fn) {
    return function(a2) {
      return function(b10) {
        return function(c) {
          return function(d8) {
            return fn(a2, b10, c, d8);
          };
        };
      };
    };
  };

  // output/Data.FunctorWithIndex/foreign.js
  var mapWithIndexArray = function(f) {
    return function(xs) {
      var l = xs.length;
      var result = Array(l);
      for (var i2 = 0; i2 < l; i2++) {
        result[i2] = f(i2)(xs[i2]);
      }
      return result;
    };
  };

  // output/Data.FunctorWithIndex/index.js
  var mapWithIndex = function(dict) {
    return dict.mapWithIndex;
  };
  var functorWithIndexArray = {
    mapWithIndex: mapWithIndexArray,
    Functor0: function() {
      return functorArray;
    }
  };

  // output/Data.Traversable/foreign.js
  var traverseArrayImpl = /* @__PURE__ */ (function() {
    function array1(a2) {
      return [a2];
    }
    function array2(a2) {
      return function(b10) {
        return [a2, b10];
      };
    }
    function array3(a2) {
      return function(b10) {
        return function(c) {
          return [a2, b10, c];
        };
      };
    }
    function concat2(xs) {
      return function(ys) {
        return xs.concat(ys);
      };
    }
    return function(apply5) {
      return function(map52) {
        return function(pure36) {
          return function(f) {
            return function(array4) {
              function go2(bot, top2) {
                switch (top2 - bot) {
                  case 0:
                    return pure36([]);
                  case 1:
                    return map52(array1)(f(array4[bot]));
                  case 2:
                    return apply5(map52(array2)(f(array4[bot])))(f(array4[bot + 1]));
                  case 3:
                    return apply5(apply5(map52(array3)(f(array4[bot])))(f(array4[bot + 1])))(f(array4[bot + 2]));
                  default:
                    var pivot = bot + Math.floor((top2 - bot) / 4) * 2;
                    return apply5(map52(concat2)(go2(bot, pivot)))(go2(pivot, top2));
                }
              }
              return go2(0, array4.length);
            };
          };
        };
      };
    };
  })();

  // output/Data.Traversable.Accum.Internal/index.js
  var stateL = function(v) {
    return v;
  };
  var functorStateL = {
    map: function(f) {
      return function(k) {
        return function(s) {
          var v = stateL(k)(s);
          return {
            accum: v.accum,
            value: f(v.value)
          };
        };
      };
    }
  };
  var applyStateL = {
    apply: function(f) {
      return function(x10) {
        return function(s) {
          var v = stateL(f)(s);
          var v1 = stateL(x10)(v.accum);
          return {
            accum: v1.accum,
            value: v.value(v1.value)
          };
        };
      };
    },
    Functor0: function() {
      return functorStateL;
    }
  };
  var applicativeStateL = {
    pure: function(a2) {
      return function(s) {
        return {
          accum: s,
          value: a2
        };
      };
    },
    Apply0: function() {
      return applyStateL;
    }
  };

  // output/Data.Traversable/index.js
  var identity6 = /* @__PURE__ */ identity(categoryFn);
  var traverse = function(dict) {
    return dict.traverse;
  };
  var sequenceDefault = function(dictTraversable) {
    var traverse22 = traverse(dictTraversable);
    return function(dictApplicative) {
      return traverse22(dictApplicative)(identity6);
    };
  };
  var traversableArray = {
    traverse: function(dictApplicative) {
      var Apply0 = dictApplicative.Apply0();
      return traverseArrayImpl(apply(Apply0))(map(Apply0.Functor0()))(pure(dictApplicative));
    },
    sequence: function(dictApplicative) {
      return sequenceDefault(traversableArray)(dictApplicative);
    },
    Functor0: function() {
      return functorArray;
    },
    Foldable1: function() {
      return foldableArray;
    }
  };
  var sequence = function(dict) {
    return dict.sequence;
  };
  var mapAccumL = function(dictTraversable) {
    var traverse22 = traverse(dictTraversable)(applicativeStateL);
    return function(f) {
      return function(s0) {
        return function(xs) {
          return stateL(traverse22(function(a2) {
            return function(s) {
              return f(s)(a2);
            };
          })(xs))(s0);
        };
      };
    };
  };
  var scanl = function(dictTraversable) {
    var mapAccumL1 = mapAccumL(dictTraversable);
    return function(f) {
      return function(b02) {
        return function(xs) {
          return mapAccumL1(function(b10) {
            return function(a2) {
              var b$prime = f(b10)(a2);
              return {
                accum: b$prime,
                value: b$prime
              };
            };
          })(b02)(xs).value;
        };
      };
    };
  };

  // output/Data.Unfoldable/foreign.js
  var unfoldrArrayImpl = function(isNothing2) {
    return function(fromJust6) {
      return function(fst2) {
        return function(snd2) {
          return function(f) {
            return function(b10) {
              var result = [];
              var value15 = b10;
              while (true) {
                var maybe2 = f(value15);
                if (isNothing2(maybe2)) return result;
                var tuple = fromJust6(maybe2);
                result.push(fst2(tuple));
                value15 = snd2(tuple);
              }
            };
          };
        };
      };
    };
  };

  // output/Data.Unfoldable1/foreign.js
  var unfoldr1ArrayImpl = function(isNothing2) {
    return function(fromJust6) {
      return function(fst2) {
        return function(snd2) {
          return function(f) {
            return function(b10) {
              var result = [];
              var value15 = b10;
              while (true) {
                var tuple = f(value15);
                result.push(fst2(tuple));
                var maybe2 = snd2(tuple);
                if (isNothing2(maybe2)) return result;
                value15 = fromJust6(maybe2);
              }
            };
          };
        };
      };
    };
  };

  // output/Data.Unfoldable1/index.js
  var fromJust2 = /* @__PURE__ */ fromJust();
  var unfoldable1Array = {
    unfoldr1: /* @__PURE__ */ unfoldr1ArrayImpl(isNothing)(fromJust2)(fst)(snd)
  };

  // output/Data.Unfoldable/index.js
  var fromJust3 = /* @__PURE__ */ fromJust();
  var unfoldr = function(dict) {
    return dict.unfoldr;
  };
  var unfoldableArray = {
    unfoldr: /* @__PURE__ */ unfoldrArrayImpl(isNothing)(fromJust3)(fst)(snd),
    Unfoldable10: function() {
      return unfoldable1Array;
    }
  };

  // output/Data.Array/index.js
  var $$void3 = /* @__PURE__ */ $$void(functorST);
  var intercalate1 = /* @__PURE__ */ intercalate(foldableArray);
  var map1 = /* @__PURE__ */ map(functorArray);
  var map22 = /* @__PURE__ */ map(functorST);
  var fromJust4 = /* @__PURE__ */ fromJust();
  var when2 = /* @__PURE__ */ when(applicativeST);
  var notEq3 = /* @__PURE__ */ notEq(eqOrdering);
  var append2 = /* @__PURE__ */ append(semigroupArray);
  var zipWith = /* @__PURE__ */ runFn3(zipWithImpl);
  var unsafeIndex = function() {
    return runFn2(unsafeIndexImpl);
  };
  var uncons = /* @__PURE__ */ (function() {
    return runFn3(unconsImpl)($$const(Nothing.value))(function(x10) {
      return function(xs) {
        return new Just({
          head: x10,
          tail: xs
        });
      };
    });
  })();
  var sortBy = function(comp) {
    return runFn3(sortByImpl)(comp)(function(v) {
      if (v instanceof GT) {
        return 1;
      }
      ;
      if (v instanceof EQ) {
        return 0;
      }
      ;
      if (v instanceof LT) {
        return -1 | 0;
      }
      ;
      throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): " + [v.constructor.name]);
    });
  };
  var sortWith = function(dictOrd) {
    var comparing2 = comparing(dictOrd);
    return function(f) {
      return sortBy(comparing2(f));
    };
  };
  var sortWith1 = /* @__PURE__ */ sortWith(ordInt);
  var snoc = function(xs) {
    return function(x10) {
      return withArray(push(x10))(xs)();
    };
  };
  var slice = /* @__PURE__ */ runFn3(sliceImpl);
  var take = function(n) {
    return function(xs) {
      var $152 = n < 1;
      if ($152) {
        return [];
      }
      ;
      return slice(0)(n)(xs);
    };
  };
  var singleton2 = function(a2) {
    return [a2];
  };
  var range2 = /* @__PURE__ */ runFn2(rangeImpl);
  var mapWithIndex2 = /* @__PURE__ */ mapWithIndex(functorWithIndexArray);
  var intercalate2 = function(dictMonoid) {
    return intercalate1(dictMonoid);
  };
  var index = /* @__PURE__ */ (function() {
    return runFn4(indexImpl)(Just.create)(Nothing.value);
  })();
  var last = function(xs) {
    return index(xs)(length(xs) - 1 | 0);
  };
  var head = function(xs) {
    return index(xs)(0);
  };
  var nubBy = function(comp) {
    return function(xs) {
      var indexedAndSorted = sortBy(function(x10) {
        return function(y10) {
          return comp(snd(x10))(snd(y10));
        };
      })(mapWithIndex2(Tuple.create)(xs));
      var v = head(indexedAndSorted);
      if (v instanceof Nothing) {
        return [];
      }
      ;
      if (v instanceof Just) {
        return map1(snd)(sortWith1(fst)((function __do3() {
          var result = unsafeThaw(singleton2(v.value0))();
          foreach(indexedAndSorted)(function(v1) {
            return function __do4() {
              var lst = map22(/* @__PURE__ */ (function() {
                var $183 = function($185) {
                  return fromJust4(last($185));
                };
                return function($184) {
                  return snd($183($184));
                };
              })())(unsafeFreeze(result))();
              return when2(notEq3(comp(lst)(v1.value1))(EQ.value))($$void3(push(v1)(result)))();
            };
          })();
          return unsafeFreeze(result)();
        })()));
      }
      ;
      throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): " + [v.constructor.name]);
    };
  };
  var nub = function(dictOrd) {
    return nubBy(compare(dictOrd));
  };
  var fromFoldable = function(dictFoldable) {
    return runFn2(fromFoldableImpl)(foldr(dictFoldable));
  };
  var foldl2 = /* @__PURE__ */ foldl(foldableArray);
  var findIndex = /* @__PURE__ */ (function() {
    return runFn4(findIndexImpl)(Just.create)(Nothing.value);
  })();
  var filter = /* @__PURE__ */ runFn2(filterImpl);
  var elemIndex = function(dictEq) {
    var eq24 = eq(dictEq);
    return function(x10) {
      return findIndex(function(v) {
        return eq24(v)(x10);
      });
    };
  };
  var elem2 = function(dictEq) {
    var elemIndex1 = elemIndex(dictEq);
    return function(a2) {
      return function(arr) {
        return isJust(elemIndex1(a2)(arr));
      };
    };
  };
  var deleteAt = /* @__PURE__ */ (function() {
    return runFn4(_deleteAt)(Just.create)(Nothing.value);
  })();
  var deleteBy = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2.length === 0) {
          return [];
        }
        ;
        return maybe(v2)(function(i2) {
          return fromJust4(deleteAt(i2)(v2));
        })(findIndex(v(v1))(v2));
      };
    };
  };
  var cons = function(x10) {
    return function(xs) {
      return append2([x10])(xs);
    };
  };
  var concatMap = /* @__PURE__ */ flip(/* @__PURE__ */ bind(bindArray));
  var mapMaybe = function(f) {
    return concatMap((function() {
      var $189 = maybe([])(singleton2);
      return function($190) {
        return $189(f($190));
      };
    })());
  };

  // output/Data.FoldableWithIndex/index.js
  var foldr8 = /* @__PURE__ */ foldr(foldableArray);
  var mapWithIndex3 = /* @__PURE__ */ mapWithIndex(functorWithIndexArray);
  var foldl8 = /* @__PURE__ */ foldl(foldableArray);
  var foldrWithIndex = function(dict) {
    return dict.foldrWithIndex;
  };
  var traverseWithIndex_ = function(dictApplicative) {
    var applySecond3 = applySecond(dictApplicative.Apply0());
    var pure36 = pure(dictApplicative);
    return function(dictFoldableWithIndex) {
      var foldrWithIndex1 = foldrWithIndex(dictFoldableWithIndex);
      return function(f) {
        return foldrWithIndex1(function(i2) {
          var $289 = f(i2);
          return function($290) {
            return applySecond3($289($290));
          };
        })(pure36(unit));
      };
    };
  };
  var foldlWithIndex = function(dict) {
    return dict.foldlWithIndex;
  };
  var foldMapWithIndexDefaultR = function(dictFoldableWithIndex) {
    var foldrWithIndex1 = foldrWithIndex(dictFoldableWithIndex);
    return function(dictMonoid) {
      var append21 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldrWithIndex1(function(i2) {
          return function(x10) {
            return function(acc) {
              return append21(f(i2)(x10))(acc);
            };
          };
        })(mempty2);
      };
    };
  };
  var foldableWithIndexArray = {
    foldrWithIndex: function(f) {
      return function(z) {
        var $291 = foldr8(function(v) {
          return function(y10) {
            return f(v.value0)(v.value1)(y10);
          };
        })(z);
        var $292 = mapWithIndex3(Tuple.create);
        return function($293) {
          return $291($292($293));
        };
      };
    },
    foldlWithIndex: function(f) {
      return function(z) {
        var $294 = foldl8(function(y10) {
          return function(v) {
            return f(v.value0)(y10)(v.value1);
          };
        })(z);
        var $295 = mapWithIndex3(Tuple.create);
        return function($296) {
          return $294($295($296));
        };
      };
    },
    foldMapWithIndex: function(dictMonoid) {
      return foldMapWithIndexDefaultR(foldableWithIndexArray)(dictMonoid);
    },
    Foldable0: function() {
      return foldableArray;
    }
  };

  // output/Data.TraversableWithIndex/index.js
  var traverseWithIndexDefault = function(dictTraversableWithIndex) {
    var sequence2 = sequence(dictTraversableWithIndex.Traversable2());
    var mapWithIndex4 = mapWithIndex(dictTraversableWithIndex.FunctorWithIndex0());
    return function(dictApplicative) {
      var sequence12 = sequence2(dictApplicative);
      return function(f) {
        var $174 = mapWithIndex4(f);
        return function($175) {
          return sequence12($174($175));
        };
      };
    };
  };
  var traverseWithIndex = function(dict) {
    return dict.traverseWithIndex;
  };
  var traversableWithIndexArray = {
    traverseWithIndex: function(dictApplicative) {
      return traverseWithIndexDefault(traversableWithIndexArray)(dictApplicative);
    },
    FunctorWithIndex0: function() {
      return functorWithIndexArray;
    },
    FoldableWithIndex1: function() {
      return foldableWithIndexArray;
    },
    Traversable2: function() {
      return traversableArray;
    }
  };

  // output/Foreign.Object.ST/foreign.js
  var newImpl = function() {
    return {};
  };

  // output/Foreign.Object/index.js
  var lookup = /* @__PURE__ */ (function() {
    return runFn4(_lookup)(Nothing.value)(Just.create);
  })();

  // output/Data.Argonaut.Core/index.js
  var jsonEmptyObject = /* @__PURE__ */ id(empty);

  // output/Data.Argonaut.Parser/foreign.js
  function _jsonParser(fail3, succ, s) {
    try {
      return succ(JSON.parse(s));
    } catch (e) {
      return fail3(e.message);
    }
  }

  // output/Data.Argonaut.Parser/index.js
  var jsonParser = function(j) {
    return _jsonParser(Left.create, Right.create, j);
  };

  // output/Data.String.Common/foreign.js
  var replaceAll = function(s1) {
    return function(s2) {
      return function(s3) {
        return s3.replace(new RegExp(s1.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"), "g"), s2);
      };
    };
  };
  var split = function(sep) {
    return function(s) {
      return s.split(sep);
    };
  };
  var trim = function(s) {
    return s.trim();
  };
  var joinWith = function(s) {
    return function(xs) {
      return xs.join(s);
    };
  };

  // output/JSURI/foreign.js
  function encodeURIComponent_to_RFC3986(input3) {
    return input3.replace(/[!'()*]/g, function(c) {
      return "%" + c.charCodeAt(0).toString(16);
    });
  }
  function _encodeFormURLComponent(fail3, succeed, input3) {
    try {
      return succeed(encodeURIComponent_to_RFC3986(encodeURIComponent(input3)).replace(/%20/g, "+"));
    } catch (err) {
      return fail3(err);
    }
  }
  function _decodeURIComponent(fail3, succeed, input3) {
    try {
      return succeed(decodeURIComponent(input3));
    } catch (err) {
      return fail3(err);
    }
  }

  // output/JSURI/index.js
  var encodeFormURLComponent = /* @__PURE__ */ (function() {
    return runFn3(_encodeFormURLComponent)($$const(Nothing.value))(Just.create);
  })();
  var $$decodeURIComponent = /* @__PURE__ */ (function() {
    return runFn3(_decodeURIComponent)($$const(Nothing.value))(Just.create);
  })();

  // output/Data.FormURLEncoded/index.js
  var apply2 = /* @__PURE__ */ apply(applyMaybe);
  var map5 = /* @__PURE__ */ map(functorMaybe);
  var traverse2 = /* @__PURE__ */ traverse(traversableArray)(applicativeMaybe);
  var toArray = function(v) {
    return v;
  };
  var encode = /* @__PURE__ */ (function() {
    var encodePart = function(v) {
      if (v.value1 instanceof Nothing) {
        return encodeFormURLComponent(v.value0);
      }
      ;
      if (v.value1 instanceof Just) {
        return apply2(map5(function(key) {
          return function(val) {
            return key + ("=" + val);
          };
        })(encodeFormURLComponent(v.value0)))(encodeFormURLComponent(v.value1.value0));
      }
      ;
      throw new Error("Failed pattern match at Data.FormURLEncoded (line 37, column 16 - line 39, column 114): " + [v.constructor.name]);
    };
    var $37 = map5(joinWith("&"));
    var $38 = traverse2(encodePart);
    return function($39) {
      return $37($38(toArray($39)));
    };
  })();

  // output/Data.HTTP.Method/index.js
  var OPTIONS = /* @__PURE__ */ (function() {
    function OPTIONS2() {
    }
    ;
    OPTIONS2.value = new OPTIONS2();
    return OPTIONS2;
  })();
  var GET = /* @__PURE__ */ (function() {
    function GET3() {
    }
    ;
    GET3.value = new GET3();
    return GET3;
  })();
  var HEAD = /* @__PURE__ */ (function() {
    function HEAD2() {
    }
    ;
    HEAD2.value = new HEAD2();
    return HEAD2;
  })();
  var POST = /* @__PURE__ */ (function() {
    function POST3() {
    }
    ;
    POST3.value = new POST3();
    return POST3;
  })();
  var PUT = /* @__PURE__ */ (function() {
    function PUT2() {
    }
    ;
    PUT2.value = new PUT2();
    return PUT2;
  })();
  var DELETE = /* @__PURE__ */ (function() {
    function DELETE2() {
    }
    ;
    DELETE2.value = new DELETE2();
    return DELETE2;
  })();
  var TRACE = /* @__PURE__ */ (function() {
    function TRACE2() {
    }
    ;
    TRACE2.value = new TRACE2();
    return TRACE2;
  })();
  var CONNECT = /* @__PURE__ */ (function() {
    function CONNECT2() {
    }
    ;
    CONNECT2.value = new CONNECT2();
    return CONNECT2;
  })();
  var PROPFIND = /* @__PURE__ */ (function() {
    function PROPFIND2() {
    }
    ;
    PROPFIND2.value = new PROPFIND2();
    return PROPFIND2;
  })();
  var PROPPATCH = /* @__PURE__ */ (function() {
    function PROPPATCH2() {
    }
    ;
    PROPPATCH2.value = new PROPPATCH2();
    return PROPPATCH2;
  })();
  var MKCOL = /* @__PURE__ */ (function() {
    function MKCOL2() {
    }
    ;
    MKCOL2.value = new MKCOL2();
    return MKCOL2;
  })();
  var COPY = /* @__PURE__ */ (function() {
    function COPY2() {
    }
    ;
    COPY2.value = new COPY2();
    return COPY2;
  })();
  var MOVE = /* @__PURE__ */ (function() {
    function MOVE2() {
    }
    ;
    MOVE2.value = new MOVE2();
    return MOVE2;
  })();
  var LOCK = /* @__PURE__ */ (function() {
    function LOCK2() {
    }
    ;
    LOCK2.value = new LOCK2();
    return LOCK2;
  })();
  var UNLOCK = /* @__PURE__ */ (function() {
    function UNLOCK2() {
    }
    ;
    UNLOCK2.value = new UNLOCK2();
    return UNLOCK2;
  })();
  var PATCH = /* @__PURE__ */ (function() {
    function PATCH2() {
    }
    ;
    PATCH2.value = new PATCH2();
    return PATCH2;
  })();
  var unCustomMethod = function(v) {
    return v;
  };
  var showMethod = {
    show: function(v) {
      if (v instanceof OPTIONS) {
        return "OPTIONS";
      }
      ;
      if (v instanceof GET) {
        return "GET";
      }
      ;
      if (v instanceof HEAD) {
        return "HEAD";
      }
      ;
      if (v instanceof POST) {
        return "POST";
      }
      ;
      if (v instanceof PUT) {
        return "PUT";
      }
      ;
      if (v instanceof DELETE) {
        return "DELETE";
      }
      ;
      if (v instanceof TRACE) {
        return "TRACE";
      }
      ;
      if (v instanceof CONNECT) {
        return "CONNECT";
      }
      ;
      if (v instanceof PROPFIND) {
        return "PROPFIND";
      }
      ;
      if (v instanceof PROPPATCH) {
        return "PROPPATCH";
      }
      ;
      if (v instanceof MKCOL) {
        return "MKCOL";
      }
      ;
      if (v instanceof COPY) {
        return "COPY";
      }
      ;
      if (v instanceof MOVE) {
        return "MOVE";
      }
      ;
      if (v instanceof LOCK) {
        return "LOCK";
      }
      ;
      if (v instanceof UNLOCK) {
        return "UNLOCK";
      }
      ;
      if (v instanceof PATCH) {
        return "PATCH";
      }
      ;
      throw new Error("Failed pattern match at Data.HTTP.Method (line 43, column 1 - line 59, column 23): " + [v.constructor.name]);
    }
  };
  var print = /* @__PURE__ */ either(/* @__PURE__ */ show(showMethod))(unCustomMethod);

  // output/Data.NonEmpty/index.js
  var NonEmpty = /* @__PURE__ */ (function() {
    function NonEmpty2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    NonEmpty2.create = function(value0) {
      return function(value1) {
        return new NonEmpty2(value0, value1);
      };
    };
    return NonEmpty2;
  })();
  var singleton4 = function(dictPlus) {
    var empty9 = empty2(dictPlus);
    return function(a2) {
      return new NonEmpty(a2, empty9);
    };
  };

  // output/Data.List.Types/index.js
  var identity7 = /* @__PURE__ */ identity(categoryFn);
  var Nil = /* @__PURE__ */ (function() {
    function Nil2() {
    }
    ;
    Nil2.value = new Nil2();
    return Nil2;
  })();
  var Cons = /* @__PURE__ */ (function() {
    function Cons2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Cons2.create = function(value0) {
      return function(value1) {
        return new Cons2(value0, value1);
      };
    };
    return Cons2;
  })();
  var NonEmptyList = function(x10) {
    return x10;
  };
  var toList = function(v) {
    return new Cons(v.value0, v.value1);
  };
  var listMap = function(f) {
    var chunkedRevMap = function($copy_v) {
      return function($copy_v1) {
        var $tco_var_v = $copy_v;
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v, v1) {
          if (v1 instanceof Cons && (v1.value1 instanceof Cons && v1.value1.value1 instanceof Cons)) {
            $tco_var_v = new Cons(v1, v);
            $copy_v1 = v1.value1.value1.value1;
            return;
          }
          ;
          var unrolledMap = function(v2) {
            if (v2 instanceof Cons && (v2.value1 instanceof Cons && v2.value1.value1 instanceof Nil)) {
              return new Cons(f(v2.value0), new Cons(f(v2.value1.value0), Nil.value));
            }
            ;
            if (v2 instanceof Cons && v2.value1 instanceof Nil) {
              return new Cons(f(v2.value0), Nil.value);
            }
            ;
            return Nil.value;
          };
          var reverseUnrolledMap = function($copy_v2) {
            return function($copy_v3) {
              var $tco_var_v2 = $copy_v2;
              var $tco_done1 = false;
              var $tco_result2;
              function $tco_loop2(v2, v3) {
                if (v2 instanceof Cons && (v2.value0 instanceof Cons && (v2.value0.value1 instanceof Cons && v2.value0.value1.value1 instanceof Cons))) {
                  $tco_var_v2 = v2.value1;
                  $copy_v3 = new Cons(f(v2.value0.value0), new Cons(f(v2.value0.value1.value0), new Cons(f(v2.value0.value1.value1.value0), v3)));
                  return;
                }
                ;
                $tco_done1 = true;
                return v3;
              }
              ;
              while (!$tco_done1) {
                $tco_result2 = $tco_loop2($tco_var_v2, $copy_v3);
              }
              ;
              return $tco_result2;
            };
          };
          $tco_done = true;
          return reverseUnrolledMap(v)(unrolledMap(v1));
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($tco_var_v, $copy_v1);
        }
        ;
        return $tco_result;
      };
    };
    return chunkedRevMap(Nil.value);
  };
  var functorList = {
    map: listMap
  };
  var map6 = /* @__PURE__ */ map(functorList);
  var foldableList = {
    foldr: function(f) {
      return function(b10) {
        var rev3 = (function() {
          var go2 = function($copy_v) {
            return function($copy_v1) {
              var $tco_var_v = $copy_v;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v, v1) {
                if (v1 instanceof Nil) {
                  $tco_done = true;
                  return v;
                }
                ;
                if (v1 instanceof Cons) {
                  $tco_var_v = new Cons(v1.value0, v);
                  $copy_v1 = v1.value1;
                  return;
                }
                ;
                throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): " + [v.constructor.name, v1.constructor.name]);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v, $copy_v1);
              }
              ;
              return $tco_result;
            };
          };
          return go2(Nil.value);
        })();
        var $284 = foldl(foldableList)(flip(f))(b10);
        return function($285) {
          return $284(rev3($285));
        };
      };
    },
    foldl: function(f) {
      var go2 = function($copy_b) {
        return function($copy_v) {
          var $tco_var_b = $copy_b;
          var $tco_done1 = false;
          var $tco_result;
          function $tco_loop(b10, v) {
            if (v instanceof Nil) {
              $tco_done1 = true;
              return b10;
            }
            ;
            if (v instanceof Cons) {
              $tco_var_b = f(b10)(v.value0);
              $copy_v = v.value1;
              return;
            }
            ;
            throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): " + [v.constructor.name]);
          }
          ;
          while (!$tco_done1) {
            $tco_result = $tco_loop($tco_var_b, $copy_v);
          }
          ;
          return $tco_result;
        };
      };
      return go2;
    },
    foldMap: function(dictMonoid) {
      var append22 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldl(foldableList)(function(acc) {
          var $286 = append22(acc);
          return function($287) {
            return $286(f($287));
          };
        })(mempty2);
      };
    }
  };
  var foldl3 = /* @__PURE__ */ foldl(foldableList);
  var foldr2 = /* @__PURE__ */ foldr(foldableList);
  var semigroupList = {
    append: function(xs) {
      return function(ys) {
        return foldr2(Cons.create)(ys)(xs);
      };
    }
  };
  var append1 = /* @__PURE__ */ append(semigroupList);
  var semigroupNonEmptyList = {
    append: function(v) {
      return function(as$prime) {
        return new NonEmpty(v.value0, append1(v.value1)(toList(as$prime)));
      };
    }
  };
  var traversableList = {
    traverse: function(dictApplicative) {
      var Apply0 = dictApplicative.Apply0();
      var map116 = map(Apply0.Functor0());
      var lift22 = lift2(Apply0);
      var pure114 = pure(dictApplicative);
      return function(f) {
        var $301 = map116(foldl3(flip(Cons.create))(Nil.value));
        var $302 = foldl3(function(acc) {
          var $304 = lift22(flip(Cons.create))(acc);
          return function($305) {
            return $304(f($305));
          };
        })(pure114(Nil.value));
        return function($303) {
          return $301($302($303));
        };
      };
    },
    sequence: function(dictApplicative) {
      return traverse(traversableList)(dictApplicative)(identity7);
    },
    Functor0: function() {
      return functorList;
    },
    Foldable1: function() {
      return foldableList;
    }
  };
  var applyList = {
    apply: function(v) {
      return function(v1) {
        if (v instanceof Nil) {
          return Nil.value;
        }
        ;
        if (v instanceof Cons) {
          return append1(map6(v.value0)(v1))(apply(applyList)(v.value1)(v1));
        }
        ;
        throw new Error("Failed pattern match at Data.List.Types (line 157, column 1 - line 159, column 48): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Functor0: function() {
      return functorList;
    }
  };
  var bindList = {
    bind: function(v) {
      return function(v1) {
        if (v instanceof Nil) {
          return Nil.value;
        }
        ;
        if (v instanceof Cons) {
          return append1(v1(v.value0))(bind(bindList)(v.value1)(v1));
        }
        ;
        throw new Error("Failed pattern match at Data.List.Types (line 164, column 1 - line 166, column 37): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Apply0: function() {
      return applyList;
    }
  };
  var applicativeList = {
    pure: function(a2) {
      return new Cons(a2, Nil.value);
    },
    Apply0: function() {
      return applyList;
    }
  };
  var altList = {
    alt: append1,
    Functor0: function() {
      return functorList;
    }
  };
  var plusList = /* @__PURE__ */ (function() {
    return {
      empty: Nil.value,
      Alt0: function() {
        return altList;
      }
    };
  })();

  // output/Data.List/index.js
  var map7 = /* @__PURE__ */ map(functorMaybe);
  var foldl4 = /* @__PURE__ */ foldl(foldableList);
  var uncons2 = function(v) {
    if (v instanceof Nil) {
      return Nothing.value;
    }
    ;
    if (v instanceof Cons) {
      return new Just({
        head: v.value0,
        tail: v.value1
      });
    }
    ;
    throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): " + [v.constructor.name]);
  };
  var toUnfoldable2 = function(dictUnfoldable) {
    return unfoldr(dictUnfoldable)(function(xs) {
      return map7(function(rec) {
        return new Tuple(rec.head, rec.tail);
      })(uncons2(xs));
    });
  };
  var singleton5 = function(a2) {
    return new Cons(a2, Nil.value);
  };
  var reverse2 = /* @__PURE__ */ (function() {
    var go2 = function($copy_v) {
      return function($copy_v1) {
        var $tco_var_v = $copy_v;
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v, v1) {
          if (v1 instanceof Nil) {
            $tco_done = true;
            return v;
          }
          ;
          if (v1 instanceof Cons) {
            $tco_var_v = new Cons(v1.value0, v);
            $copy_v1 = v1.value1;
            return;
          }
          ;
          throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): " + [v.constructor.name, v1.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($tco_var_v, $copy_v1);
        }
        ;
        return $tco_result;
      };
    };
    return go2(Nil.value);
  })();
  var unsnoc = function(lst) {
    var go2 = function($copy_v) {
      return function($copy_v1) {
        var $tco_var_v = $copy_v;
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v, v1) {
          if (v instanceof Nil) {
            $tco_done = true;
            return Nothing.value;
          }
          ;
          if (v instanceof Cons && v.value1 instanceof Nil) {
            $tco_done = true;
            return new Just({
              revInit: v1,
              last: v.value0
            });
          }
          ;
          if (v instanceof Cons) {
            $tco_var_v = v.value1;
            $copy_v1 = new Cons(v.value0, v1);
            return;
          }
          ;
          throw new Error("Failed pattern match at Data.List (line 270, column 3 - line 270, column 21): " + [v.constructor.name, v1.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($tco_var_v, $copy_v1);
        }
        ;
        return $tco_result;
      };
    };
    return map7(function(h) {
      return {
        init: reverse2(h.revInit),
        last: h.last
      };
    })(go2(lst)(Nil.value));
  };
  var zipWith2 = function(f) {
    return function(xs) {
      return function(ys) {
        var go2 = function($copy_v) {
          return function($copy_v1) {
            return function($copy_v2) {
              var $tco_var_v = $copy_v;
              var $tco_var_v1 = $copy_v1;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v, v1, v2) {
                if (v instanceof Nil) {
                  $tco_done = true;
                  return v2;
                }
                ;
                if (v1 instanceof Nil) {
                  $tco_done = true;
                  return v2;
                }
                ;
                if (v instanceof Cons && v1 instanceof Cons) {
                  $tco_var_v = v.value1;
                  $tco_var_v1 = v1.value1;
                  $copy_v2 = new Cons(f(v.value0)(v1.value0), v2);
                  return;
                }
                ;
                throw new Error("Failed pattern match at Data.List (line 779, column 3 - line 779, column 21): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v, $tco_var_v1, $copy_v2);
              }
              ;
              return $tco_result;
            };
          };
        };
        return reverse2(go2(xs)(ys)(Nil.value));
      };
    };
  };
  var $$null = function(v) {
    if (v instanceof Nil) {
      return true;
    }
    ;
    return false;
  };
  var length2 = /* @__PURE__ */ foldl4(function(acc) {
    return function(v) {
      return acc + 1 | 0;
    };
  })(0);
  var fromFoldable2 = function(dictFoldable) {
    return foldr(dictFoldable)(Cons.create)(Nil.value);
  };

  // output/Partial.Unsafe/foreign.js
  var _unsafePartial = function(f) {
    return f();
  };

  // output/Partial/foreign.js
  var _crashWith = function(msg) {
    throw new Error(msg);
  };

  // output/Partial/index.js
  var crashWith = function() {
    return _crashWith;
  };

  // output/Partial.Unsafe/index.js
  var crashWith2 = /* @__PURE__ */ crashWith();
  var unsafePartial = _unsafePartial;
  var unsafeCrashWith = function(msg) {
    return unsafePartial(function() {
      return crashWith2(msg);
    });
  };

  // output/Data.List.NonEmpty/index.js
  var singleton6 = /* @__PURE__ */ (function() {
    var $200 = singleton4(plusList);
    return function($201) {
      return NonEmptyList($200($201));
    };
  })();
  var head2 = function(v) {
    return v.value0;
  };
  var cons2 = function(y10) {
    return function(v) {
      return new NonEmpty(y10, new Cons(v.value0, v.value1));
    };
  };

  // output/Data.Nullable/foreign.js
  var nullImpl = null;
  function nullable(a2, r, f) {
    return a2 == null ? r : f(a2);
  }
  function notNull(x10) {
    return x10;
  }

  // output/Data.Nullable/index.js
  var toNullable = /* @__PURE__ */ maybe(nullImpl)(notNull);
  var toMaybe = function(n) {
    return nullable(n, Nothing.value, Just.create);
  };
  var eqNullable = function(dictEq) {
    return {
      eq: on(eq(eqMaybe(dictEq)))(toMaybe)
    };
  };
  var ordNullable = function(dictOrd) {
    var eqNullable1 = eqNullable(dictOrd.Eq0());
    return {
      compare: on(compare(ordMaybe(dictOrd)))(toMaybe),
      Eq0: function() {
        return eqNullable1;
      }
    };
  };

  // output/Effect.Aff/foreign.js
  var Aff = (function() {
    var EMPTY = {};
    var PURE = "Pure";
    var THROW = "Throw";
    var CATCH = "Catch";
    var SYNC = "Sync";
    var ASYNC = "Async";
    var BIND = "Bind";
    var BRACKET = "Bracket";
    var FORK = "Fork";
    var SEQ = "Sequential";
    var MAP = "Map";
    var APPLY = "Apply";
    var ALT = "Alt";
    var CONS = "Cons";
    var RESUME = "Resume";
    var RELEASE = "Release";
    var FINALIZER = "Finalizer";
    var FINALIZED = "Finalized";
    var FORKED = "Forked";
    var FIBER = "Fiber";
    var THUNK = "Thunk";
    function Aff2(tag, _1, _2, _3) {
      this.tag = tag;
      this._1 = _1;
      this._2 = _2;
      this._3 = _3;
    }
    function AffCtr(tag) {
      var fn = function(_1, _2, _3) {
        return new Aff2(tag, _1, _2, _3);
      };
      fn.tag = tag;
      return fn;
    }
    function nonCanceler2(error4) {
      return new Aff2(PURE, void 0);
    }
    function runEff(eff) {
      try {
        eff();
      } catch (error4) {
        setTimeout(function() {
          throw error4;
        }, 0);
      }
    }
    function runSync(left3, right3, eff) {
      try {
        return right3(eff());
      } catch (error4) {
        return left3(error4);
      }
    }
    function runAsync(left3, eff, k) {
      try {
        return eff(k)();
      } catch (error4) {
        k(left3(error4))();
        return nonCanceler2;
      }
    }
    var Scheduler = (function() {
      var limit = 1024;
      var size5 = 0;
      var ix = 0;
      var queue = new Array(limit);
      var draining = false;
      function drain() {
        var thunk;
        draining = true;
        while (size5 !== 0) {
          size5--;
          thunk = queue[ix];
          queue[ix] = void 0;
          ix = (ix + 1) % limit;
          thunk();
        }
        draining = false;
      }
      return {
        isDraining: function() {
          return draining;
        },
        enqueue: function(cb) {
          var i2, tmp;
          if (size5 === limit) {
            tmp = draining;
            drain();
            draining = tmp;
          }
          queue[(ix + size5) % limit] = cb;
          size5++;
          if (!draining) {
            drain();
          }
        }
      };
    })();
    function Supervisor(util2) {
      var fibers = {};
      var fiberId = 0;
      var count = 0;
      return {
        register: function(fiber) {
          var fid = fiberId++;
          fiber.onComplete({
            rethrow: true,
            handler: function(result) {
              return function() {
                count--;
                delete fibers[fid];
              };
            }
          })();
          fibers[fid] = fiber;
          count++;
        },
        isEmpty: function() {
          return count === 0;
        },
        killAll: function(killError, cb) {
          return function() {
            if (count === 0) {
              return cb();
            }
            var killCount = 0;
            var kills = {};
            function kill2(fid) {
              kills[fid] = fibers[fid].kill(killError, function(result) {
                return function() {
                  delete kills[fid];
                  killCount--;
                  if (util2.isLeft(result) && util2.fromLeft(result)) {
                    setTimeout(function() {
                      throw util2.fromLeft(result);
                    }, 0);
                  }
                  if (killCount === 0) {
                    cb();
                  }
                };
              })();
            }
            for (var k in fibers) {
              if (fibers.hasOwnProperty(k)) {
                killCount++;
                kill2(k);
              }
            }
            fibers = {};
            fiberId = 0;
            count = 0;
            return function(error4) {
              return new Aff2(SYNC, function() {
                for (var k2 in kills) {
                  if (kills.hasOwnProperty(k2)) {
                    kills[k2]();
                  }
                }
              });
            };
          };
        }
      };
    }
    var SUSPENDED = 0;
    var CONTINUE = 1;
    var STEP_BIND = 2;
    var STEP_RESULT = 3;
    var PENDING = 4;
    var RETURN = 5;
    var COMPLETED = 6;
    function Fiber(util2, supervisor, aff) {
      var runTick = 0;
      var status = SUSPENDED;
      var step3 = aff;
      var fail3 = null;
      var interrupt = null;
      var bhead = null;
      var btail = null;
      var attempts = null;
      var bracketCount = 0;
      var joinId = 0;
      var joins = null;
      var rethrow = true;
      function run3(localRunTick) {
        var tmp, result, attempt;
        while (true) {
          tmp = null;
          result = null;
          attempt = null;
          switch (status) {
            case STEP_BIND:
              status = CONTINUE;
              try {
                step3 = bhead(step3);
                if (btail === null) {
                  bhead = null;
                } else {
                  bhead = btail._1;
                  btail = btail._2;
                }
              } catch (e) {
                status = RETURN;
                fail3 = util2.left(e);
                step3 = null;
              }
              break;
            case STEP_RESULT:
              if (util2.isLeft(step3)) {
                status = RETURN;
                fail3 = step3;
                step3 = null;
              } else if (bhead === null) {
                status = RETURN;
              } else {
                status = STEP_BIND;
                step3 = util2.fromRight(step3);
              }
              break;
            case CONTINUE:
              switch (step3.tag) {
                case BIND:
                  if (bhead) {
                    btail = new Aff2(CONS, bhead, btail);
                  }
                  bhead = step3._2;
                  status = CONTINUE;
                  step3 = step3._1;
                  break;
                case PURE:
                  if (bhead === null) {
                    status = RETURN;
                    step3 = util2.right(step3._1);
                  } else {
                    status = STEP_BIND;
                    step3 = step3._1;
                  }
                  break;
                case SYNC:
                  status = STEP_RESULT;
                  step3 = runSync(util2.left, util2.right, step3._1);
                  break;
                case ASYNC:
                  status = PENDING;
                  step3 = runAsync(util2.left, step3._1, function(result2) {
                    return function() {
                      if (runTick !== localRunTick) {
                        return;
                      }
                      runTick++;
                      Scheduler.enqueue(function() {
                        if (runTick !== localRunTick + 1) {
                          return;
                        }
                        status = STEP_RESULT;
                        step3 = result2;
                        run3(runTick);
                      });
                    };
                  });
                  return;
                case THROW:
                  status = RETURN;
                  fail3 = util2.left(step3._1);
                  step3 = null;
                  break;
                // Enqueue the Catch so that we can call the error handler later on
                // in case of an exception.
                case CATCH:
                  if (bhead === null) {
                    attempts = new Aff2(CONS, step3, attempts, interrupt);
                  } else {
                    attempts = new Aff2(CONS, step3, new Aff2(CONS, new Aff2(RESUME, bhead, btail), attempts, interrupt), interrupt);
                  }
                  bhead = null;
                  btail = null;
                  status = CONTINUE;
                  step3 = step3._1;
                  break;
                // Enqueue the Bracket so that we can call the appropriate handlers
                // after resource acquisition.
                case BRACKET:
                  bracketCount++;
                  if (bhead === null) {
                    attempts = new Aff2(CONS, step3, attempts, interrupt);
                  } else {
                    attempts = new Aff2(CONS, step3, new Aff2(CONS, new Aff2(RESUME, bhead, btail), attempts, interrupt), interrupt);
                  }
                  bhead = null;
                  btail = null;
                  status = CONTINUE;
                  step3 = step3._1;
                  break;
                case FORK:
                  status = STEP_RESULT;
                  tmp = Fiber(util2, supervisor, step3._2);
                  if (supervisor) {
                    supervisor.register(tmp);
                  }
                  if (step3._1) {
                    tmp.run();
                  }
                  step3 = util2.right(tmp);
                  break;
                case SEQ:
                  status = CONTINUE;
                  step3 = sequential3(util2, supervisor, step3._1);
                  break;
              }
              break;
            case RETURN:
              bhead = null;
              btail = null;
              if (attempts === null) {
                status = COMPLETED;
                step3 = interrupt || fail3 || step3;
              } else {
                tmp = attempts._3;
                attempt = attempts._1;
                attempts = attempts._2;
                switch (attempt.tag) {
                  // We cannot recover from an unmasked interrupt. Otherwise we should
                  // continue stepping, or run the exception handler if an exception
                  // was raised.
                  case CATCH:
                    if (interrupt && interrupt !== tmp && bracketCount === 0) {
                      status = RETURN;
                    } else if (fail3) {
                      status = CONTINUE;
                      step3 = attempt._2(util2.fromLeft(fail3));
                      fail3 = null;
                    }
                    break;
                  // We cannot resume from an unmasked interrupt or exception.
                  case RESUME:
                    if (interrupt && interrupt !== tmp && bracketCount === 0 || fail3) {
                      status = RETURN;
                    } else {
                      bhead = attempt._1;
                      btail = attempt._2;
                      status = STEP_BIND;
                      step3 = util2.fromRight(step3);
                    }
                    break;
                  // If we have a bracket, we should enqueue the handlers,
                  // and continue with the success branch only if the fiber has
                  // not been interrupted. If the bracket acquisition failed, we
                  // should not run either.
                  case BRACKET:
                    bracketCount--;
                    if (fail3 === null) {
                      result = util2.fromRight(step3);
                      attempts = new Aff2(CONS, new Aff2(RELEASE, attempt._2, result), attempts, tmp);
                      if (interrupt === tmp || bracketCount > 0) {
                        status = CONTINUE;
                        step3 = attempt._3(result);
                      }
                    }
                    break;
                  // Enqueue the appropriate handler. We increase the bracket count
                  // because it should not be cancelled.
                  case RELEASE:
                    attempts = new Aff2(CONS, new Aff2(FINALIZED, step3, fail3), attempts, interrupt);
                    status = CONTINUE;
                    if (interrupt && interrupt !== tmp && bracketCount === 0) {
                      step3 = attempt._1.killed(util2.fromLeft(interrupt))(attempt._2);
                    } else if (fail3) {
                      step3 = attempt._1.failed(util2.fromLeft(fail3))(attempt._2);
                    } else {
                      step3 = attempt._1.completed(util2.fromRight(step3))(attempt._2);
                    }
                    fail3 = null;
                    bracketCount++;
                    break;
                  case FINALIZER:
                    bracketCount++;
                    attempts = new Aff2(CONS, new Aff2(FINALIZED, step3, fail3), attempts, interrupt);
                    status = CONTINUE;
                    step3 = attempt._1;
                    break;
                  case FINALIZED:
                    bracketCount--;
                    status = RETURN;
                    step3 = attempt._1;
                    fail3 = attempt._2;
                    break;
                }
              }
              break;
            case COMPLETED:
              for (var k in joins) {
                if (joins.hasOwnProperty(k)) {
                  rethrow = rethrow && joins[k].rethrow;
                  runEff(joins[k].handler(step3));
                }
              }
              joins = null;
              if (interrupt && fail3) {
                setTimeout(function() {
                  throw util2.fromLeft(fail3);
                }, 0);
              } else if (util2.isLeft(step3) && rethrow) {
                setTimeout(function() {
                  if (rethrow) {
                    throw util2.fromLeft(step3);
                  }
                }, 0);
              }
              return;
            case SUSPENDED:
              status = CONTINUE;
              break;
            case PENDING:
              return;
          }
        }
      }
      function onComplete(join5) {
        return function() {
          if (status === COMPLETED) {
            rethrow = rethrow && join5.rethrow;
            join5.handler(step3)();
            return function() {
            };
          }
          var jid = joinId++;
          joins = joins || {};
          joins[jid] = join5;
          return function() {
            if (joins !== null) {
              delete joins[jid];
            }
          };
        };
      }
      function kill2(error4, cb) {
        return function() {
          if (status === COMPLETED) {
            cb(util2.right(void 0))();
            return function() {
            };
          }
          var canceler = onComplete({
            rethrow: false,
            handler: function() {
              return cb(util2.right(void 0));
            }
          })();
          switch (status) {
            case SUSPENDED:
              interrupt = util2.left(error4);
              status = COMPLETED;
              step3 = interrupt;
              run3(runTick);
              break;
            case PENDING:
              if (interrupt === null) {
                interrupt = util2.left(error4);
              }
              if (bracketCount === 0) {
                if (status === PENDING) {
                  attempts = new Aff2(CONS, new Aff2(FINALIZER, step3(error4)), attempts, interrupt);
                }
                status = RETURN;
                step3 = null;
                fail3 = null;
                run3(++runTick);
              }
              break;
            default:
              if (interrupt === null) {
                interrupt = util2.left(error4);
              }
              if (bracketCount === 0) {
                status = RETURN;
                step3 = null;
                fail3 = null;
              }
          }
          return canceler;
        };
      }
      function join4(cb) {
        return function() {
          var canceler = onComplete({
            rethrow: false,
            handler: cb
          })();
          if (status === SUSPENDED) {
            run3(runTick);
          }
          return canceler;
        };
      }
      return {
        kill: kill2,
        join: join4,
        onComplete,
        isSuspended: function() {
          return status === SUSPENDED;
        },
        run: function() {
          if (status === SUSPENDED) {
            if (!Scheduler.isDraining()) {
              Scheduler.enqueue(function() {
                run3(runTick);
              });
            } else {
              run3(runTick);
            }
          }
        }
      };
    }
    function runPar(util2, supervisor, par, cb) {
      var fiberId = 0;
      var fibers = {};
      var killId = 0;
      var kills = {};
      var early = new Error("[ParAff] Early exit");
      var interrupt = null;
      var root3 = EMPTY;
      function kill2(error4, par2, cb2) {
        var step3 = par2;
        var head6 = null;
        var tail2 = null;
        var count = 0;
        var kills2 = {};
        var tmp, kid;
        loop: while (true) {
          tmp = null;
          switch (step3.tag) {
            case FORKED:
              if (step3._3 === EMPTY) {
                tmp = fibers[step3._1];
                kills2[count++] = tmp.kill(error4, function(result) {
                  return function() {
                    count--;
                    if (count === 0) {
                      cb2(result)();
                    }
                  };
                });
              }
              if (head6 === null) {
                break loop;
              }
              step3 = head6._2;
              if (tail2 === null) {
                head6 = null;
              } else {
                head6 = tail2._1;
                tail2 = tail2._2;
              }
              break;
            case MAP:
              step3 = step3._2;
              break;
            case APPLY:
            case ALT:
              if (head6) {
                tail2 = new Aff2(CONS, head6, tail2);
              }
              head6 = step3;
              step3 = step3._1;
              break;
          }
        }
        if (count === 0) {
          cb2(util2.right(void 0))();
        } else {
          kid = 0;
          tmp = count;
          for (; kid < tmp; kid++) {
            kills2[kid] = kills2[kid]();
          }
        }
        return kills2;
      }
      function join4(result, head6, tail2) {
        var fail3, step3, lhs, rhs, tmp, kid;
        if (util2.isLeft(result)) {
          fail3 = result;
          step3 = null;
        } else {
          step3 = result;
          fail3 = null;
        }
        loop: while (true) {
          lhs = null;
          rhs = null;
          tmp = null;
          kid = null;
          if (interrupt !== null) {
            return;
          }
          if (head6 === null) {
            cb(fail3 || step3)();
            return;
          }
          if (head6._3 !== EMPTY) {
            return;
          }
          switch (head6.tag) {
            case MAP:
              if (fail3 === null) {
                head6._3 = util2.right(head6._1(util2.fromRight(step3)));
                step3 = head6._3;
              } else {
                head6._3 = fail3;
              }
              break;
            case APPLY:
              lhs = head6._1._3;
              rhs = head6._2._3;
              if (fail3) {
                head6._3 = fail3;
                tmp = true;
                kid = killId++;
                kills[kid] = kill2(early, fail3 === lhs ? head6._2 : head6._1, function() {
                  return function() {
                    delete kills[kid];
                    if (tmp) {
                      tmp = false;
                    } else if (tail2 === null) {
                      join4(fail3, null, null);
                    } else {
                      join4(fail3, tail2._1, tail2._2);
                    }
                  };
                });
                if (tmp) {
                  tmp = false;
                  return;
                }
              } else if (lhs === EMPTY || rhs === EMPTY) {
                return;
              } else {
                step3 = util2.right(util2.fromRight(lhs)(util2.fromRight(rhs)));
                head6._3 = step3;
              }
              break;
            case ALT:
              lhs = head6._1._3;
              rhs = head6._2._3;
              if (lhs === EMPTY && util2.isLeft(rhs) || rhs === EMPTY && util2.isLeft(lhs)) {
                return;
              }
              if (lhs !== EMPTY && util2.isLeft(lhs) && rhs !== EMPTY && util2.isLeft(rhs)) {
                fail3 = step3 === lhs ? rhs : lhs;
                step3 = null;
                head6._3 = fail3;
              } else {
                head6._3 = step3;
                tmp = true;
                kid = killId++;
                kills[kid] = kill2(early, step3 === lhs ? head6._2 : head6._1, function() {
                  return function() {
                    delete kills[kid];
                    if (tmp) {
                      tmp = false;
                    } else if (tail2 === null) {
                      join4(step3, null, null);
                    } else {
                      join4(step3, tail2._1, tail2._2);
                    }
                  };
                });
                if (tmp) {
                  tmp = false;
                  return;
                }
              }
              break;
          }
          if (tail2 === null) {
            head6 = null;
          } else {
            head6 = tail2._1;
            tail2 = tail2._2;
          }
        }
      }
      function resolve(fiber) {
        return function(result) {
          return function() {
            delete fibers[fiber._1];
            fiber._3 = result;
            join4(result, fiber._2._1, fiber._2._2);
          };
        };
      }
      function run3() {
        var status = CONTINUE;
        var step3 = par;
        var head6 = null;
        var tail2 = null;
        var tmp, fid;
        loop: while (true) {
          tmp = null;
          fid = null;
          switch (status) {
            case CONTINUE:
              switch (step3.tag) {
                case MAP:
                  if (head6) {
                    tail2 = new Aff2(CONS, head6, tail2);
                  }
                  head6 = new Aff2(MAP, step3._1, EMPTY, EMPTY);
                  step3 = step3._2;
                  break;
                case APPLY:
                  if (head6) {
                    tail2 = new Aff2(CONS, head6, tail2);
                  }
                  head6 = new Aff2(APPLY, EMPTY, step3._2, EMPTY);
                  step3 = step3._1;
                  break;
                case ALT:
                  if (head6) {
                    tail2 = new Aff2(CONS, head6, tail2);
                  }
                  head6 = new Aff2(ALT, EMPTY, step3._2, EMPTY);
                  step3 = step3._1;
                  break;
                default:
                  fid = fiberId++;
                  status = RETURN;
                  tmp = step3;
                  step3 = new Aff2(FORKED, fid, new Aff2(CONS, head6, tail2), EMPTY);
                  tmp = Fiber(util2, supervisor, tmp);
                  tmp.onComplete({
                    rethrow: false,
                    handler: resolve(step3)
                  })();
                  fibers[fid] = tmp;
                  if (supervisor) {
                    supervisor.register(tmp);
                  }
              }
              break;
            case RETURN:
              if (head6 === null) {
                break loop;
              }
              if (head6._1 === EMPTY) {
                head6._1 = step3;
                status = CONTINUE;
                step3 = head6._2;
                head6._2 = EMPTY;
              } else {
                head6._2 = step3;
                step3 = head6;
                if (tail2 === null) {
                  head6 = null;
                } else {
                  head6 = tail2._1;
                  tail2 = tail2._2;
                }
              }
          }
        }
        root3 = step3;
        for (fid = 0; fid < fiberId; fid++) {
          fibers[fid].run();
        }
      }
      function cancel(error4, cb2) {
        interrupt = util2.left(error4);
        var innerKills;
        for (var kid in kills) {
          if (kills.hasOwnProperty(kid)) {
            innerKills = kills[kid];
            for (kid in innerKills) {
              if (innerKills.hasOwnProperty(kid)) {
                innerKills[kid]();
              }
            }
          }
        }
        kills = null;
        var newKills = kill2(error4, root3, cb2);
        return function(killError) {
          return new Aff2(ASYNC, function(killCb) {
            return function() {
              for (var kid2 in newKills) {
                if (newKills.hasOwnProperty(kid2)) {
                  newKills[kid2]();
                }
              }
              return nonCanceler2;
            };
          });
        };
      }
      run3();
      return function(killError) {
        return new Aff2(ASYNC, function(killCb) {
          return function() {
            return cancel(killError, killCb);
          };
        });
      };
    }
    function sequential3(util2, supervisor, par) {
      return new Aff2(ASYNC, function(cb) {
        return function() {
          return runPar(util2, supervisor, par, cb);
        };
      });
    }
    Aff2.EMPTY = EMPTY;
    Aff2.Pure = AffCtr(PURE);
    Aff2.Throw = AffCtr(THROW);
    Aff2.Catch = AffCtr(CATCH);
    Aff2.Sync = AffCtr(SYNC);
    Aff2.Async = AffCtr(ASYNC);
    Aff2.Bind = AffCtr(BIND);
    Aff2.Bracket = AffCtr(BRACKET);
    Aff2.Fork = AffCtr(FORK);
    Aff2.Seq = AffCtr(SEQ);
    Aff2.ParMap = AffCtr(MAP);
    Aff2.ParApply = AffCtr(APPLY);
    Aff2.ParAlt = AffCtr(ALT);
    Aff2.Fiber = Fiber;
    Aff2.Supervisor = Supervisor;
    Aff2.Scheduler = Scheduler;
    Aff2.nonCanceler = nonCanceler2;
    return Aff2;
  })();
  var _pure = Aff.Pure;
  var _throwError = Aff.Throw;
  function _catchError(aff) {
    return function(k) {
      return Aff.Catch(aff, k);
    };
  }
  function _map(f) {
    return function(aff) {
      if (aff.tag === Aff.Pure.tag) {
        return Aff.Pure(f(aff._1));
      } else {
        return Aff.Bind(aff, function(value15) {
          return Aff.Pure(f(value15));
        });
      }
    };
  }
  function _bind(aff) {
    return function(k) {
      return Aff.Bind(aff, k);
    };
  }
  function _fork(immediate) {
    return function(aff) {
      return Aff.Fork(immediate, aff);
    };
  }
  var _liftEffect = Aff.Sync;
  function _parAffMap(f) {
    return function(aff) {
      return Aff.ParMap(f, aff);
    };
  }
  function _parAffApply(aff1) {
    return function(aff2) {
      return Aff.ParApply(aff1, aff2);
    };
  }
  var makeAff = Aff.Async;
  function generalBracket(acquire) {
    return function(options2) {
      return function(k) {
        return Aff.Bracket(acquire, options2, k);
      };
    };
  }
  function _makeFiber(util2, aff) {
    return function() {
      return Aff.Fiber(util2, null, aff);
    };
  }
  var _delay = /* @__PURE__ */ (function() {
    function setDelay(n, k) {
      if (n === 0 && typeof setImmediate !== "undefined") {
        return setImmediate(k);
      } else {
        return setTimeout(k, n);
      }
    }
    function clearDelay(n, t) {
      if (n === 0 && typeof clearImmediate !== "undefined") {
        return clearImmediate(t);
      } else {
        return clearTimeout(t);
      }
    }
    return function(right3, ms) {
      return Aff.Async(function(cb) {
        return function() {
          var timer2 = setDelay(ms, cb(right3()));
          return function() {
            return Aff.Sync(function() {
              return right3(clearDelay(ms, timer2));
            });
          };
        };
      });
    };
  })();
  var _sequential = Aff.Seq;

  // output/Data.Profunctor/index.js
  var profunctorFn = {
    dimap: function(a2b) {
      return function(c2d) {
        return function(b2c) {
          return function($18) {
            return c2d(b2c(a2b($18)));
          };
        };
      };
    }
  };
  var dimap = function(dict) {
    return dict.dimap;
  };

  // output/Control.Parallel.Class/index.js
  var sequential = function(dict) {
    return dict.sequential;
  };
  var parallel = function(dict) {
    return dict.parallel;
  };

  // output/Control.Parallel/index.js
  var identity8 = /* @__PURE__ */ identity(categoryFn);
  var parTraverse_ = function(dictParallel) {
    var sequential3 = sequential(dictParallel);
    var parallel4 = parallel(dictParallel);
    return function(dictApplicative) {
      var traverse_9 = traverse_(dictApplicative);
      return function(dictFoldable) {
        var traverse_15 = traverse_9(dictFoldable);
        return function(f) {
          var $51 = traverse_15(function($53) {
            return parallel4(f($53));
          });
          return function($52) {
            return sequential3($51($52));
          };
        };
      };
    };
  };
  var parSequence_ = function(dictParallel) {
    var parTraverse_1 = parTraverse_(dictParallel);
    return function(dictApplicative) {
      var parTraverse_2 = parTraverse_1(dictApplicative);
      return function(dictFoldable) {
        return parTraverse_2(dictFoldable)(identity8);
      };
    };
  };

  // output/Effect.Unsafe/foreign.js
  var unsafePerformEffect = function(f) {
    return f();
  };

  // output/Effect.Aff/index.js
  var $runtime_lazy3 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var pure2 = /* @__PURE__ */ pure(applicativeEffect);
  var $$void4 = /* @__PURE__ */ $$void(functorEffect);
  var map8 = /* @__PURE__ */ map(functorEffect);
  var Canceler = function(x10) {
    return x10;
  };
  var suspendAff = /* @__PURE__ */ _fork(false);
  var functorParAff = {
    map: _parAffMap
  };
  var functorAff = {
    map: _map
  };
  var map12 = /* @__PURE__ */ map(functorAff);
  var forkAff = /* @__PURE__ */ _fork(true);
  var ffiUtil = /* @__PURE__ */ (function() {
    var unsafeFromRight = function(v) {
      if (v instanceof Right) {
        return v.value0;
      }
      ;
      if (v instanceof Left) {
        return unsafeCrashWith("unsafeFromRight: Left");
      }
      ;
      throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): " + [v.constructor.name]);
    };
    var unsafeFromLeft = function(v) {
      if (v instanceof Left) {
        return v.value0;
      }
      ;
      if (v instanceof Right) {
        return unsafeCrashWith("unsafeFromLeft: Right");
      }
      ;
      throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): " + [v.constructor.name]);
    };
    var isLeft = function(v) {
      if (v instanceof Left) {
        return true;
      }
      ;
      if (v instanceof Right) {
        return false;
      }
      ;
      throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): " + [v.constructor.name]);
    };
    return {
      isLeft,
      fromLeft: unsafeFromLeft,
      fromRight: unsafeFromRight,
      left: Left.create,
      right: Right.create
    };
  })();
  var makeFiber = function(aff) {
    return _makeFiber(ffiUtil, aff);
  };
  var launchAff = function(aff) {
    return function __do3() {
      var fiber = makeFiber(aff)();
      fiber.run();
      return fiber;
    };
  };
  var launchAff_ = function($75) {
    return $$void4(launchAff($75));
  };
  var delay = function(v) {
    return _delay(Right.create, v);
  };
  var bracket = function(acquire) {
    return function(completed) {
      return generalBracket(acquire)({
        killed: $$const(completed),
        failed: $$const(completed),
        completed: $$const(completed)
      });
    };
  };
  var applyParAff = {
    apply: _parAffApply,
    Functor0: function() {
      return functorParAff;
    }
  };
  var monadAff = {
    Applicative0: function() {
      return applicativeAff;
    },
    Bind1: function() {
      return bindAff;
    }
  };
  var bindAff = {
    bind: _bind,
    Apply0: function() {
      return $lazy_applyAff(0);
    }
  };
  var applicativeAff = {
    pure: _pure,
    Apply0: function() {
      return $lazy_applyAff(0);
    }
  };
  var $lazy_applyAff = /* @__PURE__ */ $runtime_lazy3("applyAff", "Effect.Aff", function() {
    return {
      apply: ap(monadAff),
      Functor0: function() {
        return functorAff;
      }
    };
  });
  var applyAff = /* @__PURE__ */ $lazy_applyAff(73);
  var pure22 = /* @__PURE__ */ pure(applicativeAff);
  var bind1 = /* @__PURE__ */ bind(bindAff);
  var bindFlipped3 = /* @__PURE__ */ bindFlipped(bindAff);
  var $$finally = function(fin) {
    return function(a2) {
      return bracket(pure22(unit))($$const(fin))($$const(a2));
    };
  };
  var parallelAff = {
    parallel: unsafeCoerce2,
    sequential: _sequential,
    Apply0: function() {
      return applyAff;
    },
    Apply1: function() {
      return applyParAff;
    }
  };
  var parallel2 = /* @__PURE__ */ parallel(parallelAff);
  var applicativeParAff = {
    pure: function($76) {
      return parallel2(pure22($76));
    },
    Apply0: function() {
      return applyParAff;
    }
  };
  var monadEffectAff = {
    liftEffect: _liftEffect,
    Monad0: function() {
      return monadAff;
    }
  };
  var liftEffect2 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var effectCanceler = function($77) {
    return Canceler($$const(liftEffect2($77)));
  };
  var joinFiber = function(v) {
    return makeAff(function(k) {
      return map8(effectCanceler)(v.join(k));
    });
  };
  var functorFiber = {
    map: function(f) {
      return function(t) {
        return unsafePerformEffect(makeFiber(map12(f)(joinFiber(t))));
      };
    }
  };
  var killFiber = function(e) {
    return function(v) {
      return bind1(liftEffect2(v.isSuspended))(function(suspended) {
        if (suspended) {
          return liftEffect2($$void4(v.kill(e, $$const(pure2(unit)))));
        }
        ;
        return makeAff(function(k) {
          return map8(effectCanceler)(v.kill(e, k));
        });
      });
    };
  };
  var monadThrowAff = {
    throwError: _throwError,
    Monad0: function() {
      return monadAff;
    }
  };
  var monadErrorAff = {
    catchError: _catchError,
    MonadThrow0: function() {
      return monadThrowAff;
    }
  };
  var $$try2 = /* @__PURE__ */ $$try(monadErrorAff);
  var runAff = function(k) {
    return function(aff) {
      return launchAff(bindFlipped3(function($83) {
        return liftEffect2(k($83));
      })($$try2(aff)));
    };
  };
  var runAff_ = function(k) {
    return function(aff) {
      return $$void4(runAff(k)(aff));
    };
  };
  var monadRecAff = {
    tailRecM: function(k) {
      var go2 = function(a2) {
        return bind1(k(a2))(function(res) {
          if (res instanceof Done) {
            return pure22(res.value0);
          }
          ;
          if (res instanceof Loop) {
            return go2(res.value0);
          }
          ;
          throw new Error("Failed pattern match at Effect.Aff (line 104, column 7 - line 106, column 23): " + [res.constructor.name]);
        });
      };
      return go2;
    },
    Monad0: function() {
      return monadAff;
    }
  };
  var nonCanceler = /* @__PURE__ */ $$const(/* @__PURE__ */ pure22(unit));

  // output/Effect.Aff.Compat/index.js
  var fromEffectFnAff = function(v) {
    return makeAff(function(k) {
      return function __do3() {
        var v1 = v(function($9) {
          return k(Left.create($9))();
        }, function($10) {
          return k(Right.create($10))();
        });
        return function(e) {
          return makeAff(function(k2) {
            return function __do4() {
              v1(e, function($11) {
                return k2(Left.create($11))();
              }, function($12) {
                return k2(Right.create($12))();
              });
              return nonCanceler;
            };
          });
        };
      };
    });
  };

  // output/Foreign/foreign.js
  function typeOf(value15) {
    return typeof value15;
  }
  function tagOf(value15) {
    return Object.prototype.toString.call(value15).slice(8, -1);
  }
  var isArray = Array.isArray || function(value15) {
    return Object.prototype.toString.call(value15) === "[object Array]";
  };

  // output/Data.Int/foreign.js
  var toNumber = function(n) {
    return n;
  };

  // output/Data.Number/foreign.js
  var cos = Math.cos;
  var sin = Math.sin;
  var sqrt = Math.sqrt;

  // output/Data.Number/index.js
  var pi = 3.141592653589793;

  // output/Data.String.CodeUnits/foreign.js
  var fromCharArray = function(a2) {
    return a2.join("");
  };
  var toCharArray = function(s) {
    return s.split("");
  };
  var singleton7 = function(c) {
    return c;
  };
  var length3 = function(s) {
    return s.length;
  };
  var _indexOf = function(just) {
    return function(nothing) {
      return function(x10) {
        return function(s) {
          var i2 = s.indexOf(x10);
          return i2 === -1 ? nothing : just(i2);
        };
      };
    };
  };
  var take3 = function(n) {
    return function(s) {
      return s.substr(0, n);
    };
  };
  var drop2 = function(n) {
    return function(s) {
      return s.substring(n);
    };
  };
  var splitAt = function(i2) {
    return function(s) {
      return { before: s.substring(0, i2), after: s.substring(i2) };
    };
  };

  // output/Data.String.Unsafe/foreign.js
  var charAt = function(i2) {
    return function(s) {
      if (i2 >= 0 && i2 < s.length) return s.charAt(i2);
      throw new Error("Data.String.Unsafe.charAt: Invalid index.");
    };
  };

  // output/Data.String.CodeUnits/index.js
  var stripPrefix = function(v) {
    return function(str2) {
      var v1 = splitAt(length3(v))(str2);
      var $20 = v1.before === v;
      if ($20) {
        return new Just(v1.after);
      }
      ;
      return Nothing.value;
    };
  };
  var indexOf = /* @__PURE__ */ (function() {
    return _indexOf(Just.create)(Nothing.value);
  })();

  // output/Foreign/index.js
  var show2 = /* @__PURE__ */ show(showString);
  var show1 = /* @__PURE__ */ show(showInt);
  var ForeignError = /* @__PURE__ */ (function() {
    function ForeignError2(value0) {
      this.value0 = value0;
    }
    ;
    ForeignError2.create = function(value0) {
      return new ForeignError2(value0);
    };
    return ForeignError2;
  })();
  var TypeMismatch = /* @__PURE__ */ (function() {
    function TypeMismatch2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeMismatch2.create = function(value0) {
      return function(value1) {
        return new TypeMismatch2(value0, value1);
      };
    };
    return TypeMismatch2;
  })();
  var ErrorAtIndex = /* @__PURE__ */ (function() {
    function ErrorAtIndex2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ErrorAtIndex2.create = function(value0) {
      return function(value1) {
        return new ErrorAtIndex2(value0, value1);
      };
    };
    return ErrorAtIndex2;
  })();
  var ErrorAtProperty = /* @__PURE__ */ (function() {
    function ErrorAtProperty2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ErrorAtProperty2.create = function(value0) {
      return function(value1) {
        return new ErrorAtProperty2(value0, value1);
      };
    };
    return ErrorAtProperty2;
  })();
  var unsafeToForeign = unsafeCoerce2;
  var unsafeFromForeign = unsafeCoerce2;
  var renderForeignError = function(v) {
    if (v instanceof ForeignError) {
      return v.value0;
    }
    ;
    if (v instanceof ErrorAtIndex) {
      return "Error at array index " + (show1(v.value0) + (": " + renderForeignError(v.value1)));
    }
    ;
    if (v instanceof ErrorAtProperty) {
      return "Error at property " + (show2(v.value0) + (": " + renderForeignError(v.value1)));
    }
    ;
    if (v instanceof TypeMismatch) {
      return "Type mismatch: expected " + (v.value0 + (", found " + v.value1));
    }
    ;
    throw new Error("Failed pattern match at Foreign (line 78, column 1 - line 78, column 45): " + [v.constructor.name]);
  };
  var fail = function(dictMonad) {
    var $153 = throwError(monadThrowExceptT(dictMonad));
    return function($154) {
      return $153(singleton6($154));
    };
  };
  var unsafeReadTagged = function(dictMonad) {
    var pure114 = pure(applicativeExceptT(dictMonad));
    var fail1 = fail(dictMonad);
    return function(tag) {
      return function(value15) {
        if (tagOf(value15) === tag) {
          return pure114(unsafeFromForeign(value15));
        }
        ;
        if (otherwise) {
          return fail1(new TypeMismatch(tag, tagOf(value15)));
        }
        ;
        throw new Error("Failed pattern match at Foreign (line 123, column 1 - line 123, column 104): " + [tag.constructor.name, value15.constructor.name]);
      };
    };
  };
  var readBoolean = function(dictMonad) {
    return unsafeReadTagged(dictMonad)("Boolean");
  };
  var readString = function(dictMonad) {
    return unsafeReadTagged(dictMonad)("String");
  };

  // output/Affjax/index.js
  var pure3 = /* @__PURE__ */ pure(/* @__PURE__ */ applicativeExceptT(monadIdentity));
  var fail2 = /* @__PURE__ */ fail(monadIdentity);
  var unsafeReadTagged2 = /* @__PURE__ */ unsafeReadTagged(monadIdentity);
  var alt2 = /* @__PURE__ */ alt(/* @__PURE__ */ altExceptT(semigroupNonEmptyList)(monadIdentity));
  var composeKleisliFlipped2 = /* @__PURE__ */ composeKleisliFlipped(/* @__PURE__ */ bindExceptT(monadIdentity));
  var map9 = /* @__PURE__ */ map(functorMaybe);
  var any2 = /* @__PURE__ */ any(foldableArray)(heytingAlgebraBoolean);
  var eq3 = /* @__PURE__ */ eq(eqString);
  var bindFlipped4 = /* @__PURE__ */ bindFlipped(bindMaybe);
  var map13 = /* @__PURE__ */ map(functorArray);
  var mapFlipped2 = /* @__PURE__ */ mapFlipped(functorAff);
  var $$try3 = /* @__PURE__ */ $$try(monadErrorAff);
  var pure1 = /* @__PURE__ */ pure(applicativeAff);
  var RequestContentError = /* @__PURE__ */ (function() {
    function RequestContentError2(value0) {
      this.value0 = value0;
    }
    ;
    RequestContentError2.create = function(value0) {
      return new RequestContentError2(value0);
    };
    return RequestContentError2;
  })();
  var ResponseBodyError = /* @__PURE__ */ (function() {
    function ResponseBodyError2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ResponseBodyError2.create = function(value0) {
      return function(value1) {
        return new ResponseBodyError2(value0, value1);
      };
    };
    return ResponseBodyError2;
  })();
  var TimeoutError = /* @__PURE__ */ (function() {
    function TimeoutError2() {
    }
    ;
    TimeoutError2.value = new TimeoutError2();
    return TimeoutError2;
  })();
  var RequestFailedError = /* @__PURE__ */ (function() {
    function RequestFailedError2() {
    }
    ;
    RequestFailedError2.value = new RequestFailedError2();
    return RequestFailedError2;
  })();
  var XHROtherError = /* @__PURE__ */ (function() {
    function XHROtherError2(value0) {
      this.value0 = value0;
    }
    ;
    XHROtherError2.create = function(value0) {
      return new XHROtherError2(value0);
    };
    return XHROtherError2;
  })();
  var request = function(driver2) {
    return function(req2) {
      var parseJSON = function(v2) {
        if (v2 === "") {
          return pure3(jsonEmptyObject);
        }
        ;
        return either(function($74) {
          return fail2(ForeignError.create($74));
        })(pure3)(jsonParser(v2));
      };
      var fromResponse = (function() {
        if (req2.responseFormat instanceof $$ArrayBuffer) {
          return unsafeReadTagged2("ArrayBuffer");
        }
        ;
        if (req2.responseFormat instanceof Blob2) {
          return unsafeReadTagged2("Blob");
        }
        ;
        if (req2.responseFormat instanceof Document2) {
          return function(x10) {
            return alt2(unsafeReadTagged2("Document")(x10))(alt2(unsafeReadTagged2("XMLDocument")(x10))(unsafeReadTagged2("HTMLDocument")(x10)));
          };
        }
        ;
        if (req2.responseFormat instanceof Json2) {
          return composeKleisliFlipped2(function($75) {
            return req2.responseFormat.value0(parseJSON($75));
          })(unsafeReadTagged2("String"));
        }
        ;
        if (req2.responseFormat instanceof $$String2) {
          return unsafeReadTagged2("String");
        }
        ;
        if (req2.responseFormat instanceof Ignore) {
          return $$const(req2.responseFormat.value0(pure3(unit)));
        }
        ;
        throw new Error("Failed pattern match at Affjax (line 274, column 18 - line 283, column 57): " + [req2.responseFormat.constructor.name]);
      })();
      var extractContent = function(v2) {
        if (v2 instanceof ArrayView) {
          return new Right(v2.value0(unsafeToForeign));
        }
        ;
        if (v2 instanceof Blob) {
          return new Right(unsafeToForeign(v2.value0));
        }
        ;
        if (v2 instanceof Document) {
          return new Right(unsafeToForeign(v2.value0));
        }
        ;
        if (v2 instanceof $$String) {
          return new Right(unsafeToForeign(v2.value0));
        }
        ;
        if (v2 instanceof FormData) {
          return new Right(unsafeToForeign(v2.value0));
        }
        ;
        if (v2 instanceof FormURLEncoded) {
          return note("Body contains values that cannot be encoded as application/x-www-form-urlencoded")(map9(unsafeToForeign)(encode(v2.value0)));
        }
        ;
        if (v2 instanceof Json) {
          return new Right(unsafeToForeign(stringify(v2.value0)));
        }
        ;
        throw new Error("Failed pattern match at Affjax (line 235, column 20 - line 250, column 69): " + [v2.constructor.name]);
      };
      var addHeader = function(mh) {
        return function(hs) {
          if (mh instanceof Just && !any2(on(eq3)(name)(mh.value0))(hs)) {
            return snoc(hs)(mh.value0);
          }
          ;
          return hs;
        };
      };
      var headers = function(reqContent) {
        return addHeader(map9(ContentType.create)(bindFlipped4(toMediaType)(reqContent)))(addHeader(map9(Accept.create)(toMediaType2(req2.responseFormat)))(req2.headers));
      };
      var ajaxRequest = function(v2) {
        return {
          method: print(req2.method),
          url: req2.url,
          headers: map13(function(h) {
            return {
              field: name(h),
              value: value(h)
            };
          })(headers(req2.content)),
          content: v2,
          responseType: toResponseType(req2.responseFormat),
          username: toNullable(req2.username),
          password: toNullable(req2.password),
          withCredentials: req2.withCredentials,
          timeout: fromMaybe(0)(map9(function(v1) {
            return v1;
          })(req2.timeout))
        };
      };
      var send = function(content3) {
        return mapFlipped2($$try3(fromEffectFnAff(_ajax(driver2, "AffjaxTimeoutErrorMessageIdent", "AffjaxRequestFailedMessageIdent", ResponseHeader.create, ajaxRequest(content3)))))(function(v2) {
          if (v2 instanceof Right) {
            var v1 = runExcept(fromResponse(v2.value0.body));
            if (v1 instanceof Left) {
              return new Left(new ResponseBodyError(head2(v1.value0), v2.value0));
            }
            ;
            if (v1 instanceof Right) {
              return new Right({
                headers: v2.value0.headers,
                status: v2.value0.status,
                statusText: v2.value0.statusText,
                body: v1.value0
              });
            }
            ;
            throw new Error("Failed pattern match at Affjax (line 209, column 9 - line 211, column 52): " + [v1.constructor.name]);
          }
          ;
          if (v2 instanceof Left) {
            return new Left((function() {
              var message2 = message(v2.value0);
              var $61 = message2 === "AffjaxTimeoutErrorMessageIdent";
              if ($61) {
                return TimeoutError.value;
              }
              ;
              var $62 = message2 === "AffjaxRequestFailedMessageIdent";
              if ($62) {
                return RequestFailedError.value;
              }
              ;
              return new XHROtherError(v2.value0);
            })());
          }
          ;
          throw new Error("Failed pattern match at Affjax (line 207, column 144 - line 219, column 28): " + [v2.constructor.name]);
        });
      };
      if (req2.content instanceof Nothing) {
        return send(toNullable(Nothing.value));
      }
      ;
      if (req2.content instanceof Just) {
        var v = extractContent(req2.content.value0);
        if (v instanceof Right) {
          return send(toNullable(new Just(v.value0)));
        }
        ;
        if (v instanceof Left) {
          return pure1(new Left(new RequestContentError(v.value0)));
        }
        ;
        throw new Error("Failed pattern match at Affjax (line 199, column 7 - line 203, column 48): " + [v.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Affjax (line 195, column 3 - line 203, column 48): " + [req2.content.constructor.name]);
    };
  };
  var printError = function(v) {
    if (v instanceof RequestContentError) {
      return "There was a problem with the request content: " + v.value0;
    }
    ;
    if (v instanceof ResponseBodyError) {
      return "There was a problem with the response body: " + renderForeignError(v.value0);
    }
    ;
    if (v instanceof TimeoutError) {
      return "There was a problem making the request: timeout";
    }
    ;
    if (v instanceof RequestFailedError) {
      return "There was a problem making the request: request failed";
    }
    ;
    if (v instanceof XHROtherError) {
      return "There was a problem making the request: " + message(v.value0);
    }
    ;
    throw new Error("Failed pattern match at Affjax (line 113, column 14 - line 123, column 66): " + [v.constructor.name]);
  };
  var defaultRequest = /* @__PURE__ */ (function() {
    return {
      method: new Left(GET.value),
      url: "/",
      headers: [],
      content: Nothing.value,
      username: Nothing.value,
      password: Nothing.value,
      withCredentials: false,
      responseFormat: ignore,
      timeout: Nothing.value
    };
  })();
  var get2 = function(driver2) {
    return function(rf) {
      return function(u2) {
        return request(driver2)({
          method: defaultRequest.method,
          headers: defaultRequest.headers,
          content: defaultRequest.content,
          username: defaultRequest.username,
          password: defaultRequest.password,
          withCredentials: defaultRequest.withCredentials,
          timeout: defaultRequest.timeout,
          url: u2,
          responseFormat: rf
        });
      };
    };
  };

  // output/Affjax.Web/foreign.js
  var driver = {
    newXHR: function() {
      return new XMLHttpRequest();
    },
    fixupUrl: function(url2) {
      return url2 || "/";
    }
  };

  // output/Affjax.Web/index.js
  var get3 = /* @__PURE__ */ get2(driver);

  // output/Data.Tree/index.js
  var foldr3 = /* @__PURE__ */ foldr(foldableList);
  var foldl5 = /* @__PURE__ */ foldl(foldableList);
  var foldMap2 = /* @__PURE__ */ foldMap(foldableList);
  var Node = /* @__PURE__ */ (function() {
    function Node4(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Node4.create = function(value0) {
      return function(value1) {
        return new Node4(value0, value1);
      };
    };
    return Node4;
  })();
  var foldableTree = {
    foldr: function(f) {
      return function(b10) {
        return function(v) {
          return f(v.value0)(foldr3(flip(foldr(foldableTree)(f)))(b10)(v.value1));
        };
      };
    },
    foldl: function(f) {
      return function(b10) {
        return function(v) {
          return f(foldl5(foldl(foldableTree)(f))(b10)(v.value1))(v.value0);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var append111 = append(dictMonoid.Semigroup0());
      var foldMap12 = foldMap2(dictMonoid);
      return function(f) {
        return function(v) {
          return append111(f(v.value0))(foldMap12(foldMap(foldableTree)(dictMonoid)(f))(v.value1));
        };
      };
    }
  };

  // output/PSD3.Capabilities.Selection/index.js
  var updateJoin = function(dict) {
    return dict.updateJoin;
  };
  var setAttributes = function(dict) {
    return dict.setAttributes;
  };
  var openSelection = function(dict) {
    return dict.openSelection;
  };
  var attach = function(dict) {
    return dict.attach;
  };
  var appendTo = function(dict) {
    return dict.appendTo;
  };

  // output/PSD3.Internal.Attributes.Instances/index.js
  var Static = /* @__PURE__ */ (function() {
    function Static2(value0) {
      this.value0 = value0;
    }
    ;
    Static2.create = function(value0) {
      return new Static2(value0);
    };
    return Static2;
  })();
  var Fn = /* @__PURE__ */ (function() {
    function Fn2(value0) {
      this.value0 = value0;
    }
    ;
    Fn2.create = function(value0) {
      return new Fn2(value0);
    };
    return Fn2;
  })();
  var FnI = /* @__PURE__ */ (function() {
    function FnI2(value0) {
      this.value0 = value0;
    }
    ;
    FnI2.create = function(value0) {
      return new FnI2(value0);
    };
    return FnI2;
  })();
  var StringAttr = /* @__PURE__ */ (function() {
    function StringAttr2(value0) {
      this.value0 = value0;
    }
    ;
    StringAttr2.create = function(value0) {
      return new StringAttr2(value0);
    };
    return StringAttr2;
  })();
  var NumberAttr = /* @__PURE__ */ (function() {
    function NumberAttr2(value0) {
      this.value0 = value0;
    }
    ;
    NumberAttr2.create = function(value0) {
      return new NumberAttr2(value0);
    };
    return NumberAttr2;
  })();
  var ArrayAttr = /* @__PURE__ */ (function() {
    function ArrayAttr2(value0) {
      this.value0 = value0;
    }
    ;
    ArrayAttr2.create = function(value0) {
      return new ArrayAttr2(value0);
    };
    return ArrayAttr2;
  })();
  var AttributeSetter = /* @__PURE__ */ (function() {
    function AttributeSetter2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    AttributeSetter2.create = function(value0) {
      return function(value1) {
        return new AttributeSetter2(value0, value1);
      };
    };
    return AttributeSetter2;
  })();
  var unboxAttr = function(v) {
    if (v instanceof StringAttr && v.value0 instanceof Static) {
      return v.value0.value0;
    }
    ;
    if (v instanceof StringAttr && v.value0 instanceof Fn) {
      return v.value0.value0;
    }
    ;
    if (v instanceof StringAttr && v.value0 instanceof FnI) {
      return mkFn2(v.value0.value0);
    }
    ;
    if (v instanceof NumberAttr && v.value0 instanceof Static) {
      return v.value0.value0;
    }
    ;
    if (v instanceof NumberAttr && v.value0 instanceof Fn) {
      return v.value0.value0;
    }
    ;
    if (v instanceof NumberAttr && v.value0 instanceof FnI) {
      return mkFn2(v.value0.value0);
    }
    ;
    if (v instanceof ArrayAttr && v.value0 instanceof Static) {
      return v.value0.value0;
    }
    ;
    if (v instanceof ArrayAttr && v.value0 instanceof Fn) {
      return v.value0.value0;
    }
    ;
    if (v instanceof ArrayAttr && v.value0 instanceof FnI) {
      return mkFn2(v.value0.value0);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Internal.Attributes.Instances (line 68, column 3 - line 79, column 54): " + [v.constructor.name]);
  };
  var toAttrStringFn = {
    toAttr: function($50) {
      return StringAttr.create(Fn.create($50));
    }
  };
  var toAttrString = {
    toAttr: function($51) {
      return StringAttr.create(Static.create($51));
    }
  };
  var toAttrNumberFn = {
    toAttr: function($53) {
      return NumberAttr.create(Fn.create($53));
    }
  };
  var toAttrNumber = {
    toAttr: function($54) {
      return NumberAttr.create(Static.create($54));
    }
  };
  var toAttr = function(dict) {
    return dict.toAttr;
  };

  // output/PSD3.Internal.FFI/foreign.js
  function d3Append_(element3) {
    return (selection2) => {
      return selection2.append(element3);
    };
  }
  function d3DataWithKeyFunction_(data) {
    return (keyFn) => (selection2) => {
      return selection2.data(data, keyFn);
    };
  }
  function d3DataWithFunction_(extractFn) {
    return (keyFn) => (selection2) => {
      return selection2.data(extractFn, keyFn);
    };
  }
  function d3EnterAndAppend_(element3) {
    return (selection2) => {
      return selection2.enter().append(element3);
    };
  }
  function d3GetExitSelection_(selection2) {
    return selection2.exit();
  }
  function d3GetEnterSelection_(selection2) {
    return selection2.enter();
  }
  function d3FilterSelection_(selection2) {
    return (selector) => selection2.filter(selector);
  }
  function d3LowerSelection_(selection2) {
    return selection2.lower();
  }
  function d3MergeSelectionWith_(enter) {
    return (update5) => {
      return enter.merge(update5);
    };
  }
  function d3OrderSelection_(selection2) {
    return selection2.order();
  }
  function d3RaiseSelection_(selection2) {
    return selection2.raise();
  }
  function d3RemoveSelection_(selection2) {
    return selection2.remove();
  }
  function d3SelectAllInDOM_(selector) {
    return d3.selectAll(selector);
  }
  function d3SelectionSelectAll_(selector) {
    return (selection2) => {
      return selection2.selectAll(selector);
    };
  }
  function d3SetAttr_(name16) {
    return (value15) => (selection2) => {
      return selection2.attr(name16, value15);
    };
  }
  function d3SetHTML_(value15) {
    return (selection2) => {
      return selection2.html(value15);
    };
  }
  function d3SetProperty_(value15) {
    return (selection2) => {
      return selection2.property(value15);
    };
  }
  function d3SetText_(value15) {
    return (selection2) => {
      return selection2.text(value15);
    };
  }
  function d3SortSelection_(selection2) {
    return (compare9) => selection2.sort(compare9);
  }
  function selectionOn_(selection2) {
    return (event) => (callback) => {
      return selection2.on(event, callback);
    };
  }
  function d3AddTransition_(selection2) {
    return (transition2) => {
      var handle;
      if (transition2.name == "") {
        handle = selection2.transition();
        if (transition2.duration != 0) {
          handle.duration(transition2.duration);
        }
        if (transition2.delay != 0) {
          handle.delay(transition2.delay);
        }
      } else {
        handle = selection2.transition(transition2.name);
      }
      return handle;
    };
  }
  var linksForceName_ = "links";
  function forceCenter_() {
    return d3.forceCenter();
  }
  function forceCollideFn_() {
    return d3.forceCollide();
  }
  function forceLink_() {
    return d3.forceLink().id((d8) => d8.id);
  }
  function forceMany_() {
    return d3.forceManyBody();
  }
  function forceRadial_() {
    return d3.forceRadial();
  }
  function forceX_() {
    return d3.forceX();
  }
  function forceY_() {
    return d3.forceY();
  }
  function getNodes_(simulation) {
    return simulation.nodes();
  }
  function keyIsID_(d8) {
    return d8.id;
  }
  function setAlpha_(simulation) {
    return (alpha) => {
      console.log(`FFI: setting simulation.alpha to ${alpha}`);
      simulation.alpha(alpha);
    };
  }
  function setAlphaDecay_(simulation) {
    return (alphaDecay) => simulation.alphaDecay(alphaDecay);
  }
  function setAlphaMin_(simulation) {
    return (alphaMin) => simulation.alphaMin(alphaMin);
  }
  function setAlphaTarget_(simulation) {
    return (alphaTarget) => simulation.alphaTarget(alphaTarget);
  }
  function setAsNullForceInSimulation_(simulation) {
    return (label5) => simulation.force(label5, null);
  }
  function setForceDistance_(force2) {
    return (attr3) => force2.distance(attr3);
  }
  function setForceDistanceMax_(force2) {
    return (attr3) => force2.distanceMax(attr3);
  }
  function setForceDistanceMin_(force2) {
    return (attr3) => force2.distanceMin(attr3);
  }
  function setForceIterations_(force2) {
    return (attr3) => force2.iterations(attr3);
  }
  function setForceRadius_(force2) {
    return (attr3) => force2.radius(attr3);
  }
  function setForceStrength_(force2) {
    return (attr3) => force2.strength(attr3);
  }
  function setForceTheta_(force2) {
    return (attr3) => force2.theta(attr3);
  }
  function setForceX_(force2) {
    return (attr3) => force2.x(attr3);
  }
  function setForceY_(force2) {
    return (attr3) => force2.y(attr3);
  }
  function setVelocityDecay_(simulation) {
    return (velocityDecay) => simulation.velocityDecay(velocityDecay);
  }
  function startSimulation_(simulation) {
    console.log(`FFI: restarting the simulation, alpha before: ${simulation.alpha()}`);
    simulation.alpha(1).restart();
    console.log(`FFI: restarted simulation, alpha after: ${simulation.alpha()}`);
  }
  function stopSimulation_(simulation) {
    return simulation.stop();
  }
  function initSimulation_(config) {
    return (keyFn) => {
      const simulation = d3.forceSimulation([]).force(linksForceName_, d3.forceLink([]).id(keyFn)).alpha(config.alpha).alphaTarget(config.alphaTarget).alphaMin(config.alphaMin).alphaDecay(config.alphaDecay).velocityDecay(config.velocityDecay);
      if (true) {
        console.log(`FFI: initSimulation${simulation}`);
      }
      return simulation;
    };
  }
  function setNodes_(simulation) {
    return (nodes) => {
      console.log(`FFI: setting nodes in simulation, there are ${nodes.length} nodes`);
      const oldNodes = simulation.nodes();
      const oldNodeMap = new Map(oldNodes.map((d8) => [d8.id, d8]));
      const nodesWithPositions = nodes.map((newNode) => {
        const oldNode = oldNodeMap.get(newNode.id);
        if (oldNode) {
          return Object.assign({}, newNode, {
            x: oldNode.x,
            y: oldNode.y,
            vx: oldNode.vx,
            vy: oldNode.vy,
            // Only override fx/fy if new node has them explicitly set
            fx: newNode.fx !== void 0 ? newNode.fx : oldNode.fx,
            fy: newNode.fy !== void 0 ? newNode.fy : oldNode.fy
          });
        }
        return newNode;
      });
      simulation.nodes(nodesWithPositions);
      return simulation.nodes();
    };
  }
  function setLinks_(simulation) {
    return (links) => {
      console.log(`FFI: setting links in simulation, there are ${links.length} links`);
      simulation.force(linksForceName_).links(links);
    };
  }
  function swizzleLinks_(links) {
    return (simNodes) => (keyFn) => {
      console.log(`FFI: swizzling links in simulation, there are ${links.length} links`);
      const nodeById = new Map(simNodes.map((d8) => [keyFn(d8), d8]));
      const swizzledLinks = links.filter((link4, index5, arr) => {
        if (typeof link4.source !== "object") {
          link4.source = nodeById.get(link4.source);
        } else {
          link4.source = nodeById.get(keyFn(link4.source));
        }
        if (typeof link4.target !== "object") {
          link4.target = nodeById.get(link4.target);
        } else {
          link4.target = nodeById.get(keyFn(link4.target));
        }
        if (typeof link4.source === "undefined" || link4.target === "undefined") {
          return false;
        } else {
          link4.id = keyFn(link4.source) + "-" + keyFn(link4.target);
          return true;
        }
      });
      return swizzledLinks;
    };
  }
  function getLinksFromSimulation_(simulation) {
    linksForce = simulation.force(linksForceName_);
    if (typeof linksForce === `undefined`) {
      return [];
    }
    const result = linksForce.links();
    if (typeof result === `undefined`) {
      return [];
    }
    return result;
  }
  function onTick_(simulation) {
    return (name16) => (tickFn) => {
      var result = simulation.on("tick." + name16, () => {
        tickFn();
      });
      return result;
    };
  }
  function putForceInSimulation_(simulation) {
    return (label5) => (force2) => {
      simulation.force(label5, force2);
    };
  }
  var linkHorizontal_ = d3.linkHorizontal().x((d8) => d8.y).y((d8) => d8.x);
  var linkHorizontal2_ = d3.linkHorizontal().x((d8) => d8.x).y((d8) => d8.y);
  var linkVertical_ = d3.linkVertical().x((d8) => d8.x).y((d8) => d8.y);
  function d3AttachZoomDefaultExtent_(selection2) {
    return (config) => {
      function zoomed({ transform: transform9 }) {
        config.target.attr("transform", transform9);
      }
      return selection2.call(
        d3.zoom().scaleExtent(config.scaleExtent).on(`zoom.${config.name}`, zoomed)
      );
    };
  }
  function d3AttachZoom_(selection2) {
    return (config) => {
      selection2.call(
        d3.zoom().extent(config.extent).scaleExtent(config.scaleExtent).on(`zoom.${config.name}`, (event) => {
          config.target.attr("transform", event.transform);
        })
      );
      return selection2;
    };
  }

  // output/PSD3.Internal.Types/index.js
  var MouseEnter = /* @__PURE__ */ (function() {
    function MouseEnter2() {
    }
    ;
    MouseEnter2.value = new MouseEnter2();
    return MouseEnter2;
  })();
  var MouseLeave = /* @__PURE__ */ (function() {
    function MouseLeave2() {
    }
    ;
    MouseLeave2.value = new MouseLeave2();
    return MouseLeave2;
  })();
  var MouseClick = /* @__PURE__ */ (function() {
    function MouseClick2() {
    }
    ;
    MouseClick2.value = new MouseClick2();
    return MouseClick2;
  })();
  var MouseDown = /* @__PURE__ */ (function() {
    function MouseDown2() {
    }
    ;
    MouseDown2.value = new MouseDown2();
    return MouseDown2;
  })();
  var MouseUp = /* @__PURE__ */ (function() {
    function MouseUp2() {
    }
    ;
    MouseUp2.value = new MouseUp2();
    return MouseUp2;
  })();
  var Div = /* @__PURE__ */ (function() {
    function Div3() {
    }
    ;
    Div3.value = new Div3();
    return Div3;
  })();
  var Svg = /* @__PURE__ */ (function() {
    function Svg2() {
    }
    ;
    Svg2.value = new Svg2();
    return Svg2;
  })();
  var Circle = /* @__PURE__ */ (function() {
    function Circle4() {
    }
    ;
    Circle4.value = new Circle4();
    return Circle4;
  })();
  var Line = /* @__PURE__ */ (function() {
    function Line3() {
    }
    ;
    Line3.value = new Line3();
    return Line3;
  })();
  var Group = /* @__PURE__ */ (function() {
    function Group3() {
    }
    ;
    Group3.value = new Group3();
    return Group3;
  })();
  var Text = /* @__PURE__ */ (function() {
    function Text4() {
    }
    ;
    Text4.value = new Text4();
    return Text4;
  })();
  var Path = /* @__PURE__ */ (function() {
    function Path5() {
    }
    ;
    Path5.value = new Path5();
    return Path5;
  })();
  var Rect = /* @__PURE__ */ (function() {
    function Rect3() {
    }
    ;
    Rect3.value = new Rect3();
    return Rect3;
  })();
  var Title = /* @__PURE__ */ (function() {
    function Title2() {
    }
    ;
    Title2.value = new Title2();
    return Title2;
  })();
  var Span = /* @__PURE__ */ (function() {
    function Span3() {
    }
    ;
    Span3.value = new Span3();
    return Span3;
  })();
  var Table = /* @__PURE__ */ (function() {
    function Table3() {
    }
    ;
    Table3.value = new Table3();
    return Table3;
  })();
  var Tr = /* @__PURE__ */ (function() {
    function Tr3() {
    }
    ;
    Tr3.value = new Tr3();
    return Tr3;
  })();
  var Td = /* @__PURE__ */ (function() {
    function Td3() {
    }
    ;
    Td3.value = new Td3();
    return Td3;
  })();
  var DefaultCubic = /* @__PURE__ */ (function() {
    function DefaultCubic2() {
    }
    ;
    DefaultCubic2.value = new DefaultCubic2();
    return DefaultCubic2;
  })();
  var showMouseEvent = {
    show: function(v) {
      if (v instanceof MouseEnter) {
        return "mouseenter";
      }
      ;
      if (v instanceof MouseLeave) {
        return "mouseleave";
      }
      ;
      if (v instanceof MouseClick) {
        return "click";
      }
      ;
      if (v instanceof MouseDown) {
        return "mousedown";
      }
      ;
      if (v instanceof MouseUp) {
        return "mouseup";
      }
      ;
      throw new Error("Failed pattern match at PSD3.Internal.Types (line 54, column 1 - line 59, column 30): " + [v.constructor.name]);
    }
  };
  var showElement = {
    show: function(v) {
      if (v instanceof Div) {
        return "div";
      }
      ;
      if (v instanceof Svg) {
        return "svg";
      }
      ;
      if (v instanceof Circle) {
        return "circle";
      }
      ;
      if (v instanceof Line) {
        return "line";
      }
      ;
      if (v instanceof Group) {
        return "g";
      }
      ;
      if (v instanceof Text) {
        return "text";
      }
      ;
      if (v instanceof Path) {
        return "path";
      }
      ;
      if (v instanceof Rect) {
        return "rect";
      }
      ;
      if (v instanceof Title) {
        return "title";
      }
      ;
      if (v instanceof Span) {
        return "span";
      }
      ;
      if (v instanceof Table) {
        return "table";
      }
      ;
      if (v instanceof Tr) {
        return "tr";
      }
      ;
      if (v instanceof Td) {
        return "td";
      }
      ;
      throw new Error("Failed pattern match at PSD3.Internal.Types (line 28, column 1 - line 41, column 21): " + [v.constructor.name]);
    }
  };

  // output/PSD3.Internal.Zoom/index.js
  var DefaultZoomExtent = /* @__PURE__ */ (function() {
    function DefaultZoomExtent2() {
    }
    ;
    DefaultZoomExtent2.value = new DefaultZoomExtent2();
    return DefaultZoomExtent2;
  })();
  var ZoomExtent = /* @__PURE__ */ (function() {
    function ZoomExtent2(value0) {
      this.value0 = value0;
    }
    ;
    ZoomExtent2.create = function(value0) {
      return new ZoomExtent2(value0);
    };
    return ZoomExtent2;
  })();

  // output/PSD3.Internal.Selection.Types/index.js
  var show3 = /* @__PURE__ */ show(showMouseEvent);
  var Order = /* @__PURE__ */ (function() {
    function Order2() {
    }
    ;
    Order2.value = new Order2();
    return Order2;
  })();
  var Sort = /* @__PURE__ */ (function() {
    function Sort2(value0) {
      this.value0 = value0;
    }
    ;
    Sort2.create = function(value0) {
      return new Sort2(value0);
    };
    return Sort2;
  })();
  var Raise = /* @__PURE__ */ (function() {
    function Raise3() {
    }
    ;
    Raise3.value = new Raise3();
    return Raise3;
  })();
  var Lower = /* @__PURE__ */ (function() {
    function Lower2() {
    }
    ;
    Lower2.value = new Lower2();
    return Lower2;
  })();
  var AttrT = /* @__PURE__ */ (function() {
    function AttrT2(value0) {
      this.value0 = value0;
    }
    ;
    AttrT2.create = function(value0) {
      return new AttrT2(value0);
    };
    return AttrT2;
  })();
  var TextT = /* @__PURE__ */ (function() {
    function TextT2(value0) {
      this.value0 = value0;
    }
    ;
    TextT2.create = function(value0) {
      return new TextT2(value0);
    };
    return TextT2;
  })();
  var HTMLT = /* @__PURE__ */ (function() {
    function HTMLT2(value0) {
      this.value0 = value0;
    }
    ;
    HTMLT2.create = function(value0) {
      return new HTMLT2(value0);
    };
    return HTMLT2;
  })();
  var PropertyT = /* @__PURE__ */ (function() {
    function PropertyT2(value0) {
      this.value0 = value0;
    }
    ;
    PropertyT2.create = function(value0) {
      return new PropertyT2(value0);
    };
    return PropertyT2;
  })();
  var OrderingT = /* @__PURE__ */ (function() {
    function OrderingT2(value0) {
      this.value0 = value0;
    }
    ;
    OrderingT2.create = function(value0) {
      return new OrderingT2(value0);
    };
    return OrderingT2;
  })();
  var TransitionT = /* @__PURE__ */ (function() {
    function TransitionT2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TransitionT2.create = function(value0) {
      return function(value1) {
        return new TransitionT2(value0, value1);
      };
    };
    return TransitionT2;
  })();
  var RemoveT = /* @__PURE__ */ (function() {
    function RemoveT2() {
    }
    ;
    RemoveT2.value = new RemoveT2();
    return RemoveT2;
  })();
  var OnT = /* @__PURE__ */ (function() {
    function OnT2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    OnT2.create = function(value0) {
      return function(value1) {
        return new OnT2(value0, value1);
      };
    };
    return OnT2;
  })();
  var OnT$prime = /* @__PURE__ */ (function() {
    function OnT$prime2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    OnT$prime2.create = function(value0) {
      return function(value1) {
        return new OnT$prime2(value0, value1);
      };
    };
    return OnT$prime2;
  })();
  var Drag = /* @__PURE__ */ (function() {
    function Drag3(value0) {
      this.value0 = value0;
    }
    ;
    Drag3.create = function(value0) {
      return new Drag3(value0);
    };
    return Drag3;
  })();
  var Zoom = /* @__PURE__ */ (function() {
    function Zoom3(value0) {
      this.value0 = value0;
    }
    ;
    Zoom3.create = function(value0) {
      return new Zoom3(value0);
    };
    return Zoom3;
  })();
  var applySelectionAttributeD3 = function(v) {
    return function(v1) {
      if (v1 instanceof AttrT) {
        return d3SetAttr_(v1.value0.value0)(unboxAttr(v1.value0.value1))(v);
      }
      ;
      if (v1 instanceof TextT) {
        return d3SetText_(unboxAttr(v1.value0.value1))(v);
      }
      ;
      if (v1 instanceof PropertyT) {
        return d3SetProperty_(unboxAttr(v1.value0.value1))(v);
      }
      ;
      if (v1 instanceof HTMLT) {
        return d3SetHTML_(unboxAttr(v1.value0.value1))(v);
      }
      ;
      if (v1 instanceof RemoveT) {
        var removed_ = d3RemoveSelection_(v);
        return removed_;
      }
      ;
      if (v1 instanceof TransitionT) {
        var tHandler = d3AddTransition_(v)(v1.value1);
        var v2 = foldl2(applySelectionAttributeD3)(tHandler)(v1.value0);
        return v;
      }
      ;
      if (v1 instanceof OnT) {
        return selectionOn_(v)(show3(v1.value0))(v1.value1);
      }
      ;
      if (v1 instanceof OnT$prime) {
        return selectionOn_(v)(show3(v1.value0))(v1.value1);
      }
      ;
      if (v1 instanceof OrderingT) {
        if (v1.value0 instanceof Order) {
          return d3OrderSelection_(v);
        }
        ;
        if (v1.value0 instanceof Sort) {
          return d3SortSelection_(v)(v1.value0.value0);
        }
        ;
        if (v1.value0 instanceof Raise) {
          return d3RaiseSelection_(v);
        }
        ;
        if (v1.value0 instanceof Lower) {
          return d3LowerSelection_(v);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Internal.Selection.Types (line 118, column 3 - line 122, column 51): " + [v1.value0.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Internal.Selection.Types (line 88, column 1 - line 88, column 96): " + [v.constructor.name, v1.constructor.name]);
    };
  };

  // output/PSD3.Internal.Attributes.Sugar/index.js
  var toAttr2 = /* @__PURE__ */ toAttr(toAttrString);
  var intercalate3 = /* @__PURE__ */ intercalate2(monoidString);
  var map10 = /* @__PURE__ */ map(functorArray);
  var show4 = /* @__PURE__ */ show(showNumber);
  var append12 = /* @__PURE__ */ append(semigroupArray);
  var viewBox = function(xo) {
    return function(yo) {
      return function(w) {
        return function(h) {
          var vb = intercalate3(" ")(map10(show4)([xo, yo, w, h]));
          return AttrT.create(AttributeSetter.create("viewBox")(toAttr2(vb)));
        };
      };
    };
  };
  var to = function(v) {
    return function(v1) {
      if (v instanceof TransitionT && v.value0.length === 0) {
        return [new TransitionT(v1, v.value1)];
      }
      ;
      if (v instanceof TransitionT) {
        return [new TransitionT(append12(v.value0)(v1), v.value1)];
      }
      ;
      return cons(v)(v1);
    };
  };
  var strokeWidth = function(dictToAttr) {
    var $138 = AttributeSetter.create("stroke-width");
    var $139 = toAttr(dictToAttr);
    return function($140) {
      return AttrT.create($138($139($140)));
    };
  };
  var strokeColor = function(dictToAttr) {
    var $144 = AttributeSetter.create("stroke");
    var $145 = toAttr(dictToAttr);
    return function($146) {
      return AttrT.create($144($145($146)));
    };
  };
  var remove = /* @__PURE__ */ (function() {
    return RemoveT.value;
  })();
  var radius = function(dictToAttr) {
    var $156 = AttributeSetter.create("r");
    var $157 = toAttr(dictToAttr);
    return function($158) {
      return AttrT.create($156($157($158)));
    };
  };
  var fill = function(dictToAttr) {
    var $183 = AttributeSetter.create("fill");
    var $184 = toAttr(dictToAttr);
    return function($185) {
      return AttrT.create($183($184($185)));
    };
  };
  var defaultTransition = /* @__PURE__ */ (function() {
    return {
      name: "",
      delay: 0,
      duration: 0,
      easing: DefaultCubic.value
    };
  })();
  var transitionWithDuration = function(duration2) {
    return new TransitionT([], {
      name: defaultTransition.name,
      delay: defaultTransition.delay,
      easing: defaultTransition.easing,
      duration: duration2
    });
  };
  var d = function(dictToAttr) {
    var $192 = AttributeSetter.create("d");
    var $193 = toAttr(dictToAttr);
    return function($194) {
      return AttrT.create($192($193($194)));
    };
  };
  var cy = function(dictToAttr) {
    var $195 = AttributeSetter.create("cy");
    var $196 = toAttr(dictToAttr);
    return function($197) {
      return AttrT.create($195($196($197)));
    };
  };
  var cx = function(dictToAttr) {
    var $198 = AttributeSetter.create("cx");
    var $199 = toAttr(dictToAttr);
    return function($200) {
      return AttrT.create($198($199($200)));
    };
  };
  var classed = function(dictToAttr) {
    var $204 = AttributeSetter.create("class");
    var $205 = toAttr(dictToAttr);
    return function($206) {
      return AttrT.create($204($205($206)));
    };
  };

  // output/PSD3.Layout.Hierarchy.Cluster4/index.js
  var compare3 = /* @__PURE__ */ compare(ordInt);
  var map11 = /* @__PURE__ */ map(functorList);
  var fromFoldable3 = /* @__PURE__ */ fromFoldable(foldableList);
  var fromFoldable1 = /* @__PURE__ */ fromFoldable2(foldableArray);
  var fromFoldable22 = /* @__PURE__ */ fromFoldable(foldableTree);
  var map14 = /* @__PURE__ */ map(functorArray);
  var maximum2 = /* @__PURE__ */ maximum(ordNumber)(foldableArray);
  var minimum2 = /* @__PURE__ */ minimum(ordNumber)(foldableArray);
  var maximum1 = /* @__PURE__ */ maximum(ordInt)(foldableArray);
  var foldl6 = /* @__PURE__ */ foldl(foldableArray);
  var sortByHeight = function(v) {
    var compareByHeight = function(v1) {
      return function(v2) {
        return compare3(v2.value0.height)(v1.value0.height);
      };
    };
    var sortedGrandchildren = map11(sortByHeight)(v.value1);
    var childArray = fromFoldable3(sortedGrandchildren);
    var sortedArray = sortBy(compareByHeight)(childArray);
    var sortedChildrenList = fromFoldable1(sortedArray);
    return new Node(v.value0, sortedChildrenList);
  };
  var scaleToPixels = function(config) {
    return function(inputTree) {
      var allNodes2 = fromFoldable22(inputTree);
      var allX = map14(function(n) {
        return n.x;
      })(allNodes2);
      var maxX = fromMaybe(1)(maximum2(allX));
      var minX = fromMaybe(0)(minimum2(allX));
      var xRange = (function() {
        var $48 = maxX - minX === 0;
        if ($48) {
          return 1;
        }
        ;
        return maxX - minX;
      })();
      var scaleX = function(x10) {
        return (x10 - minX) / xRange * config.size.width;
      };
      var allHeights = map14(function(n) {
        return n.height;
      })(allNodes2);
      var maxHeight = fromMaybe(1)(maximum1(allHeights));
      var scaleY = function(height21) {
        return (1 - toNumber(height21) / toNumber(maxHeight)) * config.size.height;
      };
      var go2 = function(v) {
        return new Node((function() {
          var $50 = {};
          for (var $51 in v.value0) {
            if ({}.hasOwnProperty.call(v.value0, $51)) {
              $50[$51] = v["value0"][$51];
            }
            ;
          }
          ;
          $50.x = scaleX(v.value0.x);
          $50.y = scaleY(v.value0.height);
          return $50;
        })(), map11(go2)(v.value1));
      };
      return go2(inputTree);
    };
  };
  var render = function(minSep) {
    return function(inputTree) {
      var foldl12 = function(f) {
        return function(init8) {
          return function(arr) {
            return foldl6(f)(init8)(arr);
          };
        };
      };
      var findExtent = function(v) {
        var v1 = fromFoldable3(v.value1);
        if (v1.length === 0) {
          return {
            minX: v.value0.x,
            maxX: v.value0.x
          };
        }
        ;
        var childExtents = map14(findExtent)(v1);
        var maxX = fromMaybe(v.value0.x)(maximum2(map14(function(e) {
          return e.maxX;
        })(childExtents)));
        var minX = fromMaybe(v.value0.x)(minimum2(map14(function(e) {
          return e.minX;
        })(childExtents)));
        return {
          minX,
          maxX
        };
      };
      var renderInternal = function(currentLeafX) {
        return function(v) {
          var v1 = fromFoldable3(v.value1);
          if (v1.length === 0) {
            var leafNode = new Node((function() {
              var $62 = {};
              for (var $63 in v.value0) {
                if ({}.hasOwnProperty.call(v.value0, $63)) {
                  $62[$63] = v["value0"][$63];
                }
                ;
              }
              ;
              $62.x = currentLeafX;
              return $62;
            })(), Nil.value);
            return {
              tree: leafNode,
              lastLeafX: currentLeafX + minSep
            };
          }
          ;
          var processChildren = foldl12(function(acc) {
            return function(child) {
              var result = renderInternal(acc.lastLeafX)(child);
              return {
                trees: snoc(acc.trees)(result.tree),
                lastLeafX: result.lastLeafX
              };
            };
          })({
            trees: [],
            lastLeafX: currentLeafX
          })(v1);
          var childrenList = fromFoldable1(processChildren.trees);
          var allChildExtents = map14(findExtent)(processChildren.trees);
          var maxX = fromMaybe(0)(maximum2(map14(function(e) {
            return e.maxX;
          })(allChildExtents)));
          var minX = fromMaybe(0)(minimum2(map14(function(e) {
            return e.minX;
          })(allChildExtents)));
          var centerX = (minX + maxX) / 2;
          var internalNode = new Node((function() {
            var $65 = {};
            for (var $66 in v.value0) {
              if ({}.hasOwnProperty.call(v.value0, $66)) {
                $65[$66] = v["value0"][$66];
              }
              ;
            }
            ;
            $65.x = centerX;
            return $65;
          })(), childrenList);
          return {
            tree: internalNode,
            lastLeafX: processChildren.lastLeafX
          };
        };
      };
      return renderInternal(0)(inputTree);
    };
  };
  var defaultClusterConfig = {
    size: {
      width: 800,
      height: 600
    },
    minSeparation: 1
  };
  var centerRoot = function(tree3) {
    var allNodes2 = fromFoldable22(tree3);
    var leaves = filter(function(n) {
      return n.height === 0;
    })(allNodes2);
    var firstLeaf = head(leaves);
    var minX = (function() {
      if (firstLeaf instanceof Just) {
        return firstLeaf.value0.x;
      }
      ;
      if (firstLeaf instanceof Nothing) {
        return 0;
      }
      ;
      throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Cluster4 (line 87, column 12 - line 89, column 21): " + [firstLeaf.constructor.name]);
    })();
    var lastLeaf = last(leaves);
    var maxX = (function() {
      if (lastLeaf instanceof Just) {
        return lastLeaf.value0.x;
      }
      ;
      if (lastLeaf instanceof Nothing) {
        return 0;
      }
      ;
      throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Cluster4 (line 91, column 12 - line 93, column 21): " + [lastLeaf.constructor.name]);
    })();
    var targetX = (minX + maxX) / 2;
    var offset = targetX - tree3.value0.x;
    var shiftTree = function(v) {
      return new Node((function() {
        var $76 = {};
        for (var $77 in v.value0) {
          if ({}.hasOwnProperty.call(v.value0, $77)) {
            $76[$77] = v["value0"][$77];
          }
          ;
        }
        ;
        $76.x = v.value0.x + offset;
        return $76;
      })(), map11(shiftTree)(v.value1));
    };
    return shiftTree(tree3);
  };
  var addYCoordinates = function(v) {
    var nodeY = toNumber(v.value0.height);
    var childrenWithY = map11(addYCoordinates)(v.value1);
    return new Node((function() {
      var $84 = {};
      for (var $85 in v.value0) {
        if ({}.hasOwnProperty.call(v.value0, $85)) {
          $84[$85] = v["value0"][$85];
        }
        ;
      }
      ;
      $84.y = nodeY;
      return $84;
    })(), childrenWithY);
  };
  var addHeight = function(v) {
    var childrenWithHeight = map11(addHeight)(v.value1);
    var nodeHeight = (function() {
      var v1 = fromFoldable3(childrenWithHeight);
      if (v1.length === 0) {
        return 0;
      }
      ;
      var childHeights = map14(function(v2) {
        return v2.value0.height;
      })(v1);
      var maxChildHeight = fromMaybe(0)(maximum1(childHeights));
      return 1 + maxChildHeight | 0;
    })();
    return new Node((function() {
      var $94 = {};
      for (var $95 in v.value0) {
        if ({}.hasOwnProperty.call(v.value0, $95)) {
          $94[$95] = v["value0"][$95];
        }
        ;
      }
      ;
      $94.height = nodeHeight;
      return $94;
    })(), childrenWithHeight);
  };
  var cluster = function(config) {
    return function(inputTree) {
      var withHeight = addHeight(inputTree);
      var sorted = sortByHeight(withHeight);
      var rendered = render(config.minSeparation)(sorted);
      var centered = centerRoot(rendered.tree);
      var withCoords = addYCoordinates(centered);
      var scaled = scaleToPixels(config)(withCoords);
      return scaled;
    };
  };

  // output/PSD3.Layout.Hierarchy.Tree4/index.js
  var compare4 = /* @__PURE__ */ compare(ordInt);
  var map15 = /* @__PURE__ */ map(functorList);
  var fromFoldable4 = /* @__PURE__ */ fromFoldable(foldableList);
  var fromFoldable12 = /* @__PURE__ */ fromFoldable2(foldableArray);
  var add2 = /* @__PURE__ */ add(semiringNumber);
  var fromFoldable23 = /* @__PURE__ */ fromFoldable(foldableTree);
  var map16 = /* @__PURE__ */ map(functorArray);
  var maximum3 = /* @__PURE__ */ maximum(ordNumber)(foldableArray);
  var minimum3 = /* @__PURE__ */ minimum(ordNumber)(foldableArray);
  var maximum12 = /* @__PURE__ */ maximum(ordInt)(foldableArray);
  var scanl2 = /* @__PURE__ */ scanl(traversableList);
  var Contours = /* @__PURE__ */ (function() {
    function Contours2(value0) {
      this.value0 = value0;
    }
    ;
    Contours2.create = function(value0) {
      return new Contours2(value0);
    };
    return Contours2;
  })();
  var sortByHeight2 = function(v) {
    var compareByHeight = function(v1) {
      return function(v2) {
        return compare4(v2.value0.height)(v1.value0.height);
      };
    };
    var sortedGrandchildren = map15(sortByHeight2)(v.value1);
    var childArray = fromFoldable4(sortedGrandchildren);
    var sortedArray = sortBy(compareByHeight)(childArray);
    var sortedChildrenList = fromFoldable12(sortedArray);
    return new Node(v.value0, sortedChildrenList);
  };
  var singletonContours = /* @__PURE__ */ (function() {
    return new Contours({
      left: new Cons(0, Nil.value),
      right: new Cons(0, Nil.value)
    });
  })();
  var scanContours = function(minSep) {
    return function(v) {
      return function(v1) {
        var go2 = function($copy_v2) {
          return function($copy_v3) {
            return function($copy_v4) {
              var $tco_var_v2 = $copy_v2;
              var $tco_var_v3 = $copy_v3;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v2, v3, v4) {
                if (v3 instanceof Nil) {
                  $tco_done = true;
                  return v2;
                }
                ;
                if (v4 instanceof Nil) {
                  $tco_done = true;
                  return v2;
                }
                ;
                if (v3 instanceof Cons && v4 instanceof Cons) {
                  var actualSep = v2 + v4.value0 - v3.value0;
                  var neededSep = (function() {
                    var $66 = actualSep < minSep;
                    if ($66) {
                      return v2 + (minSep - actualSep);
                    }
                    ;
                    return v2;
                  })();
                  $tco_var_v2 = neededSep;
                  $tco_var_v3 = v3.value1;
                  $copy_v4 = v4.value1;
                  return;
                }
                ;
                throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 195, column 5 - line 195, column 49): " + [v2.constructor.name, v3.constructor.name, v4.constructor.name]);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v2, $tco_var_v3, $copy_v4);
              }
              ;
              return $tco_result;
            };
          };
        };
        return go2(minSep)(v.value0.right)(v1.value0.left);
      };
    };
  };
  var scaleToPixels2 = function(config) {
    return function(inputTree) {
      var allNodes2 = fromFoldable23(inputTree);
      var allX = map16(function(n) {
        return n.x;
      })(allNodes2);
      var maxX = fromMaybe(1)(maximum3(allX));
      var minX = fromMaybe(0)(minimum3(allX));
      var xRange = (function() {
        var $73 = maxX - minX === 0;
        if ($73) {
          return 1;
        }
        ;
        return maxX - minX;
      })();
      var scaleX = function(x10) {
        return (x10 - minX) / xRange * config.size.width;
      };
      var allDepths = map16(function(n) {
        return n.depth;
      })(allNodes2);
      var maxDepth = fromMaybe(1)(maximum12(allDepths));
      var scaleY = function(depth) {
        return toNumber(depth) / toNumber(maxDepth) * config.size.height;
      };
      var go2 = function(v) {
        return new Node((function() {
          var $75 = {};
          for (var $76 in v.value0) {
            if ({}.hasOwnProperty.call(v.value0, $76)) {
              $75[$76] = v["value0"][$76];
            }
            ;
          }
          ;
          $75.x = scaleX(v.value0.x);
          $75.y = scaleY(v.value0.depth);
          return $75;
        })(), map15(go2)(v.value1));
      };
      return go2(inputTree);
    };
  };
  var petrify = function(parentX) {
    return function(v) {
      var nodeY = toNumber(v.value0.value1.depth);
      var nodeX = parentX + v.value0.value0.offset;
      var childrenWithCoords = map15(petrify(nodeX))(v.value1);
      return new Node((function() {
        var $82 = {};
        for (var $83 in v.value0.value1) {
          if ({}.hasOwnProperty.call(v.value0.value1, $83)) {
            $82[$83] = v["value0"]["value1"][$83];
          }
          ;
        }
        ;
        $82.x = nodeX;
        $82.y = nodeY;
        return $82;
      })(), childrenWithCoords);
    };
  };
  var mergeContoursRight = function(contours) {
    var mergeLevel = function(cs) {
      var currentLevels = mapMaybe(function(c) {
        if (c instanceof Cons) {
          return new Just(c.value0);
        }
        ;
        if (c instanceof Nil) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 282, column 18 - line 284, column 27): " + [c.constructor.name]);
      })(cs);
      var v = head(currentLevels);
      if (v instanceof Nothing) {
        return Nil.value;
      }
      ;
      if (v instanceof Just) {
        var restContours = mapMaybe(function(c) {
          if (c instanceof Cons) {
            return new Just(c.value1);
          }
          ;
          if (c instanceof Nil) {
            return Nothing.value;
          }
          ;
          throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 294, column 24 - line 296, column 33): " + [c.constructor.name]);
        })(cs);
        var maxVal = fromMaybe(0)(maximum3(currentLevels));
        return new Cons(maxVal, mergeLevel(restContours));
      }
      ;
      throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 287, column 9 - line 299, column 52): " + [v.constructor.name]);
    };
    if (contours.length === 0) {
      return Nil.value;
    }
    ;
    return mergeLevel(contours);
  };
  var mergeContoursLeft = function(contours) {
    var mergeLevel = function(cs) {
      var currentLevels = mapMaybe(function(c) {
        if (c instanceof Cons) {
          return new Just(c.value0);
        }
        ;
        if (c instanceof Nil) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 251, column 18 - line 253, column 27): " + [c.constructor.name]);
      })(cs);
      var v = head(currentLevels);
      if (v instanceof Nothing) {
        return Nil.value;
      }
      ;
      if (v instanceof Just) {
        var restContours = mapMaybe(function(c) {
          if (c instanceof Cons) {
            return new Just(c.value1);
          }
          ;
          if (c instanceof Nil) {
            return Nothing.value;
          }
          ;
          throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 263, column 24 - line 265, column 33): " + [c.constructor.name]);
        })(cs);
        var minVal = fromMaybe(0)(minimum3(currentLevels));
        return new Cons(minVal, mergeLevel(restContours));
      }
      ;
      throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 256, column 9 - line 268, column 52): " + [v.constructor.name]);
    };
    if (contours.length === 0) {
      return Nil.value;
    }
    ;
    return mergeLevel(contours);
  };
  var spliceContours = function(offsets) {
    return function(contours) {
      var v = fromFoldable4(zipWith2(Tuple.create)(offsets)(contours));
      if (v.length === 0) {
        return singletonContours;
      }
      ;
      if (v.length === 1) {
        return new Contours({
          left: new Cons(0, map15(function(x10) {
            return x10 + v[0].value0;
          })(v[0].value1.value0.left)),
          right: new Cons(0, map15(function(x10) {
            return x10 + v[0].value0;
          })(v[0].value1.value0.right))
        });
      }
      ;
      var shiftedContours = map16(function(v1) {
        return new Contours({
          left: map15(function(x10) {
            return x10 + v1.value0;
          })(v1.value1.value0.left),
          right: map15(function(x10) {
            return x10 + v1.value0;
          })(v1.value1.value0.right)
        });
      })(v);
      var mergedRight = mergeContoursRight(map16(function(v1) {
        return v1.value0.right;
      })(shiftedContours));
      var mergedLeft = mergeContoursLeft(map16(function(v1) {
        return v1.value0.left;
      })(shiftedContours));
      return new Contours({
        left: new Cons(0, mergedLeft),
        right: new Cons(0, mergedRight)
      });
    };
  };
  var defaultTreeConfig = {
    size: {
      width: 800,
      height: 600
    },
    minSeparation: 1
  };
  var computeSeparations = function(minSep) {
    return function(contours) {
      var tailSafe = function(v) {
        if (v instanceof Nil) {
          return Nil.value;
        }
        ;
        if (v instanceof Cons) {
          return v.value1;
        }
        ;
        throw new Error("Failed pattern match at PSD3.Layout.Hierarchy.Tree4 (line 183, column 5 - line 183, column 43): " + [v.constructor.name]);
      };
      if (contours instanceof Nil) {
        return Nil.value;
      }
      ;
      if (contours instanceof Cons && contours.value1 instanceof Nil) {
        return Nil.value;
      }
      ;
      return zipWith2(scanContours(minSep))(contours)(tailSafe(contours));
    };
  };
  var render2 = function(minSep) {
    return function(inputTree) {
      var updateOffset = function(v2) {
        return function(newOffset) {
          return new Node(new Tuple({
            offset: newOffset
          }, v2.value0.value1), v2.value1);
        };
      };
      var renderWithContours = function(v2) {
        var childCount = length2(v2.value1);
        if (childCount === 0) {
          return new Tuple(new Node(new Tuple({
            offset: 0
          }, v2.value0), Nil.value), singletonContours);
        }
        ;
        var childResults = map15(renderWithContours)(v2.value1);
        var childTrees = map15(function(v1) {
          return v1.value0;
        })(childResults);
        var childContours = map15(function(v1) {
          return v1.value1;
        })(childResults);
        var separations = computeSeparations(minSep)(childContours);
        var childAbsoluteOffsets = new Cons(0, scanl2(add2)(0)(separations));
        var leftmostOffset = fromMaybe(0)(head(fromFoldable4(childAbsoluteOffsets)));
        var rightmostOffset = fromMaybe(0)(last(fromFoldable4(childAbsoluteOffsets)));
        var parentOffset = (leftmostOffset + rightmostOffset) / 2;
        var childRelativeOffsets = map15(function(absOffset) {
          return absOffset - parentOffset;
        })(childAbsoluteOffsets);
        var childrenWithOffsets = zipWith2(updateOffset)(childTrees)(childRelativeOffsets);
        var parentContours = spliceContours(childRelativeOffsets)(childContours);
        var resultTree = new Node(new Tuple({
          offset: parentOffset
        }, v2.value0), childrenWithOffsets);
        return new Tuple(resultTree, parentContours);
      };
      var v = renderWithContours(inputTree);
      return v.value0;
    };
  };
  var addHeightField = function(v) {
    var childrenWithHeight = map15(addHeightField)(v.value1);
    var nodeHeight = (function() {
      var v1 = fromFoldable4(childrenWithHeight);
      if (v1.length === 0) {
        return 0;
      }
      ;
      var childHeights = map16(function(v2) {
        return v2.value0.height;
      })(v1);
      var maxChildHeight = fromMaybe(0)(maximum12(childHeights));
      return maxChildHeight + 1 | 0;
    })();
    return new Node((function() {
      var $150 = {};
      for (var $151 in v.value0) {
        if ({}.hasOwnProperty.call(v.value0, $151)) {
          $150[$151] = v["value0"][$151];
        }
        ;
      }
      ;
      $150.height = nodeHeight;
      return $150;
    })(), childrenWithHeight);
  };
  var addDepth = function(currentDepth) {
    return function(v) {
      return new Node((function() {
        var $157 = {};
        for (var $158 in v.value0) {
          if ({}.hasOwnProperty.call(v.value0, $158)) {
            $157[$158] = v["value0"][$158];
          }
          ;
        }
        ;
        $157.depth = currentDepth;
        return $157;
      })(), map15(addDepth(currentDepth + 1 | 0))(v.value1));
    };
  };
  var tree2 = function(config) {
    return function(inputTree) {
      var withDepth = addDepth(0)(inputTree);
      var rendered = render2(config.minSeparation)(withDepth);
      var withCoords = petrify(0)(rendered);
      var scaled = scaleToPixels2(config)(withCoords);
      return scaled;
    };
  };
  var treeWithSorting = function(config) {
    return function(inputTree) {
      var withDepth = addDepth(0)(inputTree);
      var withHeight = addHeightField(withDepth);
      var sorted = sortByHeight2(withHeight);
      var rendered = render2(config.minSeparation)(sorted);
      var withCoords = petrify(0)(rendered);
      var scaled = scaleToPixels2(config)(withCoords);
      return scaled;
    };
  };

  // output/PSD3.Shared.FlareData/foreign.js
  var getName = (node) => node.name || "";
  var getValue = (node) => node.value || 0;
  var getChildren_ = (node) => {
    if (node.children && Array.isArray(node.children) && node.children.length > 0) {
      return node.children;
    }
    return null;
  };

  // output/PSD3.Shared.FlareData/index.js
  var getChildren = function($1) {
    return toMaybe(getChildren_($1));
  };

  // output/D3.Viz.AnimatedTree4Cluster4/index.js
  var show5 = /* @__PURE__ */ show(showNumber);
  var bind2 = /* @__PURE__ */ bind(bindArray);
  var fromFoldable5 = /* @__PURE__ */ fromFoldable(foldableList);
  var append13 = /* @__PURE__ */ append(semigroupArray);
  var fromFoldable13 = /* @__PURE__ */ fromFoldable2(foldableArray);
  var map17 = /* @__PURE__ */ map(functorArray);
  var classed2 = /* @__PURE__ */ classed(toAttrString);
  var discard2 = /* @__PURE__ */ discard(discardUnit);
  var fill2 = /* @__PURE__ */ fill(toAttrString);
  var strokeColor2 = /* @__PURE__ */ strokeColor(toAttrString);
  var strokeWidth2 = /* @__PURE__ */ strokeWidth(toAttrNumber);
  var d2 = /* @__PURE__ */ d(toAttrStringFn);
  var radius2 = /* @__PURE__ */ radius(toAttrNumber);
  var cx2 = /* @__PURE__ */ cx(toAttrNumberFn);
  var cy2 = /* @__PURE__ */ cy(toAttrNumberFn);
  var TreeLayout = /* @__PURE__ */ (function() {
    function TreeLayout2() {
    }
    ;
    TreeLayout2.value = new TreeLayout2();
    return TreeLayout2;
  })();
  var ClusterLayout = /* @__PURE__ */ (function() {
    function ClusterLayout2() {
    }
    ;
    ClusterLayout2.value = new ClusterLayout2();
    return ClusterLayout2;
  })();
  var showLayoutType = {
    show: function(v) {
      if (v instanceof TreeLayout) {
        return "Tree (Reingold-Tilford)";
      }
      ;
      if (v instanceof ClusterLayout) {
        return "Cluster (Dendrogram)";
      }
      ;
      throw new Error("Failed pattern match at D3.Viz.AnimatedTree4Cluster4 (line 29, column 1 - line 31, column 46): " + [v.constructor.name]);
    }
  };
  var verticalLinkPath = function(x16) {
    return function(y16) {
      return function(x27) {
        return function(y27) {
          var midY = (y16 + y27) / 2;
          return "M" + (show5(x16) + ("," + (show5(y16) + (" C" + (show5(x16) + ("," + (show5(midY) + (" " + (show5(x27) + ("," + (show5(midY) + (" " + (show5(x27) + ("," + show5(y27)))))))))))))));
        };
      };
    };
  };
  var toggleLayout = function(v) {
    if (v instanceof TreeLayout) {
      return ClusterLayout.value;
    }
    ;
    if (v instanceof ClusterLayout) {
      return TreeLayout.value;
    }
    ;
    throw new Error("Failed pattern match at D3.Viz.AnimatedTree4Cluster4 (line 34, column 1 - line 34, column 41): " + [v.constructor.name]);
  };
  var nodeKey = function(node) {
    return node.name;
  };
  var makeLinks = function(v) {
    var grandchildLinks = bind2(fromFoldable5(v.value1))(makeLinks);
    var childLinks = bind2(fromFoldable5(v.value1))(function(v1) {
      return [{
        source: {
          name: v.value0.name,
          x: v.value0.x,
          y: v.value0.y
        },
        target: {
          name: v1.value0.name,
          x: v1.value0.x,
          y: v1.value0.y
        }
      }];
    });
    return append13(childLinks)(grandchildLinks);
  };
  var linkKey = function(link4) {
    return link4.source.name + ("->" + link4.target.name);
  };
  var hierDataToTree = function(hierData) {
    var value15 = getValue(hierData);
    var name16 = getName(hierData);
    var childrenMaybe = getChildren(hierData);
    var childrenList = (function() {
      if (childrenMaybe instanceof Nothing) {
        return Nil.value;
      }
      ;
      if (childrenMaybe instanceof Just) {
        return fromFoldable13(map17(hierDataToTree)(childrenMaybe.value0));
      }
      ;
      throw new Error("Failed pattern match at D3.Viz.AnimatedTree4Cluster4 (line 45, column 20 - line 47, column 76): " + [childrenMaybe.constructor.name]);
    })();
    return new Node({
      name: name16,
      value: value15,
      x: 0,
      y: 0,
      depth: 0,
      height: 0
    }, childrenList);
  };
  var flattenTree = /* @__PURE__ */ fromFoldable(foldableTree);
  var draw = function(dictMonadEffect) {
    var Monad0 = dictMonadEffect.Monad0();
    var bind115 = bind(Monad0.Bind1());
    var pure36 = pure(Monad0.Applicative0());
    return function(dictSelectionM) {
      var attach2 = attach(dictSelectionM);
      var appendTo2 = appendTo(dictSelectionM);
      return function(flareData) {
        return function(selector) {
          var dataTree = hierDataToTree(flareData);
          return bind115(attach2(selector))(function(root$prime) {
            return bind115(appendTo2(root$prime)(Svg.value)([viewBox(0)(0)(1200)(900), classed2("animated-tree4-cluster4")]))(function(svg) {
              return bind115(appendTo2(svg)(Group.value)([classed2("links")]))(function(linksGroup) {
                return bind115(appendTo2(svg)(Group.value)([classed2("nodes")]))(function(nodesGroup) {
                  return pure36({
                    dataTree,
                    linksGroup,
                    nodesGroup,
                    chartWidth: 1200,
                    chartHeight: 900
                  });
                });
              });
            });
          });
        };
      };
    };
  };
  var animationStep = function(dictMonadEffect) {
    var Monad0 = dictMonadEffect.Monad0();
    var Bind1 = Monad0.Bind1();
    var bind115 = bind(Bind1);
    var discard111 = discard2(Bind1);
    var pure36 = pure(Monad0.Applicative0());
    return function(dictSelectionM) {
      var openSelection2 = openSelection(dictSelectionM);
      var updateJoin2 = updateJoin(dictSelectionM);
      var setAttributes2 = setAttributes(dictSelectionM);
      var appendTo2 = appendTo(dictSelectionM);
      return function(dataTree) {
        return function(linksGroup) {
          return function(nodesGroup) {
            return function(chartWidth) {
              return function(chartHeight) {
                return function(currentLayout) {
                  var positioned = (function() {
                    if (currentLayout instanceof TreeLayout) {
                      var config = {
                        minSeparation: defaultTreeConfig.minSeparation,
                        size: {
                          width: chartWidth,
                          height: chartHeight
                        }
                      };
                      return treeWithSorting(config)(dataTree);
                    }
                    ;
                    if (currentLayout instanceof ClusterLayout) {
                      var config = {
                        minSeparation: defaultClusterConfig.minSeparation,
                        size: {
                          width: chartWidth,
                          height: chartHeight
                        }
                      };
                      return cluster(config)(dataTree);
                    }
                    ;
                    throw new Error("Failed pattern match at D3.Viz.AnimatedTree4Cluster4 (line 128, column 20 - line 134, column 37): " + [currentLayout.constructor.name]);
                  })();
                  var nodes = flattenTree(positioned);
                  var links = makeLinks(positioned);
                  return bind115(openSelection2(linksGroup)("path"))(function(linksSelection) {
                    return bind115(updateJoin2(linksSelection)(Path.value)(links)(linkKey))(function(linkJoin) {
                      return discard111(setAttributes2(linkJoin.exit)([remove]))(function() {
                        return bind115(appendTo2(linkJoin.enter)(Path.value)([]))(function(newEnterLinks) {
                          var linkPathFn = function(link4) {
                            return verticalLinkPath(link4.source.x)(link4.source.y)(link4.target.x)(link4.target.y);
                          };
                          return bind115(setAttributes2(newEnterLinks)([fill2("none"), strokeColor2("#555"), strokeWidth2(1.5), classed2("link")]))(function() {
                            return bind115(setAttributes2(newEnterLinks)([d2(linkPathFn)]))(function() {
                              return bind115(setAttributes2(linkJoin.update)([fill2("none"), strokeColor2("#555"), strokeWidth2(1.5), classed2("link")]))(function() {
                                return discard111(setAttributes2(linkJoin.update)(to(transitionWithDuration(1500))([d2(linkPathFn)])))(function() {
                                  return bind115(openSelection2(nodesGroup)("circle"))(function(nodesSelection) {
                                    return bind115(updateJoin2(nodesSelection)(Circle.value)(nodes)(nodeKey))(function(nodeJoin) {
                                      return bind115(setAttributes2(nodeJoin.exit)([remove]))(function() {
                                        return bind115(appendTo2(nodeJoin.enter)(Circle.value)([]))(function(newEnterNodes) {
                                          return bind115(setAttributes2(newEnterNodes)([radius2(4), fill2("#999"), strokeColor2("#555"), strokeWidth2(1.5), classed2("node")]))(function() {
                                            return bind115(setAttributes2(newEnterNodes)([cx2(function(v) {
                                              return v.x;
                                            }), cy2(function(v) {
                                              return v.y;
                                            })]))(function() {
                                              return bind115(setAttributes2(nodeJoin.update)([radius2(4), fill2("#999"), strokeColor2("#555"), strokeWidth2(1.5), classed2("node")]))(function() {
                                                return bind115(setAttributes2(nodeJoin.update)(to(transitionWithDuration(1500))([cx2(function(v) {
                                                  return v.x;
                                                }), cy2(function(v) {
                                                  return v.y;
                                                })])))(function() {
                                                  return pure36(unit);
                                                });
                                              });
                                            });
                                          });
                                        });
                                      });
                                    });
                                  });
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                };
              };
            };
          };
        };
      };
    };
  };

  // output/Control.Monad.State.Trans/index.js
  var runStateT = function(v) {
    return v;
  };
  var monadTransStateT = {
    lift: function(dictMonad) {
      var bind66 = bind(dictMonad.Bind1());
      var pure36 = pure(dictMonad.Applicative0());
      return function(m) {
        return function(s) {
          return bind66(m)(function(x10) {
            return pure36(new Tuple(x10, s));
          });
        };
      };
    }
  };
  var lift3 = /* @__PURE__ */ lift(monadTransStateT);
  var functorStateT = function(dictFunctor) {
    var map52 = map(dictFunctor);
    return {
      map: function(f) {
        return function(v) {
          return function(s) {
            return map52(function(v1) {
              return new Tuple(f(v1.value0), v1.value1);
            })(v(s));
          };
        };
      }
    };
  };
  var monadStateT = function(dictMonad) {
    return {
      Applicative0: function() {
        return applicativeStateT(dictMonad);
      },
      Bind1: function() {
        return bindStateT(dictMonad);
      }
    };
  };
  var bindStateT = function(dictMonad) {
    var bind66 = bind(dictMonad.Bind1());
    return {
      bind: function(v) {
        return function(f) {
          return function(s) {
            return bind66(v(s))(function(v1) {
              var v3 = f(v1.value0);
              return v3(v1.value1);
            });
          };
        };
      },
      Apply0: function() {
        return applyStateT(dictMonad);
      }
    };
  };
  var applyStateT = function(dictMonad) {
    var functorStateT1 = functorStateT(dictMonad.Bind1().Apply0().Functor0());
    return {
      apply: ap(monadStateT(dictMonad)),
      Functor0: function() {
        return functorStateT1;
      }
    };
  };
  var applicativeStateT = function(dictMonad) {
    var pure36 = pure(dictMonad.Applicative0());
    return {
      pure: function(a2) {
        return function(s) {
          return pure36(new Tuple(a2, s));
        };
      },
      Apply0: function() {
        return applyStateT(dictMonad);
      }
    };
  };
  var monadEffectState = function(dictMonadEffect) {
    var Monad0 = dictMonadEffect.Monad0();
    var monadStateT1 = monadStateT(Monad0);
    return {
      liftEffect: (function() {
        var $203 = lift3(Monad0);
        var $204 = liftEffect(dictMonadEffect);
        return function($205) {
          return $203($204($205));
        };
      })(),
      Monad0: function() {
        return monadStateT1;
      }
    };
  };
  var monadStateStateT = function(dictMonad) {
    var pure36 = pure(dictMonad.Applicative0());
    var monadStateT1 = monadStateT(dictMonad);
    return {
      state: function(f) {
        return function($206) {
          return pure36(f($206));
        };
      },
      Monad0: function() {
        return monadStateT1;
      }
    };
  };

  // output/Effect.Aff.Class/index.js
  var monadAffAff = {
    liftAff: /* @__PURE__ */ identity(categoryFn),
    MonadEffect0: function() {
      return monadEffectAff;
    }
  };
  var liftAff = function(dict) {
    return dict.liftAff;
  };

  // output/Effect.Console/foreign.js
  var log2 = function(s) {
    return function() {
      console.log(s);
    };
  };
  var warn = function(s) {
    return function() {
      console.warn(s);
    };
  };

  // output/Effect.Class.Console/index.js
  var log3 = function(dictMonadEffect) {
    var $67 = liftEffect(dictMonadEffect);
    return function($68) {
      return $67(log2($68));
    };
  };

  // output/Data.Exists/index.js
  var runExists = unsafeCoerce2;
  var mkExists = unsafeCoerce2;

  // output/Data.Coyoneda/index.js
  var CoyonedaF = /* @__PURE__ */ (function() {
    function CoyonedaF2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    CoyonedaF2.create = function(value0) {
      return function(value1) {
        return new CoyonedaF2(value0, value1);
      };
    };
    return CoyonedaF2;
  })();
  var unCoyoneda = function(f) {
    return function(v) {
      return runExists(function(v1) {
        return f(v1.value0)(v1.value1);
      })(v);
    };
  };
  var coyoneda = function(k) {
    return function(fi) {
      return mkExists(new CoyonedaF(k, fi));
    };
  };
  var functorCoyoneda = {
    map: function(f) {
      return function(v) {
        return runExists(function(v1) {
          return coyoneda(function($180) {
            return f(v1.value0($180));
          })(v1.value1);
        })(v);
      };
    }
  };
  var liftCoyoneda = /* @__PURE__ */ coyoneda(/* @__PURE__ */ identity(categoryFn));

  // output/Data.Map.Internal/index.js
  var $runtime_lazy4 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var map18 = /* @__PURE__ */ map(functorMaybe);
  var Leaf = /* @__PURE__ */ (function() {
    function Leaf2() {
    }
    ;
    Leaf2.value = new Leaf2();
    return Leaf2;
  })();
  var Node2 = /* @__PURE__ */ (function() {
    function Node4(value0, value1, value22, value32, value42, value52) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
      this.value4 = value42;
      this.value5 = value52;
    }
    ;
    Node4.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return function(value42) {
              return function(value52) {
                return new Node4(value0, value1, value22, value32, value42, value52);
              };
            };
          };
        };
      };
    };
    return Node4;
  })();
  var IterLeaf = /* @__PURE__ */ (function() {
    function IterLeaf2() {
    }
    ;
    IterLeaf2.value = new IterLeaf2();
    return IterLeaf2;
  })();
  var IterEmit = /* @__PURE__ */ (function() {
    function IterEmit2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    IterEmit2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new IterEmit2(value0, value1, value22);
        };
      };
    };
    return IterEmit2;
  })();
  var IterNode = /* @__PURE__ */ (function() {
    function IterNode2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    IterNode2.create = function(value0) {
      return function(value1) {
        return new IterNode2(value0, value1);
      };
    };
    return IterNode2;
  })();
  var Split = /* @__PURE__ */ (function() {
    function Split2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    Split2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new Split2(value0, value1, value22);
        };
      };
    };
    return Split2;
  })();
  var SplitLast = /* @__PURE__ */ (function() {
    function SplitLast2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    SplitLast2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new SplitLast2(value0, value1, value22);
        };
      };
    };
    return SplitLast2;
  })();
  var unsafeNode = function(k, v, l, r) {
    if (l instanceof Leaf) {
      if (r instanceof Leaf) {
        return new Node2(1, 1, k, v, l, r);
      }
      ;
      if (r instanceof Node2) {
        return new Node2(1 + r.value0 | 0, 1 + r.value1 | 0, k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): " + [r.constructor.name]);
    }
    ;
    if (l instanceof Node2) {
      if (r instanceof Leaf) {
        return new Node2(1 + l.value0 | 0, 1 + l.value1 | 0, k, v, l, r);
      }
      ;
      if (r instanceof Node2) {
        return new Node2(1 + (function() {
          var $280 = l.value0 > r.value0;
          if ($280) {
            return l.value0;
          }
          ;
          return r.value0;
        })() | 0, (1 + l.value1 | 0) + r.value1 | 0, k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): " + [r.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): " + [l.constructor.name]);
  };
  var toMapIter = /* @__PURE__ */ (function() {
    return flip(IterNode.create)(IterLeaf.value);
  })();
  var stepWith = function(f) {
    return function(next) {
      return function(done) {
        var go2 = function($copy_v) {
          var $tco_done = false;
          var $tco_result;
          function $tco_loop(v) {
            if (v instanceof IterLeaf) {
              $tco_done = true;
              return done(unit);
            }
            ;
            if (v instanceof IterEmit) {
              $tco_done = true;
              return next(v.value0, v.value1, v.value2);
            }
            ;
            if (v instanceof IterNode) {
              $copy_v = f(v.value1)(v.value0);
              return;
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 940, column 8 - line 946, column 20): " + [v.constructor.name]);
          }
          ;
          while (!$tco_done) {
            $tco_result = $tco_loop($copy_v);
          }
          ;
          return $tco_result;
        };
        return go2;
      };
    };
  };
  var size2 = function(v) {
    if (v instanceof Leaf) {
      return 0;
    }
    ;
    if (v instanceof Node2) {
      return v.value1;
    }
    ;
    throw new Error("Failed pattern match at Data.Map.Internal (line 618, column 8 - line 620, column 24): " + [v.constructor.name]);
  };
  var singleton8 = function(k) {
    return function(v) {
      return new Node2(1, 1, k, v, Leaf.value, Leaf.value);
    };
  };
  var unsafeBalancedNode = /* @__PURE__ */ (function() {
    var height21 = function(v) {
      if (v instanceof Leaf) {
        return 0;
      }
      ;
      if (v instanceof Node2) {
        return v.value0;
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): " + [v.constructor.name]);
    };
    var rotateLeft = function(k, v, l, rk, rv, rl, rr) {
      if (rl instanceof Node2 && rl.value0 > height21(rr)) {
        return unsafeNode(rl.value2, rl.value3, unsafeNode(k, v, l, rl.value4), unsafeNode(rk, rv, rl.value5, rr));
      }
      ;
      return unsafeNode(rk, rv, unsafeNode(k, v, l, rl), rr);
    };
    var rotateRight = function(k, v, lk, lv, ll, lr, r) {
      if (lr instanceof Node2 && height21(ll) <= lr.value0) {
        return unsafeNode(lr.value2, lr.value3, unsafeNode(lk, lv, ll, lr.value4), unsafeNode(k, v, lr.value5, r));
      }
      ;
      return unsafeNode(lk, lv, ll, unsafeNode(k, v, lr, r));
    };
    return function(k, v, l, r) {
      if (l instanceof Leaf) {
        if (r instanceof Leaf) {
          return singleton8(k)(v);
        }
        ;
        if (r instanceof Node2 && r.value0 > 1) {
          return rotateLeft(k, v, l, r.value2, r.value3, r.value4, r.value5);
        }
        ;
        return unsafeNode(k, v, l, r);
      }
      ;
      if (l instanceof Node2) {
        if (r instanceof Node2) {
          if (r.value0 > (l.value0 + 1 | 0)) {
            return rotateLeft(k, v, l, r.value2, r.value3, r.value4, r.value5);
          }
          ;
          if (l.value0 > (r.value0 + 1 | 0)) {
            return rotateRight(k, v, l.value2, l.value3, l.value4, l.value5, r);
          }
          ;
        }
        ;
        if (r instanceof Leaf && l.value0 > 1) {
          return rotateRight(k, v, l.value2, l.value3, l.value4, l.value5, r);
        }
        ;
        return unsafeNode(k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): " + [l.constructor.name]);
    };
  })();
  var $lazy_unsafeSplit = /* @__PURE__ */ $runtime_lazy4("unsafeSplit", "Data.Map.Internal", function() {
    return function(comp, k, m) {
      if (m instanceof Leaf) {
        return new Split(Nothing.value, Leaf.value, Leaf.value);
      }
      ;
      if (m instanceof Node2) {
        var v = comp(k)(m.value2);
        if (v instanceof LT) {
          var v1 = $lazy_unsafeSplit(793)(comp, k, m.value4);
          return new Split(v1.value0, v1.value1, unsafeBalancedNode(m.value2, m.value3, v1.value2, m.value5));
        }
        ;
        if (v instanceof GT) {
          var v1 = $lazy_unsafeSplit(796)(comp, k, m.value5);
          return new Split(v1.value0, unsafeBalancedNode(m.value2, m.value3, m.value4, v1.value1), v1.value2);
        }
        ;
        if (v instanceof EQ) {
          return new Split(new Just(m.value3), m.value4, m.value5);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): " + [v.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): " + [m.constructor.name]);
    };
  });
  var unsafeSplit = /* @__PURE__ */ $lazy_unsafeSplit(786);
  var $lazy_unsafeSplitLast = /* @__PURE__ */ $runtime_lazy4("unsafeSplitLast", "Data.Map.Internal", function() {
    return function(k, v, l, r) {
      if (r instanceof Leaf) {
        return new SplitLast(k, v, l);
      }
      ;
      if (r instanceof Node2) {
        var v1 = $lazy_unsafeSplitLast(779)(r.value2, r.value3, r.value4, r.value5);
        return new SplitLast(v1.value0, v1.value1, unsafeBalancedNode(k, v, l, v1.value2));
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 776, column 37 - line 780, column 57): " + [r.constructor.name]);
    };
  });
  var unsafeSplitLast = /* @__PURE__ */ $lazy_unsafeSplitLast(775);
  var unsafeJoinNodes = function(v, v1) {
    if (v instanceof Leaf) {
      return v1;
    }
    ;
    if (v instanceof Node2) {
      var v2 = unsafeSplitLast(v.value2, v.value3, v.value4, v.value5);
      return unsafeBalancedNode(v2.value0, v2.value1, v2.value2, v1);
    }
    ;
    throw new Error("Failed pattern match at Data.Map.Internal (line 764, column 25 - line 768, column 38): " + [v.constructor.name, v1.constructor.name]);
  };
  var $lazy_unsafeDifference = /* @__PURE__ */ $runtime_lazy4("unsafeDifference", "Data.Map.Internal", function() {
    return function(comp, l, r) {
      if (l instanceof Leaf) {
        return Leaf.value;
      }
      ;
      if (r instanceof Leaf) {
        return l;
      }
      ;
      if (r instanceof Node2) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeDifference(841)(comp, v.value1, r.value4);
        var r$prime = $lazy_unsafeDifference(842)(comp, v.value2, r.value5);
        return unsafeJoinNodes(l$prime, r$prime);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 836, column 39 - line 843, column 33): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeDifference = /* @__PURE__ */ $lazy_unsafeDifference(835);
  var $lazy_unsafeIntersectionWith = /* @__PURE__ */ $runtime_lazy4("unsafeIntersectionWith", "Data.Map.Internal", function() {
    return function(comp, app, l, r) {
      if (l instanceof Leaf) {
        return Leaf.value;
      }
      ;
      if (r instanceof Leaf) {
        return Leaf.value;
      }
      ;
      if (r instanceof Node2) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeIntersectionWith(825)(comp, app, v.value1, r.value4);
        var r$prime = $lazy_unsafeIntersectionWith(826)(comp, app, v.value2, r.value5);
        if (v.value0 instanceof Just) {
          return unsafeBalancedNode(r.value2, app(v.value0.value0)(r.value3), l$prime, r$prime);
        }
        ;
        if (v.value0 instanceof Nothing) {
          return unsafeJoinNodes(l$prime, r$prime);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 827, column 5 - line 831, column 37): " + [v.value0.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 820, column 49 - line 831, column 37): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeIntersectionWith = /* @__PURE__ */ $lazy_unsafeIntersectionWith(819);
  var $lazy_unsafeUnionWith = /* @__PURE__ */ $runtime_lazy4("unsafeUnionWith", "Data.Map.Internal", function() {
    return function(comp, app, l, r) {
      if (l instanceof Leaf) {
        return r;
      }
      ;
      if (r instanceof Leaf) {
        return l;
      }
      ;
      if (r instanceof Node2) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeUnionWith(809)(comp, app, v.value1, r.value4);
        var r$prime = $lazy_unsafeUnionWith(810)(comp, app, v.value2, r.value5);
        if (v.value0 instanceof Just) {
          return unsafeBalancedNode(r.value2, app(v.value0.value0)(r.value3), l$prime, r$prime);
        }
        ;
        if (v.value0 instanceof Nothing) {
          return unsafeBalancedNode(r.value2, r.value3, l$prime, r$prime);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): " + [v.value0.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeUnionWith = /* @__PURE__ */ $lazy_unsafeUnionWith(803);
  var unionWith = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(app) {
      return function(m1) {
        return function(m2) {
          return unsafeUnionWith(compare9, app, m1, m2);
        };
      };
    };
  };
  var union2 = function(dictOrd) {
    return unionWith(dictOrd)($$const);
  };
  var pop = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(k) {
      return function(m) {
        var v = unsafeSplit(compare9, k, m);
        return map18(function(a2) {
          return new Tuple(a2, unsafeJoinNodes(v.value1, v.value2));
        })(v.value0);
      };
    };
  };
  var member = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(k) {
      var go2 = function($copy_v) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return false;
          }
          ;
          if (v instanceof Node2) {
            var v1 = compare9(k)(v.value2);
            if (v1 instanceof LT) {
              $copy_v = v.value4;
              return;
            }
            ;
            if (v1 instanceof GT) {
              $copy_v = v.value5;
              return;
            }
            ;
            if (v1 instanceof EQ) {
              $tco_done = true;
              return true;
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): " + [v1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v);
        }
        ;
        return $tco_result;
      };
      return go2;
    };
  };
  var lookup2 = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(k) {
      var go2 = function($copy_v) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return Nothing.value;
          }
          ;
          if (v instanceof Node2) {
            var v1 = compare9(k)(v.value2);
            if (v1 instanceof LT) {
              $copy_v = v.value4;
              return;
            }
            ;
            if (v1 instanceof GT) {
              $copy_v = v.value5;
              return;
            }
            ;
            if (v1 instanceof EQ) {
              $tco_done = true;
              return new Just(v.value3);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): " + [v1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v);
        }
        ;
        return $tco_result;
      };
      return go2;
    };
  };
  var iterMapL = /* @__PURE__ */ (function() {
    var go2 = function($copy_iter) {
      return function($copy_v) {
        var $tco_var_iter = $copy_iter;
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(iter, v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return iter;
          }
          ;
          if (v instanceof Node2) {
            if (v.value5 instanceof Leaf) {
              $tco_var_iter = new IterEmit(v.value2, v.value3, iter);
              $copy_v = v.value4;
              return;
            }
            ;
            $tco_var_iter = new IterEmit(v.value2, v.value3, new IterNode(v.value5, iter));
            $copy_v = v.value4;
            return;
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 951, column 13 - line 958, column 48): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($tco_var_iter, $copy_v);
        }
        ;
        return $tco_result;
      };
    };
    return go2;
  })();
  var stepAscCps = /* @__PURE__ */ stepWith(iterMapL);
  var stepUnfoldr = /* @__PURE__ */ (function() {
    var step3 = function(k, v, next) {
      return new Just(new Tuple(new Tuple(k, v), next));
    };
    return stepAscCps(step3)(function(v) {
      return Nothing.value;
    });
  })();
  var toUnfoldable3 = function(dictUnfoldable) {
    var $784 = unfoldr(dictUnfoldable)(stepUnfoldr);
    return function($785) {
      return $784(toMapIter($785));
    };
  };
  var intersectionWith = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(app) {
      return function(m1) {
        return function(m2) {
          return unsafeIntersectionWith(compare9, app, m1, m2);
        };
      };
    };
  };
  var intersection = function(dictOrd) {
    return intersectionWith(dictOrd)($$const);
  };
  var insert = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(k) {
      return function(v) {
        var go2 = function(v1) {
          if (v1 instanceof Leaf) {
            return singleton8(k)(v);
          }
          ;
          if (v1 instanceof Node2) {
            var v2 = compare9(k)(v1.value2);
            if (v2 instanceof LT) {
              return unsafeBalancedNode(v1.value2, v1.value3, go2(v1.value4), v1.value5);
            }
            ;
            if (v2 instanceof GT) {
              return unsafeBalancedNode(v1.value2, v1.value3, v1.value4, go2(v1.value5));
            }
            ;
            if (v2 instanceof EQ) {
              return new Node2(v1.value0, v1.value1, k, v, v1.value4, v1.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): " + [v2.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): " + [v1.constructor.name]);
        };
        return go2;
      };
    };
  };
  var functorMap = {
    map: function(f) {
      var go2 = function(v) {
        if (v instanceof Leaf) {
          return Leaf.value;
        }
        ;
        if (v instanceof Node2) {
          return new Node2(v.value0, v.value1, v.value2, f(v.value3), go2(v.value4), go2(v.value5));
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 10 - line 150, column 39): " + [v.constructor.name]);
      };
      return go2;
    }
  };
  var foldableMap = {
    foldr: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy4("go", "Data.Map.Internal", function() {
          return function(m$prime, z$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node2) {
              return $lazy_go(172)(m$prime.value4, f(m$prime.value3)($lazy_go(172)(m$prime.value5, z$prime)));
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(169);
        return function(m) {
          return go2(m, z);
        };
      };
    },
    foldl: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy4("go", "Data.Map.Internal", function() {
          return function(z$prime, m$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node2) {
              return $lazy_go(178)(f($lazy_go(178)(z$prime, m$prime.value4))(m$prime.value3), m$prime.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(175);
        return function(m) {
          return go2(z, m);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      var append111 = append(dictMonoid.Semigroup0());
      return function(f) {
        var go2 = function(v) {
          if (v instanceof Leaf) {
            return mempty2;
          }
          ;
          if (v instanceof Node2) {
            return append111(go2(v.value4))(append111(f(v.value3))(go2(v.value5)));
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): " + [v.constructor.name]);
        };
        return go2;
      };
    }
  };
  var foldableWithIndexMap = {
    foldrWithIndex: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy4("go", "Data.Map.Internal", function() {
          return function(m$prime, z$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node2) {
              return $lazy_go(192)(m$prime.value4, f(m$prime.value2)(m$prime.value3)($lazy_go(192)(m$prime.value5, z$prime)));
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(189);
        return function(m) {
          return go2(m, z);
        };
      };
    },
    foldlWithIndex: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy4("go", "Data.Map.Internal", function() {
          return function(z$prime, m$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node2) {
              return $lazy_go(198)(f(m$prime.value2)($lazy_go(198)(z$prime, m$prime.value4))(m$prime.value3), m$prime.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(195);
        return function(m) {
          return go2(z, m);
        };
      };
    },
    foldMapWithIndex: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      var append111 = append(dictMonoid.Semigroup0());
      return function(f) {
        var go2 = function(v) {
          if (v instanceof Leaf) {
            return mempty2;
          }
          ;
          if (v instanceof Node2) {
            return append111(go2(v.value4))(append111(f(v.value2)(v.value3))(go2(v.value5)));
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): " + [v.constructor.name]);
        };
        return go2;
      };
    },
    Foldable0: function() {
      return foldableMap;
    }
  };
  var keys2 = /* @__PURE__ */ (function() {
    return foldrWithIndex(foldableWithIndexMap)(function(k) {
      return function(v) {
        return function(acc) {
          return new Cons(k, acc);
        };
      };
    })(Nil.value);
  })();
  var empty3 = /* @__PURE__ */ (function() {
    return Leaf.value;
  })();
  var fromFoldable6 = function(dictOrd) {
    var insert13 = insert(dictOrd);
    return function(dictFoldable) {
      return foldl(dictFoldable)(function(m) {
        return function(v) {
          return insert13(v.value0)(v.value1)(m);
        };
      })(empty3);
    };
  };
  var difference = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(m1) {
      return function(m2) {
        return unsafeDifference(compare9, m1, m2);
      };
    };
  };
  var $$delete2 = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(k) {
      var go2 = function(v) {
        if (v instanceof Leaf) {
          return Leaf.value;
        }
        ;
        if (v instanceof Node2) {
          var v1 = compare9(k)(v.value2);
          if (v1 instanceof LT) {
            return unsafeBalancedNode(v.value2, v.value3, go2(v.value4), v.value5);
          }
          ;
          if (v1 instanceof GT) {
            return unsafeBalancedNode(v.value2, v.value3, v.value4, go2(v.value5));
          }
          ;
          if (v1 instanceof EQ) {
            return unsafeJoinNodes(v.value4, v.value5);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 7 - line 501, column 43): " + [v1.constructor.name]);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 8 - line 501, column 43): " + [v.constructor.name]);
      };
      return go2;
    };
  };
  var alter = function(dictOrd) {
    var compare9 = compare(dictOrd);
    return function(f) {
      return function(k) {
        return function(m) {
          var v = unsafeSplit(compare9, k, m);
          var v2 = f(v.value0);
          if (v2 instanceof Nothing) {
            return unsafeJoinNodes(v.value1, v.value2);
          }
          ;
          if (v2 instanceof Just) {
            return unsafeBalancedNode(k, v2.value0, v.value1, v.value2);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 514, column 3 - line 518, column 41): " + [v2.constructor.name]);
        };
      };
    };
  };

  // output/Halogen.Data.OrdBox/index.js
  var OrdBox = /* @__PURE__ */ (function() {
    function OrdBox2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    OrdBox2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new OrdBox2(value0, value1, value22);
        };
      };
    };
    return OrdBox2;
  })();
  var mkOrdBox = function(dictOrd) {
    return OrdBox.create(eq(dictOrd.Eq0()))(compare(dictOrd));
  };
  var eqOrdBox = {
    eq: function(v) {
      return function(v1) {
        return v.value0(v.value2)(v1.value2);
      };
    }
  };
  var ordOrdBox = {
    compare: function(v) {
      return function(v1) {
        return v.value1(v.value2)(v1.value2);
      };
    },
    Eq0: function() {
      return eqOrdBox;
    }
  };

  // output/Halogen.Data.Slot/index.js
  var ordTuple2 = /* @__PURE__ */ ordTuple(ordString)(ordOrdBox);
  var pop1 = /* @__PURE__ */ pop(ordTuple2);
  var lookup1 = /* @__PURE__ */ lookup2(ordTuple2);
  var insert1 = /* @__PURE__ */ insert(ordTuple2);
  var pop2 = function() {
    return function(dictIsSymbol) {
      var reflectSymbol2 = reflectSymbol(dictIsSymbol);
      return function(dictOrd) {
        var mkOrdBox2 = mkOrdBox(dictOrd);
        return function(sym) {
          return function(key) {
            return function(v) {
              return pop1(new Tuple(reflectSymbol2(sym), mkOrdBox2(key)))(v);
            };
          };
        };
      };
    };
  };
  var lookup3 = function() {
    return function(dictIsSymbol) {
      var reflectSymbol2 = reflectSymbol(dictIsSymbol);
      return function(dictOrd) {
        var mkOrdBox2 = mkOrdBox(dictOrd);
        return function(sym) {
          return function(key) {
            return function(v) {
              return lookup1(new Tuple(reflectSymbol2(sym), mkOrdBox2(key)))(v);
            };
          };
        };
      };
    };
  };
  var insert2 = function() {
    return function(dictIsSymbol) {
      var reflectSymbol2 = reflectSymbol(dictIsSymbol);
      return function(dictOrd) {
        var mkOrdBox2 = mkOrdBox(dictOrd);
        return function(sym) {
          return function(key) {
            return function(val) {
              return function(v) {
                return insert1(new Tuple(reflectSymbol2(sym), mkOrdBox2(key)))(val)(v);
              };
            };
          };
        };
      };
    };
  };
  var foreachSlot = function(dictApplicative) {
    var traverse_9 = traverse_(dictApplicative)(foldableMap);
    return function(v) {
      return function(k) {
        return traverse_9(function($54) {
          return k($54);
        })(v);
      };
    };
  };
  var empty4 = empty3;

  // output/DOM.HTML.Indexed.ButtonType/index.js
  var ButtonButton = /* @__PURE__ */ (function() {
    function ButtonButton2() {
    }
    ;
    ButtonButton2.value = new ButtonButton2();
    return ButtonButton2;
  })();
  var ButtonSubmit = /* @__PURE__ */ (function() {
    function ButtonSubmit2() {
    }
    ;
    ButtonSubmit2.value = new ButtonSubmit2();
    return ButtonSubmit2;
  })();
  var ButtonReset = /* @__PURE__ */ (function() {
    function ButtonReset2() {
    }
    ;
    ButtonReset2.value = new ButtonReset2();
    return ButtonReset2;
  })();
  var renderButtonType = function(v) {
    if (v instanceof ButtonButton) {
      return "button";
    }
    ;
    if (v instanceof ButtonSubmit) {
      return "submit";
    }
    ;
    if (v instanceof ButtonReset) {
      return "reset";
    }
    ;
    throw new Error("Failed pattern match at DOM.HTML.Indexed.ButtonType (line 14, column 20 - line 17, column 25): " + [v.constructor.name]);
  };

  // output/DOM.HTML.Indexed.InputType/index.js
  var InputButton = /* @__PURE__ */ (function() {
    function InputButton2() {
    }
    ;
    InputButton2.value = new InputButton2();
    return InputButton2;
  })();
  var InputCheckbox = /* @__PURE__ */ (function() {
    function InputCheckbox2() {
    }
    ;
    InputCheckbox2.value = new InputCheckbox2();
    return InputCheckbox2;
  })();
  var InputColor = /* @__PURE__ */ (function() {
    function InputColor2() {
    }
    ;
    InputColor2.value = new InputColor2();
    return InputColor2;
  })();
  var InputDate = /* @__PURE__ */ (function() {
    function InputDate2() {
    }
    ;
    InputDate2.value = new InputDate2();
    return InputDate2;
  })();
  var InputDatetimeLocal = /* @__PURE__ */ (function() {
    function InputDatetimeLocal2() {
    }
    ;
    InputDatetimeLocal2.value = new InputDatetimeLocal2();
    return InputDatetimeLocal2;
  })();
  var InputEmail = /* @__PURE__ */ (function() {
    function InputEmail2() {
    }
    ;
    InputEmail2.value = new InputEmail2();
    return InputEmail2;
  })();
  var InputFile = /* @__PURE__ */ (function() {
    function InputFile2() {
    }
    ;
    InputFile2.value = new InputFile2();
    return InputFile2;
  })();
  var InputHidden = /* @__PURE__ */ (function() {
    function InputHidden2() {
    }
    ;
    InputHidden2.value = new InputHidden2();
    return InputHidden2;
  })();
  var InputImage = /* @__PURE__ */ (function() {
    function InputImage2() {
    }
    ;
    InputImage2.value = new InputImage2();
    return InputImage2;
  })();
  var InputMonth = /* @__PURE__ */ (function() {
    function InputMonth2() {
    }
    ;
    InputMonth2.value = new InputMonth2();
    return InputMonth2;
  })();
  var InputNumber = /* @__PURE__ */ (function() {
    function InputNumber2() {
    }
    ;
    InputNumber2.value = new InputNumber2();
    return InputNumber2;
  })();
  var InputPassword = /* @__PURE__ */ (function() {
    function InputPassword2() {
    }
    ;
    InputPassword2.value = new InputPassword2();
    return InputPassword2;
  })();
  var InputRadio = /* @__PURE__ */ (function() {
    function InputRadio2() {
    }
    ;
    InputRadio2.value = new InputRadio2();
    return InputRadio2;
  })();
  var InputRange = /* @__PURE__ */ (function() {
    function InputRange2() {
    }
    ;
    InputRange2.value = new InputRange2();
    return InputRange2;
  })();
  var InputReset = /* @__PURE__ */ (function() {
    function InputReset2() {
    }
    ;
    InputReset2.value = new InputReset2();
    return InputReset2;
  })();
  var InputSearch = /* @__PURE__ */ (function() {
    function InputSearch2() {
    }
    ;
    InputSearch2.value = new InputSearch2();
    return InputSearch2;
  })();
  var InputSubmit = /* @__PURE__ */ (function() {
    function InputSubmit2() {
    }
    ;
    InputSubmit2.value = new InputSubmit2();
    return InputSubmit2;
  })();
  var InputTel = /* @__PURE__ */ (function() {
    function InputTel2() {
    }
    ;
    InputTel2.value = new InputTel2();
    return InputTel2;
  })();
  var InputText = /* @__PURE__ */ (function() {
    function InputText2() {
    }
    ;
    InputText2.value = new InputText2();
    return InputText2;
  })();
  var InputTime = /* @__PURE__ */ (function() {
    function InputTime2() {
    }
    ;
    InputTime2.value = new InputTime2();
    return InputTime2;
  })();
  var InputUrl = /* @__PURE__ */ (function() {
    function InputUrl2() {
    }
    ;
    InputUrl2.value = new InputUrl2();
    return InputUrl2;
  })();
  var InputWeek = /* @__PURE__ */ (function() {
    function InputWeek2() {
    }
    ;
    InputWeek2.value = new InputWeek2();
    return InputWeek2;
  })();
  var renderInputType = function(v) {
    if (v instanceof InputButton) {
      return "button";
    }
    ;
    if (v instanceof InputCheckbox) {
      return "checkbox";
    }
    ;
    if (v instanceof InputColor) {
      return "color";
    }
    ;
    if (v instanceof InputDate) {
      return "date";
    }
    ;
    if (v instanceof InputDatetimeLocal) {
      return "datetime-local";
    }
    ;
    if (v instanceof InputEmail) {
      return "email";
    }
    ;
    if (v instanceof InputFile) {
      return "file";
    }
    ;
    if (v instanceof InputHidden) {
      return "hidden";
    }
    ;
    if (v instanceof InputImage) {
      return "image";
    }
    ;
    if (v instanceof InputMonth) {
      return "month";
    }
    ;
    if (v instanceof InputNumber) {
      return "number";
    }
    ;
    if (v instanceof InputPassword) {
      return "password";
    }
    ;
    if (v instanceof InputRadio) {
      return "radio";
    }
    ;
    if (v instanceof InputRange) {
      return "range";
    }
    ;
    if (v instanceof InputReset) {
      return "reset";
    }
    ;
    if (v instanceof InputSearch) {
      return "search";
    }
    ;
    if (v instanceof InputSubmit) {
      return "submit";
    }
    ;
    if (v instanceof InputTel) {
      return "tel";
    }
    ;
    if (v instanceof InputText) {
      return "text";
    }
    ;
    if (v instanceof InputTime) {
      return "time";
    }
    ;
    if (v instanceof InputUrl) {
      return "url";
    }
    ;
    if (v instanceof InputWeek) {
      return "week";
    }
    ;
    throw new Error("Failed pattern match at DOM.HTML.Indexed.InputType (line 33, column 19 - line 55, column 22): " + [v.constructor.name]);
  };

  // output/Halogen.Query.Input/index.js
  var RefUpdate = /* @__PURE__ */ (function() {
    function RefUpdate2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    RefUpdate2.create = function(value0) {
      return function(value1) {
        return new RefUpdate2(value0, value1);
      };
    };
    return RefUpdate2;
  })();
  var Action = /* @__PURE__ */ (function() {
    function Action3(value0) {
      this.value0 = value0;
    }
    ;
    Action3.create = function(value0) {
      return new Action3(value0);
    };
    return Action3;
  })();

  // output/Halogen.VDom.Machine/index.js
  var Step = /* @__PURE__ */ (function() {
    function Step5(value0, value1, value22, value32) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
    }
    ;
    Step5.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return new Step5(value0, value1, value22, value32);
          };
        };
      };
    };
    return Step5;
  })();
  var unStep = unsafeCoerce2;
  var step = function(v, a2) {
    return v.value2(v.value1, a2);
  };
  var mkStep = unsafeCoerce2;
  var halt = function(v) {
    return v.value3(v.value1);
  };
  var extract2 = /* @__PURE__ */ unStep(function(v) {
    return v.value0;
  });

  // output/Halogen.VDom.Types/index.js
  var map19 = /* @__PURE__ */ map(functorArray);
  var map110 = /* @__PURE__ */ map(functorTuple);
  var Text2 = /* @__PURE__ */ (function() {
    function Text4(value0) {
      this.value0 = value0;
    }
    ;
    Text4.create = function(value0) {
      return new Text4(value0);
    };
    return Text4;
  })();
  var Elem = /* @__PURE__ */ (function() {
    function Elem2(value0, value1, value22, value32) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
    }
    ;
    Elem2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return new Elem2(value0, value1, value22, value32);
          };
        };
      };
    };
    return Elem2;
  })();
  var Keyed = /* @__PURE__ */ (function() {
    function Keyed2(value0, value1, value22, value32) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
    }
    ;
    Keyed2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return new Keyed2(value0, value1, value22, value32);
          };
        };
      };
    };
    return Keyed2;
  })();
  var Widget = /* @__PURE__ */ (function() {
    function Widget2(value0) {
      this.value0 = value0;
    }
    ;
    Widget2.create = function(value0) {
      return new Widget2(value0);
    };
    return Widget2;
  })();
  var Grafted = /* @__PURE__ */ (function() {
    function Grafted2(value0) {
      this.value0 = value0;
    }
    ;
    Grafted2.create = function(value0) {
      return new Grafted2(value0);
    };
    return Grafted2;
  })();
  var Graft = /* @__PURE__ */ (function() {
    function Graft2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    Graft2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new Graft2(value0, value1, value22);
        };
      };
    };
    return Graft2;
  })();
  var unGraft = function(f) {
    return function($61) {
      return f($61);
    };
  };
  var graft = unsafeCoerce2;
  var bifunctorGraft = {
    bimap: function(f) {
      return function(g) {
        return unGraft(function(v) {
          return graft(new Graft(function($63) {
            return f(v.value0($63));
          }, function($64) {
            return g(v.value1($64));
          }, v.value2));
        });
      };
    }
  };
  var bimap2 = /* @__PURE__ */ bimap(bifunctorGraft);
  var runGraft = /* @__PURE__ */ unGraft(function(v) {
    var go2 = function(v2) {
      if (v2 instanceof Text2) {
        return new Text2(v2.value0);
      }
      ;
      if (v2 instanceof Elem) {
        return new Elem(v2.value0, v2.value1, v.value0(v2.value2), map19(go2)(v2.value3));
      }
      ;
      if (v2 instanceof Keyed) {
        return new Keyed(v2.value0, v2.value1, v.value0(v2.value2), map19(map110(go2))(v2.value3));
      }
      ;
      if (v2 instanceof Widget) {
        return new Widget(v.value1(v2.value0));
      }
      ;
      if (v2 instanceof Grafted) {
        return new Grafted(bimap2(v.value0)(v.value1)(v2.value0));
      }
      ;
      throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): " + [v2.constructor.name]);
    };
    return go2(v.value2);
  });

  // output/Halogen.VDom.Util/foreign.js
  function unsafeGetAny(key, obj) {
    return obj[key];
  }
  function unsafeHasAny(key, obj) {
    return obj.hasOwnProperty(key);
  }
  function unsafeSetAny(key, val, obj) {
    obj[key] = val;
  }
  function forE2(a2, f) {
    var b10 = [];
    for (var i2 = 0; i2 < a2.length; i2++) {
      b10.push(f(i2, a2[i2]));
    }
    return b10;
  }
  function forEachE(a2, f) {
    for (var i2 = 0; i2 < a2.length; i2++) {
      f(a2[i2]);
    }
  }
  function forInE(o, f) {
    var ks = Object.keys(o);
    for (var i2 = 0; i2 < ks.length; i2++) {
      var k = ks[i2];
      f(k, o[k]);
    }
  }
  function diffWithIxE(a1, a2, f1, f2, f3) {
    var a3 = [];
    var l1 = a1.length;
    var l2 = a2.length;
    var i2 = 0;
    while (1) {
      if (i2 < l1) {
        if (i2 < l2) {
          a3.push(f1(i2, a1[i2], a2[i2]));
        } else {
          f2(i2, a1[i2]);
        }
      } else if (i2 < l2) {
        a3.push(f3(i2, a2[i2]));
      } else {
        break;
      }
      i2++;
    }
    return a3;
  }
  function strMapWithIxE(as, fk, f) {
    var o = {};
    for (var i2 = 0; i2 < as.length; i2++) {
      var a2 = as[i2];
      var k = fk(a2);
      o[k] = f(k, i2, a2);
    }
    return o;
  }
  function diffWithKeyAndIxE(o1, as, fk, f1, f2, f3) {
    var o2 = {};
    for (var i2 = 0; i2 < as.length; i2++) {
      var a2 = as[i2];
      var k = fk(a2);
      if (o1.hasOwnProperty(k)) {
        o2[k] = f1(k, i2, o1[k], a2);
      } else {
        o2[k] = f3(k, i2, a2);
      }
    }
    for (var k in o1) {
      if (k in o2) {
        continue;
      }
      f2(k, o1[k]);
    }
    return o2;
  }
  function refEq2(a2, b10) {
    return a2 === b10;
  }
  function createTextNode(s, doc) {
    return doc.createTextNode(s);
  }
  function setTextContent(s, n) {
    n.textContent = s;
  }
  function createElement(ns, name16, doc) {
    if (ns != null) {
      return doc.createElementNS(ns, name16);
    } else {
      return doc.createElement(name16);
    }
  }
  function insertChildIx(i2, a2, b10) {
    var n = b10.childNodes.item(i2) || null;
    if (n !== a2) {
      b10.insertBefore(a2, n);
    }
  }
  function removeChild(a2, b10) {
    if (b10 && a2.parentNode === b10) {
      b10.removeChild(a2);
    }
  }
  function parentNode(a2) {
    return a2.parentNode;
  }
  function setAttribute(ns, attr3, val, el) {
    if (ns != null) {
      el.setAttributeNS(ns, attr3, val);
    } else {
      el.setAttribute(attr3, val);
    }
  }
  function removeAttribute(ns, attr3, el) {
    if (ns != null) {
      el.removeAttributeNS(ns, attr3);
    } else {
      el.removeAttribute(attr3);
    }
  }
  function hasAttribute(ns, attr3, el) {
    if (ns != null) {
      return el.hasAttributeNS(ns, attr3);
    } else {
      return el.hasAttribute(attr3);
    }
  }
  function addEventListener(ev, listener, el) {
    el.addEventListener(ev, listener, false);
  }
  function removeEventListener(ev, listener, el) {
    el.removeEventListener(ev, listener, false);
  }
  var jsUndefined = void 0;

  // output/Halogen.VDom.Util/index.js
  var unsafeLookup = unsafeGetAny;
  var unsafeFreeze2 = unsafeCoerce2;
  var pokeMutMap = unsafeSetAny;
  var newMutMap = newImpl;

  // output/Web.DOM.Element/foreign.js
  var getProp = function(name16) {
    return function(doctype) {
      return doctype[name16];
    };
  };
  var _namespaceURI = getProp("namespaceURI");
  var _prefix = getProp("prefix");
  var localName = getProp("localName");
  var tagName = getProp("tagName");
  function setAttribute2(name16) {
    return function(value15) {
      return function(element3) {
        return function() {
          element3.setAttribute(name16, value15);
        };
      };
    };
  }

  // output/Web.DOM.ParentNode/foreign.js
  var getEffProp = function(name16) {
    return function(node) {
      return function() {
        return node[name16];
      };
    };
  };
  var children = getEffProp("children");
  var _firstElementChild = getEffProp("firstElementChild");
  var _lastElementChild = getEffProp("lastElementChild");
  var childElementCount = getEffProp("childElementCount");
  function _querySelector(selector) {
    return function(node) {
      return function() {
        return node.querySelector(selector);
      };
    };
  }
  function querySelectorAll(selector) {
    return function(node) {
      return function() {
        return node.querySelectorAll(selector);
      };
    };
  }

  // output/Web.DOM.ParentNode/index.js
  var map20 = /* @__PURE__ */ map(functorEffect);
  var querySelector = function(qs) {
    var $2 = map20(toMaybe);
    var $3 = _querySelector(qs);
    return function($4) {
      return $2($3($4));
    };
  };

  // output/Web.Internal.FFI/foreign.js
  function _unsafeReadProtoTagged(nothing, just, name16, value15) {
    if (typeof window !== "undefined") {
      var ty = window[name16];
      if (ty != null && value15 instanceof ty) {
        return just(value15);
      }
    }
    var obj = value15;
    while (obj != null) {
      var proto = Object.getPrototypeOf(obj);
      var constructorName = proto.constructor.name;
      if (constructorName === name16) {
        return just(value15);
      } else if (constructorName === "Object") {
        return nothing;
      }
      obj = proto;
    }
    return nothing;
  }

  // output/Web.Internal.FFI/index.js
  var unsafeReadProtoTagged = function(name16) {
    return function(value15) {
      return _unsafeReadProtoTagged(Nothing.value, Just.create, name16, value15);
    };
  };

  // output/Web.DOM.Element/index.js
  var toParentNode = unsafeCoerce2;
  var toNode = unsafeCoerce2;
  var fromNode = /* @__PURE__ */ unsafeReadProtoTagged("Element");

  // output/Halogen.VDom.DOM/index.js
  var $runtime_lazy5 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var haltWidget = function(v) {
    return halt(v.widget);
  };
  var $lazy_patchWidget = /* @__PURE__ */ $runtime_lazy5("patchWidget", "Halogen.VDom.DOM", function() {
    return function(state3, vdom) {
      if (vdom instanceof Grafted) {
        return $lazy_patchWidget(291)(state3, runGraft(vdom.value0));
      }
      ;
      if (vdom instanceof Widget) {
        var res = step(state3.widget, vdom.value0);
        var res$prime = unStep(function(v) {
          return mkStep(new Step(v.value0, {
            build: state3.build,
            widget: res
          }, $lazy_patchWidget(296), haltWidget));
        })(res);
        return res$prime;
      }
      ;
      haltWidget(state3);
      return state3.build(vdom);
    };
  });
  var patchWidget = /* @__PURE__ */ $lazy_patchWidget(286);
  var haltText = function(v) {
    var parent2 = parentNode(v.node);
    return removeChild(v.node, parent2);
  };
  var $lazy_patchText = /* @__PURE__ */ $runtime_lazy5("patchText", "Halogen.VDom.DOM", function() {
    return function(state3, vdom) {
      if (vdom instanceof Grafted) {
        return $lazy_patchText(82)(state3, runGraft(vdom.value0));
      }
      ;
      if (vdom instanceof Text2) {
        if (state3.value === vdom.value0) {
          return mkStep(new Step(state3.node, state3, $lazy_patchText(85), haltText));
        }
        ;
        if (otherwise) {
          var nextState = {
            build: state3.build,
            node: state3.node,
            value: vdom.value0
          };
          setTextContent(vdom.value0, state3.node);
          return mkStep(new Step(state3.node, nextState, $lazy_patchText(89), haltText));
        }
        ;
      }
      ;
      haltText(state3);
      return state3.build(vdom);
    };
  });
  var patchText = /* @__PURE__ */ $lazy_patchText(77);
  var haltKeyed = function(v) {
    var parent2 = parentNode(v.node);
    removeChild(v.node, parent2);
    forInE(v.children, function(v1, s) {
      return halt(s);
    });
    return halt(v.attrs);
  };
  var haltElem = function(v) {
    var parent2 = parentNode(v.node);
    removeChild(v.node, parent2);
    forEachE(v.children, halt);
    return halt(v.attrs);
  };
  var eqElemSpec = function(ns1, v, ns2, v1) {
    var $63 = v === v1;
    if ($63) {
      if (ns1 instanceof Just && (ns2 instanceof Just && ns1.value0 === ns2.value0)) {
        return true;
      }
      ;
      if (ns1 instanceof Nothing && ns2 instanceof Nothing) {
        return true;
      }
      ;
      return false;
    }
    ;
    return false;
  };
  var $lazy_patchElem = /* @__PURE__ */ $runtime_lazy5("patchElem", "Halogen.VDom.DOM", function() {
    return function(state3, vdom) {
      if (vdom instanceof Grafted) {
        return $lazy_patchElem(135)(state3, runGraft(vdom.value0));
      }
      ;
      if (vdom instanceof Elem && eqElemSpec(state3.ns, state3.name, vdom.value0, vdom.value1)) {
        var v = length(vdom.value3);
        var v1 = length(state3.children);
        if (v1 === 0 && v === 0) {
          var attrs2 = step(state3.attrs, vdom.value2);
          var nextState = {
            build: state3.build,
            node: state3.node,
            attrs: attrs2,
            ns: vdom.value0,
            name: vdom.value1,
            children: state3.children
          };
          return mkStep(new Step(state3.node, nextState, $lazy_patchElem(149), haltElem));
        }
        ;
        var onThis = function(v2, s) {
          return halt(s);
        };
        var onThese = function(ix, s, v2) {
          var res = step(s, v2);
          insertChildIx(ix, extract2(res), state3.node);
          return res;
        };
        var onThat = function(ix, v2) {
          var res = state3.build(v2);
          insertChildIx(ix, extract2(res), state3.node);
          return res;
        };
        var children22 = diffWithIxE(state3.children, vdom.value3, onThese, onThis, onThat);
        var attrs2 = step(state3.attrs, vdom.value2);
        var nextState = {
          build: state3.build,
          node: state3.node,
          attrs: attrs2,
          ns: vdom.value0,
          name: vdom.value1,
          children: children22
        };
        return mkStep(new Step(state3.node, nextState, $lazy_patchElem(172), haltElem));
      }
      ;
      haltElem(state3);
      return state3.build(vdom);
    };
  });
  var patchElem = /* @__PURE__ */ $lazy_patchElem(130);
  var $lazy_patchKeyed = /* @__PURE__ */ $runtime_lazy5("patchKeyed", "Halogen.VDom.DOM", function() {
    return function(state3, vdom) {
      if (vdom instanceof Grafted) {
        return $lazy_patchKeyed(222)(state3, runGraft(vdom.value0));
      }
      ;
      if (vdom instanceof Keyed && eqElemSpec(state3.ns, state3.name, vdom.value0, vdom.value1)) {
        var v = length(vdom.value3);
        if (state3.length === 0 && v === 0) {
          var attrs2 = step(state3.attrs, vdom.value2);
          var nextState = {
            build: state3.build,
            node: state3.node,
            attrs: attrs2,
            ns: vdom.value0,
            name: vdom.value1,
            children: state3.children,
            length: 0
          };
          return mkStep(new Step(state3.node, nextState, $lazy_patchKeyed(237), haltKeyed));
        }
        ;
        var onThis = function(v2, s) {
          return halt(s);
        };
        var onThese = function(v2, ix$prime, s, v3) {
          var res = step(s, v3.value1);
          insertChildIx(ix$prime, extract2(res), state3.node);
          return res;
        };
        var onThat = function(v2, ix, v3) {
          var res = state3.build(v3.value1);
          insertChildIx(ix, extract2(res), state3.node);
          return res;
        };
        var children22 = diffWithKeyAndIxE(state3.children, vdom.value3, fst, onThese, onThis, onThat);
        var attrs2 = step(state3.attrs, vdom.value2);
        var nextState = {
          build: state3.build,
          node: state3.node,
          attrs: attrs2,
          ns: vdom.value0,
          name: vdom.value1,
          children: children22,
          length: v
        };
        return mkStep(new Step(state3.node, nextState, $lazy_patchKeyed(261), haltKeyed));
      }
      ;
      haltKeyed(state3);
      return state3.build(vdom);
    };
  });
  var patchKeyed = /* @__PURE__ */ $lazy_patchKeyed(217);
  var buildWidget = function(v, build, w) {
    var res = v.buildWidget(v)(w);
    var res$prime = unStep(function(v1) {
      return mkStep(new Step(v1.value0, {
        build,
        widget: res
      }, patchWidget, haltWidget));
    })(res);
    return res$prime;
  };
  var buildText = function(v, build, s) {
    var node = createTextNode(s, v.document);
    var state3 = {
      build,
      node,
      value: s
    };
    return mkStep(new Step(node, state3, patchText, haltText));
  };
  var buildKeyed = function(v, build, ns1, name1, as1, ch1) {
    var el = createElement(toNullable(ns1), name1, v.document);
    var node = toNode(el);
    var onChild = function(v1, ix, v2) {
      var res = build(v2.value1);
      insertChildIx(ix, extract2(res), node);
      return res;
    };
    var children3 = strMapWithIxE(ch1, fst, onChild);
    var attrs = v.buildAttributes(el)(as1);
    var state3 = {
      build,
      node,
      attrs,
      ns: ns1,
      name: name1,
      children: children3,
      length: length(ch1)
    };
    return mkStep(new Step(node, state3, patchKeyed, haltKeyed));
  };
  var buildElem = function(v, build, ns1, name1, as1, ch1) {
    var el = createElement(toNullable(ns1), name1, v.document);
    var node = toNode(el);
    var onChild = function(ix, child) {
      var res = build(child);
      insertChildIx(ix, extract2(res), node);
      return res;
    };
    var children3 = forE2(ch1, onChild);
    var attrs = v.buildAttributes(el)(as1);
    var state3 = {
      build,
      node,
      attrs,
      ns: ns1,
      name: name1,
      children: children3
    };
    return mkStep(new Step(node, state3, patchElem, haltElem));
  };
  var buildVDom = function(spec) {
    var $lazy_build = $runtime_lazy5("build", "Halogen.VDom.DOM", function() {
      return function(v) {
        if (v instanceof Text2) {
          return buildText(spec, $lazy_build(59), v.value0);
        }
        ;
        if (v instanceof Elem) {
          return buildElem(spec, $lazy_build(60), v.value0, v.value1, v.value2, v.value3);
        }
        ;
        if (v instanceof Keyed) {
          return buildKeyed(spec, $lazy_build(61), v.value0, v.value1, v.value2, v.value3);
        }
        ;
        if (v instanceof Widget) {
          return buildWidget(spec, $lazy_build(62), v.value0);
        }
        ;
        if (v instanceof Grafted) {
          return $lazy_build(63)(runGraft(v.value0));
        }
        ;
        throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): " + [v.constructor.name]);
      };
    });
    var build = $lazy_build(58);
    return build;
  };

  // output/Web.Event.EventTarget/foreign.js
  function eventListener(fn) {
    return function() {
      return function(event) {
        return fn(event)();
      };
    };
  }
  function addEventListener2(type2) {
    return function(listener) {
      return function(useCapture) {
        return function(target6) {
          return function() {
            return target6.addEventListener(type2, listener, useCapture);
          };
        };
      };
    };
  }
  function removeEventListener2(type2) {
    return function(listener) {
      return function(useCapture) {
        return function(target6) {
          return function() {
            return target6.removeEventListener(type2, listener, useCapture);
          };
        };
      };
    };
  }

  // output/Halogen.VDom.DOM.Prop/index.js
  var $runtime_lazy6 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var Created = /* @__PURE__ */ (function() {
    function Created2(value0) {
      this.value0 = value0;
    }
    ;
    Created2.create = function(value0) {
      return new Created2(value0);
    };
    return Created2;
  })();
  var Removed = /* @__PURE__ */ (function() {
    function Removed2(value0) {
      this.value0 = value0;
    }
    ;
    Removed2.create = function(value0) {
      return new Removed2(value0);
    };
    return Removed2;
  })();
  var Attribute = /* @__PURE__ */ (function() {
    function Attribute2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    Attribute2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new Attribute2(value0, value1, value22);
        };
      };
    };
    return Attribute2;
  })();
  var Property = /* @__PURE__ */ (function() {
    function Property2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Property2.create = function(value0) {
      return function(value1) {
        return new Property2(value0, value1);
      };
    };
    return Property2;
  })();
  var Handler = /* @__PURE__ */ (function() {
    function Handler2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Handler2.create = function(value0) {
      return function(value1) {
        return new Handler2(value0, value1);
      };
    };
    return Handler2;
  })();
  var Ref = /* @__PURE__ */ (function() {
    function Ref2(value0) {
      this.value0 = value0;
    }
    ;
    Ref2.create = function(value0) {
      return new Ref2(value0);
    };
    return Ref2;
  })();
  var unsafeGetProperty = unsafeGetAny;
  var setProperty = unsafeSetAny;
  var removeProperty = function(key, el) {
    var v = hasAttribute(nullImpl, key, el);
    if (v) {
      return removeAttribute(nullImpl, key, el);
    }
    ;
    var v1 = typeOf(unsafeGetAny(key, el));
    if (v1 === "string") {
      return unsafeSetAny(key, "", el);
    }
    ;
    if (key === "rowSpan") {
      return unsafeSetAny(key, 1, el);
    }
    ;
    if (key === "colSpan") {
      return unsafeSetAny(key, 1, el);
    }
    ;
    return unsafeSetAny(key, jsUndefined, el);
  };
  var propToStrKey = function(v) {
    if (v instanceof Attribute && v.value0 instanceof Just) {
      return "attr/" + (v.value0.value0 + (":" + v.value1));
    }
    ;
    if (v instanceof Attribute) {
      return "attr/:" + v.value1;
    }
    ;
    if (v instanceof Property) {
      return "prop/" + v.value0;
    }
    ;
    if (v instanceof Handler) {
      return "handler/" + v.value0;
    }
    ;
    if (v instanceof Ref) {
      return "ref";
    }
    ;
    throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): " + [v.constructor.name]);
  };
  var propFromString = unsafeCoerce2;
  var propFromBoolean = unsafeCoerce2;
  var buildProp = function(emit) {
    return function(el) {
      var removeProp = function(prevEvents) {
        return function(v, v1) {
          if (v1 instanceof Attribute) {
            return removeAttribute(toNullable(v1.value0), v1.value1, el);
          }
          ;
          if (v1 instanceof Property) {
            return removeProperty(v1.value0, el);
          }
          ;
          if (v1 instanceof Handler) {
            var handler3 = unsafeLookup(v1.value0, prevEvents);
            return removeEventListener(v1.value0, fst(handler3), el);
          }
          ;
          if (v1 instanceof Ref) {
            return unit;
          }
          ;
          throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): " + [v1.constructor.name]);
        };
      };
      var mbEmit = function(v) {
        if (v instanceof Just) {
          return emit(v.value0)();
        }
        ;
        return unit;
      };
      var haltProp = function(state3) {
        var v = lookup("ref")(state3.props);
        if (v instanceof Just && v.value0 instanceof Ref) {
          return mbEmit(v.value0.value0(new Removed(el)));
        }
        ;
        return unit;
      };
      var diffProp = function(prevEvents, events) {
        return function(v, v1, v11, v2) {
          if (v11 instanceof Attribute && v2 instanceof Attribute) {
            var $66 = v11.value2 === v2.value2;
            if ($66) {
              return v2;
            }
            ;
            setAttribute(toNullable(v2.value0), v2.value1, v2.value2, el);
            return v2;
          }
          ;
          if (v11 instanceof Property && v2 instanceof Property) {
            var v4 = refEq2(v11.value1, v2.value1);
            if (v4) {
              return v2;
            }
            ;
            if (v2.value0 === "value") {
              var elVal = unsafeGetProperty("value", el);
              var $75 = refEq2(elVal, v2.value1);
              if ($75) {
                return v2;
              }
              ;
              setProperty(v2.value0, v2.value1, el);
              return v2;
            }
            ;
            setProperty(v2.value0, v2.value1, el);
            return v2;
          }
          ;
          if (v11 instanceof Handler && v2 instanceof Handler) {
            var handler3 = unsafeLookup(v2.value0, prevEvents);
            write(v2.value1)(snd(handler3))();
            pokeMutMap(v2.value0, handler3, events);
            return v2;
          }
          ;
          return v2;
        };
      };
      var applyProp = function(events) {
        return function(v, v1, v2) {
          if (v2 instanceof Attribute) {
            setAttribute(toNullable(v2.value0), v2.value1, v2.value2, el);
            return v2;
          }
          ;
          if (v2 instanceof Property) {
            setProperty(v2.value0, v2.value1, el);
            return v2;
          }
          ;
          if (v2 instanceof Handler) {
            var v3 = unsafeGetAny(v2.value0, events);
            if (unsafeHasAny(v2.value0, events)) {
              write(v2.value1)(snd(v3))();
              return v2;
            }
            ;
            var ref2 = $$new(v2.value1)();
            var listener = eventListener(function(ev) {
              return function __do3() {
                var f$prime = read(ref2)();
                return mbEmit(f$prime(ev));
              };
            })();
            pokeMutMap(v2.value0, new Tuple(listener, ref2), events);
            addEventListener(v2.value0, listener, el);
            return v2;
          }
          ;
          if (v2 instanceof Ref) {
            mbEmit(v2.value0(new Created(el)));
            return v2;
          }
          ;
          throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): " + [v2.constructor.name]);
        };
      };
      var $lazy_patchProp = $runtime_lazy6("patchProp", "Halogen.VDom.DOM.Prop", function() {
        return function(state3, ps2) {
          var events = newMutMap();
          var onThis = removeProp(state3.events);
          var onThese = diffProp(state3.events, events);
          var onThat = applyProp(events);
          var props = diffWithKeyAndIxE(state3.props, ps2, propToStrKey, onThese, onThis, onThat);
          var nextState = {
            events: unsafeFreeze2(events),
            props
          };
          return mkStep(new Step(unit, nextState, $lazy_patchProp(100), haltProp));
        };
      });
      var patchProp = $lazy_patchProp(87);
      var renderProp = function(ps1) {
        var events = newMutMap();
        var ps1$prime = strMapWithIxE(ps1, propToStrKey, applyProp(events));
        var state3 = {
          events: unsafeFreeze2(events),
          props: ps1$prime
        };
        return mkStep(new Step(unit, state3, patchProp, haltProp));
      };
      return renderProp;
    };
  };

  // output/Halogen.HTML.Core/index.js
  var HTML = function(x10) {
    return x10;
  };
  var widget = function($28) {
    return HTML(Widget.create($28));
  };
  var toPropValue = function(dict) {
    return dict.toPropValue;
  };
  var text = function($29) {
    return HTML(Text2.create($29));
  };
  var prop = function(dictIsProp) {
    var toPropValue1 = toPropValue(dictIsProp);
    return function(v) {
      var $31 = Property.create(v);
      return function($32) {
        return $31(toPropValue1($32));
      };
    };
  };
  var isPropString = {
    toPropValue: propFromString
  };
  var isPropInputType = {
    toPropValue: function($45) {
      return propFromString(renderInputType($45));
    }
  };
  var isPropButtonType = {
    toPropValue: function($50) {
      return propFromString(renderButtonType($50));
    }
  };
  var isPropBoolean = {
    toPropValue: propFromBoolean
  };
  var handler = /* @__PURE__ */ (function() {
    return Handler.create;
  })();
  var element = function(ns) {
    return function(name16) {
      return function(props) {
        return function(children3) {
          return new Elem(ns, name16, props, children3);
        };
      };
    };
  };
  var attr = function(ns) {
    return function(v) {
      return Attribute.create(ns)(v);
    };
  };

  // output/Control.Applicative.Free/index.js
  var identity9 = /* @__PURE__ */ identity(categoryFn);
  var Pure = /* @__PURE__ */ (function() {
    function Pure2(value0) {
      this.value0 = value0;
    }
    ;
    Pure2.create = function(value0) {
      return new Pure2(value0);
    };
    return Pure2;
  })();
  var Lift = /* @__PURE__ */ (function() {
    function Lift3(value0) {
      this.value0 = value0;
    }
    ;
    Lift3.create = function(value0) {
      return new Lift3(value0);
    };
    return Lift3;
  })();
  var Ap = /* @__PURE__ */ (function() {
    function Ap2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Ap2.create = function(value0) {
      return function(value1) {
        return new Ap2(value0, value1);
      };
    };
    return Ap2;
  })();
  var mkAp = function(fba) {
    return function(fb) {
      return new Ap(fba, fb);
    };
  };
  var liftFreeAp = /* @__PURE__ */ (function() {
    return Lift.create;
  })();
  var goLeft = function(dictApplicative) {
    var pure36 = pure(dictApplicative);
    return function(fStack) {
      return function(valStack) {
        return function(nat) {
          return function(func) {
            return function(count) {
              if (func instanceof Pure) {
                return new Tuple(new Cons({
                  func: pure36(func.value0),
                  count
                }, fStack), valStack);
              }
              ;
              if (func instanceof Lift) {
                return new Tuple(new Cons({
                  func: nat(func.value0),
                  count
                }, fStack), valStack);
              }
              ;
              if (func instanceof Ap) {
                return goLeft(dictApplicative)(fStack)(cons2(func.value1)(valStack))(nat)(func.value0)(count + 1 | 0);
              }
              ;
              throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): " + [func.constructor.name]);
            };
          };
        };
      };
    };
  };
  var goApply = function(dictApplicative) {
    var apply5 = apply(dictApplicative.Apply0());
    return function(fStack) {
      return function(vals) {
        return function(gVal) {
          if (fStack instanceof Nil) {
            return new Left(gVal);
          }
          ;
          if (fStack instanceof Cons) {
            var gRes = apply5(fStack.value0.func)(gVal);
            var $31 = fStack.value0.count === 1;
            if ($31) {
              if (fStack.value1 instanceof Nil) {
                return new Left(gRes);
              }
              ;
              return goApply(dictApplicative)(fStack.value1)(vals)(gRes);
            }
            ;
            if (vals instanceof Nil) {
              return new Left(gRes);
            }
            ;
            if (vals instanceof Cons) {
              return new Right(new Tuple(new Cons({
                func: gRes,
                count: fStack.value0.count - 1 | 0
              }, fStack.value1), new NonEmpty(vals.value0, vals.value1)));
            }
            ;
            throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): " + [vals.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): " + [fStack.constructor.name]);
        };
      };
    };
  };
  var functorFreeAp = {
    map: function(f) {
      return function(x10) {
        return mkAp(new Pure(f))(x10);
      };
    }
  };
  var foldFreeAp = function(dictApplicative) {
    var goApply1 = goApply(dictApplicative);
    var pure36 = pure(dictApplicative);
    var goLeft1 = goLeft(dictApplicative);
    return function(nat) {
      return function(z) {
        var go2 = function($copy_v) {
          var $tco_done = false;
          var $tco_result;
          function $tco_loop(v) {
            if (v.value1.value0 instanceof Pure) {
              var v1 = goApply1(v.value0)(v.value1.value1)(pure36(v.value1.value0.value0));
              if (v1 instanceof Left) {
                $tco_done = true;
                return v1.value0;
              }
              ;
              if (v1 instanceof Right) {
                $copy_v = v1.value0;
                return;
              }
              ;
              throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): " + [v1.constructor.name]);
            }
            ;
            if (v.value1.value0 instanceof Lift) {
              var v1 = goApply1(v.value0)(v.value1.value1)(nat(v.value1.value0.value0));
              if (v1 instanceof Left) {
                $tco_done = true;
                return v1.value0;
              }
              ;
              if (v1 instanceof Right) {
                $copy_v = v1.value0;
                return;
              }
              ;
              throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): " + [v1.constructor.name]);
            }
            ;
            if (v.value1.value0 instanceof Ap) {
              var nextVals = new NonEmpty(v.value1.value0.value1, v.value1.value1);
              $copy_v = goLeft1(v.value0)(nextVals)(nat)(v.value1.value0.value0)(1);
              return;
            }
            ;
            throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): " + [v.value1.value0.constructor.name]);
          }
          ;
          while (!$tco_done) {
            $tco_result = $tco_loop($copy_v);
          }
          ;
          return $tco_result;
        };
        return go2(new Tuple(Nil.value, singleton6(z)));
      };
    };
  };
  var retractFreeAp = function(dictApplicative) {
    return foldFreeAp(dictApplicative)(identity9);
  };
  var applyFreeAp = {
    apply: function(fba) {
      return function(fb) {
        return mkAp(fba)(fb);
      };
    },
    Functor0: function() {
      return functorFreeAp;
    }
  };
  var applicativeFreeAp = /* @__PURE__ */ (function() {
    return {
      pure: Pure.create,
      Apply0: function() {
        return applyFreeAp;
      }
    };
  })();
  var foldFreeAp1 = /* @__PURE__ */ foldFreeAp(applicativeFreeAp);
  var hoistFreeAp = function(f) {
    return foldFreeAp1(function($54) {
      return liftFreeAp(f($54));
    });
  };

  // output/Data.CatQueue/index.js
  var CatQueue = /* @__PURE__ */ (function() {
    function CatQueue2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    CatQueue2.create = function(value0) {
      return function(value1) {
        return new CatQueue2(value0, value1);
      };
    };
    return CatQueue2;
  })();
  var uncons3 = function($copy_v) {
    var $tco_done = false;
    var $tco_result;
    function $tco_loop(v) {
      if (v.value0 instanceof Nil && v.value1 instanceof Nil) {
        $tco_done = true;
        return Nothing.value;
      }
      ;
      if (v.value0 instanceof Nil) {
        $copy_v = new CatQueue(reverse2(v.value1), Nil.value);
        return;
      }
      ;
      if (v.value0 instanceof Cons) {
        $tco_done = true;
        return new Just(new Tuple(v.value0.value0, new CatQueue(v.value0.value1, v.value1)));
      }
      ;
      throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): " + [v.constructor.name]);
    }
    ;
    while (!$tco_done) {
      $tco_result = $tco_loop($copy_v);
    }
    ;
    return $tco_result;
  };
  var snoc3 = function(v) {
    return function(a2) {
      return new CatQueue(v.value0, new Cons(a2, v.value1));
    };
  };
  var $$null2 = function(v) {
    if (v.value0 instanceof Nil && v.value1 instanceof Nil) {
      return true;
    }
    ;
    return false;
  };
  var empty5 = /* @__PURE__ */ (function() {
    return new CatQueue(Nil.value, Nil.value);
  })();

  // output/Data.CatList/index.js
  var CatNil = /* @__PURE__ */ (function() {
    function CatNil2() {
    }
    ;
    CatNil2.value = new CatNil2();
    return CatNil2;
  })();
  var CatCons = /* @__PURE__ */ (function() {
    function CatCons2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    CatCons2.create = function(value0) {
      return function(value1) {
        return new CatCons2(value0, value1);
      };
    };
    return CatCons2;
  })();
  var link = function(v) {
    return function(v1) {
      if (v instanceof CatNil) {
        return v1;
      }
      ;
      if (v1 instanceof CatNil) {
        return v;
      }
      ;
      if (v instanceof CatCons) {
        return new CatCons(v.value0, snoc3(v.value1)(v1));
      }
      ;
      throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): " + [v.constructor.name, v1.constructor.name]);
    };
  };
  var foldr4 = function(k) {
    return function(b10) {
      return function(q2) {
        var foldl11 = function($copy_v) {
          return function($copy_v1) {
            return function($copy_v2) {
              var $tco_var_v = $copy_v;
              var $tco_var_v1 = $copy_v1;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v, v1, v2) {
                if (v2 instanceof Nil) {
                  $tco_done = true;
                  return v1;
                }
                ;
                if (v2 instanceof Cons) {
                  $tco_var_v = v;
                  $tco_var_v1 = v(v1)(v2.value0);
                  $copy_v2 = v2.value1;
                  return;
                }
                ;
                throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v, $tco_var_v1, $copy_v2);
              }
              ;
              return $tco_result;
            };
          };
        };
        var go2 = function($copy_xs) {
          return function($copy_ys) {
            var $tco_var_xs = $copy_xs;
            var $tco_done1 = false;
            var $tco_result;
            function $tco_loop(xs, ys) {
              var v = uncons3(xs);
              if (v instanceof Nothing) {
                $tco_done1 = true;
                return foldl11(function(x10) {
                  return function(i2) {
                    return i2(x10);
                  };
                })(b10)(ys);
              }
              ;
              if (v instanceof Just) {
                $tco_var_xs = v.value0.value1;
                $copy_ys = new Cons(k(v.value0.value0), ys);
                return;
              }
              ;
              throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): " + [v.constructor.name]);
            }
            ;
            while (!$tco_done1) {
              $tco_result = $tco_loop($tco_var_xs, $copy_ys);
            }
            ;
            return $tco_result;
          };
        };
        return go2(q2)(Nil.value);
      };
    };
  };
  var uncons4 = function(v) {
    if (v instanceof CatNil) {
      return Nothing.value;
    }
    ;
    if (v instanceof CatCons) {
      return new Just(new Tuple(v.value0, (function() {
        var $66 = $$null2(v.value1);
        if ($66) {
          return CatNil.value;
        }
        ;
        return foldr4(link)(CatNil.value)(v.value1);
      })()));
    }
    ;
    throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): " + [v.constructor.name]);
  };
  var empty6 = /* @__PURE__ */ (function() {
    return CatNil.value;
  })();
  var append3 = link;
  var semigroupCatList = {
    append: append3
  };
  var snoc4 = function(cat) {
    return function(a2) {
      return append3(cat)(new CatCons(a2, empty5));
    };
  };

  // output/Control.Monad.Free/index.js
  var $runtime_lazy7 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var append4 = /* @__PURE__ */ append(semigroupCatList);
  var Free = /* @__PURE__ */ (function() {
    function Free2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Free2.create = function(value0) {
      return function(value1) {
        return new Free2(value0, value1);
      };
    };
    return Free2;
  })();
  var Return = /* @__PURE__ */ (function() {
    function Return2(value0) {
      this.value0 = value0;
    }
    ;
    Return2.create = function(value0) {
      return new Return2(value0);
    };
    return Return2;
  })();
  var Bind = /* @__PURE__ */ (function() {
    function Bind2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Bind2.create = function(value0) {
      return function(value1) {
        return new Bind2(value0, value1);
      };
    };
    return Bind2;
  })();
  var toView = function($copy_v) {
    var $tco_done = false;
    var $tco_result;
    function $tco_loop(v) {
      var runExpF = function(v22) {
        return v22;
      };
      var concatF = function(v22) {
        return function(r) {
          return new Free(v22.value0, append4(v22.value1)(r));
        };
      };
      if (v.value0 instanceof Return) {
        var v2 = uncons4(v.value1);
        if (v2 instanceof Nothing) {
          $tco_done = true;
          return new Return(v.value0.value0);
        }
        ;
        if (v2 instanceof Just) {
          $copy_v = concatF(runExpF(v2.value0.value0)(v.value0.value0))(v2.value0.value1);
          return;
        }
        ;
        throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): " + [v2.constructor.name]);
      }
      ;
      if (v.value0 instanceof Bind) {
        $tco_done = true;
        return new Bind(v.value0.value0, function(a2) {
          return concatF(v.value0.value1(a2))(v.value1);
        });
      }
      ;
      throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): " + [v.value0.constructor.name]);
    }
    ;
    while (!$tco_done) {
      $tco_result = $tco_loop($copy_v);
    }
    ;
    return $tco_result;
  };
  var fromView = function(f) {
    return new Free(f, empty6);
  };
  var freeMonad = {
    Applicative0: function() {
      return freeApplicative;
    },
    Bind1: function() {
      return freeBind;
    }
  };
  var freeFunctor = {
    map: function(k) {
      return function(f) {
        return bindFlipped(freeBind)((function() {
          var $189 = pure(freeApplicative);
          return function($190) {
            return $189(k($190));
          };
        })())(f);
      };
    }
  };
  var freeBind = {
    bind: function(v) {
      return function(k) {
        return new Free(v.value0, snoc4(v.value1)(k));
      };
    },
    Apply0: function() {
      return $lazy_freeApply(0);
    }
  };
  var freeApplicative = {
    pure: function($191) {
      return fromView(Return.create($191));
    },
    Apply0: function() {
      return $lazy_freeApply(0);
    }
  };
  var $lazy_freeApply = /* @__PURE__ */ $runtime_lazy7("freeApply", "Control.Monad.Free", function() {
    return {
      apply: ap(freeMonad),
      Functor0: function() {
        return freeFunctor;
      }
    };
  });
  var pure4 = /* @__PURE__ */ pure(freeApplicative);
  var liftF = function(f) {
    return fromView(new Bind(f, function($192) {
      return pure4($192);
    }));
  };
  var foldFree = function(dictMonadRec) {
    var Monad0 = dictMonadRec.Monad0();
    var map116 = map(Monad0.Bind1().Apply0().Functor0());
    var pure114 = pure(Monad0.Applicative0());
    var tailRecM4 = tailRecM(dictMonadRec);
    return function(k) {
      var go2 = function(f) {
        var v = toView(f);
        if (v instanceof Return) {
          return map116(Done.create)(pure114(v.value0));
        }
        ;
        if (v instanceof Bind) {
          return map116(function($199) {
            return Loop.create(v.value1($199));
          })(k(v.value0));
        }
        ;
        throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): " + [v.constructor.name]);
      };
      return tailRecM4(go2);
    };
  };

  // output/Halogen.Query.ChildQuery/index.js
  var unChildQueryBox = unsafeCoerce2;

  // output/Unsafe.Reference/foreign.js
  function reallyUnsafeRefEq(a2) {
    return function(b10) {
      return a2 === b10;
    };
  }

  // output/Unsafe.Reference/index.js
  var unsafeRefEq = reallyUnsafeRefEq;

  // output/Halogen.Subscription/index.js
  var $$void5 = /* @__PURE__ */ $$void(functorEffect);
  var coerce3 = /* @__PURE__ */ coerce();
  var bind3 = /* @__PURE__ */ bind(bindEffect);
  var append5 = /* @__PURE__ */ append(semigroupArray);
  var traverse_2 = /* @__PURE__ */ traverse_(applicativeEffect);
  var traverse_1 = /* @__PURE__ */ traverse_2(foldableArray);
  var unsubscribe = function(v) {
    return v;
  };
  var subscribe = function(v) {
    return function(k) {
      return v(function($76) {
        return $$void5(k($76));
      });
    };
  };
  var notify = function(v) {
    return function(a2) {
      return v(a2);
    };
  };
  var makeEmitter = coerce3;
  var create = function __do() {
    var subscribers = $$new([])();
    return {
      emitter: function(k) {
        return function __do3() {
          modify_(function(v) {
            return append5(v)([k]);
          })(subscribers)();
          return modify_(deleteBy(unsafeRefEq)(k))(subscribers);
        };
      },
      listener: function(a2) {
        return bind3(read(subscribers))(traverse_1(function(k) {
          return k(a2);
        }));
      }
    };
  };

  // output/Halogen.Query.HalogenM/index.js
  var identity10 = /* @__PURE__ */ identity(categoryFn);
  var SubscriptionId = function(x10) {
    return x10;
  };
  var ForkId = function(x10) {
    return x10;
  };
  var State = /* @__PURE__ */ (function() {
    function State2(value0) {
      this.value0 = value0;
    }
    ;
    State2.create = function(value0) {
      return new State2(value0);
    };
    return State2;
  })();
  var Subscribe = /* @__PURE__ */ (function() {
    function Subscribe2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Subscribe2.create = function(value0) {
      return function(value1) {
        return new Subscribe2(value0, value1);
      };
    };
    return Subscribe2;
  })();
  var Unsubscribe = /* @__PURE__ */ (function() {
    function Unsubscribe2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Unsubscribe2.create = function(value0) {
      return function(value1) {
        return new Unsubscribe2(value0, value1);
      };
    };
    return Unsubscribe2;
  })();
  var Lift2 = /* @__PURE__ */ (function() {
    function Lift3(value0) {
      this.value0 = value0;
    }
    ;
    Lift3.create = function(value0) {
      return new Lift3(value0);
    };
    return Lift3;
  })();
  var ChildQuery2 = /* @__PURE__ */ (function() {
    function ChildQuery3(value0) {
      this.value0 = value0;
    }
    ;
    ChildQuery3.create = function(value0) {
      return new ChildQuery3(value0);
    };
    return ChildQuery3;
  })();
  var Raise2 = /* @__PURE__ */ (function() {
    function Raise3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Raise3.create = function(value0) {
      return function(value1) {
        return new Raise3(value0, value1);
      };
    };
    return Raise3;
  })();
  var Par = /* @__PURE__ */ (function() {
    function Par2(value0) {
      this.value0 = value0;
    }
    ;
    Par2.create = function(value0) {
      return new Par2(value0);
    };
    return Par2;
  })();
  var Fork = /* @__PURE__ */ (function() {
    function Fork2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Fork2.create = function(value0) {
      return function(value1) {
        return new Fork2(value0, value1);
      };
    };
    return Fork2;
  })();
  var Join = /* @__PURE__ */ (function() {
    function Join3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Join3.create = function(value0) {
      return function(value1) {
        return new Join3(value0, value1);
      };
    };
    return Join3;
  })();
  var Kill = /* @__PURE__ */ (function() {
    function Kill2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Kill2.create = function(value0) {
      return function(value1) {
        return new Kill2(value0, value1);
      };
    };
    return Kill2;
  })();
  var GetRef = /* @__PURE__ */ (function() {
    function GetRef2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    GetRef2.create = function(value0) {
      return function(value1) {
        return new GetRef2(value0, value1);
      };
    };
    return GetRef2;
  })();
  var HalogenM = function(x10) {
    return x10;
  };
  var subscribe2 = function(es) {
    return liftF(new Subscribe(function(v) {
      return es;
    }, identity10));
  };
  var ordSubscriptionId = ordInt;
  var ordForkId = ordInt;
  var monadHalogenM = freeMonad;
  var monadStateHalogenM = {
    state: function($181) {
      return HalogenM(liftF(State.create($181)));
    },
    Monad0: function() {
      return monadHalogenM;
    }
  };
  var monadEffectHalogenM = function(dictMonadEffect) {
    return {
      liftEffect: (function() {
        var $186 = liftEffect(dictMonadEffect);
        return function($187) {
          return HalogenM(liftF(Lift2.create($186($187))));
        };
      })(),
      Monad0: function() {
        return monadHalogenM;
      }
    };
  };
  var monadAffHalogenM = function(dictMonadAff) {
    var monadEffectHalogenM1 = monadEffectHalogenM(dictMonadAff.MonadEffect0());
    return {
      liftAff: (function() {
        var $188 = liftAff(dictMonadAff);
        return function($189) {
          return HalogenM(liftF(Lift2.create($188($189))));
        };
      })(),
      MonadEffect0: function() {
        return monadEffectHalogenM1;
      }
    };
  };
  var functorHalogenM = freeFunctor;
  var bindHalogenM = freeBind;
  var applicativeHalogenM = freeApplicative;

  // output/Halogen.Query.HalogenQ/index.js
  var Initialize = /* @__PURE__ */ (function() {
    function Initialize43(value0) {
      this.value0 = value0;
    }
    ;
    Initialize43.create = function(value0) {
      return new Initialize43(value0);
    };
    return Initialize43;
  })();
  var Finalize = /* @__PURE__ */ (function() {
    function Finalize2(value0) {
      this.value0 = value0;
    }
    ;
    Finalize2.create = function(value0) {
      return new Finalize2(value0);
    };
    return Finalize2;
  })();
  var Receive = /* @__PURE__ */ (function() {
    function Receive3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Receive3.create = function(value0) {
      return function(value1) {
        return new Receive3(value0, value1);
      };
    };
    return Receive3;
  })();
  var Action2 = /* @__PURE__ */ (function() {
    function Action3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Action3.create = function(value0) {
      return function(value1) {
        return new Action3(value0, value1);
      };
    };
    return Action3;
  })();
  var Query = /* @__PURE__ */ (function() {
    function Query3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Query3.create = function(value0) {
      return function(value1) {
        return new Query3(value0, value1);
      };
    };
    return Query3;
  })();

  // output/Halogen.VDom.Thunk/index.js
  var $runtime_lazy8 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var unsafeEqThunk = function(v, v1) {
    return refEq2(v.value0, v1.value0) && (refEq2(v.value1, v1.value1) && v.value1(v.value3, v1.value3));
  };
  var runThunk = function(v) {
    return v.value2(v.value3);
  };
  var buildThunk = function(toVDom) {
    var haltThunk = function(state3) {
      return halt(state3.vdom);
    };
    var $lazy_patchThunk = $runtime_lazy8("patchThunk", "Halogen.VDom.Thunk", function() {
      return function(state3, t2) {
        var $48 = unsafeEqThunk(state3.thunk, t2);
        if ($48) {
          return mkStep(new Step(extract2(state3.vdom), state3, $lazy_patchThunk(112), haltThunk));
        }
        ;
        var vdom = step(state3.vdom, toVDom(runThunk(t2)));
        return mkStep(new Step(extract2(vdom), {
          vdom,
          thunk: t2
        }, $lazy_patchThunk(115), haltThunk));
      };
    });
    var patchThunk = $lazy_patchThunk(108);
    var renderThunk = function(spec) {
      return function(t) {
        var vdom = buildVDom(spec)(toVDom(runThunk(t)));
        return mkStep(new Step(extract2(vdom), {
          thunk: t,
          vdom
        }, patchThunk, haltThunk));
      };
    };
    return renderThunk;
  };

  // output/Halogen.Component/index.js
  var voidLeft2 = /* @__PURE__ */ voidLeft(functorHalogenM);
  var traverse_3 = /* @__PURE__ */ traverse_(applicativeHalogenM)(foldableMaybe);
  var map21 = /* @__PURE__ */ map(functorHalogenM);
  var pure5 = /* @__PURE__ */ pure(applicativeHalogenM);
  var lookup4 = /* @__PURE__ */ lookup3();
  var pop3 = /* @__PURE__ */ pop2();
  var insert3 = /* @__PURE__ */ insert2();
  var ComponentSlot = /* @__PURE__ */ (function() {
    function ComponentSlot2(value0) {
      this.value0 = value0;
    }
    ;
    ComponentSlot2.create = function(value0) {
      return new ComponentSlot2(value0);
    };
    return ComponentSlot2;
  })();
  var ThunkSlot = /* @__PURE__ */ (function() {
    function ThunkSlot2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkSlot2.create = function(value0) {
      return new ThunkSlot2(value0);
    };
    return ThunkSlot2;
  })();
  var unComponentSlot = unsafeCoerce2;
  var unComponent = unsafeCoerce2;
  var mkEval = function(args) {
    return function(v) {
      if (v instanceof Initialize) {
        return voidLeft2(traverse_3(args.handleAction)(args.initialize))(v.value0);
      }
      ;
      if (v instanceof Finalize) {
        return voidLeft2(traverse_3(args.handleAction)(args.finalize))(v.value0);
      }
      ;
      if (v instanceof Receive) {
        return voidLeft2(traverse_3(args.handleAction)(args.receive(v.value0)))(v.value1);
      }
      ;
      if (v instanceof Action2) {
        return voidLeft2(args.handleAction(v.value0))(v.value1);
      }
      ;
      if (v instanceof Query) {
        return unCoyoneda(function(g) {
          var $45 = map21(maybe(v.value1(unit))(g));
          return function($46) {
            return $45(args.handleQuery($46));
          };
        })(v.value0);
      }
      ;
      throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 71): " + [v.constructor.name]);
    };
  };
  var mkComponentSlot = unsafeCoerce2;
  var mkComponent = unsafeCoerce2;
  var defaultEval = /* @__PURE__ */ (function() {
    return {
      handleAction: $$const(pure5(unit)),
      handleQuery: $$const(pure5(Nothing.value)),
      receive: $$const(Nothing.value),
      initialize: Nothing.value,
      finalize: Nothing.value
    };
  })();
  var componentSlot = function() {
    return function(dictIsSymbol) {
      var lookup111 = lookup4(dictIsSymbol);
      var pop12 = pop3(dictIsSymbol);
      var insert13 = insert3(dictIsSymbol);
      return function(dictOrd) {
        var lookup23 = lookup111(dictOrd);
        var pop22 = pop12(dictOrd);
        var insert22 = insert13(dictOrd);
        return function(label5) {
          return function(p2) {
            return function(comp) {
              return function(input3) {
                return function(output2) {
                  return mkComponentSlot({
                    get: lookup23(label5)(p2),
                    pop: pop22(label5)(p2),
                    set: insert22(label5)(p2),
                    component: comp,
                    input: input3,
                    output: output2
                  });
                };
              };
            };
          };
        };
      };
    };
  };

  // output/Halogen.HTML.Elements/index.js
  var element2 = /* @__PURE__ */ (function() {
    return element(Nothing.value);
  })();
  var footer = /* @__PURE__ */ element2("footer");
  var h1 = /* @__PURE__ */ element2("h1");
  var h1_ = /* @__PURE__ */ h1([]);
  var h2 = /* @__PURE__ */ element2("h2");
  var h2_ = /* @__PURE__ */ h2([]);
  var h3 = /* @__PURE__ */ element2("h3");
  var h3_ = /* @__PURE__ */ h3([]);
  var h4 = /* @__PURE__ */ element2("h4");
  var header = /* @__PURE__ */ element2("header");
  var hr = function(props) {
    return element2("hr")(props)([]);
  };
  var img = function(props) {
    return element2("img")(props)([]);
  };
  var input = function(props) {
    return element2("input")(props)([]);
  };
  var label = /* @__PURE__ */ element2("label");
  var label_ = /* @__PURE__ */ label([]);
  var li = /* @__PURE__ */ element2("li");
  var li_ = /* @__PURE__ */ li([]);
  var main = /* @__PURE__ */ element2("main");
  var nav = /* @__PURE__ */ element2("nav");
  var ol = /* @__PURE__ */ element2("ol");
  var ol_ = /* @__PURE__ */ ol([]);
  var p = /* @__PURE__ */ element2("p");
  var p_ = /* @__PURE__ */ p([]);
  var pre = /* @__PURE__ */ element2("pre");
  var pre_ = /* @__PURE__ */ pre([]);
  var section = /* @__PURE__ */ element2("section");
  var span2 = /* @__PURE__ */ element2("span");
  var strong = /* @__PURE__ */ element2("strong");
  var strong_ = /* @__PURE__ */ strong([]);
  var summary = /* @__PURE__ */ element2("summary");
  var summary_ = /* @__PURE__ */ summary([]);
  var ul = /* @__PURE__ */ element2("ul");
  var ul_ = /* @__PURE__ */ ul([]);
  var div2 = /* @__PURE__ */ element2("div");
  var div_ = /* @__PURE__ */ div2([]);
  var details = /* @__PURE__ */ element2("details");
  var code = /* @__PURE__ */ element2("code");
  var code_ = /* @__PURE__ */ code([]);
  var button = /* @__PURE__ */ element2("button");
  var a = /* @__PURE__ */ element2("a");

  // output/Foreign.Index/foreign.js
  function unsafeReadPropImpl(f, s, key, value15) {
    return value15 == null ? f : s(value15[key]);
  }

  // output/Foreign.Index/index.js
  var unsafeReadProp = function(dictMonad) {
    var fail3 = fail(dictMonad);
    var pure36 = pure(applicativeExceptT(dictMonad));
    return function(k) {
      return function(value15) {
        return unsafeReadPropImpl(fail3(new TypeMismatch("object", typeOf(value15))), pure36, k, value15);
      };
    };
  };
  var readProp = function(dictMonad) {
    return unsafeReadProp(dictMonad);
  };

  // output/Web.Event.Event/foreign.js
  function _currentTarget(e) {
    return e.currentTarget;
  }

  // output/Data.Enum/foreign.js
  function toCharCode(c) {
    return c.charCodeAt(0);
  }
  function fromCharCode(c) {
    return String.fromCharCode(c);
  }

  // output/Control.Alternative/index.js
  var guard = function(dictAlternative) {
    var pure36 = pure(dictAlternative.Applicative0());
    var empty9 = empty2(dictAlternative.Plus1());
    return function(v) {
      if (v) {
        return pure36(unit);
      }
      ;
      if (!v) {
        return empty9;
      }
      ;
      throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): " + [v.constructor.name]);
    };
  };

  // output/Data.Enum/index.js
  var bottom1 = /* @__PURE__ */ bottom(boundedChar);
  var top1 = /* @__PURE__ */ top(boundedChar);
  var toEnum = function(dict) {
    return dict.toEnum;
  };
  var fromEnum = function(dict) {
    return dict.fromEnum;
  };
  var toEnumWithDefaults = function(dictBoundedEnum) {
    var toEnum1 = toEnum(dictBoundedEnum);
    var fromEnum1 = fromEnum(dictBoundedEnum);
    var bottom2 = bottom(dictBoundedEnum.Bounded0());
    return function(low2) {
      return function(high2) {
        return function(x10) {
          var v = toEnum1(x10);
          if (v instanceof Just) {
            return v.value0;
          }
          ;
          if (v instanceof Nothing) {
            var $140 = x10 < fromEnum1(bottom2);
            if ($140) {
              return low2;
            }
            ;
            return high2;
          }
          ;
          throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): " + [v.constructor.name]);
        };
      };
    };
  };
  var defaultSucc = function(toEnum$prime) {
    return function(fromEnum$prime) {
      return function(a2) {
        return toEnum$prime(fromEnum$prime(a2) + 1 | 0);
      };
    };
  };
  var defaultPred = function(toEnum$prime) {
    return function(fromEnum$prime) {
      return function(a2) {
        return toEnum$prime(fromEnum$prime(a2) - 1 | 0);
      };
    };
  };
  var charToEnum = function(v) {
    if (v >= toCharCode(bottom1) && v <= toCharCode(top1)) {
      return new Just(fromCharCode(v));
    }
    ;
    return Nothing.value;
  };
  var enumChar = {
    succ: /* @__PURE__ */ defaultSucc(charToEnum)(toCharCode),
    pred: /* @__PURE__ */ defaultPred(charToEnum)(toCharCode),
    Ord0: function() {
      return ordChar;
    }
  };
  var boundedEnumChar = /* @__PURE__ */ (function() {
    return {
      cardinality: toCharCode(top1) - toCharCode(bottom1) | 0,
      toEnum: charToEnum,
      fromEnum: toCharCode,
      Bounded0: function() {
        return boundedChar;
      },
      Enum1: function() {
        return enumChar;
      }
    };
  })();

  // output/Web.Event.Event/index.js
  var currentTarget = function($5) {
    return toMaybe(_currentTarget($5));
  };

  // output/Web.HTML.Event.EventTypes/index.js
  var input2 = "input";
  var domcontentloaded = "DOMContentLoaded";
  var change = "change";

  // output/Web.UIEvent.MouseEvent.EventTypes/index.js
  var click = "click";

  // output/Halogen.HTML.Events/index.js
  var map23 = /* @__PURE__ */ map(functorMaybe);
  var composeKleisli2 = /* @__PURE__ */ composeKleisli(bindMaybe);
  var composeKleisliFlipped3 = /* @__PURE__ */ composeKleisliFlipped(/* @__PURE__ */ bindExceptT(monadIdentity));
  var readProp2 = /* @__PURE__ */ readProp(monadIdentity);
  var readString2 = /* @__PURE__ */ readString(monadIdentity);
  var mouseHandler = unsafeCoerce2;
  var handler$prime = function(et) {
    return function(f) {
      return handler(et)(function(ev) {
        return map23(Action.create)(f(ev));
      });
    };
  };
  var handler2 = function(et) {
    return function(f) {
      return handler(et)(function(ev) {
        return new Just(new Action(f(ev)));
      });
    };
  };
  var onClick = /* @__PURE__ */ (function() {
    var $15 = handler2(click);
    return function($16) {
      return $15(mouseHandler($16));
    };
  })();
  var addForeignPropHandler = function(key) {
    return function(prop6) {
      return function(reader) {
        return function(f) {
          var go2 = function(a2) {
            return composeKleisliFlipped3(reader)(readProp2(prop6))(unsafeToForeign(a2));
          };
          return handler$prime(key)(composeKleisli2(currentTarget)(function(e) {
            return either($$const(Nothing.value))(function($85) {
              return Just.create(f($85));
            })(runExcept(go2(e)));
          }));
        };
      };
    };
  };
  var onChecked = /* @__PURE__ */ addForeignPropHandler(change)("checked")(/* @__PURE__ */ readBoolean(monadIdentity));
  var onValueInput = /* @__PURE__ */ addForeignPropHandler(input2)("value")(readString2);

  // output/Halogen.HTML.Properties/index.js
  var unwrap4 = /* @__PURE__ */ unwrap();
  var prop2 = function(dictIsProp) {
    return prop(dictIsProp);
  };
  var prop1 = /* @__PURE__ */ prop2(isPropBoolean);
  var prop22 = /* @__PURE__ */ prop2(isPropString);
  var src2 = /* @__PURE__ */ prop22("src");
  var title = /* @__PURE__ */ prop22("title");
  var type_3 = function(dictIsProp) {
    return prop2(dictIsProp)("type");
  };
  var value3 = function(dictIsProp) {
    return prop2(dictIsProp)("value");
  };
  var placeholder2 = /* @__PURE__ */ prop22("placeholder");
  var id3 = /* @__PURE__ */ prop22("id");
  var href = /* @__PURE__ */ prop22("href");
  var $$for = /* @__PURE__ */ prop22("htmlFor");
  var disabled2 = /* @__PURE__ */ prop1("disabled");
  var classes = /* @__PURE__ */ (function() {
    var $32 = prop22("className");
    var $33 = joinWith(" ");
    var $34 = map(functorArray)(unwrap4);
    return function($35) {
      return $32($33($34($35)));
    };
  })();
  var class_ = /* @__PURE__ */ (function() {
    var $36 = prop22("className");
    return function($37) {
      return $36(unwrap4($37));
    };
  })();
  var checked2 = /* @__PURE__ */ prop1("checked");
  var attr2 = /* @__PURE__ */ (function() {
    return attr(Nothing.value);
  })();
  var style = /* @__PURE__ */ attr2("style");
  var alt4 = /* @__PURE__ */ prop22("alt");

  // output/Data.Lens.Internal.Forget/index.js
  var profunctorForget = {
    dimap: function(f) {
      return function(v) {
        return function(v1) {
          return function($36) {
            return v1(f($36));
          };
        };
      };
    }
  };
  var strongForget = {
    first: function(v) {
      return function($37) {
        return v(fst($37));
      };
    },
    second: function(v) {
      return function($38) {
        return v(snd($38));
      };
    },
    Profunctor0: function() {
      return profunctorForget;
    }
  };

  // output/Data.Profunctor.Strong/index.js
  var strongFn = {
    first: function(a2b) {
      return function(v) {
        return new Tuple(a2b(v.value0), v.value1);
      };
    },
    second: /* @__PURE__ */ map(functorTuple),
    Profunctor0: function() {
      return profunctorFn;
    }
  };
  var first = function(dict) {
    return dict.first;
  };

  // output/Data.Lens.Getter/index.js
  var unwrap5 = /* @__PURE__ */ unwrap();
  var identity11 = /* @__PURE__ */ identity(categoryFn);
  var view = function(l) {
    return unwrap5(l(identity11));
  };
  var viewOn = function(s) {
    return function(l) {
      return view(l)(s);
    };
  };
  var use = function(dictMonadState) {
    var gets2 = gets(dictMonadState);
    return function(p2) {
      return gets2(function(v) {
        return viewOn(v)(p2);
      });
    };
  };

  // output/Data.Lens.Iso/index.js
  var coerce4 = /* @__PURE__ */ coerce();
  var iso = function(f) {
    return function(g) {
      return function(dictProfunctor) {
        var dimap2 = dimap(dictProfunctor);
        return function(pab) {
          return dimap2(f)(g)(pab);
        };
      };
    };
  };
  var coerced = function() {
    return function() {
      return function(dictProfunctor) {
        return iso(coerce4)(coerce4)(dictProfunctor);
      };
    };
  };

  // output/Data.Lens.Iso.Newtype/index.js
  var coerced2 = /* @__PURE__ */ coerced()();
  var _Newtype = function() {
    return function() {
      return function(dictProfunctor) {
        return coerced2(dictProfunctor);
      };
    };
  };

  // output/Data.Lens.Lens/index.js
  var lens$prime = function(to2) {
    return function(dictStrong) {
      var dimap2 = dimap(dictStrong.Profunctor0());
      var first2 = first(dictStrong);
      return function(pab) {
        return dimap2(to2)(function(v) {
          return v.value1(v.value0);
        })(first2(pab));
      };
    };
  };
  var lens = function(get14) {
    return function(set5) {
      return function(dictStrong) {
        return lens$prime(function(s) {
          return new Tuple(get14(s), function(b10) {
            return set5(s)(b10);
          });
        })(dictStrong);
      };
    };
  };

  // output/Record/index.js
  var set = function(dictIsSymbol) {
    var reflectSymbol2 = reflectSymbol(dictIsSymbol);
    return function() {
      return function() {
        return function(l) {
          return function(b10) {
            return function(r) {
              return unsafeSet(reflectSymbol2(l))(b10)(r);
            };
          };
        };
      };
    };
  };
  var get4 = function(dictIsSymbol) {
    var reflectSymbol2 = reflectSymbol(dictIsSymbol);
    return function() {
      return function(l) {
        return function(r) {
          return unsafeGet(reflectSymbol2(l))(r);
        };
      };
    };
  };

  // output/Data.Lens.Record/index.js
  var prop3 = function(dictIsSymbol) {
    var get14 = get4(dictIsSymbol)();
    var set5 = set(dictIsSymbol)()();
    return function() {
      return function() {
        return function(l) {
          return function(dictStrong) {
            return lens(get14(l))(flip(set5(l)))(dictStrong);
          };
        };
      };
    };
  };

  // output/Data.Lens.Setter/index.js
  var over2 = function(l) {
    return l;
  };
  var set2 = function(l) {
    return function(b10) {
      return over2(l)($$const(b10));
    };
  };
  var modifying = function(dictMonadState) {
    var $$void11 = $$void(dictMonadState.Monad0().Bind1().Apply0().Functor0());
    var modify5 = modify2(dictMonadState);
    return function(p2) {
      return function(f) {
        return $$void11(modify5(over2(p2)(f)));
      };
    };
  };

  // node_modules/d3-dispatch/src/dispatch.js
  var noop = { value: () => {
  } };
  function dispatch() {
    for (var i2 = 0, n = arguments.length, _ = {}, t; i2 < n; ++i2) {
      if (!(t = arguments[i2] + "") || t in _ || /[\s.]/.test(t)) throw new Error("illegal type: " + t);
      _[t] = [];
    }
    return new Dispatch(_);
  }
  function Dispatch(_) {
    this._ = _;
  }
  function parseTypenames(typenames, types) {
    return typenames.trim().split(/^|\s+/).map(function(t) {
      var name16 = "", i2 = t.indexOf(".");
      if (i2 >= 0) name16 = t.slice(i2 + 1), t = t.slice(0, i2);
      if (t && !types.hasOwnProperty(t)) throw new Error("unknown type: " + t);
      return { type: t, name: name16 };
    });
  }
  Dispatch.prototype = dispatch.prototype = {
    constructor: Dispatch,
    on: function(typename, callback) {
      var _ = this._, T = parseTypenames(typename + "", _), t, i2 = -1, n = T.length;
      if (arguments.length < 2) {
        while (++i2 < n) if ((t = (typename = T[i2]).type) && (t = get5(_[t], typename.name))) return t;
        return;
      }
      if (callback != null && typeof callback !== "function") throw new Error("invalid callback: " + callback);
      while (++i2 < n) {
        if (t = (typename = T[i2]).type) _[t] = set3(_[t], typename.name, callback);
        else if (callback == null) for (t in _) _[t] = set3(_[t], typename.name, null);
      }
      return this;
    },
    copy: function() {
      var copy2 = {}, _ = this._;
      for (var t in _) copy2[t] = _[t].slice();
      return new Dispatch(copy2);
    },
    call: function(type2, that) {
      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i2 = 0, n, t; i2 < n; ++i2) args[i2] = arguments[i2 + 2];
      if (!this._.hasOwnProperty(type2)) throw new Error("unknown type: " + type2);
      for (t = this._[type2], i2 = 0, n = t.length; i2 < n; ++i2) t[i2].value.apply(that, args);
    },
    apply: function(type2, that, args) {
      if (!this._.hasOwnProperty(type2)) throw new Error("unknown type: " + type2);
      for (var t = this._[type2], i2 = 0, n = t.length; i2 < n; ++i2) t[i2].value.apply(that, args);
    }
  };
  function get5(type2, name16) {
    for (var i2 = 0, n = type2.length, c; i2 < n; ++i2) {
      if ((c = type2[i2]).name === name16) {
        return c.value;
      }
    }
  }
  function set3(type2, name16, callback) {
    for (var i2 = 0, n = type2.length; i2 < n; ++i2) {
      if (type2[i2].name === name16) {
        type2[i2] = noop, type2 = type2.slice(0, i2).concat(type2.slice(i2 + 1));
        break;
      }
    }
    if (callback != null) type2.push({ name: name16, value: callback });
    return type2;
  }
  var dispatch_default = dispatch;

  // node_modules/d3-selection/src/namespaces.js
  var xhtml = "http://www.w3.org/1999/xhtml";
  var namespaces_default = {
    svg: "http://www.w3.org/2000/svg",
    xhtml,
    xlink: "http://www.w3.org/1999/xlink",
    xml: "http://www.w3.org/XML/1998/namespace",
    xmlns: "http://www.w3.org/2000/xmlns/"
  };

  // node_modules/d3-selection/src/namespace.js
  function namespace_default(name16) {
    var prefix = name16 += "", i2 = prefix.indexOf(":");
    if (i2 >= 0 && (prefix = name16.slice(0, i2)) !== "xmlns") name16 = name16.slice(i2 + 1);
    return namespaces_default.hasOwnProperty(prefix) ? { space: namespaces_default[prefix], local: name16 } : name16;
  }

  // node_modules/d3-selection/src/creator.js
  function creatorInherit(name16) {
    return function() {
      var document3 = this.ownerDocument, uri = this.namespaceURI;
      return uri === xhtml && document3.documentElement.namespaceURI === xhtml ? document3.createElement(name16) : document3.createElementNS(uri, name16);
    };
  }
  function creatorFixed(fullname) {
    return function() {
      return this.ownerDocument.createElementNS(fullname.space, fullname.local);
    };
  }
  function creator_default(name16) {
    var fullname = namespace_default(name16);
    return (fullname.local ? creatorFixed : creatorInherit)(fullname);
  }

  // node_modules/d3-selection/src/selector.js
  function none2() {
  }
  function selector_default(selector) {
    return selector == null ? none2 : function() {
      return this.querySelector(selector);
    };
  }

  // node_modules/d3-selection/src/selection/select.js
  function select_default(select12) {
    if (typeof select12 !== "function") select12 = selector_default(select12);
    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, subgroup = subgroups[j] = new Array(n), node, subnode, i2 = 0; i2 < n; ++i2) {
        if ((node = group4[i2]) && (subnode = select12.call(node, node.__data__, i2, group4))) {
          if ("__data__" in node) subnode.__data__ = node.__data__;
          subgroup[i2] = subnode;
        }
      }
    }
    return new Selection(subgroups, this._parents);
  }

  // node_modules/d3-selection/src/array.js
  function array(x10) {
    return x10 == null ? [] : Array.isArray(x10) ? x10 : Array.from(x10);
  }

  // node_modules/d3-selection/src/selectorAll.js
  function empty7() {
    return [];
  }
  function selectorAll_default(selector) {
    return selector == null ? empty7 : function() {
      return this.querySelectorAll(selector);
    };
  }

  // node_modules/d3-selection/src/selection/selectAll.js
  function arrayAll(select12) {
    return function() {
      return array(select12.apply(this, arguments));
    };
  }
  function selectAll_default(select12) {
    if (typeof select12 === "function") select12 = arrayAll(select12);
    else select12 = selectorAll_default(select12);
    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, node, i2 = 0; i2 < n; ++i2) {
        if (node = group4[i2]) {
          subgroups.push(select12.call(node, node.__data__, i2, group4));
          parents.push(node);
        }
      }
    }
    return new Selection(subgroups, parents);
  }

  // node_modules/d3-selection/src/matcher.js
  function matcher_default(selector) {
    return function() {
      return this.matches(selector);
    };
  }
  function childMatcher(selector) {
    return function(node) {
      return node.matches(selector);
    };
  }

  // node_modules/d3-selection/src/selection/selectChild.js
  var find2 = Array.prototype.find;
  function childFind(match2) {
    return function() {
      return find2.call(this.children, match2);
    };
  }
  function childFirst() {
    return this.firstElementChild;
  }
  function selectChild_default(match2) {
    return this.select(match2 == null ? childFirst : childFind(typeof match2 === "function" ? match2 : childMatcher(match2)));
  }

  // node_modules/d3-selection/src/selection/selectChildren.js
  var filter3 = Array.prototype.filter;
  function children2() {
    return Array.from(this.children);
  }
  function childrenFilter(match2) {
    return function() {
      return filter3.call(this.children, match2);
    };
  }
  function selectChildren_default(match2) {
    return this.selectAll(match2 == null ? children2 : childrenFilter(typeof match2 === "function" ? match2 : childMatcher(match2)));
  }

  // node_modules/d3-selection/src/selection/filter.js
  function filter_default(match2) {
    if (typeof match2 !== "function") match2 = matcher_default(match2);
    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, subgroup = subgroups[j] = [], node, i2 = 0; i2 < n; ++i2) {
        if ((node = group4[i2]) && match2.call(node, node.__data__, i2, group4)) {
          subgroup.push(node);
        }
      }
    }
    return new Selection(subgroups, this._parents);
  }

  // node_modules/d3-selection/src/selection/sparse.js
  function sparse_default(update5) {
    return new Array(update5.length);
  }

  // node_modules/d3-selection/src/selection/enter.js
  function enter_default() {
    return new Selection(this._enter || this._groups.map(sparse_default), this._parents);
  }
  function EnterNode(parent2, datum2) {
    this.ownerDocument = parent2.ownerDocument;
    this.namespaceURI = parent2.namespaceURI;
    this._next = null;
    this._parent = parent2;
    this.__data__ = datum2;
  }
  EnterNode.prototype = {
    constructor: EnterNode,
    appendChild: function(child) {
      return this._parent.insertBefore(child, this._next);
    },
    insertBefore: function(child, next) {
      return this._parent.insertBefore(child, next);
    },
    querySelector: function(selector) {
      return this._parent.querySelector(selector);
    },
    querySelectorAll: function(selector) {
      return this._parent.querySelectorAll(selector);
    }
  };

  // node_modules/d3-selection/src/constant.js
  function constant_default(x10) {
    return function() {
      return x10;
    };
  }

  // node_modules/d3-selection/src/selection/data.js
  function bindIndex(parent2, group4, enter, update5, exit, data) {
    var i2 = 0, node, groupLength = group4.length, dataLength = data.length;
    for (; i2 < dataLength; ++i2) {
      if (node = group4[i2]) {
        node.__data__ = data[i2];
        update5[i2] = node;
      } else {
        enter[i2] = new EnterNode(parent2, data[i2]);
      }
    }
    for (; i2 < groupLength; ++i2) {
      if (node = group4[i2]) {
        exit[i2] = node;
      }
    }
  }
  function bindKey(parent2, group4, enter, update5, exit, data, key) {
    var i2, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group4.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
    for (i2 = 0; i2 < groupLength; ++i2) {
      if (node = group4[i2]) {
        keyValues[i2] = keyValue = key.call(node, node.__data__, i2, group4) + "";
        if (nodeByKeyValue.has(keyValue)) {
          exit[i2] = node;
        } else {
          nodeByKeyValue.set(keyValue, node);
        }
      }
    }
    for (i2 = 0; i2 < dataLength; ++i2) {
      keyValue = key.call(parent2, data[i2], i2, data) + "";
      if (node = nodeByKeyValue.get(keyValue)) {
        update5[i2] = node;
        node.__data__ = data[i2];
        nodeByKeyValue.delete(keyValue);
      } else {
        enter[i2] = new EnterNode(parent2, data[i2]);
      }
    }
    for (i2 = 0; i2 < groupLength; ++i2) {
      if ((node = group4[i2]) && nodeByKeyValue.get(keyValues[i2]) === node) {
        exit[i2] = node;
      }
    }
  }
  function datum(node) {
    return node.__data__;
  }
  function data_default(value15, key) {
    if (!arguments.length) return Array.from(this, datum);
    var bind66 = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;
    if (typeof value15 !== "function") value15 = constant_default(value15);
    for (var m = groups.length, update5 = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
      var parent2 = parents[j], group4 = groups[j], groupLength = group4.length, data = arraylike(value15.call(parent2, parent2 && parent2.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update5[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
      bind66(parent2, group4, enterGroup, updateGroup, exitGroup, data, key);
      for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {
        if (previous = enterGroup[i0]) {
          if (i0 >= i1) i1 = i0 + 1;
          while (!(next = updateGroup[i1]) && ++i1 < dataLength) ;
          previous._next = next || null;
        }
      }
    }
    update5 = new Selection(update5, parents);
    update5._enter = enter;
    update5._exit = exit;
    return update5;
  }
  function arraylike(data) {
    return typeof data === "object" && "length" in data ? data : Array.from(data);
  }

  // node_modules/d3-selection/src/selection/exit.js
  function exit_default() {
    return new Selection(this._exit || this._groups.map(sparse_default), this._parents);
  }

  // node_modules/d3-selection/src/selection/join.js
  function join_default(onenter, onupdate, onexit) {
    var enter = this.enter(), update5 = this, exit = this.exit();
    if (typeof onenter === "function") {
      enter = onenter(enter);
      if (enter) enter = enter.selection();
    } else {
      enter = enter.append(onenter + "");
    }
    if (onupdate != null) {
      update5 = onupdate(update5);
      if (update5) update5 = update5.selection();
    }
    if (onexit == null) exit.remove();
    else onexit(exit);
    return enter && update5 ? enter.merge(update5).order() : update5;
  }

  // node_modules/d3-selection/src/selection/merge.js
  function merge_default(context) {
    var selection2 = context.selection ? context.selection() : context;
    for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge3 = merges[j] = new Array(n), node, i2 = 0; i2 < n; ++i2) {
        if (node = group0[i2] || group1[i2]) {
          merge3[i2] = node;
        }
      }
    }
    for (; j < m0; ++j) {
      merges[j] = groups0[j];
    }
    return new Selection(merges, this._parents);
  }

  // node_modules/d3-selection/src/selection/order.js
  function order_default() {
    for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {
      for (var group4 = groups[j], i2 = group4.length - 1, next = group4[i2], node; --i2 >= 0; ) {
        if (node = group4[i2]) {
          if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);
          next = node;
        }
      }
    }
    return this;
  }

  // node_modules/d3-selection/src/selection/sort.js
  function sort_default(compare9) {
    if (!compare9) compare9 = ascending;
    function compareNode(a2, b10) {
      return a2 && b10 ? compare9(a2.__data__, b10.__data__) : !a2 - !b10;
    }
    for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, sortgroup = sortgroups[j] = new Array(n), node, i2 = 0; i2 < n; ++i2) {
        if (node = group4[i2]) {
          sortgroup[i2] = node;
        }
      }
      sortgroup.sort(compareNode);
    }
    return new Selection(sortgroups, this._parents).order();
  }
  function ascending(a2, b10) {
    return a2 < b10 ? -1 : a2 > b10 ? 1 : a2 >= b10 ? 0 : NaN;
  }

  // node_modules/d3-selection/src/selection/call.js
  function call_default() {
    var callback = arguments[0];
    arguments[0] = this;
    callback.apply(null, arguments);
    return this;
  }

  // node_modules/d3-selection/src/selection/nodes.js
  function nodes_default() {
    return Array.from(this);
  }

  // node_modules/d3-selection/src/selection/node.js
  function node_default() {
    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
      for (var group4 = groups[j], i2 = 0, n = group4.length; i2 < n; ++i2) {
        var node = group4[i2];
        if (node) return node;
      }
    }
    return null;
  }

  // node_modules/d3-selection/src/selection/size.js
  function size_default() {
    let size5 = 0;
    for (const node of this) ++size5;
    return size5;
  }

  // node_modules/d3-selection/src/selection/empty.js
  function empty_default() {
    return !this.node();
  }

  // node_modules/d3-selection/src/selection/each.js
  function each_default(callback) {
    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
      for (var group4 = groups[j], i2 = 0, n = group4.length, node; i2 < n; ++i2) {
        if (node = group4[i2]) callback.call(node, node.__data__, i2, group4);
      }
    }
    return this;
  }

  // node_modules/d3-selection/src/selection/attr.js
  function attrRemove(name16) {
    return function() {
      this.removeAttribute(name16);
    };
  }
  function attrRemoveNS(fullname) {
    return function() {
      this.removeAttributeNS(fullname.space, fullname.local);
    };
  }
  function attrConstant(name16, value15) {
    return function() {
      this.setAttribute(name16, value15);
    };
  }
  function attrConstantNS(fullname, value15) {
    return function() {
      this.setAttributeNS(fullname.space, fullname.local, value15);
    };
  }
  function attrFunction(name16, value15) {
    return function() {
      var v = value15.apply(this, arguments);
      if (v == null) this.removeAttribute(name16);
      else this.setAttribute(name16, v);
    };
  }
  function attrFunctionNS(fullname, value15) {
    return function() {
      var v = value15.apply(this, arguments);
      if (v == null) this.removeAttributeNS(fullname.space, fullname.local);
      else this.setAttributeNS(fullname.space, fullname.local, v);
    };
  }
  function attr_default(name16, value15) {
    var fullname = namespace_default(name16);
    if (arguments.length < 2) {
      var node = this.node();
      return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);
    }
    return this.each((value15 == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value15 === "function" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value15));
  }

  // node_modules/d3-selection/src/window.js
  function window_default(node) {
    return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;
  }

  // node_modules/d3-selection/src/selection/style.js
  function styleRemove(name16) {
    return function() {
      this.style.removeProperty(name16);
    };
  }
  function styleConstant(name16, value15, priority) {
    return function() {
      this.style.setProperty(name16, value15, priority);
    };
  }
  function styleFunction(name16, value15, priority) {
    return function() {
      var v = value15.apply(this, arguments);
      if (v == null) this.style.removeProperty(name16);
      else this.style.setProperty(name16, v, priority);
    };
  }
  function style_default(name16, value15, priority) {
    return arguments.length > 1 ? this.each((value15 == null ? styleRemove : typeof value15 === "function" ? styleFunction : styleConstant)(name16, value15, priority == null ? "" : priority)) : styleValue(this.node(), name16);
  }
  function styleValue(node, name16) {
    return node.style.getPropertyValue(name16) || window_default(node).getComputedStyle(node, null).getPropertyValue(name16);
  }

  // node_modules/d3-selection/src/selection/property.js
  function propertyRemove(name16) {
    return function() {
      delete this[name16];
    };
  }
  function propertyConstant(name16, value15) {
    return function() {
      this[name16] = value15;
    };
  }
  function propertyFunction(name16, value15) {
    return function() {
      var v = value15.apply(this, arguments);
      if (v == null) delete this[name16];
      else this[name16] = v;
    };
  }
  function property_default(name16, value15) {
    return arguments.length > 1 ? this.each((value15 == null ? propertyRemove : typeof value15 === "function" ? propertyFunction : propertyConstant)(name16, value15)) : this.node()[name16];
  }

  // node_modules/d3-selection/src/selection/classed.js
  function classArray(string2) {
    return string2.trim().split(/^|\s+/);
  }
  function classList2(node) {
    return node.classList || new ClassList(node);
  }
  function ClassList(node) {
    this._node = node;
    this._names = classArray(node.getAttribute("class") || "");
  }
  ClassList.prototype = {
    add: function(name16) {
      var i2 = this._names.indexOf(name16);
      if (i2 < 0) {
        this._names.push(name16);
        this._node.setAttribute("class", this._names.join(" "));
      }
    },
    remove: function(name16) {
      var i2 = this._names.indexOf(name16);
      if (i2 >= 0) {
        this._names.splice(i2, 1);
        this._node.setAttribute("class", this._names.join(" "));
      }
    },
    contains: function(name16) {
      return this._names.indexOf(name16) >= 0;
    }
  };
  function classedAdd(node, names) {
    var list = classList2(node), i2 = -1, n = names.length;
    while (++i2 < n) list.add(names[i2]);
  }
  function classedRemove(node, names) {
    var list = classList2(node), i2 = -1, n = names.length;
    while (++i2 < n) list.remove(names[i2]);
  }
  function classedTrue(names) {
    return function() {
      classedAdd(this, names);
    };
  }
  function classedFalse(names) {
    return function() {
      classedRemove(this, names);
    };
  }
  function classedFunction(names, value15) {
    return function() {
      (value15.apply(this, arguments) ? classedAdd : classedRemove)(this, names);
    };
  }
  function classed_default(name16, value15) {
    var names = classArray(name16 + "");
    if (arguments.length < 2) {
      var list = classList2(this.node()), i2 = -1, n = names.length;
      while (++i2 < n) if (!list.contains(names[i2])) return false;
      return true;
    }
    return this.each((typeof value15 === "function" ? classedFunction : value15 ? classedTrue : classedFalse)(names, value15));
  }

  // node_modules/d3-selection/src/selection/text.js
  function textRemove() {
    this.textContent = "";
  }
  function textConstant(value15) {
    return function() {
      this.textContent = value15;
    };
  }
  function textFunction(value15) {
    return function() {
      var v = value15.apply(this, arguments);
      this.textContent = v == null ? "" : v;
    };
  }
  function text_default(value15) {
    return arguments.length ? this.each(value15 == null ? textRemove : (typeof value15 === "function" ? textFunction : textConstant)(value15)) : this.node().textContent;
  }

  // node_modules/d3-selection/src/selection/html.js
  function htmlRemove() {
    this.innerHTML = "";
  }
  function htmlConstant(value15) {
    return function() {
      this.innerHTML = value15;
    };
  }
  function htmlFunction(value15) {
    return function() {
      var v = value15.apply(this, arguments);
      this.innerHTML = v == null ? "" : v;
    };
  }
  function html_default(value15) {
    return arguments.length ? this.each(value15 == null ? htmlRemove : (typeof value15 === "function" ? htmlFunction : htmlConstant)(value15)) : this.node().innerHTML;
  }

  // node_modules/d3-selection/src/selection/raise.js
  function raise() {
    if (this.nextSibling) this.parentNode.appendChild(this);
  }
  function raise_default() {
    return this.each(raise);
  }

  // node_modules/d3-selection/src/selection/lower.js
  function lower() {
    if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);
  }
  function lower_default() {
    return this.each(lower);
  }

  // node_modules/d3-selection/src/selection/append.js
  function append_default(name16) {
    var create5 = typeof name16 === "function" ? name16 : creator_default(name16);
    return this.select(function() {
      return this.appendChild(create5.apply(this, arguments));
    });
  }

  // node_modules/d3-selection/src/selection/insert.js
  function constantNull() {
    return null;
  }
  function insert_default(name16, before) {
    var create5 = typeof name16 === "function" ? name16 : creator_default(name16), select12 = before == null ? constantNull : typeof before === "function" ? before : selector_default(before);
    return this.select(function() {
      return this.insertBefore(create5.apply(this, arguments), select12.apply(this, arguments) || null);
    });
  }

  // node_modules/d3-selection/src/selection/remove.js
  function remove2() {
    var parent2 = this.parentNode;
    if (parent2) parent2.removeChild(this);
  }
  function remove_default() {
    return this.each(remove2);
  }

  // node_modules/d3-selection/src/selection/clone.js
  function selection_cloneShallow() {
    var clone2 = this.cloneNode(false), parent2 = this.parentNode;
    return parent2 ? parent2.insertBefore(clone2, this.nextSibling) : clone2;
  }
  function selection_cloneDeep() {
    var clone2 = this.cloneNode(true), parent2 = this.parentNode;
    return parent2 ? parent2.insertBefore(clone2, this.nextSibling) : clone2;
  }
  function clone_default(deep) {
    return this.select(deep ? selection_cloneDeep : selection_cloneShallow);
  }

  // node_modules/d3-selection/src/selection/datum.js
  function datum_default(value15) {
    return arguments.length ? this.property("__data__", value15) : this.node().__data__;
  }

  // node_modules/d3-selection/src/selection/on.js
  function contextListener(listener) {
    return function(event) {
      listener.call(this, event, this.__data__);
    };
  }
  function parseTypenames2(typenames) {
    return typenames.trim().split(/^|\s+/).map(function(t) {
      var name16 = "", i2 = t.indexOf(".");
      if (i2 >= 0) name16 = t.slice(i2 + 1), t = t.slice(0, i2);
      return { type: t, name: name16 };
    });
  }
  function onRemove(typename) {
    return function() {
      var on7 = this.__on;
      if (!on7) return;
      for (var j = 0, i2 = -1, m = on7.length, o; j < m; ++j) {
        if (o = on7[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
        } else {
          on7[++i2] = o;
        }
      }
      if (++i2) on7.length = i2;
      else delete this.__on;
    };
  }
  function onAdd(typename, value15, options2) {
    return function() {
      var on7 = this.__on, o, listener = contextListener(value15);
      if (on7) for (var j = 0, m = on7.length; j < m; ++j) {
        if ((o = on7[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
          this.addEventListener(o.type, o.listener = listener, o.options = options2);
          o.value = value15;
          return;
        }
      }
      this.addEventListener(typename.type, listener, options2);
      o = { type: typename.type, name: typename.name, value: value15, listener, options: options2 };
      if (!on7) this.__on = [o];
      else on7.push(o);
    };
  }
  function on_default(typename, value15, options2) {
    var typenames = parseTypenames2(typename + ""), i2, n = typenames.length, t;
    if (arguments.length < 2) {
      var on7 = this.node().__on;
      if (on7) for (var j = 0, m = on7.length, o; j < m; ++j) {
        for (i2 = 0, o = on7[j]; i2 < n; ++i2) {
          if ((t = typenames[i2]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
      return;
    }
    on7 = value15 ? onAdd : onRemove;
    for (i2 = 0; i2 < n; ++i2) this.each(on7(typenames[i2], value15, options2));
    return this;
  }

  // node_modules/d3-selection/src/selection/dispatch.js
  function dispatchEvent2(node, type2, params) {
    var window2 = window_default(node), event = window2.CustomEvent;
    if (typeof event === "function") {
      event = new event(type2, params);
    } else {
      event = window2.document.createEvent("Event");
      if (params) event.initEvent(type2, params.bubbles, params.cancelable), event.detail = params.detail;
      else event.initEvent(type2, false, false);
    }
    node.dispatchEvent(event);
  }
  function dispatchConstant(type2, params) {
    return function() {
      return dispatchEvent2(this, type2, params);
    };
  }
  function dispatchFunction(type2, params) {
    return function() {
      return dispatchEvent2(this, type2, params.apply(this, arguments));
    };
  }
  function dispatch_default2(type2, params) {
    return this.each((typeof params === "function" ? dispatchFunction : dispatchConstant)(type2, params));
  }

  // node_modules/d3-selection/src/selection/iterator.js
  function* iterator_default() {
    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
      for (var group4 = groups[j], i2 = 0, n = group4.length, node; i2 < n; ++i2) {
        if (node = group4[i2]) yield node;
      }
    }
  }

  // node_modules/d3-selection/src/selection/index.js
  var root = [null];
  function Selection(groups, parents) {
    this._groups = groups;
    this._parents = parents;
  }
  function selection() {
    return new Selection([[document.documentElement]], root);
  }
  function selection_selection() {
    return this;
  }
  Selection.prototype = selection.prototype = {
    constructor: Selection,
    select: select_default,
    selectAll: selectAll_default,
    selectChild: selectChild_default,
    selectChildren: selectChildren_default,
    filter: filter_default,
    data: data_default,
    enter: enter_default,
    exit: exit_default,
    join: join_default,
    merge: merge_default,
    selection: selection_selection,
    order: order_default,
    sort: sort_default,
    call: call_default,
    nodes: nodes_default,
    node: node_default,
    size: size_default,
    empty: empty_default,
    each: each_default,
    attr: attr_default,
    style: style_default,
    property: property_default,
    classed: classed_default,
    text: text_default,
    html: html_default,
    raise: raise_default,
    lower: lower_default,
    append: append_default,
    insert: insert_default,
    remove: remove_default,
    clone: clone_default,
    datum: datum_default,
    on: on_default,
    dispatch: dispatch_default2,
    [Symbol.iterator]: iterator_default
  };
  var selection_default = selection;

  // node_modules/d3-selection/src/select.js
  function select_default2(selector) {
    return typeof selector === "string" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);
  }

  // node_modules/d3-selection/src/sourceEvent.js
  function sourceEvent_default(event) {
    let sourceEvent;
    while (sourceEvent = event.sourceEvent) event = sourceEvent;
    return event;
  }

  // node_modules/d3-selection/src/pointer.js
  function pointer_default(event, node) {
    event = sourceEvent_default(event);
    if (node === void 0) node = event.currentTarget;
    if (node) {
      var svg = node.ownerSVGElement || node;
      if (svg.createSVGPoint) {
        var point = svg.createSVGPoint();
        point.x = event.clientX, point.y = event.clientY;
        point = point.matrixTransform(node.getScreenCTM().inverse());
        return [point.x, point.y];
      }
      if (node.getBoundingClientRect) {
        var rect = node.getBoundingClientRect();
        return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];
      }
    }
    return [event.pageX, event.pageY];
  }

  // node_modules/d3-drag/src/noevent.js
  var nonpassive = { passive: false };
  var nonpassivecapture = { capture: true, passive: false };
  function nopropagation(event) {
    event.stopImmediatePropagation();
  }
  function noevent_default(event) {
    event.preventDefault();
    event.stopImmediatePropagation();
  }

  // node_modules/d3-drag/src/nodrag.js
  function nodrag_default(view2) {
    var root3 = view2.document.documentElement, selection2 = select_default2(view2).on("dragstart.drag", noevent_default, nonpassivecapture);
    if ("onselectstart" in root3) {
      selection2.on("selectstart.drag", noevent_default, nonpassivecapture);
    } else {
      root3.__noselect = root3.style.MozUserSelect;
      root3.style.MozUserSelect = "none";
    }
  }
  function yesdrag(view2, noclick) {
    var root3 = view2.document.documentElement, selection2 = select_default2(view2).on("dragstart.drag", null);
    if (noclick) {
      selection2.on("click.drag", noevent_default, nonpassivecapture);
      setTimeout(function() {
        selection2.on("click.drag", null);
      }, 0);
    }
    if ("onselectstart" in root3) {
      selection2.on("selectstart.drag", null);
    } else {
      root3.style.MozUserSelect = root3.__noselect;
      delete root3.__noselect;
    }
  }

  // node_modules/d3-drag/src/constant.js
  var constant_default2 = (x10) => () => x10;

  // node_modules/d3-drag/src/event.js
  function DragEvent(type2, {
    sourceEvent,
    subject,
    target: target6,
    identifier,
    active,
    x: x10,
    y: y10,
    dx,
    dy: dy3,
    dispatch: dispatch2
  }) {
    Object.defineProperties(this, {
      type: { value: type2, enumerable: true, configurable: true },
      sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
      subject: { value: subject, enumerable: true, configurable: true },
      target: { value: target6, enumerable: true, configurable: true },
      identifier: { value: identifier, enumerable: true, configurable: true },
      active: { value: active, enumerable: true, configurable: true },
      x: { value: x10, enumerable: true, configurable: true },
      y: { value: y10, enumerable: true, configurable: true },
      dx: { value: dx, enumerable: true, configurable: true },
      dy: { value: dy3, enumerable: true, configurable: true },
      _: { value: dispatch2 }
    });
  }
  DragEvent.prototype.on = function() {
    var value15 = this._.on.apply(this._, arguments);
    return value15 === this._ ? this : value15;
  };

  // node_modules/d3-drag/src/drag.js
  function defaultFilter(event) {
    return !event.ctrlKey && !event.button;
  }
  function defaultContainer() {
    return this.parentNode;
  }
  function defaultSubject(event, d8) {
    return d8 == null ? { x: event.x, y: event.y } : d8;
  }
  function defaultTouchable() {
    return navigator.maxTouchPoints || "ontouchstart" in this;
  }
  function drag_default() {
    var filter5 = defaultFilter, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable, gestures = {}, listeners = dispatch_default("start", "drag", "end"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;
    function drag2(selection2) {
      selection2.on("mousedown.drag", mousedowned).filter(touchable).on("touchstart.drag", touchstarted).on("touchmove.drag", touchmoved, nonpassive).on("touchend.drag touchcancel.drag", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
    }
    function mousedowned(event, d8) {
      if (touchending || !filter5.call(this, event, d8)) return;
      var gesture = beforestart(this, container.call(this, event, d8), event, d8, "mouse");
      if (!gesture) return;
      select_default2(event.view).on("mousemove.drag", mousemoved, nonpassivecapture).on("mouseup.drag", mouseupped, nonpassivecapture);
      nodrag_default(event.view);
      nopropagation(event);
      mousemoving = false;
      mousedownx = event.clientX;
      mousedowny = event.clientY;
      gesture("start", event);
    }
    function mousemoved(event) {
      noevent_default(event);
      if (!mousemoving) {
        var dx = event.clientX - mousedownx, dy3 = event.clientY - mousedowny;
        mousemoving = dx * dx + dy3 * dy3 > clickDistance2;
      }
      gestures.mouse("drag", event);
    }
    function mouseupped(event) {
      select_default2(event.view).on("mousemove.drag mouseup.drag", null);
      yesdrag(event.view, mousemoving);
      noevent_default(event);
      gestures.mouse("end", event);
    }
    function touchstarted(event, d8) {
      if (!filter5.call(this, event, d8)) return;
      var touches = event.changedTouches, c = container.call(this, event, d8), n = touches.length, i2, gesture;
      for (i2 = 0; i2 < n; ++i2) {
        if (gesture = beforestart(this, c, event, d8, touches[i2].identifier, touches[i2])) {
          nopropagation(event);
          gesture("start", event, touches[i2]);
        }
      }
    }
    function touchmoved(event) {
      var touches = event.changedTouches, n = touches.length, i2, gesture;
      for (i2 = 0; i2 < n; ++i2) {
        if (gesture = gestures[touches[i2].identifier]) {
          noevent_default(event);
          gesture("drag", event, touches[i2]);
        }
      }
    }
    function touchended(event) {
      var touches = event.changedTouches, n = touches.length, i2, gesture;
      if (touchending) clearTimeout(touchending);
      touchending = setTimeout(function() {
        touchending = null;
      }, 500);
      for (i2 = 0; i2 < n; ++i2) {
        if (gesture = gestures[touches[i2].identifier]) {
          nopropagation(event);
          gesture("end", event, touches[i2]);
        }
      }
    }
    function beforestart(that, container2, event, d8, identifier, touch) {
      var dispatch2 = listeners.copy(), p2 = pointer_default(touch || event, container2), dx, dy3, s;
      if ((s = subject.call(that, new DragEvent("beforestart", {
        sourceEvent: event,
        target: drag2,
        identifier,
        active,
        x: p2[0],
        y: p2[1],
        dx: 0,
        dy: 0,
        dispatch: dispatch2
      }), d8)) == null) return;
      dx = s.x - p2[0] || 0;
      dy3 = s.y - p2[1] || 0;
      return function gesture(type2, event2, touch2) {
        var p0 = p2, n;
        switch (type2) {
          case "start":
            gestures[identifier] = gesture, n = active++;
            break;
          case "end":
            delete gestures[identifier], --active;
          // falls through
          case "drag":
            p2 = pointer_default(touch2 || event2, container2), n = active;
            break;
        }
        dispatch2.call(
          type2,
          that,
          new DragEvent(type2, {
            sourceEvent: event2,
            subject: s,
            target: drag2,
            identifier,
            active: n,
            x: p2[0] + dx,
            y: p2[1] + dy3,
            dx: p2[0] - p0[0],
            dy: p2[1] - p0[1],
            dispatch: dispatch2
          }),
          d8
        );
      };
    }
    drag2.filter = function(_) {
      return arguments.length ? (filter5 = typeof _ === "function" ? _ : constant_default2(!!_), drag2) : filter5;
    };
    drag2.container = function(_) {
      return arguments.length ? (container = typeof _ === "function" ? _ : constant_default2(_), drag2) : container;
    };
    drag2.subject = function(_) {
      return arguments.length ? (subject = typeof _ === "function" ? _ : constant_default2(_), drag2) : subject;
    };
    drag2.touchable = function(_) {
      return arguments.length ? (touchable = typeof _ === "function" ? _ : constant_default2(!!_), drag2) : touchable;
    };
    drag2.on = function() {
      var value15 = listeners.on.apply(listeners, arguments);
      return value15 === listeners ? drag2 : value15;
    };
    drag2.clickDistance = function(_) {
      return arguments.length ? (clickDistance2 = (_ = +_) * _, drag2) : Math.sqrt(clickDistance2);
    };
    return drag2;
  }

  // node_modules/d3-color/src/define.js
  function define_default(constructor, factory, prototype) {
    constructor.prototype = factory.prototype = prototype;
    prototype.constructor = constructor;
  }
  function extend2(parent2, definition) {
    var prototype = Object.create(parent2.prototype);
    for (var key in definition) prototype[key] = definition[key];
    return prototype;
  }

  // node_modules/d3-color/src/color.js
  function Color() {
  }
  var darker = 0.7;
  var brighter = 1 / darker;
  var reI = "\\s*([+-]?\\d+)\\s*";
  var reN = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
  var reP = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
  var reHex = /^#([0-9a-f]{3,8})$/;
  var reRgbInteger = new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`);
  var reRgbPercent = new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`);
  var reRgbaInteger = new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`);
  var reRgbaPercent = new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`);
  var reHslPercent = new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`);
  var reHslaPercent = new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`);
  var named = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074
  };
  define_default(Color, color, {
    copy(channels) {
      return Object.assign(new this.constructor(), this, channels);
    },
    displayable() {
      return this.rgb().displayable();
    },
    hex: color_formatHex,
    // Deprecated! Use color.formatHex.
    formatHex: color_formatHex,
    formatHex8: color_formatHex8,
    formatHsl: color_formatHsl,
    formatRgb: color_formatRgb,
    toString: color_formatRgb
  });
  function color_formatHex() {
    return this.rgb().formatHex();
  }
  function color_formatHex8() {
    return this.rgb().formatHex8();
  }
  function color_formatHsl() {
    return hslConvert(this).formatHsl();
  }
  function color_formatRgb() {
    return this.rgb().formatRgb();
  }
  function color(format) {
    var m, l;
    format = (format + "").trim().toLowerCase();
    return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === "transparent" ? new Rgb(NaN, NaN, NaN, 0) : null;
  }
  function rgbn(n) {
    return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
  }
  function rgba(r, g, b10, a2) {
    if (a2 <= 0) r = g = b10 = NaN;
    return new Rgb(r, g, b10, a2);
  }
  function rgbConvert(o) {
    if (!(o instanceof Color)) o = color(o);
    if (!o) return new Rgb();
    o = o.rgb();
    return new Rgb(o.r, o.g, o.b, o.opacity);
  }
  function rgb(r, g, b10, opacity3) {
    return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b10, opacity3 == null ? 1 : opacity3);
  }
  function Rgb(r, g, b10, opacity3) {
    this.r = +r;
    this.g = +g;
    this.b = +b10;
    this.opacity = +opacity3;
  }
  define_default(Rgb, rgb, extend2(Color, {
    brighter(k) {
      k = k == null ? brighter : Math.pow(brighter, k);
      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
    },
    darker(k) {
      k = k == null ? darker : Math.pow(darker, k);
      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
    },
    rgb() {
      return this;
    },
    clamp() {
      return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));
    },
    displayable() {
      return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
    },
    hex: rgb_formatHex,
    // Deprecated! Use color.formatHex.
    formatHex: rgb_formatHex,
    formatHex8: rgb_formatHex8,
    formatRgb: rgb_formatRgb,
    toString: rgb_formatRgb
  }));
  function rgb_formatHex() {
    return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;
  }
  function rgb_formatHex8() {
    return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
  }
  function rgb_formatRgb() {
    const a2 = clampa(this.opacity);
    return `${a2 === 1 ? "rgb(" : "rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a2 === 1 ? ")" : `, ${a2})`}`;
  }
  function clampa(opacity3) {
    return isNaN(opacity3) ? 1 : Math.max(0, Math.min(1, opacity3));
  }
  function clampi(value15) {
    return Math.max(0, Math.min(255, Math.round(value15) || 0));
  }
  function hex(value15) {
    value15 = clampi(value15);
    return (value15 < 16 ? "0" : "") + value15.toString(16);
  }
  function hsla(h, s, l, a2) {
    if (a2 <= 0) h = s = l = NaN;
    else if (l <= 0 || l >= 1) h = s = NaN;
    else if (s <= 0) h = NaN;
    return new Hsl(h, s, l, a2);
  }
  function hslConvert(o) {
    if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);
    if (!(o instanceof Color)) o = color(o);
    if (!o) return new Hsl();
    if (o instanceof Hsl) return o;
    o = o.rgb();
    var r = o.r / 255, g = o.g / 255, b10 = o.b / 255, min6 = Math.min(r, g, b10), max7 = Math.max(r, g, b10), h = NaN, s = max7 - min6, l = (max7 + min6) / 2;
    if (s) {
      if (r === max7) h = (g - b10) / s + (g < b10) * 6;
      else if (g === max7) h = (b10 - r) / s + 2;
      else h = (r - g) / s + 4;
      s /= l < 0.5 ? max7 + min6 : 2 - max7 - min6;
      h *= 60;
    } else {
      s = l > 0 && l < 1 ? 0 : h;
    }
    return new Hsl(h, s, l, o.opacity);
  }
  function hsl(h, s, l, opacity3) {
    return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity3 == null ? 1 : opacity3);
  }
  function Hsl(h, s, l, opacity3) {
    this.h = +h;
    this.s = +s;
    this.l = +l;
    this.opacity = +opacity3;
  }
  define_default(Hsl, hsl, extend2(Color, {
    brighter(k) {
      k = k == null ? brighter : Math.pow(brighter, k);
      return new Hsl(this.h, this.s, this.l * k, this.opacity);
    },
    darker(k) {
      k = k == null ? darker : Math.pow(darker, k);
      return new Hsl(this.h, this.s, this.l * k, this.opacity);
    },
    rgb() {
      var h = this.h % 360 + (this.h < 0) * 360, s = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;
      return new Rgb(
        hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
        hsl2rgb(h, m1, m2),
        hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
        this.opacity
      );
    },
    clamp() {
      return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));
    },
    displayable() {
      return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
    },
    formatHsl() {
      const a2 = clampa(this.opacity);
      return `${a2 === 1 ? "hsl(" : "hsla("}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a2 === 1 ? ")" : `, ${a2})`}`;
    }
  }));
  function clamph(value15) {
    value15 = (value15 || 0) % 360;
    return value15 < 0 ? value15 + 360 : value15;
  }
  function clampt(value15) {
    return Math.max(0, Math.min(1, value15 || 0));
  }
  function hsl2rgb(h, m1, m2) {
    return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
  }

  // node_modules/d3-interpolate/src/basis.js
  function basis(t1, v0, v1, v2, v3) {
    var t2 = t1 * t1, t3 = t2 * t1;
    return ((1 - 3 * t1 + 3 * t2 - t3) * v0 + (4 - 6 * t2 + 3 * t3) * v1 + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 + t3 * v3) / 6;
  }
  function basis_default(values2) {
    var n = values2.length - 1;
    return function(t) {
      var i2 = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values2[i2], v2 = values2[i2 + 1], v0 = i2 > 0 ? values2[i2 - 1] : 2 * v1 - v2, v3 = i2 < n - 1 ? values2[i2 + 2] : 2 * v2 - v1;
      return basis((t - i2 / n) * n, v0, v1, v2, v3);
    };
  }

  // node_modules/d3-interpolate/src/basisClosed.js
  function basisClosed_default(values2) {
    var n = values2.length;
    return function(t) {
      var i2 = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values2[(i2 + n - 1) % n], v1 = values2[i2 % n], v2 = values2[(i2 + 1) % n], v3 = values2[(i2 + 2) % n];
      return basis((t - i2 / n) * n, v0, v1, v2, v3);
    };
  }

  // node_modules/d3-interpolate/src/constant.js
  var constant_default3 = (x10) => () => x10;

  // node_modules/d3-interpolate/src/color.js
  function linear(a2, d8) {
    return function(t) {
      return a2 + t * d8;
    };
  }
  function exponential(a2, b10, y10) {
    return a2 = Math.pow(a2, y10), b10 = Math.pow(b10, y10) - a2, y10 = 1 / y10, function(t) {
      return Math.pow(a2 + t * b10, y10);
    };
  }
  function gamma(y10) {
    return (y10 = +y10) === 1 ? nogamma : function(a2, b10) {
      return b10 - a2 ? exponential(a2, b10, y10) : constant_default3(isNaN(a2) ? b10 : a2);
    };
  }
  function nogamma(a2, b10) {
    var d8 = b10 - a2;
    return d8 ? linear(a2, d8) : constant_default3(isNaN(a2) ? b10 : a2);
  }

  // node_modules/d3-interpolate/src/rgb.js
  var rgb_default = (function rgbGamma(y10) {
    var color2 = gamma(y10);
    function rgb2(start7, end2) {
      var r = color2((start7 = rgb(start7)).r, (end2 = rgb(end2)).r), g = color2(start7.g, end2.g), b10 = color2(start7.b, end2.b), opacity3 = nogamma(start7.opacity, end2.opacity);
      return function(t) {
        start7.r = r(t);
        start7.g = g(t);
        start7.b = b10(t);
        start7.opacity = opacity3(t);
        return start7 + "";
      };
    }
    rgb2.gamma = rgbGamma;
    return rgb2;
  })(1);
  function rgbSpline(spline) {
    return function(colors) {
      var n = colors.length, r = new Array(n), g = new Array(n), b10 = new Array(n), i2, color2;
      for (i2 = 0; i2 < n; ++i2) {
        color2 = rgb(colors[i2]);
        r[i2] = color2.r || 0;
        g[i2] = color2.g || 0;
        b10[i2] = color2.b || 0;
      }
      r = spline(r);
      g = spline(g);
      b10 = spline(b10);
      color2.opacity = 1;
      return function(t) {
        color2.r = r(t);
        color2.g = g(t);
        color2.b = b10(t);
        return color2 + "";
      };
    };
  }
  var rgbBasis = rgbSpline(basis_default);
  var rgbBasisClosed = rgbSpline(basisClosed_default);

  // node_modules/d3-interpolate/src/numberArray.js
  function numberArray_default(a2, b10) {
    if (!b10) b10 = [];
    var n = a2 ? Math.min(b10.length, a2.length) : 0, c = b10.slice(), i2;
    return function(t) {
      for (i2 = 0; i2 < n; ++i2) c[i2] = a2[i2] * (1 - t) + b10[i2] * t;
      return c;
    };
  }
  function isNumberArray(x10) {
    return ArrayBuffer.isView(x10) && !(x10 instanceof DataView);
  }

  // node_modules/d3-interpolate/src/array.js
  function genericArray(a2, b10) {
    var nb = b10 ? b10.length : 0, na = a2 ? Math.min(nb, a2.length) : 0, x10 = new Array(na), c = new Array(nb), i2;
    for (i2 = 0; i2 < na; ++i2) x10[i2] = value_default(a2[i2], b10[i2]);
    for (; i2 < nb; ++i2) c[i2] = b10[i2];
    return function(t) {
      for (i2 = 0; i2 < na; ++i2) c[i2] = x10[i2](t);
      return c;
    };
  }

  // node_modules/d3-interpolate/src/date.js
  function date_default(a2, b10) {
    var d8 = /* @__PURE__ */ new Date();
    return a2 = +a2, b10 = +b10, function(t) {
      return d8.setTime(a2 * (1 - t) + b10 * t), d8;
    };
  }

  // node_modules/d3-interpolate/src/number.js
  function number_default(a2, b10) {
    return a2 = +a2, b10 = +b10, function(t) {
      return a2 * (1 - t) + b10 * t;
    };
  }

  // node_modules/d3-interpolate/src/object.js
  function object_default(a2, b10) {
    var i2 = {}, c = {}, k;
    if (a2 === null || typeof a2 !== "object") a2 = {};
    if (b10 === null || typeof b10 !== "object") b10 = {};
    for (k in b10) {
      if (k in a2) {
        i2[k] = value_default(a2[k], b10[k]);
      } else {
        c[k] = b10[k];
      }
    }
    return function(t) {
      for (k in i2) c[k] = i2[k](t);
      return c;
    };
  }

  // node_modules/d3-interpolate/src/string.js
  var reA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
  var reB = new RegExp(reA.source, "g");
  function zero2(b10) {
    return function() {
      return b10;
    };
  }
  function one2(b10) {
    return function(t) {
      return b10(t) + "";
    };
  }
  function string_default(a2, b10) {
    var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i2 = -1, s = [], q2 = [];
    a2 = a2 + "", b10 = b10 + "";
    while ((am = reA.exec(a2)) && (bm = reB.exec(b10))) {
      if ((bs = bm.index) > bi) {
        bs = b10.slice(bi, bs);
        if (s[i2]) s[i2] += bs;
        else s[++i2] = bs;
      }
      if ((am = am[0]) === (bm = bm[0])) {
        if (s[i2]) s[i2] += bm;
        else s[++i2] = bm;
      } else {
        s[++i2] = null;
        q2.push({ i: i2, x: number_default(am, bm) });
      }
      bi = reB.lastIndex;
    }
    if (bi < b10.length) {
      bs = b10.slice(bi);
      if (s[i2]) s[i2] += bs;
      else s[++i2] = bs;
    }
    return s.length < 2 ? q2[0] ? one2(q2[0].x) : zero2(b10) : (b10 = q2.length, function(t) {
      for (var i3 = 0, o; i3 < b10; ++i3) s[(o = q2[i3]).i] = o.x(t);
      return s.join("");
    });
  }

  // node_modules/d3-interpolate/src/value.js
  function value_default(a2, b10) {
    var t = typeof b10, c;
    return b10 == null || t === "boolean" ? constant_default3(b10) : (t === "number" ? number_default : t === "string" ? (c = color(b10)) ? (b10 = c, rgb_default) : string_default : b10 instanceof color ? rgb_default : b10 instanceof Date ? date_default : isNumberArray(b10) ? numberArray_default : Array.isArray(b10) ? genericArray : typeof b10.valueOf !== "function" && typeof b10.toString !== "function" || isNaN(b10) ? object_default : number_default)(a2, b10);
  }

  // node_modules/d3-interpolate/src/transform/decompose.js
  var degrees = 180 / Math.PI;
  var identity12 = {
    translateX: 0,
    translateY: 0,
    rotate: 0,
    skewX: 0,
    scaleX: 1,
    scaleY: 1
  };
  function decompose_default(a2, b10, c, d8, e, f) {
    var scaleX, scaleY, skewX;
    if (scaleX = Math.sqrt(a2 * a2 + b10 * b10)) a2 /= scaleX, b10 /= scaleX;
    if (skewX = a2 * c + b10 * d8) c -= a2 * skewX, d8 -= b10 * skewX;
    if (scaleY = Math.sqrt(c * c + d8 * d8)) c /= scaleY, d8 /= scaleY, skewX /= scaleY;
    if (a2 * d8 < b10 * c) a2 = -a2, b10 = -b10, skewX = -skewX, scaleX = -scaleX;
    return {
      translateX: e,
      translateY: f,
      rotate: Math.atan2(b10, a2) * degrees,
      skewX: Math.atan(skewX) * degrees,
      scaleX,
      scaleY
    };
  }

  // node_modules/d3-interpolate/src/transform/parse.js
  var svgNode;
  function parseCss(value15) {
    const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value15 + "");
    return m.isIdentity ? identity12 : decompose_default(m.a, m.b, m.c, m.d, m.e, m.f);
  }
  function parseSvg(value15) {
    if (value15 == null) return identity12;
    if (!svgNode) svgNode = document.createElementNS("http://www.w3.org/2000/svg", "g");
    svgNode.setAttribute("transform", value15);
    if (!(value15 = svgNode.transform.baseVal.consolidate())) return identity12;
    value15 = value15.matrix;
    return decompose_default(value15.a, value15.b, value15.c, value15.d, value15.e, value15.f);
  }

  // node_modules/d3-interpolate/src/transform/index.js
  function interpolateTransform(parse8, pxComma, pxParen, degParen) {
    function pop4(s) {
      return s.length ? s.pop() + " " : "";
    }
    function translate(xa, ya, xb, yb, s, q2) {
      if (xa !== xb || ya !== yb) {
        var i2 = s.push("translate(", null, pxComma, null, pxParen);
        q2.push({ i: i2 - 4, x: number_default(xa, xb) }, { i: i2 - 2, x: number_default(ya, yb) });
      } else if (xb || yb) {
        s.push("translate(" + xb + pxComma + yb + pxParen);
      }
    }
    function rotate(a2, b10, s, q2) {
      if (a2 !== b10) {
        if (a2 - b10 > 180) b10 += 360;
        else if (b10 - a2 > 180) a2 += 360;
        q2.push({ i: s.push(pop4(s) + "rotate(", null, degParen) - 2, x: number_default(a2, b10) });
      } else if (b10) {
        s.push(pop4(s) + "rotate(" + b10 + degParen);
      }
    }
    function skewX(a2, b10, s, q2) {
      if (a2 !== b10) {
        q2.push({ i: s.push(pop4(s) + "skewX(", null, degParen) - 2, x: number_default(a2, b10) });
      } else if (b10) {
        s.push(pop4(s) + "skewX(" + b10 + degParen);
      }
    }
    function scale(xa, ya, xb, yb, s, q2) {
      if (xa !== xb || ya !== yb) {
        var i2 = s.push(pop4(s) + "scale(", null, ",", null, ")");
        q2.push({ i: i2 - 4, x: number_default(xa, xb) }, { i: i2 - 2, x: number_default(ya, yb) });
      } else if (xb !== 1 || yb !== 1) {
        s.push(pop4(s) + "scale(" + xb + "," + yb + ")");
      }
    }
    return function(a2, b10) {
      var s = [], q2 = [];
      a2 = parse8(a2), b10 = parse8(b10);
      translate(a2.translateX, a2.translateY, b10.translateX, b10.translateY, s, q2);
      rotate(a2.rotate, b10.rotate, s, q2);
      skewX(a2.skewX, b10.skewX, s, q2);
      scale(a2.scaleX, a2.scaleY, b10.scaleX, b10.scaleY, s, q2);
      a2 = b10 = null;
      return function(t) {
        var i2 = -1, n = q2.length, o;
        while (++i2 < n) s[(o = q2[i2]).i] = o.x(t);
        return s.join("");
      };
    };
  }
  var interpolateTransformCss = interpolateTransform(parseCss, "px, ", "px)", "deg)");
  var interpolateTransformSvg = interpolateTransform(parseSvg, ", ", ")", ")");

  // node_modules/d3-interpolate/src/zoom.js
  var epsilon2 = 1e-12;
  function cosh(x10) {
    return ((x10 = Math.exp(x10)) + 1 / x10) / 2;
  }
  function sinh(x10) {
    return ((x10 = Math.exp(x10)) - 1 / x10) / 2;
  }
  function tanh(x10) {
    return ((x10 = Math.exp(2 * x10)) - 1) / (x10 + 1);
  }
  var zoom_default = (function zoomRho(rho, rho2, rho4) {
    function zoom(p0, p1) {
      var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy3 = uy1 - uy0, d22 = dx * dx + dy3 * dy3, i2, S;
      if (d22 < epsilon2) {
        S = Math.log(w1 / w0) / rho;
        i2 = function(t) {
          return [
            ux0 + t * dx,
            uy0 + t * dy3,
            w0 * Math.exp(rho * t * S)
          ];
        };
      } else {
        var d1 = Math.sqrt(d22), b02 = (w1 * w1 - w0 * w0 + rho4 * d22) / (2 * w0 * rho2 * d1), b12 = (w1 * w1 - w0 * w0 - rho4 * d22) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b02 * b02 + 1) - b02), r1 = Math.log(Math.sqrt(b12 * b12 + 1) - b12);
        S = (r1 - r0) / rho;
        i2 = function(t) {
          var s = t * S, coshr0 = cosh(r0), u2 = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));
          return [
            ux0 + u2 * dx,
            uy0 + u2 * dy3,
            w0 * coshr0 / cosh(rho * s + r0)
          ];
        };
      }
      i2.duration = S * 1e3 * rho / Math.SQRT2;
      return i2;
    }
    zoom.rho = function(_) {
      var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;
      return zoomRho(_1, _2, _4);
    };
    return zoom;
  })(Math.SQRT2, 2, 4);

  // node_modules/d3-timer/src/timer.js
  var frame = 0;
  var timeout = 0;
  var interval = 0;
  var pokeDelay = 1e3;
  var taskHead;
  var taskTail;
  var clockLast = 0;
  var clockNow = 0;
  var clockSkew = 0;
  var clock = typeof performance === "object" && performance.now ? performance : Date;
  var setFrame = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {
    setTimeout(f, 17);
  };
  function now() {
    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);
  }
  function clearNow() {
    clockNow = 0;
  }
  function Timer() {
    this._call = this._time = this._next = null;
  }
  Timer.prototype = timer.prototype = {
    constructor: Timer,
    restart: function(callback, delay2, time3) {
      if (typeof callback !== "function") throw new TypeError("callback is not a function");
      time3 = (time3 == null ? now() : +time3) + (delay2 == null ? 0 : +delay2);
      if (!this._next && taskTail !== this) {
        if (taskTail) taskTail._next = this;
        else taskHead = this;
        taskTail = this;
      }
      this._call = callback;
      this._time = time3;
      sleep();
    },
    stop: function() {
      if (this._call) {
        this._call = null;
        this._time = Infinity;
        sleep();
      }
    }
  };
  function timer(callback, delay2, time3) {
    var t = new Timer();
    t.restart(callback, delay2, time3);
    return t;
  }
  function timerFlush() {
    now();
    ++frame;
    var t = taskHead, e;
    while (t) {
      if ((e = clockNow - t._time) >= 0) t._call.call(void 0, e);
      t = t._next;
    }
    --frame;
  }
  function wake() {
    clockNow = (clockLast = clock.now()) + clockSkew;
    frame = timeout = 0;
    try {
      timerFlush();
    } finally {
      frame = 0;
      nap();
      clockNow = 0;
    }
  }
  function poke3() {
    var now3 = clock.now(), delay2 = now3 - clockLast;
    if (delay2 > pokeDelay) clockSkew -= delay2, clockLast = now3;
  }
  function nap() {
    var t0, t1 = taskHead, t2, time3 = Infinity;
    while (t1) {
      if (t1._call) {
        if (time3 > t1._time) time3 = t1._time;
        t0 = t1, t1 = t1._next;
      } else {
        t2 = t1._next, t1._next = null;
        t1 = t0 ? t0._next = t2 : taskHead = t2;
      }
    }
    taskTail = t0;
    sleep(time3);
  }
  function sleep(time3) {
    if (frame) return;
    if (timeout) timeout = clearTimeout(timeout);
    var delay2 = time3 - clockNow;
    if (delay2 > 24) {
      if (time3 < Infinity) timeout = setTimeout(wake, time3 - clock.now() - clockSkew);
      if (interval) interval = clearInterval(interval);
    } else {
      if (!interval) clockLast = clock.now(), interval = setInterval(poke3, pokeDelay);
      frame = 1, setFrame(wake);
    }
  }

  // node_modules/d3-timer/src/timeout.js
  function timeout_default(callback, delay2, time3) {
    var t = new Timer();
    delay2 = delay2 == null ? 0 : +delay2;
    t.restart((elapsed) => {
      t.stop();
      callback(elapsed + delay2);
    }, delay2, time3);
    return t;
  }

  // node_modules/d3-transition/src/transition/schedule.js
  var emptyOn = dispatch_default("start", "end", "cancel", "interrupt");
  var emptyTween = [];
  var CREATED = 0;
  var SCHEDULED = 1;
  var STARTING = 2;
  var STARTED = 3;
  var RUNNING = 4;
  var ENDING = 5;
  var ENDED = 6;
  function schedule_default(node, name16, id5, index5, group4, timing) {
    var schedules = node.__transition;
    if (!schedules) node.__transition = {};
    else if (id5 in schedules) return;
    create2(node, id5, {
      name: name16,
      index: index5,
      // For context during callback.
      group: group4,
      // For context during callback.
      on: emptyOn,
      tween: emptyTween,
      time: timing.time,
      delay: timing.delay,
      duration: timing.duration,
      ease: timing.ease,
      timer: null,
      state: CREATED
    });
  }
  function init2(node, id5) {
    var schedule = get6(node, id5);
    if (schedule.state > CREATED) throw new Error("too late; already scheduled");
    return schedule;
  }
  function set4(node, id5) {
    var schedule = get6(node, id5);
    if (schedule.state > STARTED) throw new Error("too late; already running");
    return schedule;
  }
  function get6(node, id5) {
    var schedule = node.__transition;
    if (!schedule || !(schedule = schedule[id5])) throw new Error("transition not found");
    return schedule;
  }
  function create2(node, id5, self) {
    var schedules = node.__transition, tween;
    schedules[id5] = self;
    self.timer = timer(schedule, 0, self.time);
    function schedule(elapsed) {
      self.state = SCHEDULED;
      self.timer.restart(start7, self.delay, self.time);
      if (self.delay <= elapsed) start7(elapsed - self.delay);
    }
    function start7(elapsed) {
      var i2, j, n, o;
      if (self.state !== SCHEDULED) return stop3();
      for (i2 in schedules) {
        o = schedules[i2];
        if (o.name !== self.name) continue;
        if (o.state === STARTED) return timeout_default(start7);
        if (o.state === RUNNING) {
          o.state = ENDED;
          o.timer.stop();
          o.on.call("interrupt", node, node.__data__, o.index, o.group);
          delete schedules[i2];
        } else if (+i2 < id5) {
          o.state = ENDED;
          o.timer.stop();
          o.on.call("cancel", node, node.__data__, o.index, o.group);
          delete schedules[i2];
        }
      }
      timeout_default(function() {
        if (self.state === STARTED) {
          self.state = RUNNING;
          self.timer.restart(tick, self.delay, self.time);
          tick(elapsed);
        }
      });
      self.state = STARTING;
      self.on.call("start", node, node.__data__, self.index, self.group);
      if (self.state !== STARTING) return;
      self.state = STARTED;
      tween = new Array(n = self.tween.length);
      for (i2 = 0, j = -1; i2 < n; ++i2) {
        if (o = self.tween[i2].value.call(node, node.__data__, self.index, self.group)) {
          tween[++j] = o;
        }
      }
      tween.length = j + 1;
    }
    function tick(elapsed) {
      var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop3), self.state = ENDING, 1), i2 = -1, n = tween.length;
      while (++i2 < n) {
        tween[i2].call(node, t);
      }
      if (self.state === ENDING) {
        self.on.call("end", node, node.__data__, self.index, self.group);
        stop3();
      }
    }
    function stop3() {
      self.state = ENDED;
      self.timer.stop();
      delete schedules[id5];
      for (var i2 in schedules) return;
      delete node.__transition;
    }
  }

  // node_modules/d3-transition/src/interrupt.js
  function interrupt_default(node, name16) {
    var schedules = node.__transition, schedule, active, empty9 = true, i2;
    if (!schedules) return;
    name16 = name16 == null ? null : name16 + "";
    for (i2 in schedules) {
      if ((schedule = schedules[i2]).name !== name16) {
        empty9 = false;
        continue;
      }
      active = schedule.state > STARTING && schedule.state < ENDING;
      schedule.state = ENDED;
      schedule.timer.stop();
      schedule.on.call(active ? "interrupt" : "cancel", node, node.__data__, schedule.index, schedule.group);
      delete schedules[i2];
    }
    if (empty9) delete node.__transition;
  }

  // node_modules/d3-transition/src/selection/interrupt.js
  function interrupt_default2(name16) {
    return this.each(function() {
      interrupt_default(this, name16);
    });
  }

  // node_modules/d3-transition/src/transition/tween.js
  function tweenRemove(id5, name16) {
    var tween0, tween1;
    return function() {
      var schedule = set4(this, id5), tween = schedule.tween;
      if (tween !== tween0) {
        tween1 = tween0 = tween;
        for (var i2 = 0, n = tween1.length; i2 < n; ++i2) {
          if (tween1[i2].name === name16) {
            tween1 = tween1.slice();
            tween1.splice(i2, 1);
            break;
          }
        }
      }
      schedule.tween = tween1;
    };
  }
  function tweenFunction(id5, name16, value15) {
    var tween0, tween1;
    if (typeof value15 !== "function") throw new Error();
    return function() {
      var schedule = set4(this, id5), tween = schedule.tween;
      if (tween !== tween0) {
        tween1 = (tween0 = tween).slice();
        for (var t = { name: name16, value: value15 }, i2 = 0, n = tween1.length; i2 < n; ++i2) {
          if (tween1[i2].name === name16) {
            tween1[i2] = t;
            break;
          }
        }
        if (i2 === n) tween1.push(t);
      }
      schedule.tween = tween1;
    };
  }
  function tween_default(name16, value15) {
    var id5 = this._id;
    name16 += "";
    if (arguments.length < 2) {
      var tween = get6(this.node(), id5).tween;
      for (var i2 = 0, n = tween.length, t; i2 < n; ++i2) {
        if ((t = tween[i2]).name === name16) {
          return t.value;
        }
      }
      return null;
    }
    return this.each((value15 == null ? tweenRemove : tweenFunction)(id5, name16, value15));
  }
  function tweenValue(transition2, name16, value15) {
    var id5 = transition2._id;
    transition2.each(function() {
      var schedule = set4(this, id5);
      (schedule.value || (schedule.value = {}))[name16] = value15.apply(this, arguments);
    });
    return function(node) {
      return get6(node, id5).value[name16];
    };
  }

  // node_modules/d3-transition/src/transition/interpolate.js
  function interpolate_default(a2, b10) {
    var c;
    return (typeof b10 === "number" ? number_default : b10 instanceof color ? rgb_default : (c = color(b10)) ? (b10 = c, rgb_default) : string_default)(a2, b10);
  }

  // node_modules/d3-transition/src/transition/attr.js
  function attrRemove2(name16) {
    return function() {
      this.removeAttribute(name16);
    };
  }
  function attrRemoveNS2(fullname) {
    return function() {
      this.removeAttributeNS(fullname.space, fullname.local);
    };
  }
  function attrConstant2(name16, interpolate, value1) {
    var string00, string1 = value1 + "", interpolate0;
    return function() {
      var string0 = this.getAttribute(name16);
      return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
    };
  }
  function attrConstantNS2(fullname, interpolate, value1) {
    var string00, string1 = value1 + "", interpolate0;
    return function() {
      var string0 = this.getAttributeNS(fullname.space, fullname.local);
      return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
    };
  }
  function attrFunction2(name16, interpolate, value15) {
    var string00, string10, interpolate0;
    return function() {
      var string0, value1 = value15(this), string1;
      if (value1 == null) return void this.removeAttribute(name16);
      string0 = this.getAttribute(name16);
      string1 = value1 + "";
      return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
    };
  }
  function attrFunctionNS2(fullname, interpolate, value15) {
    var string00, string10, interpolate0;
    return function() {
      var string0, value1 = value15(this), string1;
      if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);
      string0 = this.getAttributeNS(fullname.space, fullname.local);
      string1 = value1 + "";
      return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
    };
  }
  function attr_default2(name16, value15) {
    var fullname = namespace_default(name16), i2 = fullname === "transform" ? interpolateTransformSvg : interpolate_default;
    return this.attrTween(name16, typeof value15 === "function" ? (fullname.local ? attrFunctionNS2 : attrFunction2)(fullname, i2, tweenValue(this, "attr." + name16, value15)) : value15 == null ? (fullname.local ? attrRemoveNS2 : attrRemove2)(fullname) : (fullname.local ? attrConstantNS2 : attrConstant2)(fullname, i2, value15));
  }

  // node_modules/d3-transition/src/transition/attrTween.js
  function attrInterpolate(name16, i2) {
    return function(t) {
      this.setAttribute(name16, i2.call(this, t));
    };
  }
  function attrInterpolateNS(fullname, i2) {
    return function(t) {
      this.setAttributeNS(fullname.space, fullname.local, i2.call(this, t));
    };
  }
  function attrTweenNS(fullname, value15) {
    var t0, i0;
    function tween() {
      var i2 = value15.apply(this, arguments);
      if (i2 !== i0) t0 = (i0 = i2) && attrInterpolateNS(fullname, i2);
      return t0;
    }
    tween._value = value15;
    return tween;
  }
  function attrTween(name16, value15) {
    var t0, i0;
    function tween() {
      var i2 = value15.apply(this, arguments);
      if (i2 !== i0) t0 = (i0 = i2) && attrInterpolate(name16, i2);
      return t0;
    }
    tween._value = value15;
    return tween;
  }
  function attrTween_default(name16, value15) {
    var key = "attr." + name16;
    if (arguments.length < 2) return (key = this.tween(key)) && key._value;
    if (value15 == null) return this.tween(key, null);
    if (typeof value15 !== "function") throw new Error();
    var fullname = namespace_default(name16);
    return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value15));
  }

  // node_modules/d3-transition/src/transition/delay.js
  function delayFunction(id5, value15) {
    return function() {
      init2(this, id5).delay = +value15.apply(this, arguments);
    };
  }
  function delayConstant(id5, value15) {
    return value15 = +value15, function() {
      init2(this, id5).delay = value15;
    };
  }
  function delay_default(value15) {
    var id5 = this._id;
    return arguments.length ? this.each((typeof value15 === "function" ? delayFunction : delayConstant)(id5, value15)) : get6(this.node(), id5).delay;
  }

  // node_modules/d3-transition/src/transition/duration.js
  function durationFunction(id5, value15) {
    return function() {
      set4(this, id5).duration = +value15.apply(this, arguments);
    };
  }
  function durationConstant(id5, value15) {
    return value15 = +value15, function() {
      set4(this, id5).duration = value15;
    };
  }
  function duration_default(value15) {
    var id5 = this._id;
    return arguments.length ? this.each((typeof value15 === "function" ? durationFunction : durationConstant)(id5, value15)) : get6(this.node(), id5).duration;
  }

  // node_modules/d3-transition/src/transition/ease.js
  function easeConstant(id5, value15) {
    if (typeof value15 !== "function") throw new Error();
    return function() {
      set4(this, id5).ease = value15;
    };
  }
  function ease_default(value15) {
    var id5 = this._id;
    return arguments.length ? this.each(easeConstant(id5, value15)) : get6(this.node(), id5).ease;
  }

  // node_modules/d3-transition/src/transition/easeVarying.js
  function easeVarying(id5, value15) {
    return function() {
      var v = value15.apply(this, arguments);
      if (typeof v !== "function") throw new Error();
      set4(this, id5).ease = v;
    };
  }
  function easeVarying_default(value15) {
    if (typeof value15 !== "function") throw new Error();
    return this.each(easeVarying(this._id, value15));
  }

  // node_modules/d3-transition/src/transition/filter.js
  function filter_default2(match2) {
    if (typeof match2 !== "function") match2 = matcher_default(match2);
    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, subgroup = subgroups[j] = [], node, i2 = 0; i2 < n; ++i2) {
        if ((node = group4[i2]) && match2.call(node, node.__data__, i2, group4)) {
          subgroup.push(node);
        }
      }
    }
    return new Transition(subgroups, this._parents, this._name, this._id);
  }

  // node_modules/d3-transition/src/transition/merge.js
  function merge_default2(transition2) {
    if (transition2._id !== this._id) throw new Error();
    for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge3 = merges[j] = new Array(n), node, i2 = 0; i2 < n; ++i2) {
        if (node = group0[i2] || group1[i2]) {
          merge3[i2] = node;
        }
      }
    }
    for (; j < m0; ++j) {
      merges[j] = groups0[j];
    }
    return new Transition(merges, this._parents, this._name, this._id);
  }

  // node_modules/d3-transition/src/transition/on.js
  function start(name16) {
    return (name16 + "").trim().split(/^|\s+/).every(function(t) {
      var i2 = t.indexOf(".");
      if (i2 >= 0) t = t.slice(0, i2);
      return !t || t === "start";
    });
  }
  function onFunction(id5, name16, listener) {
    var on0, on1, sit = start(name16) ? init2 : set4;
    return function() {
      var schedule = sit(this, id5), on7 = schedule.on;
      if (on7 !== on0) (on1 = (on0 = on7).copy()).on(name16, listener);
      schedule.on = on1;
    };
  }
  function on_default2(name16, listener) {
    var id5 = this._id;
    return arguments.length < 2 ? get6(this.node(), id5).on.on(name16) : this.each(onFunction(id5, name16, listener));
  }

  // node_modules/d3-transition/src/transition/remove.js
  function removeFunction(id5) {
    return function() {
      var parent2 = this.parentNode;
      for (var i2 in this.__transition) if (+i2 !== id5) return;
      if (parent2) parent2.removeChild(this);
    };
  }
  function remove_default2() {
    return this.on("end.remove", removeFunction(this._id));
  }

  // node_modules/d3-transition/src/transition/select.js
  function select_default3(select12) {
    var name16 = this._name, id5 = this._id;
    if (typeof select12 !== "function") select12 = selector_default(select12);
    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, subgroup = subgroups[j] = new Array(n), node, subnode, i2 = 0; i2 < n; ++i2) {
        if ((node = group4[i2]) && (subnode = select12.call(node, node.__data__, i2, group4))) {
          if ("__data__" in node) subnode.__data__ = node.__data__;
          subgroup[i2] = subnode;
          schedule_default(subgroup[i2], name16, id5, i2, subgroup, get6(node, id5));
        }
      }
    }
    return new Transition(subgroups, this._parents, name16, id5);
  }

  // node_modules/d3-transition/src/transition/selectAll.js
  function selectAll_default2(select12) {
    var name16 = this._name, id5 = this._id;
    if (typeof select12 !== "function") select12 = selectorAll_default(select12);
    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, node, i2 = 0; i2 < n; ++i2) {
        if (node = group4[i2]) {
          for (var children3 = select12.call(node, node.__data__, i2, group4), child, inherit2 = get6(node, id5), k = 0, l = children3.length; k < l; ++k) {
            if (child = children3[k]) {
              schedule_default(child, name16, id5, k, children3, inherit2);
            }
          }
          subgroups.push(children3);
          parents.push(node);
        }
      }
    }
    return new Transition(subgroups, parents, name16, id5);
  }

  // node_modules/d3-transition/src/transition/selection.js
  var Selection2 = selection_default.prototype.constructor;
  function selection_default2() {
    return new Selection2(this._groups, this._parents);
  }

  // node_modules/d3-transition/src/transition/style.js
  function styleNull(name16, interpolate) {
    var string00, string10, interpolate0;
    return function() {
      var string0 = styleValue(this, name16), string1 = (this.style.removeProperty(name16), styleValue(this, name16));
      return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
    };
  }
  function styleRemove2(name16) {
    return function() {
      this.style.removeProperty(name16);
    };
  }
  function styleConstant2(name16, interpolate, value1) {
    var string00, string1 = value1 + "", interpolate0;
    return function() {
      var string0 = styleValue(this, name16);
      return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
    };
  }
  function styleFunction2(name16, interpolate, value15) {
    var string00, string10, interpolate0;
    return function() {
      var string0 = styleValue(this, name16), value1 = value15(this), string1 = value1 + "";
      if (value1 == null) string1 = value1 = (this.style.removeProperty(name16), styleValue(this, name16));
      return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
    };
  }
  function styleMaybeRemove(id5, name16) {
    var on0, on1, listener0, key = "style." + name16, event = "end." + key, remove5;
    return function() {
      var schedule = set4(this, id5), on7 = schedule.on, listener = schedule.value[key] == null ? remove5 || (remove5 = styleRemove2(name16)) : void 0;
      if (on7 !== on0 || listener0 !== listener) (on1 = (on0 = on7).copy()).on(event, listener0 = listener);
      schedule.on = on1;
    };
  }
  function style_default2(name16, value15, priority) {
    var i2 = (name16 += "") === "transform" ? interpolateTransformCss : interpolate_default;
    return value15 == null ? this.styleTween(name16, styleNull(name16, i2)).on("end.style." + name16, styleRemove2(name16)) : typeof value15 === "function" ? this.styleTween(name16, styleFunction2(name16, i2, tweenValue(this, "style." + name16, value15))).each(styleMaybeRemove(this._id, name16)) : this.styleTween(name16, styleConstant2(name16, i2, value15), priority).on("end.style." + name16, null);
  }

  // node_modules/d3-transition/src/transition/styleTween.js
  function styleInterpolate(name16, i2, priority) {
    return function(t) {
      this.style.setProperty(name16, i2.call(this, t), priority);
    };
  }
  function styleTween(name16, value15, priority) {
    var t, i0;
    function tween() {
      var i2 = value15.apply(this, arguments);
      if (i2 !== i0) t = (i0 = i2) && styleInterpolate(name16, i2, priority);
      return t;
    }
    tween._value = value15;
    return tween;
  }
  function styleTween_default(name16, value15, priority) {
    var key = "style." + (name16 += "");
    if (arguments.length < 2) return (key = this.tween(key)) && key._value;
    if (value15 == null) return this.tween(key, null);
    if (typeof value15 !== "function") throw new Error();
    return this.tween(key, styleTween(name16, value15, priority == null ? "" : priority));
  }

  // node_modules/d3-transition/src/transition/text.js
  function textConstant2(value15) {
    return function() {
      this.textContent = value15;
    };
  }
  function textFunction2(value15) {
    return function() {
      var value1 = value15(this);
      this.textContent = value1 == null ? "" : value1;
    };
  }
  function text_default2(value15) {
    return this.tween("text", typeof value15 === "function" ? textFunction2(tweenValue(this, "text", value15)) : textConstant2(value15 == null ? "" : value15 + ""));
  }

  // node_modules/d3-transition/src/transition/textTween.js
  function textInterpolate(i2) {
    return function(t) {
      this.textContent = i2.call(this, t);
    };
  }
  function textTween(value15) {
    var t0, i0;
    function tween() {
      var i2 = value15.apply(this, arguments);
      if (i2 !== i0) t0 = (i0 = i2) && textInterpolate(i2);
      return t0;
    }
    tween._value = value15;
    return tween;
  }
  function textTween_default(value15) {
    var key = "text";
    if (arguments.length < 1) return (key = this.tween(key)) && key._value;
    if (value15 == null) return this.tween(key, null);
    if (typeof value15 !== "function") throw new Error();
    return this.tween(key, textTween(value15));
  }

  // node_modules/d3-transition/src/transition/transition.js
  function transition_default() {
    var name16 = this._name, id0 = this._id, id1 = newId();
    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, node, i2 = 0; i2 < n; ++i2) {
        if (node = group4[i2]) {
          var inherit2 = get6(node, id0);
          schedule_default(node, name16, id1, i2, group4, {
            time: inherit2.time + inherit2.delay + inherit2.duration,
            delay: 0,
            duration: inherit2.duration,
            ease: inherit2.ease
          });
        }
      }
    }
    return new Transition(groups, this._parents, name16, id1);
  }

  // node_modules/d3-transition/src/transition/end.js
  function end_default() {
    var on0, on1, that = this, id5 = that._id, size5 = that.size();
    return new Promise(function(resolve, reject) {
      var cancel = { value: reject }, end2 = { value: function() {
        if (--size5 === 0) resolve();
      } };
      that.each(function() {
        var schedule = set4(this, id5), on7 = schedule.on;
        if (on7 !== on0) {
          on1 = (on0 = on7).copy();
          on1._.cancel.push(cancel);
          on1._.interrupt.push(cancel);
          on1._.end.push(end2);
        }
        schedule.on = on1;
      });
      if (size5 === 0) resolve();
    });
  }

  // node_modules/d3-transition/src/transition/index.js
  var id4 = 0;
  function Transition(groups, parents, name16, id5) {
    this._groups = groups;
    this._parents = parents;
    this._name = name16;
    this._id = id5;
  }
  function transition(name16) {
    return selection_default().transition(name16);
  }
  function newId() {
    return ++id4;
  }
  var selection_prototype = selection_default.prototype;
  Transition.prototype = transition.prototype = {
    constructor: Transition,
    select: select_default3,
    selectAll: selectAll_default2,
    selectChild: selection_prototype.selectChild,
    selectChildren: selection_prototype.selectChildren,
    filter: filter_default2,
    merge: merge_default2,
    selection: selection_default2,
    transition: transition_default,
    call: selection_prototype.call,
    nodes: selection_prototype.nodes,
    node: selection_prototype.node,
    size: selection_prototype.size,
    empty: selection_prototype.empty,
    each: selection_prototype.each,
    on: on_default2,
    attr: attr_default2,
    attrTween: attrTween_default,
    style: style_default2,
    styleTween: styleTween_default,
    text: text_default2,
    textTween: textTween_default,
    remove: remove_default2,
    tween: tween_default,
    delay: delay_default,
    duration: duration_default,
    ease: ease_default,
    easeVarying: easeVarying_default,
    end: end_default,
    [Symbol.iterator]: selection_prototype[Symbol.iterator]
  };

  // node_modules/d3-ease/src/linear.js
  var linear2 = (t) => +t;

  // node_modules/d3-ease/src/quad.js
  function quadIn(t) {
    return t * t;
  }
  function quadOut(t) {
    return t * (2 - t);
  }
  function quadInOut(t) {
    return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
  }

  // node_modules/d3-ease/src/cubic.js
  function cubicIn(t) {
    return t * t * t;
  }
  function cubicOut(t) {
    return --t * t * t + 1;
  }
  function cubicInOut(t) {
    return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
  }

  // node_modules/d3-ease/src/sin.js
  var pi2 = Math.PI;
  var halfPi = pi2 / 2;
  function sinIn(t) {
    return +t === 1 ? 1 : 1 - Math.cos(t * halfPi);
  }
  function sinOut(t) {
    return Math.sin(t * halfPi);
  }
  function sinInOut(t) {
    return (1 - Math.cos(pi2 * t)) / 2;
  }

  // node_modules/d3-ease/src/math.js
  function tpmt(x10) {
    return (Math.pow(2, -10 * x10) - 9765625e-10) * 1.0009775171065494;
  }

  // node_modules/d3-ease/src/exp.js
  function expIn(t) {
    return tpmt(1 - +t);
  }
  function expOut(t) {
    return 1 - tpmt(t);
  }
  function expInOut(t) {
    return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;
  }

  // node_modules/d3-ease/src/circle.js
  function circleIn(t) {
    return 1 - Math.sqrt(1 - t * t);
  }
  function circleOut(t) {
    return Math.sqrt(1 - --t * t);
  }
  function circleInOut(t) {
    return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
  }

  // node_modules/d3-ease/src/bounce.js
  var b1 = 4 / 11;
  var b2 = 6 / 11;
  var b3 = 8 / 11;
  var b4 = 3 / 4;
  var b5 = 9 / 11;
  var b6 = 10 / 11;
  var b7 = 15 / 16;
  var b8 = 21 / 22;
  var b9 = 63 / 64;
  var b0 = 1 / b1 / b1;
  function bounceIn(t) {
    return 1 - bounceOut(1 - t);
  }
  function bounceOut(t) {
    return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;
  }
  function bounceInOut(t) {
    return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;
  }

  // node_modules/d3-ease/src/back.js
  var overshoot = 1.70158;
  var backIn = (function custom(s) {
    s = +s;
    function backIn2(t) {
      return (t = +t) * t * (s * (t - 1) + t);
    }
    backIn2.overshoot = custom;
    return backIn2;
  })(overshoot);
  var backOut = (function custom2(s) {
    s = +s;
    function backOut2(t) {
      return --t * t * ((t + 1) * s + t) + 1;
    }
    backOut2.overshoot = custom2;
    return backOut2;
  })(overshoot);
  var backInOut = (function custom3(s) {
    s = +s;
    function backInOut2(t) {
      return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;
    }
    backInOut2.overshoot = custom3;
    return backInOut2;
  })(overshoot);

  // node_modules/d3-ease/src/elastic.js
  var tau = 2 * Math.PI;
  var amplitude = 1;
  var period = 0.3;
  var elasticIn = (function custom4(a2, p2) {
    var s = Math.asin(1 / (a2 = Math.max(1, a2))) * (p2 /= tau);
    function elasticIn2(t) {
      return a2 * tpmt(- --t) * Math.sin((s - t) / p2);
    }
    elasticIn2.amplitude = function(a3) {
      return custom4(a3, p2 * tau);
    };
    elasticIn2.period = function(p3) {
      return custom4(a2, p3);
    };
    return elasticIn2;
  })(amplitude, period);
  var elasticOut = (function custom5(a2, p2) {
    var s = Math.asin(1 / (a2 = Math.max(1, a2))) * (p2 /= tau);
    function elasticOut2(t) {
      return 1 - a2 * tpmt(t = +t) * Math.sin((t + s) / p2);
    }
    elasticOut2.amplitude = function(a3) {
      return custom5(a3, p2 * tau);
    };
    elasticOut2.period = function(p3) {
      return custom5(a2, p3);
    };
    return elasticOut2;
  })(amplitude, period);
  var elasticInOut = (function custom6(a2, p2) {
    var s = Math.asin(1 / (a2 = Math.max(1, a2))) * (p2 /= tau);
    function elasticInOut2(t) {
      return ((t = t * 2 - 1) < 0 ? a2 * tpmt(-t) * Math.sin((s - t) / p2) : 2 - a2 * tpmt(t) * Math.sin((s + t) / p2)) / 2;
    }
    elasticInOut2.amplitude = function(a3) {
      return custom6(a3, p2 * tau);
    };
    elasticInOut2.period = function(p3) {
      return custom6(a2, p3);
    };
    return elasticInOut2;
  })(amplitude, period);

  // node_modules/d3-transition/src/selection/transition.js
  var defaultTiming = {
    time: null,
    // Set on use.
    delay: 0,
    duration: 250,
    ease: cubicInOut
  };
  function inherit(node, id5) {
    var timing;
    while (!(timing = node.__transition) || !(timing = timing[id5])) {
      if (!(node = node.parentNode)) {
        throw new Error(`transition ${id5} not found`);
      }
    }
    return timing;
  }
  function transition_default2(name16) {
    var id5, timing;
    if (name16 instanceof Transition) {
      id5 = name16._id, name16 = name16._name;
    } else {
      id5 = newId(), (timing = defaultTiming).time = now(), name16 = name16 == null ? null : name16 + "";
    }
    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
      for (var group4 = groups[j], n = group4.length, node, i2 = 0; i2 < n; ++i2) {
        if (node = group4[i2]) {
          schedule_default(node, name16, id5, i2, group4, timing || inherit(node, id5));
        }
      }
    }
    return new Transition(groups, this._parents, name16, id5);
  }

  // node_modules/d3-transition/src/selection/index.js
  selection_default.prototype.interrupt = interrupt_default2;
  selection_default.prototype.transition = transition_default2;

  // node_modules/d3-brush/src/brush.js
  var { abs: abs3, max: max4, min: min4 } = Math;
  function number1(e) {
    return [+e[0], +e[1]];
  }
  function number2(e) {
    return [number1(e[0]), number1(e[1])];
  }
  var X = {
    name: "x",
    handles: ["w", "e"].map(type),
    input: function(x10, e) {
      return x10 == null ? null : [[+x10[0], e[0][1]], [+x10[1], e[1][1]]];
    },
    output: function(xy) {
      return xy && [xy[0][0], xy[1][0]];
    }
  };
  var Y = {
    name: "y",
    handles: ["n", "s"].map(type),
    input: function(y10, e) {
      return y10 == null ? null : [[e[0][0], +y10[0]], [e[1][0], +y10[1]]];
    },
    output: function(xy) {
      return xy && [xy[0][1], xy[1][1]];
    }
  };
  var XY = {
    name: "xy",
    handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(type),
    input: function(xy) {
      return xy == null ? null : number2(xy);
    },
    output: function(xy) {
      return xy;
    }
  };
  function type(t) {
    return { type: t };
  }

  // node_modules/d3-zoom/src/constant.js
  var constant_default5 = (x10) => () => x10;

  // node_modules/d3-zoom/src/event.js
  function ZoomEvent(type2, {
    sourceEvent,
    target: target6,
    transform: transform9,
    dispatch: dispatch2
  }) {
    Object.defineProperties(this, {
      type: { value: type2, enumerable: true, configurable: true },
      sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
      target: { value: target6, enumerable: true, configurable: true },
      transform: { value: transform9, enumerable: true, configurable: true },
      _: { value: dispatch2 }
    });
  }

  // node_modules/d3-zoom/src/transform.js
  function Transform(k, x10, y10) {
    this.k = k;
    this.x = x10;
    this.y = y10;
  }
  Transform.prototype = {
    constructor: Transform,
    scale: function(k) {
      return k === 1 ? this : new Transform(this.k * k, this.x, this.y);
    },
    translate: function(x10, y10) {
      return x10 === 0 & y10 === 0 ? this : new Transform(this.k, this.x + this.k * x10, this.y + this.k * y10);
    },
    apply: function(point) {
      return [point[0] * this.k + this.x, point[1] * this.k + this.y];
    },
    applyX: function(x10) {
      return x10 * this.k + this.x;
    },
    applyY: function(y10) {
      return y10 * this.k + this.y;
    },
    invert: function(location2) {
      return [(location2[0] - this.x) / this.k, (location2[1] - this.y) / this.k];
    },
    invertX: function(x10) {
      return (x10 - this.x) / this.k;
    },
    invertY: function(y10) {
      return (y10 - this.y) / this.k;
    },
    rescaleX: function(x10) {
      return x10.copy().domain(x10.range().map(this.invertX, this).map(x10.invert, x10));
    },
    rescaleY: function(y10) {
      return y10.copy().domain(y10.range().map(this.invertY, this).map(y10.invert, y10));
    },
    toString: function() {
      return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
    }
  };
  var identity13 = new Transform(1, 0, 0);
  transform.prototype = Transform.prototype;
  function transform(node) {
    while (!node.__zoom) if (!(node = node.parentNode)) return identity13;
    return node.__zoom;
  }

  // node_modules/d3-zoom/src/noevent.js
  function nopropagation3(event) {
    event.stopImmediatePropagation();
  }
  function noevent_default3(event) {
    event.preventDefault();
    event.stopImmediatePropagation();
  }

  // node_modules/d3-zoom/src/zoom.js
  function defaultFilter2(event) {
    return (!event.ctrlKey || event.type === "wheel") && !event.button;
  }
  function defaultExtent() {
    var e = this;
    if (e instanceof SVGElement) {
      e = e.ownerSVGElement || e;
      if (e.hasAttribute("viewBox")) {
        e = e.viewBox.baseVal;
        return [[e.x, e.y], [e.x + e.width, e.y + e.height]];
      }
      return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];
    }
    return [[0, 0], [e.clientWidth, e.clientHeight]];
  }
  function defaultTransform() {
    return this.__zoom || identity13;
  }
  function defaultWheelDelta(event) {
    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);
  }
  function defaultTouchable2() {
    return navigator.maxTouchPoints || "ontouchstart" in this;
  }
  function defaultConstrain(transform9, extent, translateExtent) {
    var dx0 = transform9.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform9.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform9.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform9.invertY(extent[1][1]) - translateExtent[1][1];
    return transform9.translate(
      dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
      dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
    );
  }
  function zoom_default2() {
    var filter5 = defaultFilter2, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable2, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration2 = 250, interpolate = zoom_default, listeners = dispatch_default("start", "zoom", "end"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;
    function zoom(selection2) {
      selection2.property("__zoom", defaultTransform).on("wheel.zoom", wheeled, { passive: false }).on("mousedown.zoom", mousedowned).on("dblclick.zoom", dblclicked).filter(touchable).on("touchstart.zoom", touchstarted).on("touchmove.zoom", touchmoved).on("touchend.zoom touchcancel.zoom", touchended).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
    }
    zoom.transform = function(collection, transform9, point, event) {
      var selection2 = collection.selection ? collection.selection() : collection;
      selection2.property("__zoom", defaultTransform);
      if (collection !== selection2) {
        schedule(collection, transform9, point, event);
      } else {
        selection2.interrupt().each(function() {
          gesture(this, arguments).event(event).start().zoom(null, typeof transform9 === "function" ? transform9.apply(this, arguments) : transform9).end();
        });
      }
    };
    zoom.scaleBy = function(selection2, k, p2, event) {
      zoom.scaleTo(selection2, function() {
        var k0 = this.__zoom.k, k1 = typeof k === "function" ? k.apply(this, arguments) : k;
        return k0 * k1;
      }, p2, event);
    };
    zoom.scaleTo = function(selection2, k, p2, event) {
      zoom.transform(selection2, function() {
        var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p2 == null ? centroid(e) : typeof p2 === "function" ? p2.apply(this, arguments) : p2, p1 = t0.invert(p0), k1 = typeof k === "function" ? k.apply(this, arguments) : k;
        return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);
      }, p2, event);
    };
    zoom.translateBy = function(selection2, x10, y10, event) {
      zoom.transform(selection2, function() {
        return constrain(this.__zoom.translate(
          typeof x10 === "function" ? x10.apply(this, arguments) : x10,
          typeof y10 === "function" ? y10.apply(this, arguments) : y10
        ), extent.apply(this, arguments), translateExtent);
      }, null, event);
    };
    zoom.translateTo = function(selection2, x10, y10, p2, event) {
      zoom.transform(selection2, function() {
        var e = extent.apply(this, arguments), t = this.__zoom, p0 = p2 == null ? centroid(e) : typeof p2 === "function" ? p2.apply(this, arguments) : p2;
        return constrain(identity13.translate(p0[0], p0[1]).scale(t.k).translate(
          typeof x10 === "function" ? -x10.apply(this, arguments) : -x10,
          typeof y10 === "function" ? -y10.apply(this, arguments) : -y10
        ), e, translateExtent);
      }, p2, event);
    };
    function scale(transform9, k) {
      k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));
      return k === transform9.k ? transform9 : new Transform(k, transform9.x, transform9.y);
    }
    function translate(transform9, p0, p1) {
      var x10 = p0[0] - p1[0] * transform9.k, y10 = p0[1] - p1[1] * transform9.k;
      return x10 === transform9.x && y10 === transform9.y ? transform9 : new Transform(transform9.k, x10, y10);
    }
    function centroid(extent2) {
      return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];
    }
    function schedule(transition2, transform9, point, event) {
      transition2.on("start.zoom", function() {
        gesture(this, arguments).event(event).start();
      }).on("interrupt.zoom end.zoom", function() {
        gesture(this, arguments).event(event).end();
      }).tween("zoom", function() {
        var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p2 = point == null ? centroid(e) : typeof point === "function" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a2 = that.__zoom, b10 = typeof transform9 === "function" ? transform9.apply(that, args) : transform9, i2 = interpolate(a2.invert(p2).concat(w / a2.k), b10.invert(p2).concat(w / b10.k));
        return function(t) {
          if (t === 1) t = b10;
          else {
            var l = i2(t), k = w / l[2];
            t = new Transform(k, p2[0] - l[0] * k, p2[1] - l[1] * k);
          }
          g.zoom(null, t);
        };
      });
    }
    function gesture(that, args, clean) {
      return !clean && that.__zooming || new Gesture(that, args);
    }
    function Gesture(that, args) {
      this.that = that;
      this.args = args;
      this.active = 0;
      this.sourceEvent = null;
      this.extent = extent.apply(that, args);
      this.taps = 0;
    }
    Gesture.prototype = {
      event: function(event) {
        if (event) this.sourceEvent = event;
        return this;
      },
      start: function() {
        if (++this.active === 1) {
          this.that.__zooming = this;
          this.emit("start");
        }
        return this;
      },
      zoom: function(key, transform9) {
        if (this.mouse && key !== "mouse") this.mouse[1] = transform9.invert(this.mouse[0]);
        if (this.touch0 && key !== "touch") this.touch0[1] = transform9.invert(this.touch0[0]);
        if (this.touch1 && key !== "touch") this.touch1[1] = transform9.invert(this.touch1[0]);
        this.that.__zoom = transform9;
        this.emit("zoom");
        return this;
      },
      end: function() {
        if (--this.active === 0) {
          delete this.that.__zooming;
          this.emit("end");
        }
        return this;
      },
      emit: function(type2) {
        var d8 = select_default2(this.that).datum();
        listeners.call(
          type2,
          this.that,
          new ZoomEvent(type2, {
            sourceEvent: this.sourceEvent,
            target: zoom,
            type: type2,
            transform: this.that.__zoom,
            dispatch: listeners
          }),
          d8
        );
      }
    };
    function wheeled(event, ...args) {
      if (!filter5.apply(this, arguments)) return;
      var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p2 = pointer_default(event);
      if (g.wheel) {
        if (g.mouse[0][0] !== p2[0] || g.mouse[0][1] !== p2[1]) {
          g.mouse[1] = t.invert(g.mouse[0] = p2);
        }
        clearTimeout(g.wheel);
      } else if (t.k === k) return;
      else {
        g.mouse = [p2, t.invert(p2)];
        interrupt_default(this);
        g.start();
      }
      noevent_default3(event);
      g.wheel = setTimeout(wheelidled, wheelDelay);
      g.zoom("mouse", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));
      function wheelidled() {
        g.wheel = null;
        g.end();
      }
    }
    function mousedowned(event, ...args) {
      if (touchending || !filter5.apply(this, arguments)) return;
      var currentTarget2 = event.currentTarget, g = gesture(this, args, true).event(event), v = select_default2(event.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true), p2 = pointer_default(event, currentTarget2), x0 = event.clientX, y0 = event.clientY;
      nodrag_default(event.view);
      nopropagation3(event);
      g.mouse = [p2, this.__zoom.invert(p2)];
      interrupt_default(this);
      g.start();
      function mousemoved(event2) {
        noevent_default3(event2);
        if (!g.moved) {
          var dx = event2.clientX - x0, dy3 = event2.clientY - y0;
          g.moved = dx * dx + dy3 * dy3 > clickDistance2;
        }
        g.event(event2).zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = pointer_default(event2, currentTarget2), g.mouse[1]), g.extent, translateExtent));
      }
      function mouseupped(event2) {
        v.on("mousemove.zoom mouseup.zoom", null);
        yesdrag(event2.view, g.moved);
        noevent_default3(event2);
        g.event(event2).end();
      }
    }
    function dblclicked(event, ...args) {
      if (!filter5.apply(this, arguments)) return;
      var t0 = this.__zoom, p0 = pointer_default(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);
      noevent_default3(event);
      if (duration2 > 0) select_default2(this).transition().duration(duration2).call(schedule, t1, p0, event);
      else select_default2(this).call(zoom.transform, t1, p0, event);
    }
    function touchstarted(event, ...args) {
      if (!filter5.apply(this, arguments)) return;
      var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i2, t, p2;
      nopropagation3(event);
      for (i2 = 0; i2 < n; ++i2) {
        t = touches[i2], p2 = pointer_default(t, this);
        p2 = [p2, this.__zoom.invert(p2), t.identifier];
        if (!g.touch0) g.touch0 = p2, started = true, g.taps = 1 + !!touchstarting;
        else if (!g.touch1 && g.touch0[2] !== p2[2]) g.touch1 = p2, g.taps = 0;
      }
      if (touchstarting) touchstarting = clearTimeout(touchstarting);
      if (started) {
        if (g.taps < 2) touchfirst = p2[0], touchstarting = setTimeout(function() {
          touchstarting = null;
        }, touchDelay);
        interrupt_default(this);
        g.start();
      }
    }
    function touchmoved(event, ...args) {
      if (!this.__zooming) return;
      var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i2, t, p2, l;
      noevent_default3(event);
      for (i2 = 0; i2 < n; ++i2) {
        t = touches[i2], p2 = pointer_default(t, this);
        if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p2;
        else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p2;
      }
      t = g.that.__zoom;
      if (g.touch1) {
        var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl2 = (dl2 = l1[0] - l0[0]) * dl2 + (dl2 = l1[1] - l0[1]) * dl2;
        t = scale(t, Math.sqrt(dp / dl2));
        p2 = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];
        l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
      } else if (g.touch0) p2 = g.touch0[0], l = g.touch0[1];
      else return;
      g.zoom("touch", constrain(translate(t, p2, l), g.extent, translateExtent));
    }
    function touchended(event, ...args) {
      if (!this.__zooming) return;
      var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i2, t;
      nopropagation3(event);
      if (touchending) clearTimeout(touchending);
      touchending = setTimeout(function() {
        touchending = null;
      }, touchDelay);
      for (i2 = 0; i2 < n; ++i2) {
        t = touches[i2];
        if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;
        else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;
      }
      if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;
      if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);
      else {
        g.end();
        if (g.taps === 2) {
          t = pointer_default(t, this);
          if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {
            var p2 = select_default2(this).on("dblclick.zoom");
            if (p2) p2.apply(this, arguments);
          }
        }
      }
    }
    zoom.wheelDelta = function(_) {
      return arguments.length ? (wheelDelta = typeof _ === "function" ? _ : constant_default5(+_), zoom) : wheelDelta;
    };
    zoom.filter = function(_) {
      return arguments.length ? (filter5 = typeof _ === "function" ? _ : constant_default5(!!_), zoom) : filter5;
    };
    zoom.touchable = function(_) {
      return arguments.length ? (touchable = typeof _ === "function" ? _ : constant_default5(!!_), zoom) : touchable;
    };
    zoom.extent = function(_) {
      return arguments.length ? (extent = typeof _ === "function" ? _ : constant_default5([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;
    };
    zoom.scaleExtent = function(_) {
      return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];
    };
    zoom.translateExtent = function(_) {
      return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];
    };
    zoom.constrain = function(_) {
      return arguments.length ? (constrain = _, zoom) : constrain;
    };
    zoom.duration = function(_) {
      return arguments.length ? (duration2 = +_, zoom) : duration2;
    };
    zoom.interpolate = function(_) {
      return arguments.length ? (interpolate = _, zoom) : interpolate;
    };
    zoom.on = function() {
      var value15 = listeners.on.apply(listeners, arguments);
      return value15 === listeners ? zoom : value15;
    };
    zoom.clickDistance = function(_) {
      return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);
    };
    zoom.tapDistance = function(_) {
      return arguments.length ? (tapDistance = +_, zoom) : tapDistance;
    };
    return zoom;
  }

  // node_modules/d3-sankey/node_modules/d3-path/src/path.js
  var pi3 = Math.PI;
  var tau2 = 2 * pi3;
  var epsilon = 1e-6;
  var tauEpsilon = tau2 - epsilon;
  function Path2() {
    this._x0 = this._y0 = // start of current subpath
    this._x1 = this._y1 = null;
    this._ = "";
  }
  function path() {
    return new Path2();
  }
  Path2.prototype = path.prototype = {
    constructor: Path2,
    moveTo: function(x10, y10) {
      this._ += "M" + (this._x0 = this._x1 = +x10) + "," + (this._y0 = this._y1 = +y10);
    },
    closePath: function() {
      if (this._x1 !== null) {
        this._x1 = this._x0, this._y1 = this._y0;
        this._ += "Z";
      }
    },
    lineTo: function(x10, y10) {
      this._ += "L" + (this._x1 = +x10) + "," + (this._y1 = +y10);
    },
    quadraticCurveTo: function(x16, y16, x10, y10) {
      this._ += "Q" + +x16 + "," + +y16 + "," + (this._x1 = +x10) + "," + (this._y1 = +y10);
    },
    bezierCurveTo: function(x16, y16, x27, y27, x10, y10) {
      this._ += "C" + +x16 + "," + +y16 + "," + +x27 + "," + +y27 + "," + (this._x1 = +x10) + "," + (this._y1 = +y10);
    },
    arcTo: function(x16, y16, x27, y27, r) {
      x16 = +x16, y16 = +y16, x27 = +x27, y27 = +y27, r = +r;
      var x0 = this._x1, y0 = this._y1, x21 = x27 - x16, y21 = y27 - y16, x01 = x0 - x16, y01 = y0 - y16, l01_2 = x01 * x01 + y01 * y01;
      if (r < 0) throw new Error("negative radius: " + r);
      if (this._x1 === null) {
        this._ += "M" + (this._x1 = x16) + "," + (this._y1 = y16);
      } else if (!(l01_2 > epsilon)) ;
      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {
        this._ += "L" + (this._x1 = x16) + "," + (this._y1 = y16);
      } else {
        var x20 = x27 - x0, y20 = y27 - y0, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi3 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
        if (Math.abs(t01 - 1) > epsilon) {
          this._ += "L" + (x16 + t01 * x01) + "," + (y16 + t01 * y01);
        }
        this._ += "A" + r + "," + r + ",0,0," + +(y01 * x20 > x01 * y20) + "," + (this._x1 = x16 + t21 * x21) + "," + (this._y1 = y16 + t21 * y21);
      }
    },
    arc: function(x10, y10, r, a0, a1, ccw) {
      x10 = +x10, y10 = +y10, r = +r, ccw = !!ccw;
      var dx = r * Math.cos(a0), dy3 = r * Math.sin(a0), x0 = x10 + dx, y0 = y10 + dy3, cw = 1 ^ ccw, da = ccw ? a0 - a1 : a1 - a0;
      if (r < 0) throw new Error("negative radius: " + r);
      if (this._x1 === null) {
        this._ += "M" + x0 + "," + y0;
      } else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {
        this._ += "L" + x0 + "," + y0;
      }
      if (!r) return;
      if (da < 0) da = da % tau2 + tau2;
      if (da > tauEpsilon) {
        this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x10 - dx) + "," + (y10 - dy3) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x0) + "," + (this._y1 = y0);
      } else if (da > epsilon) {
        this._ += "A" + r + "," + r + ",0," + +(da >= pi3) + "," + cw + "," + (this._x1 = x10 + r * Math.cos(a1)) + "," + (this._y1 = y10 + r * Math.sin(a1));
      }
    },
    rect: function(x10, y10, w, h) {
      this._ += "M" + (this._x0 = this._x1 = +x10) + "," + (this._y0 = this._y1 = +y10) + "h" + +w + "v" + +h + "h" + -w + "Z";
    },
    toString: function() {
      return this._;
    }
  };
  var path_default = path;

  // node_modules/d3-sankey/node_modules/d3-shape/src/constant.js
  function constant_default6(x10) {
    return function constant2() {
      return x10;
    };
  }

  // node_modules/d3-sankey/node_modules/d3-shape/src/point.js
  function x(p2) {
    return p2[0];
  }
  function y(p2) {
    return p2[1];
  }

  // node_modules/d3-sankey/node_modules/d3-shape/src/array.js
  var slice3 = Array.prototype.slice;

  // node_modules/d3-sankey/node_modules/d3-shape/src/link/index.js
  function linkSource(d8) {
    return d8.source;
  }
  function linkTarget(d8) {
    return d8.target;
  }
  function link2(curve) {
    var source2 = linkSource, target6 = linkTarget, x10 = x, y10 = y, context = null;
    function link4() {
      var buffer, argv = slice3.call(arguments), s = source2.apply(this, argv), t = target6.apply(this, argv);
      if (!context) context = buffer = path_default();
      curve(context, +x10.apply(this, (argv[0] = s, argv)), +y10.apply(this, argv), +x10.apply(this, (argv[0] = t, argv)), +y10.apply(this, argv));
      if (buffer) return context = null, buffer + "" || null;
    }
    link4.source = function(_) {
      return arguments.length ? (source2 = _, link4) : source2;
    };
    link4.target = function(_) {
      return arguments.length ? (target6 = _, link4) : target6;
    };
    link4.x = function(_) {
      return arguments.length ? (x10 = typeof _ === "function" ? _ : constant_default6(+_), link4) : x10;
    };
    link4.y = function(_) {
      return arguments.length ? (y10 = typeof _ === "function" ? _ : constant_default6(+_), link4) : y10;
    };
    link4.context = function(_) {
      return arguments.length ? (context = _ == null ? null : _, link4) : context;
    };
    return link4;
  }
  function curveHorizontal(context, x0, y0, x16, y16) {
    context.moveTo(x0, y0);
    context.bezierCurveTo(x0 = (x0 + x16) / 2, y0, x0, y16, x16, y16);
  }
  function linkHorizontal() {
    return link2(curveHorizontal);
  }

  // node_modules/d3-sankey/src/sankeyLinkHorizontal.js
  function horizontalSource(d8) {
    return [d8.source.x1, d8.y0];
  }
  function horizontalTarget(d8) {
    return [d8.target.x0, d8.y1];
  }
  function sankeyLinkHorizontal_default() {
    return linkHorizontal().source(horizontalSource).target(horizontalTarget);
  }

  // output/PSD3.Internal.Sankey.Functions/foreign.js
  var sankeyLinkPath_ = sankeyLinkHorizontal_default();

  // output/Debug/foreign.js
  var req = typeof module === "undefined" ? void 0 : module.require;
  var util = (function() {
    try {
      return req === void 0 ? void 0 : req("util");
    } catch (e) {
      return void 0;
    }
  })();
  function _trace(x10, k) {
    if (util !== void 0) {
      console.log(util.inspect(x10, { depth: null, colors: true }));
    } else {
      console.log(x10);
    }
    return k({});
  }
  function _spy(tag, x10) {
    if (util !== void 0) {
      console.log(tag + ":", util.inspect(x10, { depth: null, colors: true }));
    } else {
      console.log(tag + ":", x10);
    }
    return x10;
  }
  var now2 = (function() {
    var perf;
    if (typeof performance !== "undefined") {
      perf = performance;
    } else if (req) {
      try {
        perf = req("perf_hooks").performance;
      } catch (e) {
      }
    }
    return (function() {
      return (perf || Date).now();
    });
  })();

  // output/Debug/index.js
  var trace = function() {
    return function(a2) {
      return function(k) {
        return _trace(a2, k);
      };
    };
  };
  var spy = function() {
    return function(tag) {
      return function(a2) {
        return _spy(tag, a2);
      };
    };
  };

  // output/PSD3.Internal.Selection.Functions/index.js
  var spy2 = /* @__PURE__ */ spy();
  var show6 = /* @__PURE__ */ show(showElement);
  var foldl7 = /* @__PURE__ */ foldl(foldableArray);
  var discard3 = /* @__PURE__ */ discard(discardUnit);
  var selectionUpdateJoin = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(openSelection2) {
      return function(e) {
        return function(theData) {
          return function(keyFn) {
            var updateSelection = d3DataWithKeyFunction_(theData)(keyFn)(openSelection2);
            var exitSelection = d3GetExitSelection_(updateSelection);
            var enterSelection = d3GetEnterSelection_(updateSelection);
            return pure36({
              enter: enterSelection,
              exit: exitSelection,
              update: updateSelection
            });
          };
        };
      };
    };
  };
  var selectionSelectUnder = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selection2) {
      return function(selector) {
        return pure36(d3SelectionSelectAll_(selector)(selection2));
      };
    };
  };
  var selectionOpenSelection = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selection2) {
      return function(selector) {
        return pure36(d3SelectionSelectAll_(selector)(selection2));
      };
    };
  };
  var selectionOn = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(v) {
      return function(v1) {
        if (v1 instanceof Drag) {
          return pure36(unit);
        }
        ;
        if (v1 instanceof Zoom) {
          var v2 = (function() {
            if (v1.value0.extent instanceof DefaultZoomExtent) {
              return d3AttachZoomDefaultExtent_(v)({
                scaleExtent: [v1.value0.scale.value0, v1.value0.scale.value1],
                name: v1.value0.name,
                target: v1.value0.target
              });
            }
            ;
            if (v1.value0.extent instanceof ZoomExtent) {
              return d3AttachZoom_(v)({
                extent: [[v1.value0.extent.value0.left, v1.value0.extent.value0.top], [v1.value0.extent.value0.right, v1.value0.extent.value0.bottom]],
                scaleExtent: [v1.value0.scale.value0, v1.value0.scale.value1],
                name: v1.value0.name,
                target: v1.value0.target
              });
            }
            ;
            throw new Error("Failed pattern match at PSD3.Internal.Selection.Functions (line 98, column 9 - line 112, column 14): " + [v1.value0.extent.constructor.name]);
          })();
          return pure36(unit);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Internal.Selection.Functions (line 80, column 1 - line 80, column 112): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var selectionNestedJoin = function(dictFoldable) {
    var fromFoldable21 = fromFoldable(dictFoldable);
    return function(dictSelectionM) {
      var pure36 = pure(dictSelectionM.Monad0().Applicative0());
      return function(selection2) {
        return function(e) {
          return function(extractChildren) {
            return function(keyFn) {
              var extractFn = function($67) {
                return fromFoldable21(extractChildren($67));
              };
              var element3 = spy2("NestedJoin: ")(show6(e));
              var selectS = d3SelectionSelectAll_(element3)(selection2);
              var dataSelection = d3DataWithFunction_(extractFn)(keyFn)(selectS);
              var enterSelection = d3EnterAndAppend_(element3)(dataSelection);
              return pure36(enterSelection);
            };
          };
        };
      };
    };
  };
  var selectionModifySelection = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selection_) {
      return function(attributes) {
        var v = foldl7(applySelectionAttributeD3)(selection_)(attributes);
        return pure36(unit);
      };
    };
  };
  var selectionMergeSelections = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selectionA) {
      return function(selectionB) {
        return pure36(d3MergeSelectionWith_(selectionA)(selectionB));
      };
    };
  };
  var selectionJoin = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selection2) {
      return function(e) {
        return function(theData) {
          return function(keyFn) {
            var element3 = spy2("Join: ")(show6(e));
            var selectS = d3SelectionSelectAll_(element3)(selection2);
            var dataSelection = d3DataWithKeyFunction_(theData)(keyFn)(selectS);
            var enterSelection = d3EnterAndAppend_(element3)(dataSelection);
            return pure36(enterSelection);
          };
        };
      };
    };
  };
  var selectionFilterSelection = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selection_) {
      return function(selector) {
        return pure36(d3FilterSelection_(selection_)(selector));
      };
    };
  };
  var selectionAttach = function(dictSelectionM) {
    var pure36 = pure(dictSelectionM.Monad0().Applicative0());
    return function(selector) {
      return pure36(d3SelectAllInDOM_(selector));
    };
  };
  var selectionAppendElement = function(dictSelectionM) {
    var Monad0 = dictSelectionM.Monad0();
    var discard111 = discard3(Monad0.Bind1());
    var selectionModifySelection1 = selectionModifySelection(dictSelectionM);
    var pure36 = pure(Monad0.Applicative0());
    return function(selection_) {
      return function(element3) {
        return function(attributes) {
          var appended_ = d3Append_(show6(element3))(selection_);
          return discard111(selectionModifySelection1(appended_)(attributes))(function() {
            return pure36(appended_);
          });
        };
      };
    };
  };

  // output/Data.Set/index.js
  var coerce5 = /* @__PURE__ */ coerce();
  var foldMap3 = /* @__PURE__ */ foldMap(foldableList);
  var foldl9 = /* @__PURE__ */ foldl(foldableList);
  var foldr5 = /* @__PURE__ */ foldr(foldableList);
  var $$Set = function(x10) {
    return x10;
  };
  var toList2 = function(v) {
    return keys2(v);
  };
  var toUnfoldable4 = function(dictUnfoldable) {
    var $96 = toUnfoldable2(dictUnfoldable);
    return function($97) {
      return $96(toList2($97));
    };
  };
  var toUnfoldable1 = /* @__PURE__ */ toUnfoldable4(unfoldableArray);
  var showSet = function(dictShow) {
    var show34 = show(showArray(dictShow));
    return {
      show: function(s) {
        return "(fromFoldable " + (show34(toUnfoldable1(s)) + ")");
      }
    };
  };
  var member2 = function(dictOrd) {
    return coerce5(member(dictOrd));
  };
  var intersection2 = function(dictOrd) {
    return coerce5(intersection(dictOrd));
  };
  var insert4 = function(dictOrd) {
    var insert13 = insert(dictOrd);
    return function(a2) {
      return function(v) {
        return insert13(a2)(unit)(v);
      };
    };
  };
  var fromMap = $$Set;
  var foldableSet = {
    foldMap: function(dictMonoid) {
      var foldMap12 = foldMap3(dictMonoid);
      return function(f) {
        var $98 = foldMap12(f);
        return function($99) {
          return $98(toList2($99));
        };
      };
    },
    foldl: function(f) {
      return function(x10) {
        var $100 = foldl9(f)(x10);
        return function($101) {
          return $100(toList2($101));
        };
      };
    },
    foldr: function(f) {
      return function(x10) {
        var $102 = foldr5(f)(x10);
        return function($103) {
          return $102(toList2($103));
        };
      };
    }
  };
  var empty8 = empty3;
  var fromFoldable7 = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(dictOrd) {
      var insert13 = insert4(dictOrd);
      return foldl22(function(m) {
        return function(a2) {
          return insert13(a2)(m);
        };
      })(empty8);
    };
  };
  var difference2 = function(dictOrd) {
    return coerce5(difference(dictOrd));
  };

  // output/Data.Map/index.js
  var keys3 = /* @__PURE__ */ (function() {
    var $38 = $$void(functorMap);
    return function($39) {
      return fromMap($38($39));
    };
  })();

  // output/PSD3.Internal.Simulation.Types/index.js
  var trace2 = /* @__PURE__ */ trace();
  var _Newtype2 = /* @__PURE__ */ _Newtype()();
  var prop4 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "velocityDecay";
    }
  })()();
  var prop32 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "status";
    }
  })()();
  var prop42 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "name";
    }
  })()();
  var prop11 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "simulation";
    }
  })()();
  var prop12 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "forceLibrary";
    }
  })()();
  var prop13 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "handle_";
    }
  })()();
  var prop15 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "alphaTarget";
    }
  })()();
  var prop16 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "alphaMin";
    }
  })()();
  var prop17 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "alphaDecay";
    }
  })()();
  var prop18 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "alpha";
    }
  })()();
  var Alpha = /* @__PURE__ */ (function() {
    function Alpha2(value0) {
      this.value0 = value0;
    }
    ;
    Alpha2.create = function(value0) {
      return new Alpha2(value0);
    };
    return Alpha2;
  })();
  var AlphaTarget = /* @__PURE__ */ (function() {
    function AlphaTarget2(value0) {
      this.value0 = value0;
    }
    ;
    AlphaTarget2.create = function(value0) {
      return new AlphaTarget2(value0);
    };
    return AlphaTarget2;
  })();
  var AlphaMin = /* @__PURE__ */ (function() {
    function AlphaMin2(value0) {
      this.value0 = value0;
    }
    ;
    AlphaMin2.create = function(value0) {
      return new AlphaMin2(value0);
    };
    return AlphaMin2;
  })();
  var AlphaDecay = /* @__PURE__ */ (function() {
    function AlphaDecay2(value0) {
      this.value0 = value0;
    }
    ;
    AlphaDecay2.create = function(value0) {
      return new AlphaDecay2(value0);
    };
    return AlphaDecay2;
  })();
  var VelocityDecay = /* @__PURE__ */ (function() {
    function VelocityDecay2(value0) {
      this.value0 = value0;
    }
    ;
    VelocityDecay2.create = function(value0) {
      return new VelocityDecay2(value0);
    };
    return VelocityDecay2;
  })();
  var ForceManyBody = /* @__PURE__ */ (function() {
    function ForceManyBody2() {
    }
    ;
    ForceManyBody2.value = new ForceManyBody2();
    return ForceManyBody2;
  })();
  var ForceCenter = /* @__PURE__ */ (function() {
    function ForceCenter2() {
    }
    ;
    ForceCenter2.value = new ForceCenter2();
    return ForceCenter2;
  })();
  var ForceCollide = /* @__PURE__ */ (function() {
    function ForceCollide2() {
    }
    ;
    ForceCollide2.value = new ForceCollide2();
    return ForceCollide2;
  })();
  var ForceX = /* @__PURE__ */ (function() {
    function ForceX2() {
    }
    ;
    ForceX2.value = new ForceX2();
    return ForceX2;
  })();
  var ForceY = /* @__PURE__ */ (function() {
    function ForceY2() {
    }
    ;
    ForceY2.value = new ForceY2();
    return ForceY2;
  })();
  var ForceRadial = /* @__PURE__ */ (function() {
    function ForceRadial2() {
    }
    ;
    ForceRadial2.value = new ForceRadial2();
    return ForceRadial2;
  })();
  var RegularForce = /* @__PURE__ */ (function() {
    function RegularForce2(value0) {
      this.value0 = value0;
    }
    ;
    RegularForce2.create = function(value0) {
      return new RegularForce2(value0);
    };
    return RegularForce2;
  })();
  var LinkForce = /* @__PURE__ */ (function() {
    function LinkForce2() {
    }
    ;
    LinkForce2.value = new LinkForce2();
    return LinkForce2;
  })();
  var ForceActive = /* @__PURE__ */ (function() {
    function ForceActive2() {
    }
    ;
    ForceActive2.value = new ForceActive2();
    return ForceActive2;
  })();
  var ForceDisabled = /* @__PURE__ */ (function() {
    function ForceDisabled2() {
    }
    ;
    ForceDisabled2.value = new ForceDisabled2();
    return ForceDisabled2;
  })();
  var defaultConfigSimulation = {
    alpha: 1,
    alphaTarget: 0,
    alphaMin: 1e-3,
    alphaDecay: 0.0228,
    velocityDecay: 0.4
  };
  var initialSimulationState = function(forces3) {
    var v = trace2({
      simulation: "initialized",
      forceLibrary: forces3
    })(function(v1) {
      return unit;
    });
    return {
      handle_: initSimulation_(defaultConfigSimulation)(keyIsID_),
      data: {
        nodes: [],
        links: []
      },
      key: keyIsID_,
      forceLibrary: forces3,
      ticks: empty3,
      alpha: defaultConfigSimulation.alpha,
      alphaTarget: defaultConfigSimulation.alphaTarget,
      alphaMin: defaultConfigSimulation.alphaMin,
      alphaDecay: defaultConfigSimulation.alphaDecay,
      velocityDecay: defaultConfigSimulation.velocityDecay
    };
  };
  var allNodes = /* @__PURE__ */ (function() {
    return Nothing.value;
  })();
  var _velocityDecay = function(dictStrong) {
    var $225 = _Newtype2(dictStrong.Profunctor0());
    var $226 = prop4($$Proxy.value)(dictStrong);
    return function($227) {
      return $225($226($227));
    };
  };
  var _status = function(dictStrong) {
    var $238 = _Newtype2(dictStrong.Profunctor0());
    var $239 = prop32($$Proxy.value)(dictStrong);
    return function($240) {
      return $238($239($240));
    };
  };
  var _name = function(dictStrong) {
    var $241 = _Newtype2(dictStrong.Profunctor0());
    var $242 = prop42($$Proxy.value)(dictStrong);
    return function($243) {
      return $241($242($243));
    };
  };
  var _d3Simulation = function(dictStrong) {
    return prop11($$Proxy.value)(dictStrong);
  };
  var _forceLibrary = function(dictStrong) {
    var $265 = _d3Simulation(dictStrong);
    var $266 = _Newtype2(dictStrong.Profunctor0());
    var $267 = prop12($$Proxy.value)(dictStrong);
    return function($268) {
      return $265($266($267($268)));
    };
  };
  var _handle = function(dictStrong) {
    var $272 = _d3Simulation(dictStrong);
    var $273 = _Newtype2(dictStrong.Profunctor0());
    var $274 = prop13($$Proxy.value)(dictStrong);
    return function($275) {
      return $272($273($274($275)));
    };
  };
  var _alphaTarget = function(dictStrong) {
    var $279 = _Newtype2(dictStrong.Profunctor0());
    var $280 = prop15($$Proxy.value)(dictStrong);
    return function($281) {
      return $279($280($281));
    };
  };
  var _alphaMin = function(dictStrong) {
    var $282 = _Newtype2(dictStrong.Profunctor0());
    var $283 = prop16($$Proxy.value)(dictStrong);
    return function($284) {
      return $282($283($284));
    };
  };
  var _alphaDecay = function(dictStrong) {
    var $285 = _Newtype2(dictStrong.Profunctor0());
    var $286 = prop17($$Proxy.value)(dictStrong);
    return function($287) {
      return $285($286($287));
    };
  };
  var _alpha = function(dictStrong) {
    var $288 = _Newtype2(dictStrong.Profunctor0());
    var $289 = prop18($$Proxy.value)(dictStrong);
    return function($290) {
      return $288($289($290));
    };
  };

  // output/PSD3.Internal.Simulation.Forces/index.js
  var _status2 = /* @__PURE__ */ _status(strongFn);
  var _name2 = /* @__PURE__ */ _name(strongForget);
  var fromFoldable8 = /* @__PURE__ */ fromFoldable6(ordString);
  var elem3 = /* @__PURE__ */ elem2(eqString);
  var unwrap6 = /* @__PURE__ */ unwrap();
  var map111 = /* @__PURE__ */ map(functorArray);
  var removeForceFromSimulation = function(v) {
    return function(simulation_) {
      if (v.type instanceof RegularForce) {
        return setAsNullForceInSimulation_(simulation_)(v.name);
      }
      ;
      if (v.type instanceof LinkForce) {
        return setAsNullForceInSimulation_(simulation_)(v.name);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 112, column 3 - line 115, column 73): " + [v.type.constructor.name]);
    };
  };
  var putForceInSimulation = function(v) {
    return function(simulation_) {
      if (v.type instanceof RegularForce) {
        return putForceInSimulation_(simulation_)(v.name)(v.force_);
      }
      ;
      if (v.type instanceof LinkForce) {
        return putForceInSimulation_(simulation_)(v.name)(v.force_);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 103, column 3 - line 107, column 80): " + [v.type.constructor.name]);
    };
  };
  var initialize = function(dictFoldable) {
    var fromFoldable112 = fromFoldable8(dictFoldable);
    return function(dictFunctor) {
      var map212 = map(dictFunctor);
      return function(forces3) {
        return fromFoldable112(map212(function(f) {
          return new Tuple(view(_name2)(f), f);
        })(forces3));
      };
    };
  };
  var enableForce = /* @__PURE__ */ (function() {
    return set2(_status2)(ForceActive.value);
  })();
  var enableByLabels = function(simulation) {
    return function(labels9) {
      return function(force2) {
        var $43 = elem3(view(_name2)(force2))(labels9);
        if ($43) {
          var v = putForceInSimulation(force2)(simulation);
          return enableForce(force2);
        }
        ;
        return force2;
      };
    };
  };
  var disableForce = /* @__PURE__ */ (function() {
    return set2(_status2)(ForceDisabled.value);
  })();
  var disableByLabels = function(simulation) {
    return function(labels9) {
      return function(force2) {
        var $45 = elem3(view(_name2)(force2))(labels9);
        if ($45) {
          var v = removeForceFromSimulation(force2)(simulation);
          return disableForce(force2);
        }
        ;
        return force2;
      };
    };
  };
  var createRegularForce_ = function(v) {
    if (v instanceof ForceManyBody) {
      return forceMany_(unit);
    }
    ;
    if (v instanceof ForceCenter) {
      return forceCenter_(unit);
    }
    ;
    if (v instanceof ForceCollide) {
      return forceCollideFn_(unit);
    }
    ;
    if (v instanceof ForceX) {
      return forceX_(unit);
    }
    ;
    if (v instanceof ForceY) {
      return forceY_(unit);
    }
    ;
    if (v instanceof ForceRadial) {
      return forceRadial_(unit);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 167, column 23 - line 173, column 52): " + [v.constructor.name]);
  };
  var createForce_ = function(v) {
    if (v instanceof RegularForce) {
      return createRegularForce_(v.value0);
    }
    ;
    if (v instanceof LinkForce) {
      return forceLink_(unit);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 161, column 3 - line 163, column 38): " + [v.constructor.name]);
  };
  var createLinkForce = function(f) {
    return function(cs) {
      return {
        type: LinkForce.value,
        name: linksForceName_,
        status: ForceDisabled.value,
        filter: f,
        attributes: cs,
        force_: createForce_(LinkForce.value)
      };
    };
  };
  var createForce = function(l) {
    return function(t) {
      return function(f) {
        return function(cs) {
          return {
            type: t,
            name: l,
            status: ForceDisabled.value,
            filter: f,
            attributes: cs,
            force_: createForce_(t)
          };
        };
      };
    };
  };
  var attrFilter = function(filter$prime) {
    return function(default$prime) {
      var addFilterToStatic = function(filter5) {
        return function(value15) {
          return function($$default) {
            return function(d8) {
              var $49 = filter5(d8);
              if ($49) {
                return value15;
              }
              ;
              return $$default;
            };
          };
        };
      };
      var addFilterToFn = function(filter5) {
        return function(fn) {
          return function($$default) {
            return function(d8) {
              var $50 = filter5(d8);
              if ($50) {
                return fn(d8);
              }
              ;
              return $$default;
            };
          };
        };
      };
      return function(v) {
        if (v instanceof StringAttr && v.value0 instanceof Static) {
          return new StringAttr(new Static(v.value0.value0));
        }
        ;
        if (v instanceof StringAttr && v.value0 instanceof Fn) {
          return new StringAttr(new Fn(v.value0.value0));
        }
        ;
        if (v instanceof StringAttr && v.value0 instanceof FnI) {
          return new StringAttr(new FnI(v.value0.value0));
        }
        ;
        if (v instanceof NumberAttr && v.value0 instanceof Static) {
          return new NumberAttr(new Fn(addFilterToStatic(filter$prime)(v.value0.value0)(default$prime)));
        }
        ;
        if (v instanceof NumberAttr && v.value0 instanceof Fn) {
          return new NumberAttr(new Fn(addFilterToFn(filter$prime)(v.value0.value0)(default$prime)));
        }
        ;
        if (v instanceof NumberAttr && v.value0 instanceof FnI) {
          return new NumberAttr(new FnI(v.value0.value0));
        }
        ;
        if (v instanceof ArrayAttr && v.value0 instanceof Static) {
          return new ArrayAttr(new Static(v.value0.value0));
        }
        ;
        if (v instanceof ArrayAttr && v.value0 instanceof Fn) {
          return new ArrayAttr(new Fn(v.value0.value0));
        }
        ;
        if (v instanceof ArrayAttr && v.value0 instanceof FnI) {
          return new ArrayAttr(new FnI(v.value0.value0));
        }
        ;
        throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 212, column 3 - line 224, column 49): " + [v.constructor.name]);
      };
    };
  };
  var setForceAttr = function(force_) {
    return function(maybeFilter) {
      return function(v) {
        if (v.value0 === "strength") {
          if (maybeFilter instanceof Nothing) {
            return setForceStrength_(force_)(unboxAttr(v.value1));
          }
          ;
          if (maybeFilter instanceof Just) {
            return setForceStrength_(force_)(unboxAttr(attrFilter(maybeFilter.value0.value1)(0)(v.value1)));
          }
          ;
          throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 182, column 7 - line 186, column 82): " + [maybeFilter.constructor.name]);
        }
        ;
        if (v.value0 === "radius") {
          return setForceRadius_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "theta") {
          return setForceTheta_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "distanceMin") {
          return setForceDistanceMin_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "distanceMax") {
          return setForceDistanceMax_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "iterations") {
          return setForceIterations_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "x") {
          return setForceX_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "y") {
          return setForceY_(force_)(unboxAttr(v.value1));
        }
        ;
        if (v.value0 === "distance") {
          return setForceDistance_(force_)(unboxAttr(v.value1));
        }
        ;
        return force_;
      };
    };
  };
  var updateForceInSimulation = function(simulation) {
    return function(force2) {
      var f = unwrap6(force2);
      var v = map111(function(a2) {
        return setForceAttr(f.force_)(f.filter)(unwrap6(a2));
      })(f.attributes);
      if (f.status instanceof ForceActive) {
        return putForceInSimulation(force2)(simulation);
      }
      ;
      if (f.status instanceof ForceDisabled) {
        return removeForceFromSimulation(force2)(simulation);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Internal.Simulation.Forces (line 96, column 5 - line 98, column 66): " + [f.status.constructor.name]);
    };
  };

  // output/PSD3.Internal.Simulation.Functions/index.js
  var _handle2 = /* @__PURE__ */ _handle(strongForget);
  var discard4 = /* @__PURE__ */ discard(discardUnit);
  var _forceLibrary2 = /* @__PURE__ */ _forceLibrary(strongFn);
  var _forceLibrary1 = /* @__PURE__ */ _forceLibrary(strongForget);
  var map24 = /* @__PURE__ */ map(functorMap);
  var _d3Simulation2 = /* @__PURE__ */ _d3Simulation(strongFn);
  var _alpha2 = /* @__PURE__ */ _alpha(strongFn);
  var _alphaTarget2 = /* @__PURE__ */ _alphaTarget(strongFn);
  var _alphaMin2 = /* @__PURE__ */ _alphaMin(strongFn);
  var _alphaDecay2 = /* @__PURE__ */ _alphaDecay(strongFn);
  var _velocityDecay2 = /* @__PURE__ */ _velocityDecay(strongFn);
  var fromFoldable9 = /* @__PURE__ */ fromFoldable(foldableSet);
  var difference4 = /* @__PURE__ */ difference2(ordString);
  var fromFoldable14 = /* @__PURE__ */ fromFoldable7(foldableSet)(ordString);
  var intersection3 = /* @__PURE__ */ intersection2(ordString);
  var spy3 = /* @__PURE__ */ spy();
  var simulationStop = function(dictMonadState) {
    var Monad0 = dictMonadState.Monad0();
    var pure36 = pure(Monad0.Applicative0());
    return bind(Monad0.Bind1())(use(dictMonadState)(_handle2))(function(handle) {
      var v = stopSimulation_(handle);
      return pure36(unit);
    });
  };
  var simulationStart = function(dictMonadState) {
    var Monad0 = dictMonadState.Monad0();
    var Bind1 = Monad0.Bind1();
    var discard111 = discard4(Bind1);
    var modifying2 = modifying(dictMonadState);
    var pure36 = pure(Monad0.Applicative0());
    return bind(Bind1)(use(dictMonadState)(_handle2))(function(handle) {
      return discard111(modifying2(function($247) {
        return _d3Simulation2(_alpha2($247));
      })($$const(1)))(function() {
        return pure36(startSimulation_(handle));
      });
    });
  };
  var simulationSetVariable = function(dictMonadState) {
    var bind66 = bind(dictMonadState.Monad0().Bind1());
    var use3 = use(dictMonadState);
    var modifying2 = modifying(dictMonadState);
    return function(v) {
      return bind66(use3(_handle2))(function(handle) {
        if (v instanceof Alpha) {
          var v1 = setAlpha_(handle)(v.value0);
          return modifying2(function($248) {
            return _d3Simulation2(_alpha2($248));
          })($$const(v.value0));
        }
        ;
        if (v instanceof AlphaTarget) {
          var v1 = setAlphaTarget_(handle)(v.value0);
          return modifying2(function($249) {
            return _d3Simulation2(_alphaTarget2($249));
          })($$const(v.value0));
        }
        ;
        if (v instanceof AlphaMin) {
          var v1 = setAlphaMin_(handle)(v.value0);
          return modifying2(function($250) {
            return _d3Simulation2(_alphaMin2($250));
          })($$const(v.value0));
        }
        ;
        if (v instanceof AlphaDecay) {
          var v1 = setAlphaDecay_(handle)(v.value0);
          return modifying2(function($251) {
            return _d3Simulation2(_alphaDecay2($251));
          })($$const(v.value0));
        }
        ;
        if (v instanceof VelocityDecay) {
          var v1 = setVelocityDecay_(handle)(v.value0);
          return modifying2(function($252) {
            return _d3Simulation2(_velocityDecay2($252));
          })($$const(v.value0));
        }
        ;
        throw new Error("Failed pattern match at PSD3.Internal.Simulation.Functions (line 129, column 3 - line 144, column 52): " + [v.constructor.name]);
      });
    };
  };
  var simulationSetNodes = function(dictBind) {
    var bind66 = bind(dictBind);
    return function(dictMonadState) {
      var use3 = use(dictMonadState);
      var pure36 = pure(dictMonadState.Monad0().Applicative0());
      return function(nodes) {
        return bind66(use3(_handle2))(function(handle) {
          var v = setNodes_(handle)(nodes);
          var opaqueNodes = getNodes_(handle);
          return pure36(opaqueNodes);
        });
      };
    };
  };
  var simulationSetLinks = function(dictBind) {
    var bind66 = bind(dictBind);
    return function(dictMonadState) {
      var use3 = use(dictMonadState);
      var pure36 = pure(dictMonadState.Monad0().Applicative0());
      return function(links) {
        return function(nodes) {
          return function(keyFn) {
            return bind66(use3(_handle2))(function(handle) {
              var v = setLinks_(handle)(swizzleLinks_(links)(nodes)(keyFn));
              var swizzledLinks = getLinksFromSimulation_(handle);
              return pure36(swizzledLinks);
            });
          };
        };
      };
    };
  };
  var simulationEnableForcesByLabel = function(dictMonadState) {
    var bind66 = bind(dictMonadState.Monad0().Bind1());
    var use3 = use(dictMonadState);
    var modifying2 = modifying(dictMonadState);
    return function(labels9) {
      return bind66(use3(_handle2))(function(handle) {
        return bind66(use3(_forceLibrary1))(function(forces3) {
          return modifying2(_forceLibrary2)($$const(map24(enableByLabels(handle)(labels9))(forces3)));
        });
      });
    };
  };
  var simulationDisableForcesByLabel = function(dictMonadState) {
    var bind66 = bind(dictMonadState.Monad0().Bind1());
    var use3 = use(dictMonadState);
    var modifying2 = modifying(dictMonadState);
    return function(labels9) {
      return bind66(use3(_handle2))(function(handle) {
        return bind66(use3(_forceLibrary1))(function(forces3) {
          return modifying2(_forceLibrary2)($$const(map24(disableByLabels(handle)(labels9))(forces3)));
        });
      });
    };
  };
  var simulationActualizeForces = function(dictMonadState) {
    var Monad0 = dictMonadState.Monad0();
    var Bind1 = Monad0.Bind1();
    var bind66 = bind(Bind1);
    var use3 = use(dictMonadState);
    var discard111 = discard4(Bind1);
    var simulationEnableForcesByLabel1 = simulationEnableForcesByLabel(dictMonadState);
    var simulationDisableForcesByLabel1 = simulationDisableForcesByLabel(dictMonadState);
    var pure36 = pure(Monad0.Applicative0());
    return function(activeForces) {
      return bind66(use3(_handle2))(function(handle) {
        return bind66(use3(_forceLibrary1))(function(library) {
          var allLabels = keys3(library);
          var disableLabels = fromFoldable9(difference4(fromFoldable14(allLabels))(activeForces));
          var enableLabels = fromFoldable9(intersection3(activeForces)(fromFoldable14(allLabels)));
          var v = spy3("\u{1F527} actualizeForces - enabling")(enableLabels);
          var v1 = spy3("\u{1F527} actualizeForces - disabling")(disableLabels);
          return discard111(simulationEnableForcesByLabel1(enableLabels))(function() {
            return discard111(simulationDisableForcesByLabel1(disableLabels))(function() {
              return bind66(use3(_forceLibrary1))(function(updatedLibrary) {
                var v2 = map24(updateForceInSimulation(handle))(updatedLibrary);
                return pure36(unit);
              });
            });
          });
        });
      });
    };
  };

  // output/PSD3.Interpreter.D3/index.js
  var monadEffectState2 = /* @__PURE__ */ monadEffectState(monadEffectEffect);
  var monadStateT2 = /* @__PURE__ */ monadStateT(monadEffect);
  var runD3M = function(v) {
    return runStateT(v)(unit);
  };
  var monadEffD3M = monadEffectState2;
  var monadD3M = monadStateT2;
  var d3TaglessD3M = {
    attach: function(selector) {
      return selectionAttach(d3TaglessD3M)(selector);
    },
    selectUnder: function(s_) {
      return selectionSelectUnder(d3TaglessD3M)(s_);
    },
    appendTo: function(s_) {
      return selectionAppendElement(d3TaglessD3M)(s_);
    },
    filterSelection: function(s_) {
      return selectionFilterSelection(d3TaglessD3M)(s_);
    },
    openSelection: function(s_) {
      return selectionOpenSelection(d3TaglessD3M)(s_);
    },
    mergeSelections: function(s_) {
      return selectionMergeSelections(d3TaglessD3M)(s_);
    },
    setAttributes: function(s_) {
      return selectionModifySelection(d3TaglessD3M)(s_);
    },
    simpleJoin: function(s_) {
      return selectionJoin(d3TaglessD3M)(s_);
    },
    nestedJoin: function(dictFoldable) {
      var selectionNestedJoin2 = selectionNestedJoin(dictFoldable);
      return function(s_) {
        return selectionNestedJoin2(d3TaglessD3M)(s_);
      };
    },
    updateJoin: function(s_) {
      return selectionUpdateJoin(d3TaglessD3M)(s_);
    },
    on: function(s_) {
      return selectionOn(d3TaglessD3M)(s_);
    },
    Monad0: function() {
      return monadD3M;
    }
  };

  // output/Component.AnimatedTreeCluster/index.js
  var show7 = /* @__PURE__ */ show(showLayoutType);
  var discard5 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var bind4 = /* @__PURE__ */ bind(bindHalogenM);
  var draw2 = /* @__PURE__ */ draw(monadEffD3M)(d3TaglessD3M);
  var modify_3 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var animationStep2 = /* @__PURE__ */ animationStep(monadEffD3M)(d3TaglessD3M);
  var get7 = /* @__PURE__ */ get(monadStateHalogenM);
  var pure6 = /* @__PURE__ */ pure(applicativeHalogenM);
  var Initialize2 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var ToggleLayout = /* @__PURE__ */ (function() {
    function ToggleLayout2() {
    }
    ;
    ToggleLayout2.value = new ToggleLayout2();
    return ToggleLayout2;
  })();
  var render3 = function(state3) {
    return div2([classes(["animated-tree-cluster-page"])])([div2([classes(["page-header"])])([h1_([text("Animated Tree \u2194 Cluster")]), p([classes(["page-description"])])([text("Smooth transitions between Tree (Reingold-Tilford) and Cluster (dendrogram) layouts using proper D3 data joins with stable keys.")])]), div2([classes(["controls"])])([button([classes(["button"]), onClick(function(v) {
      return ToggleLayout.value;
    })])([text("Switch to " + show7(toggleLayout(state3.currentLayout)))]), p([classes(["current-layout"])])([text("Current: " + show7(state3.currentLayout))])]), div2([classes(["viz-container"]), id3("animated-tree-cluster")])([])]);
  };
  var handleAction = function(dictMonadAff) {
    var monadEffectHalogenM2 = monadEffectHalogenM(dictMonadAff.MonadEffect0());
    var log7 = log3(monadEffectHalogenM2);
    var liftAff32 = liftAff(monadAffHalogenM(dictMonadAff));
    var liftEffect53 = liftEffect(monadEffectHalogenM2);
    return function(v) {
      if (v instanceof Initialize2) {
        return discard5(log7("AnimatedTreeCluster: Initializing"))(function() {
          return discard5(liftAff32(delay(100)))(function() {
            return bind4(liftAff32(get3(json)("./data/flare-2.json")))(function(flareResult) {
              if (flareResult instanceof Left) {
                return log7("Failed to load Flare data: " + printError(flareResult.value0));
              }
              ;
              if (flareResult instanceof Right) {
                return bind4(liftEffect53(runD3M(draw2(flareResult.value0.body)("#animated-tree-cluster"))))(function(v1) {
                  return discard5(modify_3(function(v2) {
                    var $32 = {};
                    for (var $33 in v2) {
                      if ({}.hasOwnProperty.call(v2, $33)) {
                        $32[$33] = v2[$33];
                      }
                      ;
                    }
                    ;
                    $32.vizState = new Just(v1.value0);
                    return $32;
                  }))(function() {
                    return bind4(liftEffect53(runD3M(animationStep2(v1.value0.dataTree)(v1.value0.linksGroup)(v1.value0.nodesGroup)(v1.value0.chartWidth)(v1.value0.chartHeight)(TreeLayout.value))))(function() {
                      return log7("AnimatedTreeCluster: Initialized");
                    });
                  });
                });
              }
              ;
              throw new Error("Failed pattern match at Component.AnimatedTreeCluster (line 96, column 5 - line 116, column 47): " + [flareResult.constructor.name]);
            });
          });
        });
      }
      ;
      if (v instanceof ToggleLayout) {
        return bind4(get7)(function(state3) {
          var newLayout = toggleLayout(state3.currentLayout);
          return discard5(log7("Toggling to " + show7(newLayout)))(function() {
            return discard5(modify_3(function(v1) {
              var $38 = {};
              for (var $39 in v1) {
                if ({}.hasOwnProperty.call(v1, $39)) {
                  $38[$39] = v1[$39];
                }
                ;
              }
              ;
              $38.currentLayout = newLayout;
              return $38;
            }))(function() {
              if (state3.vizState instanceof Nothing) {
                return log7("No viz state available");
              }
              ;
              if (state3.vizState instanceof Just) {
                return bind4(liftEffect53(runD3M(animationStep2(state3.vizState.value0.dataTree)(state3.vizState.value0.linksGroup)(state3.vizState.value0.nodesGroup)(state3.vizState.value0.chartWidth)(state3.vizState.value0.chartHeight)(newLayout))))(function() {
                  return pure6(unit);
                });
              }
              ;
              throw new Error("Failed pattern match at Component.AnimatedTreeCluster (line 124, column 5 - line 134, column 18): " + [state3.vizState.constructor.name]);
            });
          });
        });
      }
      ;
      throw new Error("Failed pattern match at Component.AnimatedTreeCluster (line 88, column 16 - line 134, column 18): " + [v.constructor.name]);
    };
  };
  var component = function(dictMonadAff) {
    return mkComponent({
      initialState: function(v) {
        return {
          currentLayout: TreeLayout.value,
          vizState: Nothing.value
        };
      },
      render: render3,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction(dictMonadAff),
        initialize: new Just(Initialize2.value)
      })
    });
  };

  // output/D3.Viz.LesMisGUPV2/foreign.js
  function setNodesGridPositions_(nodes) {
    return function(gridSpacing) {
      return function() {
        const nodeCount = nodes.length;
        const columns = Math.floor(Math.ceil(Math.sqrt(nodeCount)));
        const offset = -(columns * gridSpacing) / 2;
        nodes.forEach((node, i2) => {
          node.sx = node.x;
          node.sy = node.y;
          const d8 = i2;
          const c = columns;
          const x10 = d8 % c;
          const y10 = Math.floor(d8 / c);
          node.fx = x10 * gridSpacing + offset;
          node.fy = y10 * gridSpacing + offset;
        });
        return nodes;
      };
    };
  }
  function setNodesPhyllotaxisPositions_(nodes) {
    return function() {
      const initialRadius3 = 10;
      const initialAngle3 = Math.PI * (3 - Math.sqrt(5));
      nodes.forEach((node, index5) => {
        node.sx = node.x;
        node.sy = node.y;
        const i2 = index5;
        const radius13 = initialRadius3 * Math.sqrt(0.5 + i2);
        const angle = i2 * initialAngle3;
        node.fx = radius13 * Math.cos(angle);
        node.fy = radius13 * Math.sin(angle);
      });
      return nodes;
    };
  }
  function transitionToCachedPositions_(svgSelector) {
    return function(nodeSelector) {
      return function(linkSelector) {
        return function(nodes) {
          return function(links) {
            return function(onComplete) {
              return function() {
                requestAnimationFrame(() => {
                  const svg = select_default2(svgSelector);
                  const nodeElements = svg.selectAll(nodeSelector);
                  const linkElements = svg.selectAll(linkSelector);
                  if (nodeElements.empty()) {
                    console.error(`Could not find ${nodeSelector} elements to transition`);
                    onComplete();
                    return;
                  }
                  const t = transition().duration(1500);
                  nodeElements.transition(t).attrTween("cx", function(d8, i2) {
                    const startX = parseFloat(select_default2(this).attr("cx"));
                    const node = nodes[i2];
                    const endX = node && node.sx !== null && node.sx !== void 0 ? node.sx : node && node.x !== void 0 ? node.x : startX;
                    return value_default(startX, endX);
                  }).attrTween("cy", function(d8, i2) {
                    const startY = parseFloat(select_default2(this).attr("cy"));
                    const node = nodes[i2];
                    const endY = node && node.sy !== null && node.sy !== void 0 ? node.sy : node && node.y !== void 0 ? node.y : startY;
                    return value_default(startY, endY);
                  }).on("end", function(d8, i2) {
                    if (i2 === nodes.length - 1) {
                      nodes.forEach((node) => {
                        node.fx = null;
                        node.fy = null;
                        node.sx = null;
                        node.sy = null;
                      });
                      onComplete();
                    }
                  });
                  linkElements.transition(t).attrTween("x1", function(d8, i2) {
                    const startX = parseFloat(select_default2(this).attr("x1"));
                    if (i2 >= links.length) {
                      console.warn("Link index out of bounds:", i2, "of", links.length);
                      return () => startX;
                    }
                    const link4 = links[i2];
                    const sourceNode = nodes.find((n) => n.id === link4.source.id);
                    const endX = sourceNode && sourceNode.sx !== null && sourceNode.sx !== void 0 ? sourceNode.sx : sourceNode ? sourceNode.x : startX;
                    return value_default(startX, endX);
                  }).attrTween("y1", function(d8, i2) {
                    const startY = parseFloat(select_default2(this).attr("y1"));
                    if (i2 >= links.length) return () => startY;
                    const link4 = links[i2];
                    const sourceNode = nodes.find((n) => n.id === link4.source.id);
                    const endY = sourceNode && sourceNode.sy !== null && sourceNode.sy !== void 0 ? sourceNode.sy : sourceNode ? sourceNode.y : startY;
                    return value_default(startY, endY);
                  }).attrTween("x2", function(d8, i2) {
                    const startX = parseFloat(select_default2(this).attr("x2"));
                    if (i2 >= links.length) return () => startX;
                    const link4 = links[i2];
                    const targetNode = nodes.find((n) => n.id === link4.target.id);
                    const endX = targetNode && targetNode.sx !== null && targetNode.sx !== void 0 ? targetNode.sx : targetNode ? targetNode.x : startX;
                    return value_default(startX, endX);
                  }).attrTween("y2", function(d8, i2) {
                    const startY = parseFloat(select_default2(this).attr("y2"));
                    if (i2 >= links.length) return () => startY;
                    const link4 = links[i2];
                    const targetNode = nodes.find((n) => n.id === link4.target.id);
                    const endY = targetNode && targetNode.sy !== null && targetNode.sy !== void 0 ? targetNode.sy : targetNode ? targetNode.y : startY;
                    return value_default(startY, endY);
                  });
                });
              };
            };
          };
        };
      };
    };
  }
  function transitionToFxFyPositions_(svgSelector) {
    return function(nodeSelector) {
      return function(linkSelector) {
        return function(nodes) {
          return function(links) {
            return function(onComplete) {
              return function() {
                const svg = select_default2(svgSelector);
                const nodeElements = svg.selectAll(nodeSelector);
                const linkElements = svg.selectAll(linkSelector);
                if (nodeElements.empty()) {
                  console.error(`Could not find ${nodeSelector} elements to transition`);
                  onComplete();
                  return;
                }
                const t = transition().duration(1500);
                nodeElements.transition(t).attrTween("cx", function(d8, i2) {
                  const startX = parseFloat(select_default2(this).attr("cx"));
                  const node = nodes[i2];
                  if (node && node.fx !== null && node.fx !== void 0) {
                    return value_default(startX, node.fx);
                  }
                  const endX = node && node.x !== void 0 ? node.x : startX;
                  return value_default(startX, endX);
                }).attrTween("cy", function(d8, i2) {
                  const startY = parseFloat(select_default2(this).attr("cy"));
                  const node = nodes[i2];
                  if (node && node.fy !== null && node.fy !== void 0) {
                    return value_default(startY, node.fy);
                  }
                  const endY = node && node.y !== void 0 ? node.y : startY;
                  return value_default(startY, endY);
                }).on("end", function(d8, i2) {
                  if (i2 === nodes.length - 1) {
                    onComplete();
                  }
                });
                linkElements.transition(t).attrTween("x1", function(d8, i2) {
                  const startX = parseFloat(select_default2(this).attr("x1"));
                  if (i2 >= links.length) {
                    console.warn("Link index out of bounds:", i2, "of", links.length);
                    return () => startX;
                  }
                  const link4 = links[i2];
                  const sourceNode = nodes.find((n) => n.id === link4.source.id);
                  const endX = sourceNode && sourceNode.fx !== null && sourceNode.fx !== void 0 ? sourceNode.fx : sourceNode ? sourceNode.x : startX;
                  return value_default(startX, endX);
                }).attrTween("y1", function(d8, i2) {
                  const startY = parseFloat(select_default2(this).attr("y1"));
                  if (i2 >= links.length) return () => startY;
                  const link4 = links[i2];
                  const sourceNode = nodes.find((n) => n.id === link4.source.id);
                  const endY = sourceNode && sourceNode.fy !== null && sourceNode.fy !== void 0 ? sourceNode.fy : sourceNode ? sourceNode.y : startY;
                  return value_default(startY, endY);
                }).attrTween("x2", function(d8, i2) {
                  const startX = parseFloat(select_default2(this).attr("x2"));
                  if (i2 >= links.length) return () => startX;
                  const link4 = links[i2];
                  const targetNode = nodes.find((n) => n.id === link4.target.id);
                  const endX = targetNode && targetNode.fx !== null && targetNode.fx !== void 0 ? targetNode.fx : targetNode ? targetNode.x : startX;
                  return value_default(startX, endX);
                }).attrTween("y2", function(d8, i2) {
                  const startY = parseFloat(select_default2(this).attr("y2"));
                  if (i2 >= links.length) return () => startY;
                  const link4 = links[i2];
                  const targetNode = nodes.find((n) => n.id === link4.target.id);
                  const endY = targetNode && targetNode.fy !== null && targetNode.fy !== void 0 ? targetNode.fy : targetNode ? targetNode.y : startY;
                  return value_default(startY, endY);
                });
              };
            };
          };
        };
      };
    };
  }

  // output/PSD3.Internal.Scales.Scales/foreign.js
  var d3SchemeCategory10 = d3.scaleOrdinal(d3.schemeCategory10);
  function d3SchemeCategory10N_(number) {
    return d3SchemeCategory10(number);
  }
  var d3SchemePaired = d3.scaleOrdinal(d3.schemePaired);
  var d3SchemeDiverging10 = d3.scaleDiverging(d3.interpolateBrBG).domain([0, 250, 500]);
  var d3SchemeSequential10 = d3.scaleSequential().interpolator(d3.interpolateYlOrRd).domain([0, 5, 10]);

  // output/PSD3v2.Attribute.Types/index.js
  var StringValue = /* @__PURE__ */ (function() {
    function StringValue2(value0) {
      this.value0 = value0;
    }
    ;
    StringValue2.create = function(value0) {
      return new StringValue2(value0);
    };
    return StringValue2;
  })();
  var NumberValue = /* @__PURE__ */ (function() {
    function NumberValue2(value0) {
      this.value0 = value0;
    }
    ;
    NumberValue2.create = function(value0) {
      return new NumberValue2(value0);
    };
    return NumberValue2;
  })();
  var BooleanValue = /* @__PURE__ */ (function() {
    function BooleanValue2(value0) {
      this.value0 = value0;
    }
    ;
    BooleanValue2.create = function(value0) {
      return new BooleanValue2(value0);
    };
    return BooleanValue2;
  })();
  var StaticAttr = /* @__PURE__ */ (function() {
    function StaticAttr2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    StaticAttr2.create = function(value0) {
      return function(value1) {
        return new StaticAttr2(value0, value1);
      };
    };
    return StaticAttr2;
  })();
  var DataAttr = /* @__PURE__ */ (function() {
    function DataAttr2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    DataAttr2.create = function(value0) {
      return function(value1) {
        return new DataAttr2(value0, value1);
      };
    };
    return DataAttr2;
  })();
  var IndexedAttr = /* @__PURE__ */ (function() {
    function IndexedAttr2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    IndexedAttr2.create = function(value0) {
      return function(value1) {
        return new IndexedAttr2(value0, value1);
      };
    };
    return IndexedAttr2;
  })();
  var toAttrStringString = {
    toAttr: function(value15) {
      return function(name16) {
        return new StaticAttr(name16, new StringValue(value15));
      };
    }
  };
  var toAttrStringFunctionStrin = {
    toAttr: function(fn) {
      return function(name16) {
        return new DataAttr(name16, function($158) {
          return StringValue.create(fn($158));
        });
      };
    }
  };
  var toAttrNumberNumber = {
    toAttr: function(value15) {
      return function(name16) {
        return new StaticAttr(name16, new NumberValue(value15));
      };
    }
  };
  var toAttrNumberFunctionNumbe = {
    toAttr: function(fn) {
      return function(name16) {
        return new DataAttr(name16, function($159) {
          return NumberValue.create(fn($159));
        });
      };
    }
  };
  var toAttr3 = function(dict) {
    return dict.toAttr;
  };
  var transform2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("transform");
    };
  };
  var viewBox2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("viewBox");
    };
  };
  var width2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("width");
    };
  };
  var x2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("x");
    };
  };
  var x1 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("x1");
    };
  };
  var x22 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("x2");
    };
  };
  var y2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("y");
    };
  };
  var y1 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("y1");
    };
  };
  var y22 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("y2");
    };
  };
  var textContent = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("textContent");
    };
  };
  var textAnchor = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("text-anchor");
    };
  };
  var strokeWidth3 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("stroke-width");
    };
  };
  var strokeOpacity = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("stroke-opacity");
    };
  };
  var stroke = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("stroke");
    };
  };
  var radius3 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("r");
    };
  };
  var opacity = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("opacity");
    };
  };
  var id_ = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("id");
    };
  };
  var height2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("height");
    };
  };
  var fontSize = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("font-size");
    };
  };
  var fillOpacity = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("fill-opacity");
    };
  };
  var fill3 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("fill");
    };
  };
  var dy = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("dy");
    };
  };
  var d4 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("d");
    };
  };
  var cy3 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("cy");
    };
  };
  var cx3 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("cx");
    };
  };
  var class_2 = function(dictToAttr) {
    var toAttr1 = toAttr3(dictToAttr);
    return function(value15) {
      return toAttr1(value15)("class");
    };
  };

  // output/PSD3v2.Behavior.Types/index.js
  var ScaleExtent2 = /* @__PURE__ */ (function() {
    function ScaleExtent3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ScaleExtent3.create = function(value0) {
      return function(value1) {
        return new ScaleExtent3(value0, value1);
      };
    };
    return ScaleExtent3;
  })();
  var SimpleDrag = /* @__PURE__ */ (function() {
    function SimpleDrag2() {
    }
    ;
    SimpleDrag2.value = new SimpleDrag2();
    return SimpleDrag2;
  })();
  var SimulationDrag = /* @__PURE__ */ (function() {
    function SimulationDrag2(value0) {
      this.value0 = value0;
    }
    ;
    SimulationDrag2.create = function(value0) {
      return new SimulationDrag2(value0);
    };
    return SimulationDrag2;
  })();
  var Zoom2 = /* @__PURE__ */ (function() {
    function Zoom3(value0) {
      this.value0 = value0;
    }
    ;
    Zoom3.create = function(value0) {
      return new Zoom3(value0);
    };
    return Zoom3;
  })();
  var Drag2 = /* @__PURE__ */ (function() {
    function Drag3(value0) {
      this.value0 = value0;
    }
    ;
    Drag3.create = function(value0) {
      return new Drag3(value0);
    };
    return Drag3;
  })();
  var simulationDrag = /* @__PURE__ */ (function() {
    return SimulationDrag.create;
  })();
  var defaultZoom = function(scaleExtent) {
    return function(targetSelector) {
      return {
        scaleExtent,
        targetSelector
      };
    };
  };
  var defaultDrag = /* @__PURE__ */ (function() {
    return SimpleDrag.value;
  })();

  // output/PSD3v2.Capabilities.Selection/index.js
  var select3 = function(dict) {
    return dict.select;
  };
  var renderTree = function(dict) {
    return dict.renderTree;
  };
  var on2 = function(dict) {
    return dict.on;
  };

  // output/PSD3v2.Capabilities.Simulation/index.js
  var Step4 = /* @__PURE__ */ (function() {
    function Step5(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Step5.create = function(value0) {
      return function(value1) {
        return new Step5(value0, value1);
      };
    };
    return Step5;
  })();
  var update3 = function(dict) {
    return dict.update;
  };
  var stop = function(dict) {
    return dict.stop;
  };
  var start2 = function(dict) {
    return dict.start;
  };
  var reheat = function(dict) {
    return dict.reheat;
  };
  var init4 = function(dict) {
    return dict.init;
  };
  var addTickFunction = function(dict) {
    return dict.addTickFunction;
  };

  // output/PSD3v2.Interpreter.D3v2/foreign.js
  var setAttributeSync_ = (name16) => (value15) => (element3) => {
    if (name16 === "textContent") {
      element3.textContent = value15;
    } else {
      element3.setAttribute(name16, value15);
    }
  };

  // output/PSD3v2.Selection.Operations/foreign.js
  function getElementData_(element3) {
    return function() {
      return element3.__data__;
    };
  }
  function setElementData_(datum2) {
    return function(element3) {
      return function() {
        element3.__data__ = datum2;
      };
    };
  }
  function setTextContent_(text6) {
    return function(element3) {
      return function() {
        element3.textContent = text6;
      };
    };
  }
  function getSimulationHandle_(simState) {
    return simState.handle_ || null;
  }

  // output/PSD3v2.Behavior.FFI/foreign.js
  function attachZoom_(element3) {
    return (scaleMin) => (scaleMax) => (targetSelector) => () => {
      const selection2 = select_default2(element3);
      const target6 = selection2.select(targetSelector);
      function zoomed(event) {
        target6.attr("transform", event.transform);
      }
      const zoom = zoom_default2().scaleExtent([scaleMin, scaleMax]).on("zoom", zoomed);
      selection2.call(zoom);
      return element3;
    };
  }
  function attachSimpleDrag_(element3) {
    return () => () => {
      const selection2 = select_default2(element3);
      let transform9 = { x: 0, y: 0 };
      function dragstarted(event) {
        select_default2(this).raise();
      }
      function dragged(event) {
        transform9.x += event.dx;
        transform9.y += event.dy;
        select_default2(this).attr("transform", `translate(${transform9.x},${transform9.y})`);
      }
      const drag2 = drag_default().on("start", dragstarted).on("drag", dragged);
      selection2.call(drag2);
      return element3;
    };
  }
  function attachSimulationDrag_(element3) {
    return (simulation) => (label5) => () => {
      const selection2 = select_default2(element3);
      function dragstarted(event) {
        if (simulation) {
          if (!event.active || simulation.alpha() < 1e-3) {
            simulation.alphaTarget(0.3).restart();
          }
        }
        event.subject.fx = event.subject.x;
        event.subject.fy = event.subject.y;
      }
      function dragged(event) {
        event.subject.fx = event.x;
        event.subject.fy = event.y;
      }
      function dragended(event) {
        if (simulation && !event.active) {
          simulation.alphaTarget(0);
        }
        event.subject.fx = null;
        event.subject.fy = null;
      }
      const drag2 = drag_default().on("start." + label5, dragstarted).on("drag." + label5, dragged).on("end." + label5, dragended);
      selection2.call(drag2).style("cursor", "pointer");
      return element3;
    };
  }

  // output/PSD3v2.Selection.Join/index.js
  var unsafeIndex2 = /* @__PURE__ */ unsafeIndex();
  var foldlWithIndex2 = /* @__PURE__ */ foldlWithIndex(foldableWithIndexArray);
  var computeJoin = function(dictEq) {
    var eq9 = eq(dictEq);
    return function(newData) {
      return function(oldBindings) {
        var processNewDatum = function(newIndex) {
          return function(state3) {
            return function(datum2) {
              var v = findIndex(function(v1) {
                return eq9(v1.datum)(datum2);
              })(state3.remainingOld);
              if (v instanceof Nothing) {
                var enterBinding = {
                  datum: datum2,
                  newIndex
                };
                return {
                  remainingOld: state3.remainingOld,
                  matchedIndices: state3.matchedIndices,
                  update: state3.update,
                  enter: cons(enterBinding)(state3.enter)
                };
              }
              ;
              if (v instanceof Just) {
                var newRemaining = fromMaybe(state3.remainingOld)(deleteAt(v.value0)(state3.remainingOld));
                var matched = unsafeIndex2(state3.remainingOld)(v.value0);
                var updateBinding = {
                  element: matched.element,
                  oldDatum: datum2,
                  newDatum: datum2,
                  newIndex
                };
                return {
                  enter: state3.enter,
                  update: cons(updateBinding)(state3.update),
                  remainingOld: newRemaining,
                  matchedIndices: cons(v.value0)(state3.matchedIndices)
                };
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Join (line 99, column 7 - line 121, column 16): " + [v.constructor.name]);
            };
          };
        };
        var matchResult = foldlWithIndex2(processNewDatum)({
          remainingOld: oldBindings,
          enter: [],
          update: [],
          matchedIndices: []
        })(newData);
        return {
          enter: reverse(matchResult.enter),
          update: reverse(matchResult.update),
          exit: matchResult.remainingOld
        };
      };
    };
  };

  // output/PSD3v2.Selection.Types/index.js
  var EmptySelection = /* @__PURE__ */ (function() {
    function EmptySelection2(value0) {
      this.value0 = value0;
    }
    ;
    EmptySelection2.create = function(value0) {
      return new EmptySelection2(value0);
    };
    return EmptySelection2;
  })();
  var BoundSelection = /* @__PURE__ */ (function() {
    function BoundSelection2(value0) {
      this.value0 = value0;
    }
    ;
    BoundSelection2.create = function(value0) {
      return new BoundSelection2(value0);
    };
    return BoundSelection2;
  })();
  var PendingSelection = /* @__PURE__ */ (function() {
    function PendingSelection2(value0) {
      this.value0 = value0;
    }
    ;
    PendingSelection2.create = function(value0) {
      return new PendingSelection2(value0);
    };
    return PendingSelection2;
  })();
  var ExitingSelection = /* @__PURE__ */ (function() {
    function ExitingSelection2(value0) {
      this.value0 = value0;
    }
    ;
    ExitingSelection2.create = function(value0) {
      return new ExitingSelection2(value0);
    };
    return ExitingSelection2;
  })();
  var SVGContext = /* @__PURE__ */ (function() {
    function SVGContext2() {
    }
    ;
    SVGContext2.value = new SVGContext2();
    return SVGContext2;
  })();
  var HTMLContext = /* @__PURE__ */ (function() {
    function HTMLContext2() {
    }
    ;
    HTMLContext2.value = new HTMLContext2();
    return HTMLContext2;
  })();
  var JoinResult = /* @__PURE__ */ (function() {
    function JoinResult2(value0) {
      this.value0 = value0;
    }
    ;
    JoinResult2.create = function(value0) {
      return new JoinResult2(value0);
    };
    return JoinResult2;
  })();
  var Circle2 = /* @__PURE__ */ (function() {
    function Circle4() {
    }
    ;
    Circle4.value = new Circle4();
    return Circle4;
  })();
  var Rect2 = /* @__PURE__ */ (function() {
    function Rect3() {
    }
    ;
    Rect3.value = new Rect3();
    return Rect3;
  })();
  var Path3 = /* @__PURE__ */ (function() {
    function Path5() {
    }
    ;
    Path5.value = new Path5();
    return Path5;
  })();
  var Line2 = /* @__PURE__ */ (function() {
    function Line3() {
    }
    ;
    Line3.value = new Line3();
    return Line3;
  })();
  var Text3 = /* @__PURE__ */ (function() {
    function Text4() {
    }
    ;
    Text4.value = new Text4();
    return Text4;
  })();
  var Group2 = /* @__PURE__ */ (function() {
    function Group3() {
    }
    ;
    Group3.value = new Group3();
    return Group3;
  })();
  var SVG = /* @__PURE__ */ (function() {
    function SVG2() {
    }
    ;
    SVG2.value = new SVG2();
    return SVG2;
  })();
  var Div2 = /* @__PURE__ */ (function() {
    function Div3() {
    }
    ;
    Div3.value = new Div3();
    return Div3;
  })();
  var Span2 = /* @__PURE__ */ (function() {
    function Span3() {
    }
    ;
    Span3.value = new Span3();
    return Span3;
  })();
  var Table2 = /* @__PURE__ */ (function() {
    function Table3() {
    }
    ;
    Table3.value = new Table3();
    return Table3;
  })();
  var Tr2 = /* @__PURE__ */ (function() {
    function Tr3() {
    }
    ;
    Tr3.value = new Tr3();
    return Tr3;
  })();
  var Td2 = /* @__PURE__ */ (function() {
    function Td3() {
    }
    ;
    Td3.value = new Td3();
    return Td3;
  })();
  var Th = /* @__PURE__ */ (function() {
    function Th2() {
    }
    ;
    Th2.value = new Th2();
    return Th2;
  })();
  var Tbody = /* @__PURE__ */ (function() {
    function Tbody2() {
    }
    ;
    Tbody2.value = new Tbody2();
    return Tbody2;
  })();
  var Thead = /* @__PURE__ */ (function() {
    function Thead2() {
    }
    ;
    Thead2.value = new Thead2();
    return Thead2;
  })();
  var elementContext = function(v) {
    if (v instanceof Circle2) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Rect2) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Path3) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Line2) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Text3) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Group2) {
      return SVGContext.value;
    }
    ;
    if (v instanceof SVG) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Div2) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Span2) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Table2) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Tr2) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Td2) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Th) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Tbody) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Thead) {
      return HTMLContext.value;
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Selection.Types (line 185, column 1 - line 185, column 47): " + [v.constructor.name]);
  };

  // output/PSD3v2.VizTree.Tree/index.js
  var append6 = /* @__PURE__ */ append(semigroupArray);
  var Node3 = /* @__PURE__ */ (function() {
    function Node4(value0) {
      this.value0 = value0;
    }
    ;
    Node4.create = function(value0) {
      return new Node4(value0);
    };
    return Node4;
  })();
  var Join2 = /* @__PURE__ */ (function() {
    function Join3(value0) {
      this.value0 = value0;
    }
    ;
    Join3.create = function(value0) {
      return new Join3(value0);
    };
    return Join3;
  })();
  var NestedJoin = /* @__PURE__ */ (function() {
    function NestedJoin2(value0) {
      this.value0 = value0;
    }
    ;
    NestedJoin2.create = function(value0) {
      return new NestedJoin2(value0);
    };
    return NestedJoin2;
  })();
  var withChildren = function(parent2) {
    return function(newChildren) {
      if (parent2 instanceof Node3) {
        return new Node3({
          name: parent2.value0.name,
          elemType: parent2.value0.elemType,
          attrs: parent2.value0.attrs,
          children: append6(parent2.value0.children)(newChildren)
        });
      }
      ;
      if (parent2 instanceof Join2) {
        return new Join2(parent2.value0);
      }
      ;
      if (parent2 instanceof NestedJoin) {
        return new NestedJoin(parent2.value0);
      }
      ;
      throw new Error("Failed pattern match at PSD3v2.VizTree.Tree (line 86, column 35 - line 89, column 33): " + [parent2.constructor.name]);
    };
  };
  var withChild = function(parent2) {
    return function(child) {
      if (parent2 instanceof Node3) {
        return new Node3({
          name: parent2.value0.name,
          elemType: parent2.value0.elemType,
          attrs: parent2.value0.attrs,
          children: append6(parent2.value0.children)([child])
        });
      }
      ;
      if (parent2 instanceof Join2) {
        return new Join2(parent2.value0);
      }
      ;
      if (parent2 instanceof NestedJoin) {
        return new NestedJoin(parent2.value0);
      }
      ;
      throw new Error("Failed pattern match at PSD3v2.VizTree.Tree (line 77, column 26 - line 80, column 33): " + [parent2.constructor.name]);
    };
  };
  var nestedJoin = function(name16) {
    return function(key) {
      return function(data$prime) {
        return function(decomposeFn) {
          return function(templateFn) {
            return new NestedJoin({
              name: name16,
              key,
              joinData: data$prime,
              decompose: decomposeFn,
              template: templateFn
            });
          };
        };
      };
    };
  };
  var named2 = function(elemType) {
    return function(name16) {
      return function(attrs) {
        return new Node3({
          name: new Just(name16),
          elemType,
          attrs,
          children: []
        });
      };
    };
  };
  var joinData = function(name16) {
    return function(key) {
      return function(data$prime) {
        return function(templateBuilder) {
          return new Join2({
            name: name16,
            key,
            joinData: data$prime,
            template: templateBuilder
          });
        };
      };
    };
  };
  var elem4 = function(elemType) {
    return function(attrs) {
      return new Node3({
        name: Nothing.value,
        elemType,
        attrs,
        children: []
      });
    };
  };

  // output/Web.DOM.Document/foreign.js
  var getEffProp2 = function(name16) {
    return function(doc) {
      return function() {
        return doc[name16];
      };
    };
  };
  var url = getEffProp2("URL");
  var documentURI = getEffProp2("documentURI");
  var origin = getEffProp2("origin");
  var compatMode = getEffProp2("compatMode");
  var characterSet = getEffProp2("characterSet");
  var contentType = getEffProp2("contentType");
  var _documentElement = getEffProp2("documentElement");
  function createElement2(localName2) {
    return function(doc) {
      return function() {
        return doc.createElement(localName2);
      };
    };
  }
  function _createElementNS(ns) {
    return function(qualifiedName) {
      return function(doc) {
        return function() {
          return doc.createElementNS(ns, qualifiedName);
        };
      };
    };
  }

  // output/Web.DOM.Document/index.js
  var createElementNS = function($6) {
    return _createElementNS(toNullable($6));
  };

  // output/Web.DOM.Node/foreign.js
  var getEffProp3 = function(name16) {
    return function(node) {
      return function() {
        return node[name16];
      };
    };
  };
  var baseURI = getEffProp3("baseURI");
  var _ownerDocument = getEffProp3("ownerDocument");
  var _parentNode = getEffProp3("parentNode");
  var _parentElement = getEffProp3("parentElement");
  var childNodes = getEffProp3("childNodes");
  var _firstChild = getEffProp3("firstChild");
  var _lastChild = getEffProp3("lastChild");
  var _previousSibling = getEffProp3("previousSibling");
  var _nextSibling = getEffProp3("nextSibling");
  var _nodeValue = getEffProp3("nodeValue");
  var textContent2 = getEffProp3("textContent");
  function insertBefore(node1) {
    return function(node2) {
      return function(parent2) {
        return function() {
          parent2.insertBefore(node1, node2);
        };
      };
    };
  }
  function appendChild(node) {
    return function(parent2) {
      return function() {
        parent2.appendChild(node);
      };
    };
  }
  function removeChild2(node) {
    return function(parent2) {
      return function() {
        parent2.removeChild(node);
      };
    };
  }

  // output/Web.DOM.Node/index.js
  var map25 = /* @__PURE__ */ map(functorEffect);
  var parentNode2 = /* @__PURE__ */ (function() {
    var $6 = map25(toMaybe);
    return function($7) {
      return $6(_parentNode($7));
    };
  })();
  var nextSibling = /* @__PURE__ */ (function() {
    var $15 = map25(toMaybe);
    return function($16) {
      return $15(_nextSibling($16));
    };
  })();

  // output/Web.DOM.NodeList/foreign.js
  function toArray2(list) {
    return function() {
      return [].slice.call(list);
    };
  }

  // output/Web.HTML/foreign.js
  var windowImpl = function() {
    return window;
  };

  // output/Web.HTML.HTMLDocument/foreign.js
  function _readyState(doc) {
    return doc.readyState;
  }

  // output/Web.HTML.HTMLDocument.ReadyState/index.js
  var Loading = /* @__PURE__ */ (function() {
    function Loading2() {
    }
    ;
    Loading2.value = new Loading2();
    return Loading2;
  })();
  var Interactive = /* @__PURE__ */ (function() {
    function Interactive2() {
    }
    ;
    Interactive2.value = new Interactive2();
    return Interactive2;
  })();
  var Complete = /* @__PURE__ */ (function() {
    function Complete2() {
    }
    ;
    Complete2.value = new Complete2();
    return Complete2;
  })();
  var parse = function(v) {
    if (v === "loading") {
      return new Just(Loading.value);
    }
    ;
    if (v === "interactive") {
      return new Just(Interactive.value);
    }
    ;
    if (v === "complete") {
      return new Just(Complete.value);
    }
    ;
    return Nothing.value;
  };

  // output/Web.HTML.HTMLDocument/index.js
  var map26 = /* @__PURE__ */ map(functorEffect);
  var toParentNode2 = unsafeCoerce2;
  var toDocument = unsafeCoerce2;
  var readyState = function(doc) {
    return map26((function() {
      var $4 = fromMaybe(Loading.value);
      return function($5) {
        return $4(parse($5));
      };
    })())(function() {
      return _readyState(doc);
    });
  };

  // output/Web.HTML.HTMLElement/foreign.js
  function _read(nothing, just, value15) {
    var tag = Object.prototype.toString.call(value15);
    if (tag.indexOf("[object HTML") === 0 && tag.indexOf("Element]") === tag.length - 8) {
      return just(value15);
    } else {
      return nothing;
    }
  }

  // output/Web.HTML.HTMLElement/index.js
  var toNode2 = unsafeCoerce2;
  var fromElement = function(x10) {
    return _read(Nothing.value, Just.create, x10);
  };

  // output/Web.HTML.Location/foreign.js
  function hash(location2) {
    return function() {
      return location2.hash;
    };
  }
  function setHash(hash2) {
    return function(location2) {
      return function() {
        location2.hash = hash2;
      };
    };
  }

  // output/Web.HTML.Window/foreign.js
  function document2(window2) {
    return function() {
      return window2.document;
    };
  }
  function location(window2) {
    return function() {
      return window2.location;
    };
  }
  function innerWidth(window2) {
    return function() {
      return window2.innerWidth;
    };
  }
  function innerHeight(window2) {
    return function() {
      return window2.innerHeight;
    };
  }

  // output/Web.HTML.Window/index.js
  var toEventTarget = unsafeCoerce2;

  // output/PSD3v2.Selection.Operations/index.js
  var bind5 = /* @__PURE__ */ bind(bindEffect);
  var pure7 = /* @__PURE__ */ pure(applicativeEffect);
  var mapFlipped3 = /* @__PURE__ */ mapFlipped(functorEffect);
  var lookup5 = /* @__PURE__ */ lookup2(ordString);
  var traverse_4 = /* @__PURE__ */ traverse_(applicativeEffect)(foldableArray);
  var traverse3 = /* @__PURE__ */ traverse(traversableArray)(applicativeEffect);
  var $$void6 = /* @__PURE__ */ $$void(functorEffect);
  var discard6 = /* @__PURE__ */ discard(discardUnit);
  var append14 = /* @__PURE__ */ append(semigroupArray);
  var liftEffect3 = /* @__PURE__ */ liftEffect(monadEffectEffect);
  var log4 = /* @__PURE__ */ log3(monadEffectEffect);
  var show8 = /* @__PURE__ */ show(showInt);
  var mapFlipped1 = /* @__PURE__ */ mapFlipped(functorMaybe);
  var compare5 = /* @__PURE__ */ compare(ordInt);
  var mapFlipped22 = /* @__PURE__ */ mapFlipped(functorArray);
  var show12 = /* @__PURE__ */ show(showNumber);
  var show22 = /* @__PURE__ */ show(showBoolean);
  var traverseWithIndex_2 = /* @__PURE__ */ traverseWithIndex_(applicativeEffect)(foldableWithIndexArray);
  var unsafeIndex3 = /* @__PURE__ */ unsafeIndex();
  var traverseWithIndex2 = /* @__PURE__ */ traverseWithIndex(traversableWithIndexArray)(applicativeEffect);
  var mod2 = /* @__PURE__ */ mod(euclideanRingInt);
  var union3 = /* @__PURE__ */ union2(ordString);
  var map27 = /* @__PURE__ */ map(functorArray);
  var insert7 = /* @__PURE__ */ insert(ordString);
  var stringToElementType = function(v) {
    if (v === "circle") {
      return Circle2.value;
    }
    ;
    if (v === "rect") {
      return Rect2.value;
    }
    ;
    if (v === "path") {
      return Path3.value;
    }
    ;
    if (v === "line") {
      return Line2.value;
    }
    ;
    if (v === "text") {
      return Text3.value;
    }
    ;
    if (v === "g") {
      return Group2.value;
    }
    ;
    if (v === "svg") {
      return SVG.value;
    }
    ;
    if (v === "div") {
      return Div2.value;
    }
    ;
    if (v === "span") {
      return Span2.value;
    }
    ;
    if (v === "table") {
      return Table2.value;
    }
    ;
    if (v === "tr") {
      return Tr2.value;
    }
    ;
    if (v === "td") {
      return Td2.value;
    }
    ;
    if (v === "th") {
      return Th.value;
    }
    ;
    if (v === "tbody") {
      return Tbody.value;
    }
    ;
    if (v === "thead") {
      return Thead.value;
    }
    ;
    return Group2.value;
  };
  var select5 = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(selector) {
      return liftEffect111(function __do3() {
        var htmlDoc = bind5(windowImpl)(document2)();
        var doc = toDocument(htmlDoc);
        var parentNode3 = toParentNode2(htmlDoc);
        var maybeElement = querySelector(selector)(parentNode3)();
        if (maybeElement instanceof Nothing) {
          return new EmptySelection({
            parentElements: [],
            document: doc
          });
        }
        ;
        if (maybeElement instanceof Just) {
          return new EmptySelection({
            parentElements: [maybeElement.value0],
            document: doc
          });
        }
        ;
        throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 76, column 3 - line 84, column 8): " + [maybeElement.constructor.name]);
      });
    };
  };
  var reselect = function(name16) {
    return function(selectionsMap) {
      return function __do3() {
        var doc = mapFlipped3(bind5(windowImpl)(document2))(toDocument)();
        var v = lookup5(name16)(selectionsMap);
        if (v instanceof Just) {
          var elements = (function() {
            if (v.value0 instanceof BoundSelection) {
              return v.value0.value0.elements;
            }
            ;
            if (v.value0 instanceof EmptySelection) {
              return v.value0.value0.parentElements;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1125, column 36 - line 1127, column 49): " + [v.value0.constructor.name]);
          })();
          return new EmptySelection({
            parentElements: elements,
            document: doc
          });
        }
        ;
        if (v instanceof Nothing) {
          return new EmptySelection({
            parentElements: [],
            document: doc
          });
        }
        ;
        throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 1120, column 3 - line 1138, column 10): " + [v.constructor.name]);
      };
    };
  };
  var remove3 = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(v) {
      return liftEffect111((function() {
        var v1 = (function() {
          if (v instanceof ExitingSelection) {
            return v.value0;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 256, column 36 - line 257, column 32): " + [v.constructor.name]);
        })();
        return traverse_4(function(element3) {
          var node = toNode(element3);
          return function __do3() {
            var maybeParent = parentNode2(node)();
            if (maybeParent instanceof Just) {
              return removeChild2(node)(maybeParent.value0)();
            }
            ;
            if (maybeParent instanceof Nothing) {
              return unit;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 261, column 5 - line 263, column 27): " + [maybeParent.constructor.name]);
          };
        })(v1.elements);
      })());
    };
  };
  var remove1 = /* @__PURE__ */ remove3(monadEffectEffect);
  var querySelectorAllElements = function(selector) {
    return function(parents) {
      return function __do3() {
        var nodeArrays = traverse3(function(parent2) {
          var parentNode3 = toParentNode(parent2);
          return function __do4() {
            var nodeList = querySelectorAll(selector)(parentNode3)();
            var nodes = toArray2(nodeList)();
            return mapMaybe(fromNode)(nodes);
          };
        })(parents)();
        return concat(nodeArrays);
      };
    };
  };
  var on3 = function(behavior) {
    return function(v) {
      var getElements = function(v1) {
        if (v1 instanceof EmptySelection) {
          return v1.value0.parentElements;
        }
        ;
        if (v1 instanceof BoundSelection) {
          return v1.value0.elements;
        }
        ;
        if (v1 instanceof PendingSelection) {
          return v1.value0.parentElements;
        }
        ;
        if (v1 instanceof ExitingSelection) {
          return v1.value0.elements;
        }
        ;
        throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 553, column 5 - line 553, column 61): " + [v1.constructor.name]);
      };
      var applyBehavior = function(v1) {
        return function(v2) {
          if (v1 instanceof Zoom2) {
            return $$void6(attachZoom_(v2)(v1.value0.scaleExtent.value0)(v1.value0.scaleExtent.value1)(v1.value0.targetSelector));
          }
          ;
          if (v1 instanceof Drag2 && v1.value0 instanceof SimpleDrag) {
            return $$void6(attachSimpleDrag_(v2)(unit));
          }
          ;
          if (v1 instanceof Drag2 && v1.value0 instanceof SimulationDrag) {
            return pure7(unit);
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 560, column 5 - line 560, column 56): " + [v1.constructor.name, v2.constructor.name]);
        };
      };
      var elements = getElements(v);
      return function __do3() {
        traverse_4(applyBehavior(behavior))(elements)();
        return v;
      };
    };
  };
  var merge = function(dictMonadEffect) {
    var pure114 = pure(dictMonadEffect.Monad0().Applicative0());
    return function(v) {
      return function(v1) {
        var v2 = (function() {
          if (v instanceof BoundSelection) {
            return v.value0;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 325, column 70 - line 326, column 30): " + [v.constructor.name]);
        })();
        var v3 = (function() {
          if (v1 instanceof BoundSelection) {
            return v1.value0;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 327, column 55 - line 328, column 30): " + [v1.constructor.name]);
        })();
        return pure114(new BoundSelection({
          elements: append14(v2.elements)(v3.elements),
          data: append14(v2.data)(v3.data),
          indices: Nothing.value,
          document: v2.document
        }));
      };
    };
  };
  var joinData2 = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(dictFoldable) {
      var fromFoldable21 = fromFoldable(dictFoldable);
      return function(dictOrd) {
        var computeJoin2 = computeJoin(dictOrd.Eq0());
        return function(foldableData) {
          return function(selector) {
            return function(v) {
              return liftEffect111((function() {
                var v1 = (function() {
                  if (v instanceof EmptySelection) {
                    return v.value0;
                  }
                  ;
                  throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 358, column 57 - line 359, column 30): " + [v.constructor.name]);
                })();
                return function __do3() {
                  var existingElements = querySelectorAllElements(selector)(v1.parentElements)();
                  var oldBindings = traverse3(function(element3) {
                    return function __do4() {
                      var nullableDatum = getElementData_(element3)();
                      var maybeDatum = toMaybe(nullableDatum);
                      return {
                        element: element3,
                        datum: maybeDatum
                      };
                    };
                  })(existingElements)();
                  liftEffect3(log4("joinData: found " + (show8(length(existingElements)) + (" existing elements with selector '" + (selector + "'")))))();
                  liftEffect3(log4("joinData: " + (show8(length(mapMaybe(function(v2) {
                    return v2.datum;
                  })(oldBindings))) + " of those have data bound")))();
                  var validOldBindings = mapMaybe(function(v2) {
                    return mapFlipped1(v2.datum)(function(d8) {
                      return {
                        element: v2.element,
                        datum: d8
                      };
                    });
                  })(oldBindings);
                  var newDataArray = fromFoldable21(foldableData);
                  var joinSets = computeJoin2(newDataArray)(validOldBindings);
                  var sortedEnter = sortBy(function(a2) {
                    return function(b10) {
                      return compare5(a2.newIndex)(b10.newIndex);
                    };
                  })(joinSets.enter);
                  var enterSelection = new PendingSelection({
                    parentElements: v1.parentElements,
                    pendingData: mapFlipped22(sortedEnter)(function(v2) {
                      return v2.datum;
                    }),
                    indices: new Just(mapFlipped22(sortedEnter)(function(v2) {
                      return v2.newIndex;
                    })),
                    document: v1.document
                  });
                  var sortedUpdate = sortBy(function(a2) {
                    return function(b10) {
                      return compare5(a2.newIndex)(b10.newIndex);
                    };
                  })(joinSets.update);
                  var updateSelection = new BoundSelection({
                    elements: mapFlipped22(sortedUpdate)(function(v2) {
                      return v2.element;
                    }),
                    data: mapFlipped22(sortedUpdate)(function(v2) {
                      return v2.newDatum;
                    }),
                    indices: new Just(mapFlipped22(sortedUpdate)(function(v2) {
                      return v2.newIndex;
                    })),
                    document: v1.document
                  });
                  var exitSelection = new ExitingSelection({
                    elements: mapFlipped22(joinSets.exit)(function(v2) {
                      return v2.element;
                    }),
                    data: mapFlipped22(joinSets.exit)(function(v2) {
                      return v2.datum;
                    }),
                    document: v1.document
                  });
                  return new JoinResult({
                    enter: enterSelection,
                    update: updateSelection,
                    exit: exitSelection
                  });
                };
              })());
            };
          };
        };
      };
    };
  };
  var joinData1 = /* @__PURE__ */ joinData2(monadEffectEffect)(foldableArray);
  var getSimulationHandle = function($460) {
    return toMaybe(getSimulationHandle_($460));
  };
  var onWithSimulation = function(behavior) {
    return function(simState) {
      return function(v) {
        var getElements = function(v1) {
          if (v1 instanceof EmptySelection) {
            return v1.value0.parentElements;
          }
          ;
          if (v1 instanceof BoundSelection) {
            return v1.value0.elements;
          }
          ;
          if (v1 instanceof PendingSelection) {
            return v1.value0.parentElements;
          }
          ;
          if (v1 instanceof ExitingSelection) {
            return v1.value0.elements;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 592, column 5 - line 592, column 61): " + [v1.constructor.name]);
        };
        var applyBehaviorWithSim = function(v1) {
          return function(v2) {
            return function(v3) {
              if (v1 instanceof Zoom2) {
                return $$void6(attachZoom_(v3)(v1.value0.scaleExtent.value0)(v1.value0.scaleExtent.value1)(v1.value0.targetSelector));
              }
              ;
              if (v1 instanceof Drag2 && v1.value0 instanceof SimpleDrag) {
                return $$void6(attachSimpleDrag_(v3)(unit));
              }
              ;
              if (v1 instanceof Drag2 && v1.value0 instanceof SimulationDrag) {
                var simHandle = getSimulationHandle(v2);
                return $$void6(attachSimulationDrag_(v3)(toNullable(simHandle))(v1.value0.value0));
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 599, column 5 - line 599, column 87): " + [v1.constructor.name, v2.constructor.name, v3.constructor.name]);
            };
          };
        };
        var elements = getElements(v);
        return function __do3() {
          traverse_4(applyBehaviorWithSim(behavior)(simState))(elements)();
          return v;
        };
      };
    };
  };
  var getDocument = function(v) {
    if (v instanceof EmptySelection) {
      return pure7(v.value0.document);
    }
    ;
    if (v instanceof BoundSelection) {
      return pure7(v.value0.document);
    }
    ;
    if (v instanceof PendingSelection) {
      return pure7(v.value0.document);
    }
    ;
    if (v instanceof ExitingSelection) {
      return pure7(v.value0.document);
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 497, column 1 - line 497, column 82): " + [v.constructor.name]);
  };
  var selectAll = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(selector) {
      return function(v) {
        return liftEffect111(function __do3() {
          var doc = getDocument(v)();
          var elements = (function() {
            if (v instanceof EmptySelection) {
              return querySelectorAllElements(selector)(v.value0.parentElements)();
            }
            ;
            if (v instanceof BoundSelection) {
              return querySelectorAllElements(selector)(v.value0.elements)();
            }
            ;
            if (v instanceof PendingSelection) {
              return querySelectorAllElements(selector)(v.value0.parentElements)();
            }
            ;
            if (v instanceof ExitingSelection) {
              return querySelectorAllElements(selector)(v.value0.elements)();
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 105, column 15 - line 113, column 50): " + [v.constructor.name]);
          })();
          return new EmptySelection({
            parentElements: elements,
            document: doc
          });
        });
      };
    };
  };
  var elementTypeToString = function(v) {
    if (v instanceof Circle2) {
      return "circle";
    }
    ;
    if (v instanceof Rect2) {
      return "rect";
    }
    ;
    if (v instanceof Path3) {
      return "path";
    }
    ;
    if (v instanceof Line2) {
      return "line";
    }
    ;
    if (v instanceof Text3) {
      return "text";
    }
    ;
    if (v instanceof Group2) {
      return "g";
    }
    ;
    if (v instanceof SVG) {
      return "svg";
    }
    ;
    if (v instanceof Div2) {
      return "div";
    }
    ;
    if (v instanceof Span2) {
      return "span";
    }
    ;
    if (v instanceof Table2) {
      return "table";
    }
    ;
    if (v instanceof Tr2) {
      return "tr";
    }
    ;
    if (v instanceof Td2) {
      return "td";
    }
    ;
    if (v instanceof Th) {
      return "th";
    }
    ;
    if (v instanceof Tbody) {
      return "tbody";
    }
    ;
    if (v instanceof Thead) {
      return "thead";
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 642, column 1 - line 642, column 45): " + [v.constructor.name]);
  };
  var createElementWithNS = function(elemType) {
    return function(doc) {
      var v = elementContext(elemType);
      if (v instanceof SVGContext) {
        return createElementNS(new Just("http://www.w3.org/2000/svg"))(elementTypeToString(elemType))(doc);
      }
      ;
      if (v instanceof HTMLContext) {
        return createElement2(elementTypeToString(elemType))(doc);
      }
      ;
      throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 507, column 3 - line 513, column 64): " + [v.constructor.name]);
    };
  };
  var attributeValueToString = function(v) {
    if (v instanceof StringValue) {
      return v.value0;
    }
    ;
    if (v instanceof NumberValue) {
      return show12(v.value0);
    }
    ;
    if (v instanceof BooleanValue) {
      return show22(v.value0);
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 637, column 1 - line 637, column 51): " + [v.constructor.name]);
  };
  var applyAttributes = function(element3) {
    return function(datum2) {
      return function(index5) {
        return function(attrs) {
          return traverse_4(function(attr3) {
            if (attr3 instanceof StaticAttr) {
              var $272 = attr3.value0 === "textContent";
              if ($272) {
                return setTextContent_(attributeValueToString(attr3.value1))(element3);
              }
              ;
              return setAttribute2(attr3.value0)(attributeValueToString(attr3.value1))(element3);
            }
            ;
            if (attr3 instanceof DataAttr) {
              var val = attributeValueToString(attr3.value1(datum2));
              var $275 = attr3.value0 === "textContent";
              if ($275) {
                return setTextContent_(val)(element3);
              }
              ;
              return setAttribute2(attr3.value0)(val)(element3);
            }
            ;
            if (attr3 instanceof IndexedAttr) {
              var val = attributeValueToString(attr3.value1(datum2)(index5));
              var $278 = attr3.value0 === "textContent";
              if ($278) {
                return setTextContent_(val)(element3);
              }
              ;
              return setAttribute2(attr3.value0)(val)(element3);
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 619, column 30 - line 635, column 54): " + [attr3.constructor.name]);
          })(attrs);
        };
      };
    };
  };
  var applyPerDatumAttrs = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(mkAttrs) {
      return function(v) {
        return liftEffect111((function() {
          if (v instanceof BoundSelection) {
            var paired = zipWith(Tuple.create)(v.value0.data)(v.value0.elements);
            return function __do3() {
              traverseWithIndex_2(function(index5) {
                return function(v1) {
                  var attrs = mkAttrs(v1.value0);
                  return applyAttributes(v1.value1)(v1.value0)(index5)(attrs);
                };
              })(paired)();
              return v;
            };
          }
          ;
          return pure7(v);
        })());
      };
    };
  };
  var setAttrs = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(attrs) {
      return function(v) {
        return liftEffect111((function() {
          var v1 = (function() {
            if (v instanceof BoundSelection) {
              return v.value0;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 195, column 78 - line 196, column 30): " + [v.constructor.name]);
          })();
          var paired = zipWith(Tuple.create)(v1.data)(v1.elements);
          return function __do3() {
            traverseWithIndex_2(function(arrayIndex) {
              return function(v2) {
                var logicalIndex = (function() {
                  if (v1.indices instanceof Just) {
                    return unsafeIndex3(v1.indices.value0)(arrayIndex);
                  }
                  ;
                  if (v1.indices instanceof Nothing) {
                    return arrayIndex;
                  }
                  ;
                  throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 200, column 24 - line 202, column 32): " + [v1.indices.constructor.name]);
                })();
                return applyAttributes(v2.value1)(v2.value0)(logicalIndex)(attrs);
              };
            })(paired)();
            return new BoundSelection({
              elements: v1.elements,
              data: v1.data,
              indices: v1.indices,
              document: v1.document
            });
          };
        })());
      };
    };
  };
  var setAttrsExit = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(attrs) {
      return function(v) {
        return liftEffect111((function() {
          var v1 = (function() {
            if (v instanceof ExitingSelection) {
              return v.value0;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 228, column 69 - line 229, column 32): " + [v.constructor.name]);
          })();
          var paired = zipWith(Tuple.create)(v1.data)(v1.elements);
          return function __do3() {
            traverseWithIndex_2(function(index5) {
              return function(v2) {
                return applyAttributes(v2.value1)(v2.value0)(index5)(attrs);
              };
            })(paired)();
            return new ExitingSelection({
              elements: v1.elements,
              data: v1.data,
              document: v1.document
            });
          };
        })());
      };
    };
  };
  var updateElementFromTree = function(element3) {
    return function(datum2) {
      return function(index5) {
        return function(tree3) {
          return function(doc) {
            return function __do3() {
              setElementData_(datum2)(element3)();
              if (tree3 instanceof Node3) {
                return applyAttributes(element3)(datum2)(index5)(tree3.value0.attrs)();
              }
              ;
              return unit;
            };
          };
        };
      };
    };
  };
  var renderTemplatesForBoundSelection = function(dictOrd) {
    return function(templateFn) {
      return function(boundSel) {
        var v = (function() {
          if (boundSel instanceof BoundSelection) {
            return boundSel.value0;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 947, column 68 - line 948, column 34): " + [boundSel.constructor.name]);
        })();
        return traverseWithIndex2(function(idx) {
          return function(datum2) {
            var v1 = index(v.elements)(idx);
            if (v1 instanceof Nothing) {
              return unsafeCrashWith("renderTemplatesForBoundSelection: index out of bounds");
            }
            ;
            if (v1 instanceof Just) {
              var tree3 = templateFn(datum2);
              var elementSel = new BoundSelection({
                elements: [v1.value0],
                data: [datum2],
                indices: new Just([idx]),
                document: v.document
              });
              return function __do3() {
                updateElementFromTree(v1.value0)(datum2)(idx)(tree3)(v.document)();
                return new Tuple(v1.value0, empty3);
              };
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 952, column 5 - line 975, column 39): " + [v1.constructor.name]);
          };
        })(v.data);
      };
    };
  };
  var appendChild2 = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(elemType) {
      return function(attrs) {
        return function(v) {
          return liftEffect111((function() {
            var v1 = (function() {
              if (v instanceof EmptySelection) {
                return v.value0;
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 288, column 57 - line 289, column 30): " + [v.constructor.name]);
            })();
            return function __do3() {
              var elements = traverse3(function(parent2) {
                return function __do4() {
                  var element3 = createElementWithNS(elemType)(v1.document)();
                  applyAttributes(element3)(unit)(0)(attrs)();
                  var elementNode = toNode(element3);
                  var parentNode3 = toNode(parent2);
                  appendChild(elementNode)(parentNode3)();
                  return element3;
                };
              })(v1.parentElements)();
              return new EmptySelection({
                parentElements: elements,
                document: v1.document
              });
            };
          })());
        };
      };
    };
  };
  var appendChild1 = /* @__PURE__ */ appendChild2(monadEffectEffect);
  var renderTemplatesForPendingSelection = function(dictOrd) {
    return function(templateFn) {
      return function(pendingSel) {
        var v = (function() {
          if (pendingSel instanceof PendingSelection) {
            return pendingSel.value0;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 902, column 70 - line 903, column 36): " + [pendingSel.constructor.name]);
        })();
        return traverseWithIndex2(function(idx) {
          return function(datum2) {
            var parentIdx = mod2(idx)(length(v.parentElements));
            var v1 = index(v.parentElements)(parentIdx);
            if (v1 instanceof Nothing) {
              return unsafeCrashWith("renderTemplatesForPendingSelection: no parent elements");
            }
            ;
            if (v1 instanceof Just) {
              var tree3 = templateFn(datum2);
              var singleParentSel = new EmptySelection({
                parentElements: [v1.value0],
                document: v.document
              });
              return function __do3() {
                var v2 = renderNodeHelper(dictOrd)(singleParentSel)(tree3)();
                setElementData_(datum2)(v2.value0)();
                return new Tuple(v2.value0, v2.value1);
              };
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 910, column 5 - line 929, column 45): " + [v1.constructor.name]);
          };
        })(v.pendingData);
      };
    };
  };
  var renderNodeHelper = function(dictOrd) {
    var joinData22 = joinData1(dictOrd);
    var renderTemplatesForBoundSelection1 = renderTemplatesForBoundSelection(dictOrd);
    return function(v) {
      return function(v1) {
        if (v1 instanceof Node3) {
          return function __do3() {
            var childSel = appendChild1(v1.value0.elemType)(v1.value0.attrs)(v)();
            var element3 = (function() {
              if (childSel instanceof EmptySelection) {
                var v2 = head(childSel.value0.parentElements);
                if (v2 instanceof Just) {
                  return v2.value0;
                }
                ;
                if (v2 instanceof Nothing) {
                  return unsafeCrashWith("renderTree: appendChild returned empty selection");
                }
                ;
                throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 700, column 31 - line 702, column 104): " + [v2.constructor.name]);
              }
              ;
              return unsafeCrashWith("renderTree: appendChild should return EmptySelection");
            })();
            var childMaps = traverse3(renderNodeHelper(dictOrd)(childSel))(v1.value0.children)();
            var combinedChildMap = foldl2(union3)(empty3)(map27(snd)(childMaps));
            var selectionsMap = (function() {
              if (v1.value0.name instanceof Just) {
                return insert7(v1.value0.name.value0)(childSel)(combinedChildMap);
              }
              ;
              if (v1.value0.name instanceof Nothing) {
                return combinedChildMap;
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 710, column 23 - line 712, column 36): " + [v1.value0.name.constructor.name]);
            })();
            return new Tuple(element3, selectionsMap);
          };
        }
        ;
        if (v1 instanceof Join2) {
          return function __do3() {
            var v2 = joinData22(v1.value0.joinData)(v1.value0.key)(v)();
            liftEffect3((function() {
              var enterCount = (function() {
                if (v2.value0.enter instanceof PendingSelection) {
                  return length(v2.value0.enter.value0.pendingData);
                }
                ;
                return 0;
              })();
              var updateCount = (function() {
                if (v2.value0.update instanceof BoundSelection) {
                  return length(v2.value0.update.value0.data);
                }
                ;
                return 0;
              })();
              var exitCount = (function() {
                if (v2.value0.exit instanceof BoundSelection) {
                  return length(v2.value0.exit.value0.data);
                }
                ;
                if (v2.value0.exit instanceof ExitingSelection) {
                  return length(v2.value0.exit.value0.data);
                }
                ;
                return 0;
              })();
              return log4("Tree API Join '" + (v1.value0.name + ("': enter=" + (show8(enterCount) + (", update=" + (show8(updateCount) + (", exit=" + show8(exitCount))))))));
            })())();
            remove1(v2.value0.exit)();
            var enterElementsAndMaps = renderTemplatesForPendingSelection(dictOrd)(v1.value0.template)(v2.value0.enter)();
            var enterElements = map27(fst)(enterElementsAndMaps);
            var enterChildMaps = map27(snd)(enterElementsAndMaps);
            var updateElementsAndMaps = renderTemplatesForBoundSelection1(v1.value0.template)(v2.value0.update)();
            var updateElements = map27(fst)(updateElementsAndMaps);
            var updateChildMaps = map27(snd)(updateElementsAndMaps);
            var allElements = append14(enterElements)(updateElements);
            var allChildMaps = append14(enterChildMaps)(updateChildMaps);
            var combinedChildMap = foldl2(union3)(empty3)(allChildMaps);
            var doc = (function() {
              if (v2.value0.enter instanceof PendingSelection) {
                return v2.value0.enter.value0.document;
              }
              ;
              if (v2.value0.update instanceof BoundSelection) {
                return v2.value0.update.value0.document;
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 768, column 14 - line 769, column 45): " + [v2.value0.update.constructor.name]);
            })();
            var allData = (function() {
              if (v2.value0.enter instanceof PendingSelection) {
                return v2.value0.enter.value0.pendingData;
              }
              ;
              return [];
            })();
            var updateData = (function() {
              if (v2.value0.update instanceof BoundSelection) {
                return v2.value0.update.value0.data;
              }
              ;
              return [];
            })();
            var boundSel = new BoundSelection({
              elements: allElements,
              data: append14(allData)(updateData),
              indices: new Just(range2(0)(length(allElements) - 1 | 0)),
              document: doc
            });
            var selectionsMap = insert7(v1.value0.name)(boundSel)(combinedChildMap);
            var firstElement = (function() {
              var v3 = head(allElements);
              if (v3 instanceof Just) {
                return v3.value0;
              }
              ;
              if (v3 instanceof Nothing) {
                return unsafeCrashWith("renderTree Join: no elements created");
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 791, column 22 - line 793, column 90): " + [v3.constructor.name]);
            })();
            return new Tuple(firstElement, selectionsMap);
          };
        }
        ;
        if (v1 instanceof NestedJoin) {
          return function __do3() {
            var v2 = joinData22(v1.value0.joinData)(v1.value0.key)(v)();
            var elementsAndMaps = renderNestedTemplatesForPendingSelection(dictOrd)(v1.value0.decompose)(v1.value0.template)(stringToElementType(v1.value0.key))(v2.value0.enter)();
            var elements = map27(fst)(elementsAndMaps);
            var childMaps = map27(snd)(elementsAndMaps);
            var combinedChildMap = foldl2(union3)(empty3)(childMaps);
            var v3 = (function() {
              if (v2.value0.enter instanceof PendingSelection) {
                return v2.value0.enter.value0;
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 816, column 54 - line 817, column 36): " + [v2.value0.enter.constructor.name]);
            })();
            var boundSel = new BoundSelection({
              elements,
              data: v3.pendingData,
              indices: new Just(range2(0)(length(elements) - 1 | 0)),
              document: v3.document
            });
            var selectionsMap = insert7(v1.value0.name)(boundSel)(combinedChildMap);
            var firstElement = (function() {
              var v4 = head(elements);
              if (v4 instanceof Just) {
                return v4.value0;
              }
              ;
              if (v4 instanceof Nothing) {
                return unsafeCrashWith("renderTree NestedJoin: no elements created");
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 831, column 22 - line 833, column 96): " + [v4.constructor.name]);
            })();
            return new Tuple(firstElement, selectionsMap);
          };
        }
        ;
        throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 687, column 1 - line 692, column 70): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var renderNestedTemplatesForPendingSelection = function(dictOrd) {
    return function(decomposer) {
      return function(templateFn) {
        return function(wrapperType) {
          return function(pendingSel) {
            var v = (function() {
              if (pendingSel instanceof PendingSelection) {
                return pendingSel.value0;
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 853, column 70 - line 854, column 36): " + [pendingSel.constructor.name]);
            })();
            return traverseWithIndex2(function(idx) {
              return function(outerDatum) {
                var parentIdx = mod2(idx)(length(v.parentElements));
                var v1 = index(v.parentElements)(parentIdx);
                if (v1 instanceof Nothing) {
                  return unsafeCrashWith("renderNestedTemplatesForPendingSelection: no parent elements");
                }
                ;
                if (v1 instanceof Just) {
                  return function __do3() {
                    var wrapperElement = createElementWithNS(wrapperType)(v.document)();
                    var wrapperNode = toNode(wrapperElement);
                    var parentNode3 = toNode(v1.value0);
                    appendChild(wrapperNode)(parentNode3)();
                    var innerDataArray = decomposer(outerDatum);
                    var innerMaps = traverse3(function(innerDatum) {
                      var tree3 = templateFn(innerDatum);
                      var singleParentSel = new EmptySelection({
                        parentElements: [wrapperElement],
                        document: v.document
                      });
                      return function __do4() {
                        var v2 = renderNodeHelper(dictOrd)(singleParentSel)(tree3)();
                        return v2.value1;
                      };
                    })(innerDataArray)();
                    var combinedInnerMap = foldl2(union3)(empty3)(innerMaps);
                    return new Tuple(wrapperElement, combinedInnerMap);
                  };
                }
                ;
                throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 858, column 5 - line 884, column 53): " + [v1.constructor.name]);
              };
            })(v.pendingData);
          };
        };
      };
    };
  };
  var renderTree2 = function(dictOrd) {
    var renderNodeHelper1 = renderNodeHelper(dictOrd);
    return function(parent2) {
      return function(tree3) {
        return function __do3() {
          var v = renderNodeHelper1(parent2)(tree3)();
          return v.value1;
        };
      };
    };
  };
  var append7 = function(dictMonadEffect) {
    var liftEffect111 = liftEffect(dictMonadEffect);
    return function(elemType) {
      return function(attrs) {
        return function(v) {
          return liftEffect111((function() {
            var v1 = (function() {
              if (v instanceof PendingSelection) {
                return v.value0;
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 142, column 79 - line 143, column 32): " + [v.constructor.name]);
            })();
            var parent2 = (function() {
              var v2 = head(v1.parentElements);
              if (v2 instanceof Just) {
                return v2.value0;
              }
              ;
              if (v2 instanceof Nothing) {
                return unsafeIndex3(v1.parentElements)(0);
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 147, column 16 - line 149, column 70): " + [v2.constructor.name]);
            })();
            return function __do3() {
              var elements = traverseWithIndex2(function(arrayIndex) {
                return function(datum2) {
                  var logicalIndex = (function() {
                    if (v1.indices instanceof Just) {
                      return unsafeIndex3(v1.indices.value0)(arrayIndex);
                    }
                    ;
                    if (v1.indices instanceof Nothing) {
                      return arrayIndex;
                    }
                    ;
                    throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 153, column 24 - line 155, column 32): " + [v1.indices.constructor.name]);
                  })();
                  return function __do4() {
                    var element3 = createElementWithNS(elemType)(v1.document)();
                    applyAttributes(element3)(datum2)(logicalIndex)(attrs)();
                    setElementData_(datum2)(element3)();
                    var elementNode = toNode(element3);
                    var parentNode3 = toNode(parent2);
                    appendChild(elementNode)(parentNode3)();
                    return element3;
                  };
                };
              })(v1.pendingData)();
              return new BoundSelection({
                elements,
                data: v1.pendingData,
                indices: v1.indices,
                document: v1.document
              });
            };
          })());
        };
      };
    };
  };
  var renderData = function(dictMonadEffect) {
    var Monad0 = dictMonadEffect.Monad0();
    var Bind1 = Monad0.Bind1();
    var bind115 = bind(Bind1);
    var joinData22 = joinData2(dictMonadEffect);
    var append32 = append7(dictMonadEffect);
    var pure114 = pure(Monad0.Applicative0());
    var applyPerDatumAttrs1 = applyPerDatumAttrs(dictMonadEffect);
    var discard210 = discard6(Bind1);
    var remove22 = remove3(dictMonadEffect);
    var merge1 = merge(dictMonadEffect);
    return function(dictFoldable) {
      var joinData32 = joinData22(dictFoldable);
      return function(dictOrd) {
        var joinData4 = joinData32(dictOrd);
        return function(elemType) {
          return function(foldableData) {
            return function(selector) {
              return function(emptySelection) {
                return function(enterAttrs) {
                  return function(updateAttrs) {
                    return function(exitAttrs) {
                      return bind115(joinData4(foldableData)(selector)(emptySelection))(function(v) {
                        return bind115(bind115(append32(elemType)([])(v.value0.enter))(function(bound) {
                          if (enterAttrs instanceof Nothing) {
                            return pure114(bound);
                          }
                          ;
                          if (enterAttrs instanceof Just) {
                            return applyPerDatumAttrs1(enterAttrs.value0)(bound);
                          }
                          ;
                          throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 452, column 5 - line 454, column 55): " + [enterAttrs.constructor.name]);
                        }))(function(enterBound) {
                          return bind115((function() {
                            if (updateAttrs instanceof Nothing) {
                              return pure114(v.value0.update);
                            }
                            ;
                            if (updateAttrs instanceof Just) {
                              return applyPerDatumAttrs1(updateAttrs.value0)(v.value0.update);
                            }
                            ;
                            throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 457, column 18 - line 459, column 54): " + [updateAttrs.constructor.name]);
                          })())(function(updateBound) {
                            return discard210((function() {
                              if (exitAttrs instanceof Nothing) {
                                return remove22(v.value0.exit);
                              }
                              ;
                              if (exitAttrs instanceof Just) {
                                return bind115(applyPerDatumAttrs1(exitAttrs.value0)(v.value0.exit))(function() {
                                  return remove22(v.value0.exit);
                                });
                              }
                              ;
                              throw new Error("Failed pattern match at PSD3v2.Selection.Operations (line 462, column 3 - line 466, column 18): " + [exitAttrs.constructor.name]);
                            })())(function() {
                              return merge1(enterBound)(updateBound);
                            });
                          });
                        });
                      });
                    };
                  };
                };
              };
            };
          };
        };
      };
    };
  };

  // output/PSD3v2.Transition.FFI/foreign.js
  function createTransition_(duration2) {
    return function(delay2) {
      return function(easingName) {
        return function(element3) {
          return function() {
            console.log("createTransition_: Creating transition", { duration: duration2, delay: delay2, easingName, element: element3 });
            let transition2 = select_default2(element3).transition();
            transition2 = transition2.duration(duration2);
            if (delay2 != null) {
              transition2 = transition2.delay(delay2);
            }
            if (easingName != null) {
              const easingFn = getD3EasingFunction(easingName);
              if (easingFn) {
                transition2 = transition2.ease(easingFn);
              }
              console.log("createTransition_: Applied easing", easingName);
            }
            console.log("createTransition_: Transition created", transition2);
            return transition2;
          };
        };
      };
    };
  }
  function transitionSetAttribute_(name16) {
    return function(value15) {
      return function(transition2) {
        return function() {
          console.log("transitionSetAttribute_: Setting attribute", { name: name16, value: value15, transition: transition2 });
          transition2.attr(name16, value15);
        };
      };
    };
  }
  function transitionRemove_(transition2) {
    return function() {
      console.log("transitionRemove_: Scheduling removal after transition");
      transition2.remove();
    };
  }
  function getD3EasingFunction(name16) {
    const easingMap = {
      // Linear
      "linear": linear2,
      // Polynomial (Quad, Cubic)
      "quad": quadInOut,
      "quadIn": quadIn,
      "quadOut": quadOut,
      "quadInOut": quadInOut,
      "cubic": cubicInOut,
      "cubicIn": cubicIn,
      "cubicOut": cubicOut,
      "cubicInOut": cubicInOut,
      // Sinusoidal
      "sin": sinInOut,
      "sinIn": sinIn,
      "sinOut": sinOut,
      "sinInOut": sinInOut,
      // Exponential
      "exp": expInOut,
      "expIn": expIn,
      "expOut": expOut,
      "expInOut": expInOut,
      // Circular
      "circle": circleInOut,
      "circleIn": circleIn,
      "circleOut": circleOut,
      "circleInOut": circleInOut,
      // Elastic
      "elastic": elasticOut,
      "elasticIn": elasticIn,
      "elasticOut": elasticOut,
      "elasticInOut": elasticInOut,
      // Back
      "back": backInOut,
      "backIn": backIn,
      "backOut": backOut,
      "backInOut": backInOut,
      // Bounce
      "bounce": bounceOut,
      "bounceIn": bounceIn,
      "bounceOut": bounceOut,
      "bounceInOut": bounceInOut
    };
    return easingMap[name16];
  }

  // output/PSD3v2.Transition.Types/index.js
  var Linear = /* @__PURE__ */ (function() {
    function Linear2() {
    }
    ;
    Linear2.value = new Linear2();
    return Linear2;
  })();
  var Cubic = /* @__PURE__ */ (function() {
    function Cubic2() {
    }
    ;
    Cubic2.value = new Cubic2();
    return Cubic2;
  })();
  var CubicIn = /* @__PURE__ */ (function() {
    function CubicIn2() {
    }
    ;
    CubicIn2.value = new CubicIn2();
    return CubicIn2;
  })();
  var CubicOut = /* @__PURE__ */ (function() {
    function CubicOut2() {
    }
    ;
    CubicOut2.value = new CubicOut2();
    return CubicOut2;
  })();
  var CubicInOut = /* @__PURE__ */ (function() {
    function CubicInOut2() {
    }
    ;
    CubicInOut2.value = new CubicInOut2();
    return CubicInOut2;
  })();
  var Quad = /* @__PURE__ */ (function() {
    function Quad2() {
    }
    ;
    Quad2.value = new Quad2();
    return Quad2;
  })();
  var QuadIn = /* @__PURE__ */ (function() {
    function QuadIn2() {
    }
    ;
    QuadIn2.value = new QuadIn2();
    return QuadIn2;
  })();
  var QuadOut = /* @__PURE__ */ (function() {
    function QuadOut2() {
    }
    ;
    QuadOut2.value = new QuadOut2();
    return QuadOut2;
  })();
  var QuadInOut = /* @__PURE__ */ (function() {
    function QuadInOut2() {
    }
    ;
    QuadInOut2.value = new QuadInOut2();
    return QuadInOut2;
  })();
  var Sin = /* @__PURE__ */ (function() {
    function Sin2() {
    }
    ;
    Sin2.value = new Sin2();
    return Sin2;
  })();
  var SinIn = /* @__PURE__ */ (function() {
    function SinIn2() {
    }
    ;
    SinIn2.value = new SinIn2();
    return SinIn2;
  })();
  var SinOut = /* @__PURE__ */ (function() {
    function SinOut2() {
    }
    ;
    SinOut2.value = new SinOut2();
    return SinOut2;
  })();
  var SinInOut = /* @__PURE__ */ (function() {
    function SinInOut2() {
    }
    ;
    SinInOut2.value = new SinInOut2();
    return SinInOut2;
  })();
  var Exp = /* @__PURE__ */ (function() {
    function Exp2() {
    }
    ;
    Exp2.value = new Exp2();
    return Exp2;
  })();
  var ExpIn = /* @__PURE__ */ (function() {
    function ExpIn2() {
    }
    ;
    ExpIn2.value = new ExpIn2();
    return ExpIn2;
  })();
  var ExpOut = /* @__PURE__ */ (function() {
    function ExpOut2() {
    }
    ;
    ExpOut2.value = new ExpOut2();
    return ExpOut2;
  })();
  var ExpInOut = /* @__PURE__ */ (function() {
    function ExpInOut2() {
    }
    ;
    ExpInOut2.value = new ExpInOut2();
    return ExpInOut2;
  })();
  var Circle3 = /* @__PURE__ */ (function() {
    function Circle4() {
    }
    ;
    Circle4.value = new Circle4();
    return Circle4;
  })();
  var CircleIn = /* @__PURE__ */ (function() {
    function CircleIn2() {
    }
    ;
    CircleIn2.value = new CircleIn2();
    return CircleIn2;
  })();
  var CircleOut = /* @__PURE__ */ (function() {
    function CircleOut2() {
    }
    ;
    CircleOut2.value = new CircleOut2();
    return CircleOut2;
  })();
  var CircleInOut = /* @__PURE__ */ (function() {
    function CircleInOut2() {
    }
    ;
    CircleInOut2.value = new CircleInOut2();
    return CircleInOut2;
  })();
  var Elastic = /* @__PURE__ */ (function() {
    function Elastic2() {
    }
    ;
    Elastic2.value = new Elastic2();
    return Elastic2;
  })();
  var ElasticIn = /* @__PURE__ */ (function() {
    function ElasticIn2() {
    }
    ;
    ElasticIn2.value = new ElasticIn2();
    return ElasticIn2;
  })();
  var ElasticOut = /* @__PURE__ */ (function() {
    function ElasticOut2() {
    }
    ;
    ElasticOut2.value = new ElasticOut2();
    return ElasticOut2;
  })();
  var ElasticInOut = /* @__PURE__ */ (function() {
    function ElasticInOut2() {
    }
    ;
    ElasticInOut2.value = new ElasticInOut2();
    return ElasticInOut2;
  })();
  var Back = /* @__PURE__ */ (function() {
    function Back2() {
    }
    ;
    Back2.value = new Back2();
    return Back2;
  })();
  var BackIn = /* @__PURE__ */ (function() {
    function BackIn2() {
    }
    ;
    BackIn2.value = new BackIn2();
    return BackIn2;
  })();
  var BackOut = /* @__PURE__ */ (function() {
    function BackOut2() {
    }
    ;
    BackOut2.value = new BackOut2();
    return BackOut2;
  })();
  var BackInOut = /* @__PURE__ */ (function() {
    function BackInOut2() {
    }
    ;
    BackInOut2.value = new BackInOut2();
    return BackInOut2;
  })();
  var Bounce = /* @__PURE__ */ (function() {
    function Bounce2() {
    }
    ;
    Bounce2.value = new Bounce2();
    return Bounce2;
  })();
  var BounceIn = /* @__PURE__ */ (function() {
    function BounceIn2() {
    }
    ;
    BounceIn2.value = new BounceIn2();
    return BounceIn2;
  })();
  var BounceOut = /* @__PURE__ */ (function() {
    function BounceOut2() {
    }
    ;
    BounceOut2.value = new BounceOut2();
    return BounceOut2;
  })();
  var BounceInOut = /* @__PURE__ */ (function() {
    function BounceInOut2() {
    }
    ;
    BounceInOut2.value = new BounceInOut2();
    return BounceInOut2;
  })();
  var showEasing = {
    show: function(v) {
      if (v instanceof Linear) {
        return "linear";
      }
      ;
      if (v instanceof Cubic) {
        return "cubic";
      }
      ;
      if (v instanceof CubicIn) {
        return "cubicIn";
      }
      ;
      if (v instanceof CubicOut) {
        return "cubicOut";
      }
      ;
      if (v instanceof CubicInOut) {
        return "cubicInOut";
      }
      ;
      if (v instanceof Quad) {
        return "quad";
      }
      ;
      if (v instanceof QuadIn) {
        return "quadIn";
      }
      ;
      if (v instanceof QuadOut) {
        return "quadOut";
      }
      ;
      if (v instanceof QuadInOut) {
        return "quadInOut";
      }
      ;
      if (v instanceof Sin) {
        return "sin";
      }
      ;
      if (v instanceof SinIn) {
        return "sinIn";
      }
      ;
      if (v instanceof SinOut) {
        return "sinOut";
      }
      ;
      if (v instanceof SinInOut) {
        return "sinInOut";
      }
      ;
      if (v instanceof Exp) {
        return "exp";
      }
      ;
      if (v instanceof ExpIn) {
        return "expIn";
      }
      ;
      if (v instanceof ExpOut) {
        return "expOut";
      }
      ;
      if (v instanceof ExpInOut) {
        return "expInOut";
      }
      ;
      if (v instanceof Circle3) {
        return "circle";
      }
      ;
      if (v instanceof CircleIn) {
        return "circleIn";
      }
      ;
      if (v instanceof CircleOut) {
        return "circleOut";
      }
      ;
      if (v instanceof CircleInOut) {
        return "circleInOut";
      }
      ;
      if (v instanceof Elastic) {
        return "elastic";
      }
      ;
      if (v instanceof ElasticIn) {
        return "elasticIn";
      }
      ;
      if (v instanceof ElasticOut) {
        return "elasticOut";
      }
      ;
      if (v instanceof ElasticInOut) {
        return "elasticInOut";
      }
      ;
      if (v instanceof Back) {
        return "back";
      }
      ;
      if (v instanceof BackIn) {
        return "backIn";
      }
      ;
      if (v instanceof BackOut) {
        return "backOut";
      }
      ;
      if (v instanceof BackInOut) {
        return "backInOut";
      }
      ;
      if (v instanceof Bounce) {
        return "bounce";
      }
      ;
      if (v instanceof BounceIn) {
        return "bounceIn";
      }
      ;
      if (v instanceof BounceOut) {
        return "bounceOut";
      }
      ;
      if (v instanceof BounceInOut) {
        return "bounceInOut";
      }
      ;
      throw new Error("Failed pattern match at PSD3v2.Transition.Types (line 79, column 1 - line 112, column 35): " + [v.constructor.name]);
    }
  };
  var transitionWith = /* @__PURE__ */ identity(categoryFn);

  // output/PSD3v2.Transition.FFI/index.js
  var show9 = /* @__PURE__ */ show(showEasing);
  var maybeMillisecondsToNullable = function(v) {
    if (v instanceof Nothing) {
      return toNullable(Nothing.value);
    }
    ;
    if (v instanceof Just) {
      return toNullable(new Just(v.value0));
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 53, column 1 - line 53, column 69): " + [v.constructor.name]);
  };
  var easingToD3Name = function(easing) {
    return show9(easing);
  };
  var maybeEasingToNullable = function(v) {
    if (v instanceof Nothing) {
      return toNullable(Nothing.value);
    }
    ;
    if (v instanceof Just) {
      return toNullable(new Just(easingToD3Name(v.value0)));
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Transition.FFI (line 58, column 1 - line 58, column 57): " + [v.constructor.name]);
  };

  // output/PSD3v2.Interpreter.D3v2/index.js
  var select6 = /* @__PURE__ */ select5(monadEffectEffect);
  var selectAll2 = /* @__PURE__ */ selectAll(monadEffectEffect);
  var renderData2 = /* @__PURE__ */ renderData(monadEffectEffect);
  var joinData3 = /* @__PURE__ */ joinData2(monadEffectEffect);
  var append8 = /* @__PURE__ */ append7(monadEffectEffect);
  var setAttrs2 = /* @__PURE__ */ setAttrs(monadEffectEffect);
  var setAttrsExit2 = /* @__PURE__ */ setAttrsExit(monadEffectEffect);
  var remove4 = /* @__PURE__ */ remove3(monadEffectEffect);
  var merge2 = /* @__PURE__ */ merge(monadEffectEffect);
  var appendChild3 = /* @__PURE__ */ appendChild2(monadEffectEffect);
  var map28 = /* @__PURE__ */ map(functorMap);
  var map112 = /* @__PURE__ */ map(functorEffect);
  var show10 = /* @__PURE__ */ show(showNumber);
  var show13 = /* @__PURE__ */ show(showBoolean);
  var traverseWithIndex_3 = /* @__PURE__ */ traverseWithIndex_(applicativeEffect)(foldableWithIndexArray);
  var unsafeIndex4 = /* @__PURE__ */ unsafeIndex();
  var traverse_5 = /* @__PURE__ */ traverse_(applicativeEffect)(foldableArray);
  var discard7 = /* @__PURE__ */ discard(discardUnit);
  var fromFoldable10 = /* @__PURE__ */ fromFoldable6(ordString)(foldableArray);
  var mapFlipped4 = /* @__PURE__ */ mapFlipped(functorArray);
  var _name3 = /* @__PURE__ */ _name(strongForget);
  var _Newtype3 = /* @__PURE__ */ _Newtype()()(profunctorFn);
  var prop5 = /* @__PURE__ */ prop3({
    reflectSymbol: function() {
      return "forceLibrary";
    }
  })()();
  var _handle3 = /* @__PURE__ */ _handle(strongForget);
  var toUnfoldable5 = /* @__PURE__ */ toUnfoldable3(unfoldableArray);
  var log5 = /* @__PURE__ */ log3(monadEffectEffect);
  var D3v2Selection_ = function(x10) {
    return x10;
  };
  var monadStateRecordD3v2SimM = /* @__PURE__ */ monadStateStateT(monadEffect);
  var get8 = /* @__PURE__ */ get(monadStateRecordD3v2SimM);
  var modify_4 = /* @__PURE__ */ modify_2(monadStateRecordD3v2SimM);
  var simulationActualizeForces2 = /* @__PURE__ */ simulationActualizeForces(monadStateRecordD3v2SimM);
  var simulationSetVariable2 = /* @__PURE__ */ simulationSetVariable(monadStateRecordD3v2SimM);
  var use2 = /* @__PURE__ */ use(monadStateRecordD3v2SimM);
  var monadEffectD3v2SimM = /* @__PURE__ */ monadEffectState(monadEffectEffect);
  var liftEffect4 = /* @__PURE__ */ liftEffect(monadEffectD3v2SimM);
  var monadEffectD3v2M = monadEffectEffect;
  var monadD3v2SimM = /* @__PURE__ */ monadStateT(monadEffect);
  var monadD3v2M = monadEffect;
  var selectionMD3v2Selection_D = {
    select: function(selector) {
      return function __do3() {
        var sel = select6(selector)();
        return sel;
      };
    },
    selectAll: function(selector) {
      return function(v) {
        return function __do3() {
          var result = selectAll2(selector)(v)();
          return result;
        };
      };
    },
    renderData: function(dictFoldable) {
      var renderData1 = renderData2(dictFoldable);
      return function(dictOrd) {
        var renderData22 = renderData1(dictOrd);
        return function(elemType) {
          return function(foldableData) {
            return function(selector) {
              return function(v) {
                return function(enterAttrs) {
                  return function(updateAttrs) {
                    return function(exitAttrs) {
                      return function __do3() {
                        var result = renderData22(elemType)(foldableData)(selector)(v)(enterAttrs)(updateAttrs)(exitAttrs)();
                        return result;
                      };
                    };
                  };
                };
              };
            };
          };
        };
      };
    },
    joinData: function(dictFoldable) {
      var joinData12 = joinData3(dictFoldable);
      return function(dictOrd) {
        var joinData22 = joinData12(dictOrd);
        return function(foldableData) {
          return function(selector) {
            return function(v) {
              return function __do3() {
                var v1 = joinData22(foldableData)(selector)(v)();
                return new JoinResult({
                  enter: v1.value0.enter,
                  update: v1.value0.update,
                  exit: v1.value0.exit
                });
              };
            };
          };
        };
      };
    },
    append: function(elemType) {
      return function(attrs) {
        return function(v) {
          return function __do3() {
            var result = append8(elemType)(attrs)(v)();
            return result;
          };
        };
      };
    },
    setAttrs: function(attrs) {
      return function(v) {
        return function __do3() {
          var result = setAttrs2(attrs)(v)();
          return result;
        };
      };
    },
    setAttrsExit: function(attrs) {
      return function(v) {
        return function __do3() {
          var result = setAttrsExit2(attrs)(v)();
          return result;
        };
      };
    },
    remove: function(v) {
      return remove4(v);
    },
    merge: function(v) {
      return function(v1) {
        return function __do3() {
          var result = merge2(v)(v1)();
          return result;
        };
      };
    },
    appendChild: function(elemType) {
      return function(attrs) {
        return function(v) {
          return function __do3() {
            var result = appendChild3(elemType)(attrs)(v)();
            return result;
          };
        };
      };
    },
    on: function(behavior) {
      return function(v) {
        return function __do3() {
          var result = on3(behavior)(v)();
          return result;
        };
      };
    },
    renderTree: function(dictOrd) {
      var renderTree28 = renderTree2(dictOrd);
      return function(v) {
        return function(tree3) {
          return function __do3() {
            var selectionsMap = renderTree28(v)(tree3)();
            return map28(D3v2Selection_)(selectionsMap);
          };
        };
      };
    },
    Monad0: function() {
      return monadD3v2M;
    }
  };
  var bindD3v2SimM = /* @__PURE__ */ bindStateT(monadEffect);
  var bind12 = /* @__PURE__ */ bind(bindD3v2SimM);
  var discard22 = /* @__PURE__ */ discard7(bindD3v2SimM);
  var simulationSetNodes2 = /* @__PURE__ */ simulationSetNodes(bindD3v2SimM)(monadStateRecordD3v2SimM);
  var simulationSetLinks2 = /* @__PURE__ */ simulationSetLinks(bindD3v2SimM)(monadStateRecordD3v2SimM);
  var bindD3v2M = bindEffect;
  var applicativeD3v2SimM = /* @__PURE__ */ applicativeStateT(monadEffect);
  var pure12 = /* @__PURE__ */ pure(applicativeD3v2SimM);
  var traverse_12 = /* @__PURE__ */ traverse_(applicativeD3v2SimM)(foldableArray);
  var selectionMD3v2Selection_D1 = {
    select: function(selector) {
      return liftEffect4(function __do3() {
        var sel = select6(selector)();
        return sel;
      });
    },
    appendChild: function(elemType) {
      return function(attrs) {
        return function(v) {
          return liftEffect4(function __do3() {
            var child = appendChild3(elemType)(attrs)(v)();
            return child;
          });
        };
      };
    },
    joinData: function(dictFoldable) {
      var joinData12 = joinData3(dictFoldable);
      return function(dictOrd) {
        var joinData22 = joinData12(dictOrd);
        return function(foldable) {
          return function(tag) {
            return function(v) {
              return liftEffect4(function __do3() {
                var v1 = joinData22(foldable)(tag)(v)();
                return new JoinResult({
                  enter: v1.value0.enter,
                  update: v1.value0.update,
                  exit: v1.value0.exit
                });
              });
            };
          };
        };
      };
    },
    append: function(elemType) {
      return function(attrs) {
        return function(v) {
          return liftEffect4(function __do3() {
            var bound = append8(elemType)(attrs)(v)();
            return bound;
          });
        };
      };
    },
    setAttrs: function(attrs) {
      return function(v) {
        return liftEffect4(function __do3() {
          var bound$prime = setAttrs2(attrs)(v)();
          return bound$prime;
        });
      };
    },
    setAttrsExit: function(attrs) {
      return function(v) {
        return liftEffect4(function __do3() {
          var exiting$prime = setAttrsExit2(attrs)(v)();
          return exiting$prime;
        });
      };
    },
    remove: function(v) {
      return liftEffect4(remove4(v));
    },
    selectAll: function(tag) {
      return function(v) {
        return liftEffect4(function __do3() {
          var selection2 = selectAll2(tag)(v)();
          return selection2;
        });
      };
    },
    renderData: function(dictFoldable) {
      var renderData1 = renderData2(dictFoldable);
      return function(dictOrd) {
        var renderData22 = renderData1(dictOrd);
        return function(elemType) {
          return function(foldable) {
            return function(tag) {
              return function(v) {
                return function(enterFn) {
                  return function(updateFn) {
                    return function(exitFn) {
                      return liftEffect4(function __do3() {
                        var bound = renderData22(elemType)(foldable)(tag)(v)(enterFn)(updateFn)(exitFn)();
                        return bound;
                      });
                    };
                  };
                };
              };
            };
          };
        };
      };
    },
    merge: function(v) {
      return function(v1) {
        return liftEffect4(function __do3() {
          var merged = merge2(v)(v1)();
          return merged;
        });
      };
    },
    on: function(behavior) {
      return function(v) {
        return bind12(get8)(function(state3) {
          return bind12(liftEffect4(onWithSimulation(behavior)(state3.simulation)(v)))(function(result) {
            return pure12(result);
          });
        });
      };
    },
    renderTree: function(dictOrd) {
      var renderTree28 = renderTree2(dictOrd);
      return function(v) {
        return function(tree3) {
          return liftEffect4(function __do3() {
            var selectionsMap = renderTree28(v)(tree3)();
            return map28(D3v2Selection_)(selectionsMap);
          });
        };
      };
    },
    Monad0: function() {
      return monadD3v2SimM;
    }
  };
  var applicativeD3v2M = applicativeEffect;
  var runD3v2SimM = function(state3) {
    return function(v) {
      return runStateT(v)(state3);
    };
  };
  var runD3v2M = function(v) {
    return v;
  };
  var reselectD3v2 = function(name16) {
    return function(selectionsMap) {
      var unwrappedMap = map28(function(v) {
        return v;
      })(selectionsMap);
      return function __do3() {
        var result = reselect(name16)(unwrappedMap)();
        return result;
      };
    };
  };
  var execD3v2SimM = function(state3) {
    return function(v) {
      return map112(snd)(runStateT(v)(state3));
    };
  };
  var attributeValueToString2 = function(v) {
    if (v instanceof StringValue) {
      return v.value0;
    }
    ;
    if (v instanceof NumberValue) {
      return show10(v.value0);
    }
    ;
    if (v instanceof BooleanValue) {
      return show13(v.value0);
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 225, column 1 - line 225, column 51): " + [v.constructor.name]);
  };
  var transitionMD3v2Selection_ = {
    withTransition: function(config) {
      return function(v) {
        return function(attrs) {
          var v1 = (function() {
            if (v instanceof BoundSelection) {
              return v.value0;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 160, column 65 - line 161, column 44): " + [v.constructor.name]);
          })();
          var paired = zipWith(function(d8) {
            return function(e) {
              return {
                datum: d8,
                element: e
              };
            };
          })(v1.data)(v1.elements);
          return traverseWithIndex_3(function(arrayIndex) {
            return function(v2) {
              var logicalIndex = (function() {
                if (v1.indices instanceof Just) {
                  return unsafeIndex4(v1.indices.value0)(arrayIndex);
                }
                ;
                if (v1.indices instanceof Nothing) {
                  return arrayIndex;
                }
                ;
                throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 170, column 26 - line 172, column 34): " + [v1.indices.constructor.name]);
              })();
              return function __do3() {
                var transition2 = createTransition_(config.duration)(maybeMillisecondsToNullable(config.delay))(maybeEasingToNullable(config.easing))(v2.element)();
                return traverse_5(function(attr3) {
                  if (attr3 instanceof StaticAttr) {
                    return transitionSetAttribute_(attr3.value0)(attributeValueToString2(attr3.value1))(transition2);
                  }
                  ;
                  if (attr3 instanceof DataAttr) {
                    return transitionSetAttribute_(attr3.value0)(attributeValueToString2(attr3.value1(v2.datum)))(transition2);
                  }
                  ;
                  if (attr3 instanceof IndexedAttr) {
                    return transitionSetAttribute_(attr3.value0)(attributeValueToString2(attr3.value1(v2.datum)(logicalIndex)))(transition2);
                  }
                  ;
                  throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 182, column 34 - line 190, column 112): " + [attr3.constructor.name]);
                })(attrs)();
              };
            };
          })(paired);
        };
      };
    },
    withTransitionExit: function(config) {
      return function(v) {
        return function(attrs) {
          var v1 = (function() {
            if (v instanceof ExitingSelection) {
              return v.value0;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 194, column 56 - line 195, column 46): " + [v.constructor.name]);
          })();
          var paired = zipWith(function(d8) {
            return function(e) {
              return {
                datum: d8,
                element: e
              };
            };
          })(v1.data)(v1.elements);
          return traverseWithIndex_3(function(index5) {
            return function(v2) {
              return function __do3() {
                var transition2 = createTransition_(config.duration)(maybeMillisecondsToNullable(config.delay))(maybeEasingToNullable(config.easing))(v2.element)();
                traverse_5(function(attr3) {
                  if (attr3 instanceof StaticAttr) {
                    return transitionSetAttribute_(attr3.value0)(attributeValueToString2(attr3.value1))(transition2);
                  }
                  ;
                  if (attr3 instanceof DataAttr) {
                    return transitionSetAttribute_(attr3.value0)(attributeValueToString2(attr3.value1(v2.datum)))(transition2);
                  }
                  ;
                  if (attr3 instanceof IndexedAttr) {
                    return transitionSetAttribute_(attr3.value0)(attributeValueToString2(attr3.value1(v2.datum)(index5)))(transition2);
                  }
                  ;
                  throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 211, column 34 - line 219, column 105): " + [attr3.constructor.name]);
                })(attrs)();
                return transitionRemove_(transition2)();
              };
            };
          })(paired);
        };
      };
    },
    Monad0: function() {
      return monadD3v2M;
    }
  };
  var applyAttributeSync = function(element3) {
    return function(datum2) {
      return function(index5) {
        return function(attr3) {
          if (attr3 instanceof StaticAttr) {
            return setAttributeSync_(attr3.value0)(attributeValueToString2(attr3.value1))(element3);
          }
          ;
          if (attr3 instanceof DataAttr) {
            return setAttributeSync_(attr3.value0)(attributeValueToString2(attr3.value1(datum2)))(element3);
          }
          ;
          if (attr3 instanceof IndexedAttr) {
            return setAttributeSync_(attr3.value0)(attributeValueToString2(attr3.value1(datum2)(index5)))(element3);
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 355, column 47 - line 363, column 76): " + [attr3.constructor.name]);
        };
      };
    };
  };
  var simulationMD3v2Selection_ = {
    init: function(config) {
      var forcesMap = fromFoldable10(mapFlipped4(config.forces)(function(f) {
        return new Tuple(view(_name3)(f), f);
      }));
      return discard22(modify_4(function(state3) {
        var $319 = {};
        for (var $320 in state3) {
          if ({}.hasOwnProperty.call(state3, $320)) {
            $319[$320] = state3[$320];
          }
          ;
        }
        ;
        $319.simulation = set2((function() {
          var $370 = prop5($$Proxy.value)(strongFn);
          return function($371) {
            return _Newtype3($370($371));
          };
        })())(forcesMap)(state3.simulation);
        return $319;
      }))(function() {
        return bind12(simulationSetNodes2(config.nodes))(function(nodesInSim) {
          return discard22(simulationActualizeForces2(config.activeForces))(function() {
            return bind12(simulationSetLinks2(config.links)(config.nodes)(config.keyFn))(function(linksInSim) {
              return discard22(simulationSetVariable2(new AlphaTarget(config.config.alphaTarget)))(function() {
                return discard22(simulationSetVariable2(new AlphaMin(config.config.alphaMin)))(function() {
                  return discard22(simulationSetVariable2(new AlphaDecay(config.config.alphaDecay)))(function() {
                    return discard22(simulationSetVariable2(new VelocityDecay(config.config.velocityDecay)))(function() {
                      return bind12(use2(_handle3))(function(handle) {
                        return bind12(traverse_12(function(v) {
                          var v1 = (function() {
                            if (v.value1.value0 instanceof BoundSelection) {
                              return v.value1.value0.value0;
                            }
                            ;
                            throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 405, column 71 - line 406, column 50): " + [v.value1.value0.constructor.name]);
                          })();
                          var makeTick = function(v2) {
                            var paired = zipWith(function(d8) {
                              return function(e) {
                                return {
                                  datum: d8,
                                  element: e
                                };
                              };
                            })(v1.data)(v1.elements);
                            var v3 = mapWithIndex2(function(arrayIndex) {
                              return function(v4) {
                                var logicalIndex = (function() {
                                  if (v1.indices instanceof Just) {
                                    return unsafeIndex4(v1.indices.value0)(arrayIndex);
                                  }
                                  ;
                                  if (v1.indices instanceof Nothing) {
                                    return arrayIndex;
                                  }
                                  ;
                                  throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 412, column 46 - line 414, column 54): " + [v1.indices.constructor.name]);
                                })();
                                var v5 = mapFlipped4(v.value1.value1)(function(attr3) {
                                  return applyAttributeSync(v4.element)(v4.datum)(logicalIndex)(attr3);
                                });
                                return unit;
                              };
                            })(paired);
                            return unit;
                          };
                          return pure12(onTick_(handle)(v.value0)(makeTick));
                        })(toUnfoldable5(config.ticks)))(function() {
                          return pure12({
                            nodes: nodesInSim,
                            links: linksInSim
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        });
      });
    },
    addTickFunction: function(label5) {
      return function(v) {
        return bind12(use2(_handle3))(function(handle) {
          var v1 = (function() {
            if (v.value0 instanceof BoundSelection) {
              return v.value0.value0;
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 430, column 65 - line 431, column 44): " + [v.value0.constructor.name]);
          })();
          var makeTick = function(v2) {
            var paired = zipWith(function(d8) {
              return function(e) {
                return {
                  datum: d8,
                  element: e
                };
              };
            })(v1.data)(v1.elements);
            var v3 = mapWithIndex2(function(arrayIndex) {
              return function(v4) {
                var logicalIndex = (function() {
                  if (v1.indices instanceof Just) {
                    return unsafeIndex4(v1.indices.value0)(arrayIndex);
                  }
                  ;
                  if (v1.indices instanceof Nothing) {
                    return arrayIndex;
                  }
                  ;
                  throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 437, column 40 - line 439, column 48): " + [v1.indices.constructor.name]);
                })();
                var v5 = mapFlipped4(v.value1)(function(attr3) {
                  return applyAttributeSync(v4.element)(v4.datum)(logicalIndex)(attr3);
                });
                return unit;
              };
            })(paired);
            return unit;
          };
          return pure12(onTick_(handle)(label5)(makeTick));
        });
      };
    },
    removeTickFunction: function(label5) {
      return bind12(use2(_handle3))(function(handle) {
        return pure12(onTick_(handle)(label5)($$const(unit)));
      });
    },
    start: /* @__PURE__ */ simulationStart(monadStateRecordD3v2SimM),
    stop: /* @__PURE__ */ simulationStop(monadStateRecordD3v2SimM),
    Monad0: function() {
      return monadD3v2SimM;
    }
  };
  var simulationM2D3v2Selection = {
    update: function(config) {
      return bind12((function() {
        if (config.nodes instanceof Just) {
          return simulationSetNodes2(config.nodes.value0);
        }
        ;
        if (config.nodes instanceof Nothing) {
          return bind12(use2(_handle3))(function(handle) {
            var opaqueNodes = getNodes_(handle);
            return pure12(opaqueNodes);
          });
        }
        ;
        throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 462, column 26 - line 467, column 40): " + [config.nodes.constructor.name]);
      })())(function(nodesBeforeFilter) {
        var nodesInSim = (function() {
          if (config.nodeFilter instanceof Just) {
            return filter(config.nodeFilter.value0)(nodesBeforeFilter);
          }
          ;
          if (config.nodeFilter instanceof Nothing) {
            return nodesBeforeFilter;
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 470, column 22 - line 472, column 39): " + [config.nodeFilter.constructor.name]);
        })();
        return bind12((function() {
          if (config.nodeFilter instanceof Just) {
            return simulationSetNodes2(nodesInSim);
          }
          ;
          if (config.nodeFilter instanceof Nothing) {
            return pure12(nodesInSim);
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 475, column 10 - line 477, column 33): " + [config.nodeFilter.constructor.name]);
        })())(function() {
          return bind12((function() {
            if (config.activeForces instanceof Just) {
              return simulationActualizeForces2(config.activeForces.value0);
            }
            ;
            if (config.activeForces instanceof Nothing) {
              return pure12(unit);
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 480, column 10 - line 482, column 27): " + [config.activeForces.constructor.name]);
          })())(function() {
            return bind12((function() {
              if (config.config instanceof Just) {
                return discard22(simulationSetVariable2(new AlphaTarget(config.config.value0.alphaTarget)))(function() {
                  return discard22(simulationSetVariable2(new AlphaMin(config.config.value0.alphaMin)))(function() {
                    return discard22(simulationSetVariable2(new AlphaDecay(config.config.value0.alphaDecay)))(function() {
                      return simulationSetVariable2(new VelocityDecay(config.config.value0.velocityDecay));
                    });
                  });
                });
              }
              ;
              if (config.config instanceof Nothing) {
                return pure12(unit);
              }
              ;
              throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 485, column 10 - line 491, column 27): " + [config.config.constructor.name]);
            })())(function() {
              return bind12((function() {
                if (config.links instanceof Just && config.linkFilter instanceof Just) {
                  var filteredLinks = filter(config.linkFilter.value0)(config.links.value0);
                  return simulationSetLinks2(filteredLinks)(nodesInSim)(config.keyFn);
                }
                ;
                if (config.links instanceof Just && config.linkFilter instanceof Nothing) {
                  return simulationSetLinks2(config.links.value0)(nodesInSim)(config.keyFn);
                }
                ;
                if (config.links instanceof Nothing && config.linkFilter instanceof Just) {
                  return bind12(use2(_handle3))(function(handle) {
                    var swizzledLinks = getLinksFromSimulation_(handle);
                    return discard22(liftEffect4(log5("Warning: linkFilter ignored - can't filter already-swizzled links. Provide 'links' to apply filter.")))(function() {
                      return pure12(swizzledLinks);
                    });
                  });
                }
                ;
                if (config.links instanceof Nothing && config.linkFilter instanceof Nothing) {
                  return bind12(use2(_handle3))(function(handle) {
                    var swizzledLinks = getLinksFromSimulation_(handle);
                    return pure12(swizzledLinks);
                  });
                }
                ;
                throw new Error("Failed pattern match at PSD3v2.Interpreter.D3v2 (line 494, column 19 - line 516, column 27): " + [config.links.constructor.name, config.linkFilter.constructor.name]);
              })())(function(linksInSim) {
                return pure12({
                  nodes: nodesInSim,
                  links: linksInSim
                });
              });
            });
          });
        });
      });
    },
    reheat: function(alpha) {
      return simulationSetVariable2(new Alpha(alpha));
    },
    Monad0: function() {
      return monadD3v2SimM;
    },
    SimulationM1: function() {
      return simulationMD3v2Selection_;
    }
  };

  // output/Utility/index.js
  var getWindowWidthHeight = function __do2() {
    var win = windowImpl();
    var w = innerWidth(win)();
    var h = innerHeight(win)();
    return new Tuple(toNumber(w), toNumber(h));
  };

  // output/D3.Viz.LesMisGUPV2/index.js
  var compare6 = /* @__PURE__ */ compare(ordString);
  var eq13 = /* @__PURE__ */ eq(eqOrdering);
  var bind6 = /* @__PURE__ */ bind(bindD3v2SimM);
  var update4 = /* @__PURE__ */ update3(simulationM2D3v2Selection);
  var get9 = /* @__PURE__ */ get(monadStateRecordD3v2SimM);
  var liftEffect5 = /* @__PURE__ */ liftEffect(monadEffectD3v2SimM);
  var $$void7 = /* @__PURE__ */ $$void(functorEffect);
  var discard8 = /* @__PURE__ */ discard(discardUnit);
  var discard1 = /* @__PURE__ */ discard8(bindD3v2SimM);
  var reheat2 = /* @__PURE__ */ reheat(simulationM2D3v2Selection);
  var start4 = /* @__PURE__ */ start2(simulationMD3v2Selection_);
  var mapFlipped5 = /* @__PURE__ */ mapFlipped(functorArray);
  var stop2 = /* @__PURE__ */ stop(simulationMD3v2Selection_);
  var pure8 = /* @__PURE__ */ pure(applicativeEffect);
  var log6 = /* @__PURE__ */ log3(monadEffectD3v2SimM);
  var show11 = /* @__PURE__ */ show(showInt);
  var fromFoldable11 = /* @__PURE__ */ fromFoldable7(foldableArray)(ordString);
  var member3 = /* @__PURE__ */ member2(ordString);
  var show14 = /* @__PURE__ */ show(/* @__PURE__ */ showArray(showString));
  var select7 = /* @__PURE__ */ select3(selectionMD3v2Selection_D1);
  var show23 = /* @__PURE__ */ show(showBoolean);
  var x12 = /* @__PURE__ */ x1(toAttrNumberFunctionNumbe);
  var y12 = /* @__PURE__ */ y1(toAttrNumberFunctionNumbe);
  var x23 = /* @__PURE__ */ x22(toAttrNumberFunctionNumbe);
  var y23 = /* @__PURE__ */ y22(toAttrNumberFunctionNumbe);
  var strokeWidth4 = /* @__PURE__ */ strokeWidth3(toAttrNumberFunctionNumbe);
  var stroke2 = /* @__PURE__ */ stroke(toAttrStringFunctionStrin);
  var cx4 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy4 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius4 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill4 = /* @__PURE__ */ fill3(toAttrStringString);
  var stroke1 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeWidth1 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var renderTree3 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D1);
  var lookup6 = /* @__PURE__ */ lookup2(ordString);
  var log1 = /* @__PURE__ */ log3(monadEffectEffect);
  var on4 = /* @__PURE__ */ on2(selectionMD3v2Selection_D1);
  var addTickFunction2 = /* @__PURE__ */ addTickFunction(simulationMD3v2Selection_);
  var cx1 = /* @__PURE__ */ cx3(toAttrNumberFunctionNumbe);
  var cy1 = /* @__PURE__ */ cy3(toAttrNumberFunctionNumbe);
  var width9 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height9 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox3 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var show32 = /* @__PURE__ */ show(showNumber);
  var id_2 = /* @__PURE__ */ id_(toAttrStringString);
  var class_3 = /* @__PURE__ */ class_2(toAttrStringString);
  var renderTree1 = /* @__PURE__ */ renderTree3(ordUnit);
  var init5 = /* @__PURE__ */ init4(simulationMD3v2Selection_);
  var pure13 = /* @__PURE__ */ pure(applicativeD3v2SimM);
  var KeyedNode = function(x10) {
    return x10;
  };
  var eqKeyedNode = {
    eq: function(v) {
      return function(v1) {
        return v.id === v1.id;
      };
    }
  };
  var eq22 = /* @__PURE__ */ eq(eqKeyedNode);
  var ordKeyedNode = {
    compare: function(v) {
      return function(v1) {
        return compare6(v.id)(v1.id);
      };
    },
    Eq0: function() {
      return eqKeyedNode;
    }
  };
  var renderTree22 = /* @__PURE__ */ renderTree3(ordKeyedNode);
  var eqIndexedLink = {
    eq: function(v) {
      return function(v1) {
        return v.link.source.id === v1.link.source.id && v.link.target.id === v1.link.target.id;
      };
    }
  };
  var ordIndexedLink = {
    compare: function(v) {
      return function(v1) {
        var sourceComp = compare6(v.link.source.id)(v1.link.source.id);
        var $131 = eq13(sourceComp)(EQ.value);
        if ($131) {
          return compare6(v.link.target.id)(v1.link.target.id);
        }
        ;
        return sourceComp;
      };
    },
    Eq0: function() {
      return eqIndexedLink;
    }
  };
  var renderTree32 = /* @__PURE__ */ renderTree3(ordIndexedLink);
  var unpinNodes = /* @__PURE__ */ (function() {
    return bind6(update4({
      nodes: Nothing.value,
      links: Nothing.value,
      nodeFilter: Nothing.value,
      linkFilter: Nothing.value,
      activeForces: Nothing.value,
      config: Nothing.value,
      keyFn: keyIsID_
    }))(function(v) {
      return bind6(get9)(function(simHandle) {
        return liftEffect5(transitionToCachedPositions_("#lesmis-gup-v2-svg")(".nodes circle")(".links line")(v.nodes)(v.links)($$void7(runD3v2SimM(simHandle)(discard1(reheat2(0.5))(function() {
          return start4;
        })))));
      });
    });
  })();
  var moveToPhylotaxis = /* @__PURE__ */ discard1(stop2)(function() {
    return bind6(update4({
      nodes: Nothing.value,
      links: Nothing.value,
      nodeFilter: Nothing.value,
      linkFilter: Nothing.value,
      activeForces: Nothing.value,
      config: Nothing.value,
      keyFn: keyIsID_
    }))(function(v) {
      return bind6(liftEffect5(setNodesPhyllotaxisPositions_(v.nodes)))(function() {
        return liftEffect5(transitionToFxFyPositions_("#lesmis-gup-v2-svg")(".nodes circle")(".links line")(v.nodes)(v.links)(pure8(unit)));
      });
    });
  });
  var moveToGrid = function(gridSpacing) {
    return discard1(stop2)(function() {
      return bind6(update4({
        nodes: Nothing.value,
        links: Nothing.value,
        nodeFilter: Nothing.value,
        linkFilter: Nothing.value,
        activeForces: Nothing.value,
        config: Nothing.value,
        keyFn: keyIsID_
      }))(function(v) {
        return bind6(liftEffect5(setNodesGridPositions_(v.nodes)(gridSpacing)))(function() {
          return liftEffect5(transitionToFxFyPositions_("#lesmis-gup-v2-svg")(".nodes circle")(".links line")(v.nodes)(v.links)(pure8(unit)));
        });
      });
    });
  };
  var initialRadius = 10;
  var initialAngle = /* @__PURE__ */ (function() {
    return pi * (3 - sqrt(5));
  })();
  var setPhyllotaxisInitialPositions = function(nodes) {
    var setPosition = function(index5) {
      return function(node) {
        var i2 = toNumber(index5);
        var rad = initialRadius * sqrt(0.5 + i2);
        var angle = i2 * initialAngle;
        var newX = rad * cos(angle);
        var newY = rad * sin(angle);
        var $147 = {};
        for (var $148 in node) {
          if ({}.hasOwnProperty.call(node, $148)) {
            $147[$148] = node[$148];
          }
          ;
        }
        ;
        $147.x = newX;
        $147.y = newY;
        return $147;
      };
    };
    return mapWithIndex2(setPosition)(nodes);
  };
  var filterByGroupWithOriginal = function(minGroup) {
    return function(originalGraph) {
      return discard1(log6("=== filterByGroupWithOriginal: minGroup = " + (show11(minGroup) + " ===")))(function() {
        return discard1(stop2)(function() {
          var filteredNodes = filter(function(n) {
            return n.group >= minGroup;
          })(originalGraph.nodes);
          var filteredNodeIds = fromFoldable11(mapFlipped5(filteredNodes)(function(n) {
            return n.id;
          }));
          var filteredLinks = filter(function(link4) {
            return member3(link4.source.id)(filteredNodeIds) && member3(link4.target.id)(filteredNodeIds);
          })(originalGraph.links);
          return discard1(log6("Filtered from " + (show11(length(originalGraph.nodes)) + (" to " + (show11(length(filteredNodes)) + " nodes")))))(function() {
            return discard1(log6("Filtered from " + (show11(length(originalGraph.links)) + (" to " + (show11(length(filteredLinks)) + " links")))))(function() {
              return bind6(update4({
                nodes: new Just(filteredNodes),
                links: new Just(filteredLinks),
                nodeFilter: Nothing.value,
                linkFilter: Nothing.value,
                activeForces: Nothing.value,
                config: Nothing.value,
                keyFn: keyIsID_
              }))(function(v) {
                return discard1(log6("After update: " + (show11(length(v.nodes)) + (" nodes, " + (show11(length(v.links)) + " links")))))(function() {
                  var nodeIds = mapFlipped5(take(5)(v.nodes))(function(n) {
                    return n.id;
                  });
                  return discard1(log6("First 5 filtered node IDs: " + show14(nodeIds)))(function() {
                    return bind6(select7("#links"))(function(linksGroup) {
                      return bind6(select7("#nodes"))(function(nodesGroup) {
                        var indexedLinks = mapWithIndex2(function(i2) {
                          return function(link4) {
                            return {
                              index: i2,
                              link: link4
                            };
                          };
                        })(v.links);
                        var keyedNodes = mapFlipped5(v.nodes)(KeyedNode);
                        return discard1(log6("KeyedNodes created: " + show11(length(keyedNodes))))(function() {
                          return discard1((function() {
                            var v1 = index(keyedNodes)(1);
                            var v2 = index(keyedNodes)(0);
                            if (v2 instanceof Just && v1 instanceof Just) {
                              return log6("KeyedNode equality test: node0 == node1 = " + show23(eq22(v2.value0)(v1.value0)));
                            }
                            ;
                            return log6("Not enough keyedNodes to test equality");
                          })())(function() {
                            var linksTree = joinData("linkElements")("line")(indexedLinks)(function(v1) {
                              return elem4(Line2.value)([x12(function(v2) {
                                return v1.link.source.x;
                              }), y12(function(v2) {
                                return v1.link.source.y;
                              }), x23(function(v2) {
                                return v1.link.target.x;
                              }), y23(function(v2) {
                                return v1.link.target.y;
                              }), strokeWidth4(function(v2) {
                                return sqrt(v1.link.value);
                              }), stroke2(function(v2) {
                                return d3SchemeCategory10N_(toNumber(v1.link.target.group));
                              })]);
                            });
                            var nodesTree = joinData("nodeElements")("circle")(keyedNodes)(function(v1) {
                              return elem4(Circle2.value)([cx4(v1.x), cy4(v1.y), radius4(5), fill4(d3SchemeCategory10N_(toNumber(v1.group))), stroke1("#fff"), strokeWidth1(2)]);
                            });
                            return bind6(renderTree32(linksGroup)(linksTree))(function(linksSelections) {
                              return bind6(renderTree22(nodesGroup)(nodesTree))(function(nodesSelections) {
                                return discard1(log6("After renderTree calls"))(function() {
                                  var nodeCircles = (function() {
                                    var v1 = lookup6("nodeElements")(nodesSelections);
                                    if (v1 instanceof Just) {
                                      return v1.value0;
                                    }
                                    ;
                                    if (v1 instanceof Nothing) {
                                      return unsafeCrashWith("nodeElements not found after filter");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.LesMisGUPV2 (line 528, column 21 - line 530, column 89): " + [v1.constructor.name]);
                                  })();
                                  var linkLines = (function() {
                                    var v1 = lookup6("linkElements")(linksSelections);
                                    if (v1 instanceof Just) {
                                      return v1.value0;
                                    }
                                    ;
                                    if (v1 instanceof Nothing) {
                                      return unsafeCrashWith("linkElements not found after filter");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.LesMisGUPV2 (line 533, column 19 - line 535, column 89): " + [v1.constructor.name]);
                                  })();
                                  return discard1(liftEffect5(function __do3() {
                                    (function() {
                                      if (nodeCircles instanceof BoundSelection) {
                                        return log1("nodeCircles selection has " + (show11(length(nodeCircles.value0.elements)) + " elements"))();
                                      }
                                      ;
                                      return log1("nodeCircles is not a BoundSelection")();
                                    })();
                                    if (linkLines instanceof BoundSelection) {
                                      return log1("linkLines selection has " + (show11(length(linkLines.value0.elements)) + " elements"))();
                                    }
                                    ;
                                    return log1("linkLines is not a BoundSelection")();
                                  }))(function() {
                                    return bind6(on4(new Drag2(simulationDrag("lesmis-gup")))(nodeCircles))(function() {
                                      return discard1(addTickFunction2("nodes")(new Step4(nodeCircles, [cx1(function(v1) {
                                        return v1.x;
                                      }), cy1(function(v1) {
                                        return v1.y;
                                      })])))(function() {
                                        return discard1(addTickFunction2("links")(new Step4(linkLines, [x12(function(v1) {
                                          return v1.link.source.x;
                                        }), y12(function(v1) {
                                          return v1.link.source.y;
                                        }), x23(function(v1) {
                                          return v1.link.target.x;
                                        }), y23(function(v1) {
                                          return v1.link.target.y;
                                        })])))(function() {
                                          return discard1(reheat2(0.8))(function() {
                                            return start4;
                                          });
                                        });
                                      });
                                    });
                                  });
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        });
      });
    };
  };
  var drawLesMisGUPV2 = function(forcesArray) {
    return function(activeForces) {
      return function(model) {
        return function(containerSelector) {
          return bind6(liftEffect5(getWindowWidthHeight))(function(v) {
            return bind6(select7(containerSelector))(function(container) {
              var forceGraphTree = withChild(named2(SVG.value)("svg")([width9(v.value0), height9(v.value1), viewBox3(show32(-v.value0 / 2) + (" " + (show32(-v.value1 / 2) + (" " + (show32(v.value0) + (" " + show32(v.value1))))))), id_2("lesmis-gup-v2-svg"), class_3("lesmis-gup-v2")]))(withChildren(named2(Group2.value)("zoomGroup")([id_2("zoom-group"), class_3("zoom-group")]))([named2(Group2.value)("linksGroup")([id_2("links"), class_3("links")]), named2(Group2.value)("nodesGroup")([id_2("nodes"), class_3("nodes")])]));
              return bind6(renderTree1(container)(forceGraphTree))(function(selections) {
                return bind6(liftEffect5(reselectD3v2("svg")(selections)))(function(svg) {
                  return bind6(liftEffect5(reselectD3v2("zoomGroup")(selections)))(function(zoomGroup) {
                    return bind6(liftEffect5(reselectD3v2("linksGroup")(selections)))(function(linksGroup) {
                      return bind6(liftEffect5(reselectD3v2("nodesGroup")(selections)))(function(nodesGroup) {
                        return bind6(on4(new Drag2(defaultDrag))(zoomGroup))(function() {
                          return bind6(on4(new Zoom2(defaultZoom(new ScaleExtent2(0.5, 4))("#zoom-group")))(svg))(function() {
                            var nodesWithPositions = setPhyllotaxisInitialPositions(model.nodes);
                            return bind6(init5({
                              nodes: nodesWithPositions,
                              links: model.links,
                              forces: forcesArray,
                              activeForces,
                              config: {
                                alpha: 1,
                                alphaTarget: 0,
                                alphaMin: 1e-3,
                                alphaDecay: 0.0228,
                                velocityDecay: 0.4
                              },
                              keyFn: keyIsID_,
                              ticks: empty3
                            }))(function(v1) {
                              var indexedLinks = mapWithIndex2(function(i2) {
                                return function(link4) {
                                  return {
                                    index: i2,
                                    link: link4
                                  };
                                };
                              })(v1.links);
                              var linksTree = joinData("linkElements")("line")(indexedLinks)(function(v2) {
                                return elem4(Line2.value)([x12(function(v3) {
                                  return v2.link.source.x;
                                }), y12(function(v3) {
                                  return v2.link.source.y;
                                }), x23(function(v3) {
                                  return v2.link.target.x;
                                }), y23(function(v3) {
                                  return v2.link.target.y;
                                }), strokeWidth4(function(v3) {
                                  return sqrt(v2.link.value);
                                }), stroke2(function(v3) {
                                  return d3SchemeCategory10N_(toNumber(v2.link.target.group));
                                })]);
                              });
                              return bind6(renderTree32(linksGroup)(linksTree))(function(linksSelections) {
                                var keyedNodes = mapFlipped5(v1.nodes)(KeyedNode);
                                var nodesTree = joinData("nodeElements")("circle")(keyedNodes)(function(v2) {
                                  return elem4(Circle2.value)([cx4(v2.x), cy4(v2.y), radius4(5), fill4(d3SchemeCategory10N_(toNumber(v2.group))), stroke1("#fff"), strokeWidth1(2)]);
                                });
                                return bind6(renderTree22(nodesGroup)(nodesTree))(function(nodesSelections) {
                                  var nodeCircles = (function() {
                                    var v2 = lookup6("nodeElements")(nodesSelections);
                                    if (v2 instanceof Just) {
                                      return v2.value0;
                                    }
                                    ;
                                    if (v2 instanceof Nothing) {
                                      return unsafeCrashWith("nodeElements not found");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.LesMisGUPV2 (line 272, column 21 - line 274, column 76): " + [v2.constructor.name]);
                                  })();
                                  var linkLines = (function() {
                                    var v2 = lookup6("linkElements")(linksSelections);
                                    if (v2 instanceof Just) {
                                      return v2.value0;
                                    }
                                    ;
                                    if (v2 instanceof Nothing) {
                                      return unsafeCrashWith("linkElements not found");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.LesMisGUPV2 (line 277, column 19 - line 279, column 76): " + [v2.constructor.name]);
                                  })();
                                  return bind6(on4(new Drag2(simulationDrag("lesmis-gup")))(nodeCircles))(function() {
                                    return discard1(addTickFunction2("nodes")(new Step4(nodeCircles, [cx1(function(v2) {
                                      return v2.x;
                                    }), cy1(function(v2) {
                                      return v2.y;
                                    })])))(function() {
                                      return discard1(addTickFunction2("links")(new Step4(linkLines, [x12(function(v2) {
                                        return v2.link.source.x;
                                      }), y12(function(v2) {
                                        return v2.link.source.y;
                                      }), x23(function(v2) {
                                        return v2.link.target.x;
                                      }), y23(function(v2) {
                                        return v2.link.target.y;
                                      })])))(function() {
                                        return discard1(start4)(function() {
                                          return pure13({
                                            nodesGroup: Group2.value,
                                            linksGroup: Group2.value
                                          });
                                        });
                                      });
                                    });
                                  });
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        };
      };
    };
  };

  // output/D3.Viz.LesMiserables.File/foreign.js
  function readJSONJS_(filecontents) {
    return decodeFile(filecontents);
  }
  var decodeFile = function(filecontents) {
    const json2 = JSON.parse(filecontents);
    const links = json2.links.map((d8) => Object.create(d8));
    const nodes = json2.nodes.map((d8) => ({
      id: d8.id,
      group: d8.group,
      x: 0,
      y: 0,
      vx: 0,
      vy: 0,
      fx: null,
      fy: null,
      sx: null,
      // Cached simulation x for smooth transitions
      sy: null
      // Cached simulation y for smooth transitions
    }));
    return { links, nodes };
  };

  // output/D3.Viz.LesMiserables.File/index.js
  var readGraphFromFileContents = function(v) {
    if (v instanceof Right) {
      return readJSONJS_(v.value0.body);
    }
    ;
    if (v instanceof Left) {
      return {
        links: [],
        nodes: []
      };
    }
    ;
    throw new Error("Failed pattern match at D3.Viz.LesMiserables.File (line 10, column 1 - line 10, column 92): " + [v.constructor.name]);
  };

  // output/PSD3.Internal.Simulation.Config/index.js
  var yVal = function(n) {
    return new AttributeSetter("y", new NumberAttr(new Static(n)));
  };
  var xVal = function(n) {
    return new AttributeSetter("x", new NumberAttr(new Static(n)));
  };
  var strengthVal = function(n) {
    return new AttributeSetter("strength", new NumberAttr(new Static(n)));
  };
  var radiusVal = function(n) {
    return new AttributeSetter("radius", new NumberAttr(new Static(n)));
  };
  var distanceVal = function(n) {
    return new AttributeSetter("distance", new NumberAttr(new Static(n)));
  };

  // output/Component.LesMisGUPTree/index.js
  var discard9 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var bind7 = /* @__PURE__ */ bind(bindHalogenM);
  var fromFoldable15 = /* @__PURE__ */ fromFoldable7(foldableArray)(ordString);
  var modify_5 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var get10 = /* @__PURE__ */ get(monadStateHalogenM);
  var bind13 = /* @__PURE__ */ bind(bindD3v2SimM);
  var pure9 = /* @__PURE__ */ pure(applicativeD3v2SimM);
  var pure14 = /* @__PURE__ */ pure(applicativeHalogenM);
  var show15 = /* @__PURE__ */ show(showInt);
  var Initialize3 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var MoveToGrid = /* @__PURE__ */ (function() {
    function MoveToGrid2() {
    }
    ;
    MoveToGrid2.value = new MoveToGrid2();
    return MoveToGrid2;
  })();
  var MoveToPhylotaxis = /* @__PURE__ */ (function() {
    function MoveToPhylotaxis2() {
    }
    ;
    MoveToPhylotaxis2.value = new MoveToPhylotaxis2();
    return MoveToPhylotaxis2;
  })();
  var UnpinNodes = /* @__PURE__ */ (function() {
    function UnpinNodes2() {
    }
    ;
    UnpinNodes2.value = new UnpinNodes2();
    return UnpinNodes2;
  })();
  var FilterNodes = /* @__PURE__ */ (function() {
    function FilterNodes2(value0) {
      this.value0 = value0;
    }
    ;
    FilterNodes2.create = function(value0) {
      return new FilterNodes2(value0);
    };
    return FilterNodes2;
  })();
  var render4 = function(v) {
    return div2([class_("lesmis-gup-tree-page")])([div2([class_("page-header")])([h1_([text("Les Mis\xE9rables - Tree API + GUP + Dynamic Layouts")]), p([class_("page-description")])([text("Full-featured force simulation using declarative Tree API with General Update Pattern (enter/update/exit) and dynamic layout transitions.")])]), div2([class_("controls-panel")])([div2([class_("control-section")])([h3_([text("Layout Transitions")]), p_([text("Transform node positions with smooth D3 transitions:")]), div2([class_("button-group")])([button([class_("control-button"), onClick(function(v1) {
      return MoveToGrid.value;
    })])([text("Grid Layout")]), button([class_("control-button"), onClick(function(v1) {
      return MoveToPhylotaxis.value;
    })])([text("Phylotaxis (Spiral)")]), button([class_("control-button"), onClick(function(v1) {
      return UnpinNodes.value;
    })])([text("Force-Directed")])])]), div2([class_("control-section")])([h3_([text("Node Filtering (GUP)")]), p_([text("Demonstrate enter/update/exit pattern by filtering nodes:")]), div2([class_("button-group")])([button([class_("control-button"), onClick(function(v1) {
      return new FilterNodes(0);
    })])([text("All Nodes (77)")]), button([class_("control-button"), onClick(function(v1) {
      return new FilterNodes(5);
    })])([text("Group \u2265 5")]), button([class_("control-button"), onClick(function(v1) {
      return new FilterNodes(8);
    })])([text("Group \u2265 8")])])])]), div2([id3("lesmis-gup-tree-viz"), class_("viz-container")])([]), div2([class_("info-panel")])([h3_([text("What This Demonstrates")]), ul_([li_([text("Declarative Tree API - entire DOM structure defined as a tree")]), li_([text("General Update Pattern - Tree API handles enter/update/exit automatically")]), li_([text("Dynamic layouts - Grid, Phylotaxis (sunflower spiral), Force-directed")]), li_([text("Simulation state management - forces, nodes, links updated declaratively")]), li_([text("Interactive behaviors - drag nodes, zoom/pan, simulation drag")])]), h3_([text("Check Browser Console")]), p_([text("Open the browser console to see detailed logging of simulation state, node counts, and GUP operations.")])])]);
  };
  var forces = /* @__PURE__ */ (function() {
    return {
      manyBodyNeg: createForce("many body negative")(new RegularForce(ForceManyBody.value))(allNodes)([strengthVal(-100)]),
      collision: createForce("collision")(new RegularForce(ForceCollide.value))(allNodes)([radiusVal(6)]),
      center: createForce("center")(new RegularForce(ForceCenter.value))(allNodes)([xVal(0), yVal(0), strengthVal(0.1)]),
      links: createLinkForce(allNodes)([])
    };
  })();
  var handleAction2 = function(dictMonadAff) {
    var monadEffectHalogenM2 = monadEffectHalogenM(dictMonadAff.MonadEffect0());
    var log7 = log3(monadEffectHalogenM2);
    var liftAff32 = liftAff(monadAffHalogenM(dictMonadAff));
    var liftEffect53 = liftEffect(monadEffectHalogenM2);
    return function(v) {
      if (v instanceof Initialize3) {
        return discard9(log7("LesMisGUPTree: Initializing"))(function() {
          return discard9(liftAff32(delay(100)))(function() {
            return bind7(liftAff32(get3(string)("./data/miserables.json")))(function(lesMisResponse) {
              return discard9((function() {
                if (lesMisResponse instanceof Left) {
                  return log7("Failed to load Les Mis\xE9rables data");
                }
                ;
                if (lesMisResponse instanceof Right) {
                  var graph = readGraphFromFileContents(new Right(lesMisResponse.value0));
                  var forcesArray = [forces.manyBodyNeg, forces.collision, forces.center, forces.links];
                  var activeForces = fromFoldable15(["many body negative", "collision", "center", linksForceName_]);
                  return discard9(modify_5(function(s) {
                    var $43 = {};
                    for (var $44 in s) {
                      if ({}.hasOwnProperty.call(s, $44)) {
                        $43[$44] = s[$44];
                      }
                      ;
                    }
                    ;
                    $43.originalGraph = new Just(graph);
                    return $43;
                  }))(function() {
                    return bind7(get10)(function(state3) {
                      return bind7(liftEffect53(execD3v2SimM({
                        simulation: state3.lesMisGUPSimulation
                      })(bind13(drawLesMisGUPV2(forcesArray)(activeForces)(graph)("#lesmis-gup-tree-viz"))(function() {
                        return pure9(unit);
                      }))))(function(newState) {
                        return discard9(modify_5(function(s) {
                          var $46 = {};
                          for (var $47 in s) {
                            if ({}.hasOwnProperty.call(s, $47)) {
                              $46[$47] = s[$47];
                            }
                            ;
                          }
                          ;
                          $46.lesMisGUPSimulation = newState.simulation;
                          return $46;
                        }))(function() {
                          return log7("LesMisGUPTree: Initialized successfully");
                        });
                      });
                    });
                  });
                }
                ;
                throw new Error("Failed pattern match at Component.LesMisGUPTree (line 150, column 5 - line 165, column 54): " + [lesMisResponse.constructor.name]);
              })())(function() {
                return pure14(unit);
              });
            });
          });
        });
      }
      ;
      if (v instanceof MoveToGrid) {
        return discard9(log7("Moving to grid layout"))(function() {
          return bind7(get10)(function(state3) {
            return bind7(liftEffect53(execD3v2SimM({
              simulation: state3.lesMisGUPSimulation
            })(moveToGrid(30))))(function(newState) {
              return modify_5(function(s) {
                var $50 = {};
                for (var $51 in s) {
                  if ({}.hasOwnProperty.call(s, $51)) {
                    $50[$51] = s[$51];
                  }
                  ;
                }
                ;
                $50.lesMisGUPSimulation = newState.simulation;
                return $50;
              });
            });
          });
        });
      }
      ;
      if (v instanceof MoveToPhylotaxis) {
        return discard9(log7("Moving to phylotaxis layout"))(function() {
          return bind7(get10)(function(state3) {
            return bind7(liftEffect53(execD3v2SimM({
              simulation: state3.lesMisGUPSimulation
            })(moveToPhylotaxis)))(function(newState) {
              return modify_5(function(s) {
                var $53 = {};
                for (var $54 in s) {
                  if ({}.hasOwnProperty.call(s, $54)) {
                    $53[$54] = s[$54];
                  }
                  ;
                }
                ;
                $53.lesMisGUPSimulation = newState.simulation;
                return $53;
              });
            });
          });
        });
      }
      ;
      if (v instanceof UnpinNodes) {
        return discard9(log7("Unpinning nodes (returning to force layout)"))(function() {
          return bind7(get10)(function(state3) {
            return bind7(liftEffect53(execD3v2SimM({
              simulation: state3.lesMisGUPSimulation
            })(unpinNodes)))(function(newState) {
              return modify_5(function(s) {
                var $56 = {};
                for (var $57 in s) {
                  if ({}.hasOwnProperty.call(s, $57)) {
                    $56[$57] = s[$57];
                  }
                  ;
                }
                ;
                $56.lesMisGUPSimulation = newState.simulation;
                return $56;
              });
            });
          });
        });
      }
      ;
      if (v instanceof FilterNodes) {
        return discard9(log7("Filtering nodes to group >= " + show15(v.value0)))(function() {
          return bind7(get10)(function(state3) {
            if (state3.originalGraph instanceof Nothing) {
              return log7("Error: Original graph data not loaded");
            }
            ;
            if (state3.originalGraph instanceof Just) {
              return bind7(liftEffect53(execD3v2SimM({
                simulation: state3.lesMisGUPSimulation
              })(filterByGroupWithOriginal(v.value0)(state3.originalGraph.value0))))(function(newState) {
                return modify_5(function(s) {
                  var $60 = {};
                  for (var $61 in s) {
                    if ({}.hasOwnProperty.call(s, $61)) {
                      $60[$61] = s[$61];
                    }
                    ;
                  }
                  ;
                  $60.lesMisGUPSimulation = newState.simulation;
                  return $60;
                });
              });
            }
            ;
            throw new Error("Failed pattern match at Component.LesMisGUPTree (line 193, column 5 - line 198, column 72): " + [state3.originalGraph.constructor.name]);
          });
        });
      }
      ;
      throw new Error("Failed pattern match at Component.LesMisGUPTree (line 143, column 16 - line 198, column 72): " + [v.constructor.name]);
    };
  };
  var forceLibrary = /* @__PURE__ */ (function() {
    return initialize(foldableArray)(functorArray)([forces.manyBodyNeg, forces.collision, forces.center, forces.links]);
  })();
  var component2 = function(dictMonadAff) {
    return mkComponent({
      initialState: function(v) {
        return {
          lesMisGUPSimulation: initialSimulationState(forceLibrary),
          originalGraph: Nothing.value
        };
      },
      render: render4,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction2(dictMonadAff),
        initialize: new Just(Initialize3.value)
      })
    });
  };

  // output/Component.MermaidTreeDemo/foreign.js
  function runMermaid() {
    setTimeout(function() {
      if (window.mermaid) {
        window.mermaid.run({
          querySelector: ".mermaid"
        });
      }
    }, 0);
  }

  // output/PSD3v2.Interpreter.MermaidTree/index.js
  var bindStateT2 = /* @__PURE__ */ bindStateT(monadEffect);
  var applicativeStateT2 = /* @__PURE__ */ applicativeStateT(monadEffect);
  var bind8 = /* @__PURE__ */ bind(bindStateT2);
  var monadStateStateT2 = /* @__PURE__ */ monadStateStateT(monadEffect);
  var get11 = /* @__PURE__ */ get(monadStateStateT2);
  var show16 = /* @__PURE__ */ show(showInt);
  var discard10 = /* @__PURE__ */ discard(discardUnit);
  var discard12 = /* @__PURE__ */ discard10(bindStateT2);
  var modify_6 = /* @__PURE__ */ modify_2(monadStateStateT2);
  var pure10 = /* @__PURE__ */ pure(applicativeStateT2);
  var showElement2 = function(v) {
    if (v instanceof SVG) {
      return "svg";
    }
    ;
    if (v instanceof Group2) {
      return "g";
    }
    ;
    if (v instanceof Circle2) {
      return "circle";
    }
    ;
    if (v instanceof Rect2) {
      return "rect";
    }
    ;
    if (v instanceof Line2) {
      return "line";
    }
    ;
    if (v instanceof Path3) {
      return "path";
    }
    ;
    if (v instanceof Text3) {
      return "text";
    }
    ;
    if (v instanceof Div2) {
      return "div";
    }
    ;
    if (v instanceof Span2) {
      return "span";
    }
    ;
    if (v instanceof Table2) {
      return "table";
    }
    ;
    if (v instanceof Tr2) {
      return "tr";
    }
    ;
    if (v instanceof Td2) {
      return "td";
    }
    ;
    if (v instanceof Th) {
      return "th";
    }
    ;
    if (v instanceof Thead) {
      return "thead";
    }
    ;
    if (v instanceof Tbody) {
      return "tbody";
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 58, column 1 - line 58, column 37): " + [v.constructor.name]);
  };
  var generateStyleDefinitions = /* @__PURE__ */ (function() {
    return "\n    %% Style definitions\n    classDef elementNode fill:#e6f598,stroke:#abdda4,stroke-width:2px\n    classDef joinNode fill:#f46d43,stroke:#d53e4f,stroke-width:2px\n    classDef nestedJoinNode fill:#fdae61,stroke:#f46d43,stroke-width:2px\n    classDef templateNode fill:#abdda4,stroke:#66c2a5,stroke-width:2px\n    classDef decomposeNode fill:#fee08b,stroke:#fdae61,stroke-width:2px\n";
  })();
  var formatAttribute = function(v) {
    if (v instanceof StaticAttr) {
      return v.value0;
    }
    ;
    if (v instanceof DataAttr) {
      return v.value0 + "(datum)";
    }
    ;
    if (v instanceof IndexedAttr) {
      return v.value0 + "(datum, i)";
    }
    ;
    throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 77, column 19 - line 80, column 61): " + [v.constructor.name]);
  };
  var formatAttributeList = function(attrs) {
    if (attrs.length === 0) {
      return "";
    }
    ;
    return foldl2(function(acc) {
      return function(attr3) {
        var $42 = acc === "";
        if ($42) {
          return formatAttribute(attr3);
        }
        ;
        return acc + (", " + formatAttribute(attr3));
      };
    })("")(attrs);
  };
  var escapeLabel = /* @__PURE__ */ replaceAll('"')("'");
  var bindMermaidTreeM = bindStateT2;
  var bind22 = /* @__PURE__ */ bind(bindMermaidTreeM);
  var discard23 = /* @__PURE__ */ discard10(bindMermaidTreeM);
  var applicativeMermaidTreeM = applicativeStateT2;
  var traverse4 = /* @__PURE__ */ traverse(traversableArray)(applicativeMermaidTreeM);
  var pure23 = /* @__PURE__ */ pure(applicativeMermaidTreeM);
  var addNode = function(label5) {
    return function(styleClass) {
      return bind8(get11)(function(state3) {
        var nodeName2 = "n" + show16(state3.nodeCounter);
        var escapedLabel = escapeLabel(label5);
        var line = "    " + (nodeName2 + ('["' + (escapedLabel + ('"]:::' + (styleClass + "\n")))));
        return discard12(modify_6(function(s) {
          var $43 = {};
          for (var $44 in s) {
            if ({}.hasOwnProperty.call(s, $44)) {
              $43[$44] = s[$44];
            }
            ;
          }
          ;
          $43.nodeCounter = s.nodeCounter + 1 | 0;
          $43.mermaidCode = s.mermaidCode + line;
          return $43;
        }))(function() {
          return pure10(state3.nodeCounter);
        });
      });
    };
  };
  var addEdge = function(fromId) {
    return function(toId) {
      var toName = "n" + show16(toId);
      var fromName = "n" + show16(fromId);
      var line = "    " + (fromName + (" --> " + (toName + "\n")));
      return modify_6(function(s) {
        var $46 = {};
        for (var $47 in s) {
          if ({}.hasOwnProperty.call(s, $47)) {
            $46[$47] = s[$47];
          }
          ;
        }
        ;
        $46.mermaidCode = s.mermaidCode + line;
        return $46;
      });
    };
  };
  var renderTree4 = function(tree3) {
    return function(parentId) {
      var traverseWithParent = function(pid) {
        return function(children3) {
          return bind22(traverse4(function(child) {
            return renderTree4(child)(new Just(pid));
          })(children3))(function() {
            return pure23(unit);
          });
        };
      };
      if (tree3 instanceof Node3) {
        var nodeLabel = (function() {
          if (tree3.value0.name instanceof Just) {
            return "<" + (showElement2(tree3.value0.elemType) + (' "' + (tree3.value0.name.value0 + '">')));
          }
          ;
          if (tree3.value0.name instanceof Nothing) {
            return showElement2(tree3.value0.elemType);
          }
          ;
          throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 94, column 21 - line 96, column 47): " + [tree3.value0.name.constructor.name]);
        })();
        var attrSuffix = (function() {
          var $52 = length(tree3.value0.attrs) > 0;
          if ($52) {
            return " + [" + (formatAttributeList(tree3.value0.attrs) + "]");
          }
          ;
          return "";
        })();
        var fullLabel = nodeLabel + attrSuffix;
        return bind22(addNode(fullLabel)("elementNode"))(function(nodeId) {
          return discard23((function() {
            if (parentId instanceof Just) {
              return addEdge(parentId.value0)(nodeId);
            }
            ;
            if (parentId instanceof Nothing) {
              return pure23(unit);
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 105, column 5 - line 107, column 27): " + [parentId.constructor.name]);
          })())(function() {
            return bind22(traverseWithParent(nodeId)(tree3.value0.children))(function() {
              return pure23(nodeId);
            });
          });
        });
      }
      ;
      if (tree3 instanceof Join2) {
        var joinLabel = 'JOIN "' + (tree3.value0.name + ('" (' + (tree3.value0.key + (") [" + (show16(length(tree3.value0.joinData)) + " items]")))));
        return bind22(addNode(joinLabel)("joinNode"))(function(joinId) {
          return discard23((function() {
            if (parentId instanceof Just) {
              return addEdge(parentId.value0)(joinId);
            }
            ;
            if (parentId instanceof Nothing) {
              return pure23(unit);
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 119, column 5 - line 121, column 27): " + [parentId.constructor.name]);
          })())(function() {
            return bind22(addNode("template(datum) \u2192")("templateNode"))(function(templateLabel) {
              return discard23(addEdge(joinId)(templateLabel))(function() {
                return discard23((function() {
                  var v = uncons(tree3.value0.joinData);
                  if (v instanceof Nothing) {
                    return pure23(unit);
                  }
                  ;
                  if (v instanceof Just) {
                    var templateTree = tree3.value0.template(v.value0.head);
                    return bind22(renderTree4(templateTree)(new Just(templateLabel)))(function() {
                      return pure23(unit);
                    });
                  }
                  ;
                  throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 128, column 5 - line 133, column 18): " + [v.constructor.name]);
                })())(function() {
                  return pure23(joinId);
                });
              });
            });
          });
        });
      }
      ;
      if (tree3 instanceof NestedJoin) {
        var joinLabel = 'NESTED JOIN "' + (tree3.value0.name + ('" (' + (tree3.value0.key + (") [" + (show16(length(tree3.value0.joinData)) + " items]")))));
        return bind22(addNode(joinLabel)("nestedJoinNode"))(function(joinId) {
          return discard23((function() {
            if (parentId instanceof Just) {
              return addEdge(parentId.value0)(joinId);
            }
            ;
            if (parentId instanceof Nothing) {
              return pure23(unit);
            }
            ;
            throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 143, column 5 - line 145, column 27): " + [parentId.constructor.name]);
          })())(function() {
            return bind22(addNode("decompose(datum) \u2192")("decomposeNode"))(function(decomposeId) {
              return discard23(addEdge(joinId)(decomposeId))(function() {
                return bind22(addNode("template(innerDatum) \u2192")("templateNode"))(function(templateId) {
                  return discard23(addEdge(decomposeId)(templateId))(function() {
                    return discard23((function() {
                      var v = uncons(tree3.value0.joinData);
                      if (v instanceof Nothing) {
                        return pure23(unit);
                      }
                      ;
                      if (v instanceof Just) {
                        var innerData = tree3.value0.decompose(v.value0.head);
                        var v1 = uncons(innerData);
                        if (v1 instanceof Nothing) {
                          return pure23(unit);
                        }
                        ;
                        if (v1 instanceof Just) {
                          var templateTree = tree3.value0.template(v1.value0.head);
                          return bind22(renderTree4(templateTree)(new Just(templateId)))(function() {
                            return pure23(unit);
                          });
                        }
                        ;
                        throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 160, column 9 - line 165, column 22): " + [v1.constructor.name]);
                      }
                      ;
                      throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 156, column 5 - line 165, column 22): " + [v.constructor.name]);
                    })())(function() {
                      return pure23(joinId);
                    });
                  });
                });
              });
            });
          });
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3v2.Interpreter.MermaidTree (line 91, column 28 - line 167, column 16): " + [tree3.constructor.name]);
    };
  };
  var runMermaidTree = function(tree3) {
    var initialState2 = {
      nodeCounter: 0,
      mermaidCode: ""
    };
    var v = renderTree4(tree3)(Nothing.value);
    return function __do3() {
      var v1 = runStateT(v)(initialState2)();
      return "%%{init: {'theme':'base', 'themeVariables': {'fontFamily':'monospace'}, 'look':'handDrawn', 'flowchart':{'curve':'basis'}}}%%\n" + ("graph TD\n" + (v1.value1.mermaidCode + generateStyleDefinitions));
    };
  };

  // output/Component.MermaidTreeDemo/index.js
  var pure11 = /* @__PURE__ */ pure(applicativeHalogenM);
  var bind9 = /* @__PURE__ */ bind(bindHalogenM);
  var discard11 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var modify_7 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var Initialize4 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var GenerateSimpleTree = /* @__PURE__ */ (function() {
    function GenerateSimpleTree2() {
    }
    ;
    GenerateSimpleTree2.value = new GenerateSimpleTree2();
    return GenerateSimpleTree2;
  })();
  var GenerateJoinTree = /* @__PURE__ */ (function() {
    function GenerateJoinTree2() {
    }
    ;
    GenerateJoinTree2.value = new GenerateJoinTree2();
    return GenerateJoinTree2;
  })();
  var staticAttr = function(name16) {
    return function(value15) {
      return new StaticAttr(name16, new StringValue(value15));
    };
  };
  var render5 = function(state3) {
    return div2([class_("mermaid-tree-demo")])([h1_([text("Mermaid Tree API Visualizer")]), p_([text("This demonstrates the new Mermaid interpreter for the Tree API.")]), div2([class_("controls")])([button([class_("btn"), onClick(function(v) {
      return GenerateSimpleTree.value;
    })])([text("Generate Simple Tree")]), button([class_("btn"), onClick(function(v) {
      return GenerateJoinTree.value;
    })])([text("Generate Data Join Tree")])]), (function() {
      if (state3.mermaidCode instanceof Nothing) {
        return div_([text("Click a button to generate a Mermaid diagram")]);
      }
      ;
      if (state3.mermaidCode instanceof Just) {
        return div_([h2_([text("Generated Mermaid Code:")]), pre([class_("mermaid-code")])([text(state3.mermaidCode.value0)]), div2([class_("mermaid")])([text(state3.mermaidCode.value0)])]);
      }
      ;
      throw new Error("Failed pattern match at Component.MermaidTreeDemo (line 64, column 7 - line 74, column 12): " + [state3.mermaidCode.constructor.name]);
    })()]);
  };
  var dataAttr = function(name16) {
    return function(fn) {
      return new DataAttr(name16, fn);
    };
  };
  var handleAction3 = function(dictMonadAff) {
    var liftEffect53 = liftEffect(monadEffectHalogenM(dictMonadAff.MonadEffect0()));
    return function(v) {
      if (v instanceof Initialize4) {
        return pure11(unit);
      }
      ;
      if (v instanceof GenerateSimpleTree) {
        var tree3 = withChildren(named2(SVG.value)("svg")([staticAttr("width")("800"), staticAttr("height")("600")]))([withChild(elem4(Group2.value)([staticAttr("class")("container")]))(elem4(Circle2.value)([staticAttr("r")("50"), staticAttr("fill")("blue")])), elem4(Text3.value)([staticAttr("x")("100"), staticAttr("y")("100")])]);
        return bind9(liftEffect53(runMermaidTree(tree3)))(function(code2) {
          return discard11(modify_7(function(v1) {
            var $23 = {};
            for (var $24 in v1) {
              if ({}.hasOwnProperty.call(v1, $24)) {
                $23[$24] = v1[$24];
              }
              ;
            }
            ;
            $23.mermaidCode = new Just(code2);
            return $23;
          }))(function() {
            return liftEffect53(runMermaid);
          });
        });
      }
      ;
      if (v instanceof GenerateJoinTree) {
        var sampleData2 = [1, 2, 3, 4, 5];
        var tree3 = withChild(named2(SVG.value)("svg")([staticAttr("width")("800")]))(joinData("circles")("circle")(sampleData2)(function(n) {
          return elem4(Circle2.value)([dataAttr("cx")(function(d8) {
            return new NumberValue(toNumber(d8) * 50);
          }), dataAttr("cy")(function(v1) {
            return new NumberValue(100);
          }), staticAttr("r")("20"), staticAttr("fill")("steelblue")]);
        }));
        return bind9(liftEffect53(runMermaidTree(tree3)))(function(code2) {
          return discard11(modify_7(function(v1) {
            var $26 = {};
            for (var $27 in v1) {
              if ({}.hasOwnProperty.call(v1, $27)) {
                $26[$27] = v1[$27];
              }
              ;
            }
            ;
            $26.mermaidCode = new Just(code2);
            return $26;
          }))(function() {
            return liftEffect53(runMermaid);
          });
        });
      }
      ;
      throw new Error("Failed pattern match at Component.MermaidTreeDemo (line 78, column 16 - line 107, column 26): " + [v.constructor.name]);
    };
  };
  var component3 = function(dictMonadAff) {
    return mkComponent({
      initialState: function(v) {
        return {
          mermaidCode: Nothing.value
        };
      },
      render: render5,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction3(dictMonadAff),
        initialize: new Just(Initialize4.value)
      })
    });
  };

  // output/D3.Viz.ModuleGraph.Model/index.js
  var startsWith = function(prefix) {
    return function(str2) {
      var prefixLen = length3(prefix);
      return take3(prefixLen)(str2) === prefix;
    };
  };
  var moduleGroup = function(name16) {
    if (startsWith("PSD3.Internal")(name16)) {
      return 0;
    }
    ;
    if (startsWith("PSD3v2")(name16)) {
      return 1;
    }
    ;
    if (startsWith("PSD3.Layout")(name16)) {
      return 2;
    }
    ;
    if (startsWith("PSD3.Shared")(name16)) {
      return 3;
    }
    ;
    if (startsWith("PSD3.")(name16)) {
      return 4;
    }
    ;
    if (startsWith("Component.")(name16)) {
      return 5;
    }
    ;
    if (startsWith("D3.Viz")(name16)) {
      return 6;
    }
    ;
    if (startsWith("D3.")(name16)) {
      return 7;
    }
    ;
    if (startsWith("Utility")(name16)) {
      return 8;
    }
    ;
    if (otherwise) {
      return 9;
    }
    ;
    throw new Error("Failed pattern match at D3.Viz.ModuleGraph.Model (line 39, column 1 - line 39, column 29): " + [name16.constructor.name]);
  };

  // output/Data.String.CodePoints/foreign.js
  var hasArrayFrom = typeof Array.from === "function";
  var hasStringIterator = typeof Symbol !== "undefined" && Symbol != null && typeof Symbol.iterator !== "undefined" && typeof String.prototype[Symbol.iterator] === "function";
  var hasFromCodePoint = typeof String.prototype.fromCodePoint === "function";
  var hasCodePointAt = typeof String.prototype.codePointAt === "function";
  var _unsafeCodePointAt0 = function(fallback) {
    return hasCodePointAt ? function(str2) {
      return str2.codePointAt(0);
    } : fallback;
  };
  var _singleton = function(fallback) {
    return hasFromCodePoint ? String.fromCodePoint : fallback;
  };
  var _take = function(fallback) {
    return function(n) {
      if (hasStringIterator) {
        return function(str2) {
          var accum = "";
          var iter = str2[Symbol.iterator]();
          for (var i2 = 0; i2 < n; ++i2) {
            var o = iter.next();
            if (o.done) return accum;
            accum += o.value;
          }
          return accum;
        };
      }
      return fallback(n);
    };
  };
  var _toCodePointArray = function(fallback) {
    return function(unsafeCodePointAt02) {
      if (hasArrayFrom) {
        return function(str2) {
          return Array.from(str2, unsafeCodePointAt02);
        };
      }
      return fallback;
    };
  };

  // output/Data.String.CodePoints/index.js
  var fromEnum2 = /* @__PURE__ */ fromEnum(boundedEnumChar);
  var map29 = /* @__PURE__ */ map(functorMaybe);
  var unfoldr2 = /* @__PURE__ */ unfoldr(unfoldableArray);
  var div3 = /* @__PURE__ */ div(euclideanRingInt);
  var mod3 = /* @__PURE__ */ mod(euclideanRingInt);
  var unsurrogate = function(lead) {
    return function(trail) {
      return (((lead - 55296 | 0) * 1024 | 0) + (trail - 56320 | 0) | 0) + 65536 | 0;
    };
  };
  var isTrail = function(cu) {
    return 56320 <= cu && cu <= 57343;
  };
  var isLead = function(cu) {
    return 55296 <= cu && cu <= 56319;
  };
  var uncons5 = function(s) {
    var v = length3(s);
    if (v === 0) {
      return Nothing.value;
    }
    ;
    if (v === 1) {
      return new Just({
        head: fromEnum2(charAt(0)(s)),
        tail: ""
      });
    }
    ;
    var cu1 = fromEnum2(charAt(1)(s));
    var cu0 = fromEnum2(charAt(0)(s));
    var $43 = isLead(cu0) && isTrail(cu1);
    if ($43) {
      return new Just({
        head: unsurrogate(cu0)(cu1),
        tail: drop2(2)(s)
      });
    }
    ;
    return new Just({
      head: cu0,
      tail: drop2(1)(s)
    });
  };
  var unconsButWithTuple = function(s) {
    return map29(function(v) {
      return new Tuple(v.head, v.tail);
    })(uncons5(s));
  };
  var toCodePointArrayFallback = function(s) {
    return unfoldr2(unconsButWithTuple)(s);
  };
  var unsafeCodePointAt0Fallback = function(s) {
    var cu0 = fromEnum2(charAt(0)(s));
    var $47 = isLead(cu0) && length3(s) > 1;
    if ($47) {
      var cu1 = fromEnum2(charAt(1)(s));
      var $48 = isTrail(cu1);
      if ($48) {
        return unsurrogate(cu0)(cu1);
      }
      ;
      return cu0;
    }
    ;
    return cu0;
  };
  var unsafeCodePointAt0 = /* @__PURE__ */ _unsafeCodePointAt0(unsafeCodePointAt0Fallback);
  var toCodePointArray = /* @__PURE__ */ _toCodePointArray(toCodePointArrayFallback)(unsafeCodePointAt0);
  var length9 = function($74) {
    return length(toCodePointArray($74));
  };
  var indexOf2 = function(p2) {
    return function(s) {
      return map29(function(i2) {
        return length9(take3(i2)(s));
      })(indexOf(p2)(s));
    };
  };
  var fromCharCode2 = /* @__PURE__ */ (function() {
    var $75 = toEnumWithDefaults(boundedEnumChar)(bottom(boundedChar))(top(boundedChar));
    return function($76) {
      return singleton7($75($76));
    };
  })();
  var singletonFallback = function(v) {
    if (v <= 65535) {
      return fromCharCode2(v);
    }
    ;
    var lead = div3(v - 65536 | 0)(1024) + 55296 | 0;
    var trail = mod3(v - 65536 | 0)(1024) + 56320 | 0;
    return fromCharCode2(lead) + fromCharCode2(trail);
  };
  var singleton9 = /* @__PURE__ */ _singleton(singletonFallback);
  var takeFallback = function(v) {
    return function(v1) {
      if (v < 1) {
        return "";
      }
      ;
      var v2 = uncons5(v1);
      if (v2 instanceof Just) {
        return singleton9(v2.value0.head) + takeFallback(v - 1 | 0)(v2.value0.tail);
      }
      ;
      return v1;
    };
  };
  var take4 = /* @__PURE__ */ _take(takeFallback);
  var splitAt3 = function(i2) {
    return function(s) {
      var before = take4(i2)(s);
      return {
        before,
        after: drop2(length3(before))(s)
      };
    };
  };
  var drop5 = function(n) {
    return function(s) {
      return drop2(length3(take4(n)(s)))(s);
    };
  };

  // output/D3.Viz.ModuleGraph.LoadModuleGraph/index.js
  var member4 = /* @__PURE__ */ member2(ordString);
  var map30 = /* @__PURE__ */ map(functorArray);
  var fromFoldable16 = /* @__PURE__ */ fromFoldable7(foldableArray)(ordString);
  var pure15 = /* @__PURE__ */ pure(applicativeAff);
  var startsWith2 = function(prefix) {
    return function(str2) {
      var v = indexOf2(prefix)(str2);
      if (v instanceof Just && v.value0 === 0) {
        return true;
      }
      ;
      return false;
    };
  };
  var makeNode = function(index5) {
    return function(name16) {
      return {
        id: name16,
        name: name16,
        group: moduleGroup(name16),
        index: index5,
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        fx: toNullable(Nothing.value),
        fy: toNullable(Nothing.value)
      };
    };
  };
  var makeLinks2 = function(raw) {
    return function(localModulesSet) {
      return function(sourceIndex) {
        return function(sourceName) {
          var v = lookup(sourceName)(raw);
          if (v instanceof Nothing) {
            return [];
          }
          ;
          if (v instanceof Just) {
            var makeLink = function(target6) {
              return {
                source: sourceName,
                target: target6,
                value: 1
              };
            };
            var localDeps = filter(function(dep) {
              return member4(dep)(localModulesSet);
            })(v.value0.depends);
            return map30(makeLink)(localDeps);
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.ModuleGraph.LoadModuleGraph (line 81, column 3 - line 90, column 31): " + [v.constructor.name]);
        };
      };
    };
  };
  var isLocalModule = function(name16) {
    return startsWith2("PSD3")(name16) || (startsWith2("Component.")(name16) || (startsWith2("D3.Viz")(name16) || startsWith2("Utility")(name16)));
  };
  var processModuleGraph = function(raw) {
    var allModules = keys(raw);
    var localModules = filter(isLocalModule)(allModules);
    var localModulesSet = fromFoldable16(localModules);
    var links = concat(mapWithIndex2(makeLinks2(raw)(localModulesSet))(localModules));
    var nodes = mapWithIndex2(makeNode)(localModules);
    return {
      nodes,
      links
    };
  };
  var loadModuleGraph = /* @__PURE__ */ bind(bindAff)(/* @__PURE__ */ get3(json)("./data/spago-modules.json"))(function(result) {
    if (result instanceof Left) {
      return pure15(new Left("Failed to load module graph: " + printError(result.value0)));
    }
    ;
    if (result instanceof Right) {
      return pure15(new Right(processModuleGraph(result.value0.body)));
    }
    ;
    throw new Error("Failed pattern match at D3.Viz.ModuleGraph.LoadModuleGraph (line 25, column 3 - line 30, column 44): " + [result.constructor.name]);
  });

  // output/D3.Viz.ModuleGraph.Viz/index.js
  var compare7 = /* @__PURE__ */ compare(ordInt);
  var bind10 = /* @__PURE__ */ bind(bindD3v2SimM);
  var liftEffect6 = /* @__PURE__ */ liftEffect(monadEffectD3v2SimM);
  var select8 = /* @__PURE__ */ select3(selectionMD3v2Selection_D1);
  var width10 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height10 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox4 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var show17 = /* @__PURE__ */ show(showNumber);
  var id_3 = /* @__PURE__ */ id_(toAttrStringString);
  var class_4 = /* @__PURE__ */ class_2(toAttrStringString);
  var renderTree5 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D1);
  var renderTree12 = /* @__PURE__ */ renderTree5(ordUnit);
  var on5 = /* @__PURE__ */ on2(selectionMD3v2Selection_D1);
  var init6 = /* @__PURE__ */ init4(simulationMD3v2Selection_);
  var x13 = /* @__PURE__ */ x1(toAttrNumberFunctionNumbe);
  var y13 = /* @__PURE__ */ y1(toAttrNumberFunctionNumbe);
  var x24 = /* @__PURE__ */ x22(toAttrNumberFunctionNumbe);
  var y24 = /* @__PURE__ */ y22(toAttrNumberFunctionNumbe);
  var strokeWidth5 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var stroke3 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeOpacity2 = /* @__PURE__ */ strokeOpacity(toAttrNumberNumber);
  var cx5 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy5 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius5 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill5 = /* @__PURE__ */ fill3(toAttrStringString);
  var ordNullable2 = /* @__PURE__ */ ordNullable(ordNumber);
  var renderTree23 = /* @__PURE__ */ renderTree5(/* @__PURE__ */ ordRecord()(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordNil)()({
    reflectSymbol: function() {
      return "y";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "x";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "vy";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "vx";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "name";
    }
  })(ordString))()({
    reflectSymbol: function() {
      return "index";
    }
  })(ordInt))()({
    reflectSymbol: function() {
      return "id";
    }
  })(ordString))()({
    reflectSymbol: function() {
      return "group";
    }
  })(ordInt))()({
    reflectSymbol: function() {
      return "fy";
    }
  })(ordNullable2))()({
    reflectSymbol: function() {
      return "fx";
    }
  })(ordNullable2)));
  var x3 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y3 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var textAnchor2 = /* @__PURE__ */ textAnchor(toAttrStringString);
  var fontSize2 = /* @__PURE__ */ fontSize(toAttrNumberNumber);
  var textContent3 = /* @__PURE__ */ textContent(toAttrStringString);
  var lookup7 = /* @__PURE__ */ lookup2(ordString);
  var discard13 = /* @__PURE__ */ discard(discardUnit)(bindD3v2SimM);
  var addTickFunction3 = /* @__PURE__ */ addTickFunction(simulationMD3v2Selection_);
  var cx12 = /* @__PURE__ */ cx3(toAttrNumberFunctionNumbe);
  var cy12 = /* @__PURE__ */ cy3(toAttrNumberFunctionNumbe);
  var x32 = /* @__PURE__ */ x2(toAttrNumberFunctionNumbe);
  var y32 = /* @__PURE__ */ y2(toAttrNumberFunctionNumbe);
  var start5 = /* @__PURE__ */ start2(simulationMD3v2Selection_);
  var pure16 = /* @__PURE__ */ pure(applicativeD3v2SimM);
  var eqIndexedLink2 = {
    eq: function(v) {
      return function(v1) {
        return v.index === v1.index;
      };
    }
  };
  var ordIndexedLink2 = {
    compare: function(v) {
      return function(v1) {
        return compare7(v.index)(v1.index);
      };
    },
    Eq0: function() {
      return eqIndexedLink2;
    }
  };
  var renderTree33 = /* @__PURE__ */ renderTree5(ordIndexedLink2);
  var drawModuleGraph = function(forcesArray) {
    return function(activeForces) {
      return function(graph) {
        return function(containerSelector) {
          return bind10(liftEffect6(getWindowWidthHeight))(function(v) {
            return bind10(select8(containerSelector))(function(container) {
              var forceGraphTree = withChild(named2(SVG.value)("svg")([width10(v.value0), height10(v.value1), viewBox4(show17(-v.value0 / 2) + (" " + (show17(-v.value1 / 2) + (" " + (show17(v.value0) + (" " + show17(v.value1))))))), id_3("module-graph-svg"), class_4("module-graph")]))(withChildren(named2(Group2.value)("zoomGroup")([id_3("zoom-group"), class_4("zoom-group")]))([named2(Group2.value)("linksGroup")([id_3("links"), class_4("links")]), named2(Group2.value)("nodesGroup")([id_3("nodes"), class_4("nodes")]), named2(Group2.value)("labelsGroup")([id_3("labels"), class_4("labels")])]));
              return bind10(renderTree12(container)(forceGraphTree))(function(selections) {
                return bind10(liftEffect6(reselectD3v2("svg")(selections)))(function(svg) {
                  return bind10(liftEffect6(reselectD3v2("linksGroup")(selections)))(function(linksGroup) {
                    return bind10(liftEffect6(reselectD3v2("nodesGroup")(selections)))(function(nodesGroup) {
                      return bind10(liftEffect6(reselectD3v2("labelsGroup")(selections)))(function(labelsGroup) {
                        return bind10(on5(new Zoom2(defaultZoom(new ScaleExtent2(0.1, 10))("#zoom-group")))(svg))(function() {
                          return bind10(init6({
                            nodes: graph.nodes,
                            links: graph.links,
                            forces: forcesArray,
                            activeForces,
                            config: {
                              alpha: 1,
                              alphaTarget: 0,
                              alphaMin: 1e-3,
                              alphaDecay: 0.0228,
                              velocityDecay: 0.4
                            },
                            keyFn: keyIsID_,
                            ticks: empty3
                          }))(function(v1) {
                            var indexedLinks = mapWithIndex2(function(i2) {
                              return function(link4) {
                                return {
                                  index: i2,
                                  link: link4
                                };
                              };
                            })(v1.links);
                            var linksTree = joinData("linkElements")("line")(indexedLinks)(function(v2) {
                              return elem4(Line2.value)([x13(function(v3) {
                                return v2.link.source.x;
                              }), y13(function(v3) {
                                return v2.link.source.y;
                              }), x24(function(v3) {
                                return v2.link.target.x;
                              }), y24(function(v3) {
                                return v2.link.target.y;
                              }), strokeWidth5(1), stroke3("#999"), strokeOpacity2(0.6)]);
                            });
                            return bind10(renderTree33(linksGroup)(linksTree))(function(linksSelections) {
                              var nodesTree = joinData("nodeElements")("circle")(v1.nodes)(function(v2) {
                                return elem4(Circle2.value)([cx5(v2.x), cy5(v2.y), radius5(5), fill5(d3SchemeCategory10N_(toNumber(v2.group))), stroke3("#fff"), strokeWidth5(1.5)]);
                              });
                              return bind10(renderTree23(nodesGroup)(nodesTree))(function(nodesSelections) {
                                var labelsTree = joinData("labelElements")("text")(v1.nodes)(function(v2) {
                                  return elem4(Text3.value)([x3(v2.x), y3(v2.y + 3), textAnchor2("middle"), fontSize2(10), fill5("#000"), strokeOpacity2(1), class_4("node-label"), textContent3(v2.name)]);
                                });
                                return bind10(renderTree23(labelsGroup)(labelsTree))(function(labelsSelections) {
                                  var nodeCircles = (function() {
                                    var v2 = lookup7("nodeElements")(nodesSelections);
                                    if (v2 instanceof Just) {
                                      return v2.value0;
                                    }
                                    ;
                                    if (v2 instanceof Nothing) {
                                      return unsafeCrashWith("nodeElements not found");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.ModuleGraph.Viz (line 173, column 21 - line 175, column 76): " + [v2.constructor.name]);
                                  })();
                                  var linkLines = (function() {
                                    var v2 = lookup7("linkElements")(linksSelections);
                                    if (v2 instanceof Just) {
                                      return v2.value0;
                                    }
                                    ;
                                    if (v2 instanceof Nothing) {
                                      return unsafeCrashWith("linkElements not found");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.ModuleGraph.Viz (line 178, column 19 - line 180, column 76): " + [v2.constructor.name]);
                                  })();
                                  var labelTexts = (function() {
                                    var v2 = lookup7("labelElements")(labelsSelections);
                                    if (v2 instanceof Just) {
                                      return v2.value0;
                                    }
                                    ;
                                    if (v2 instanceof Nothing) {
                                      return unsafeCrashWith("labelElements not found");
                                    }
                                    ;
                                    throw new Error("Failed pattern match at D3.Viz.ModuleGraph.Viz (line 183, column 20 - line 185, column 77): " + [v2.constructor.name]);
                                  })();
                                  return bind10(on5(new Drag2(simulationDrag("module-graph")))(nodeCircles))(function() {
                                    return discard13(addTickFunction3("links")(new Step4(linkLines, [x13(function(v2) {
                                      return v2.link.source.x;
                                    }), y13(function(v2) {
                                      return v2.link.source.y;
                                    }), x24(function(v2) {
                                      return v2.link.target.x;
                                    }), y24(function(v2) {
                                      return v2.link.target.y;
                                    })])))(function() {
                                      return discard13(addTickFunction3("nodes")(new Step4(nodeCircles, [cx12(function(v2) {
                                        return v2.x;
                                      }), cy12(function(v2) {
                                        return v2.y;
                                      })])))(function() {
                                        return discard13(addTickFunction3("labels")(new Step4(labelTexts, [x32(function(v2) {
                                          return v2.x;
                                        }), y32(function(v2) {
                                          return v2.y + 3;
                                        })])))(function() {
                                          return discard13(start5)(function() {
                                            return pure16(unit);
                                          });
                                        });
                                      });
                                    });
                                  });
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        };
      };
    };
  };

  // output/Component.ModuleGraph/index.js
  var show18 = /* @__PURE__ */ show(showInt);
  var discard14 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var bind11 = /* @__PURE__ */ bind(bindHalogenM);
  var modify_8 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var fromFoldable17 = /* @__PURE__ */ fromFoldable7(foldableArray)(ordString);
  var get12 = /* @__PURE__ */ get(monadStateHalogenM);
  var pure17 = /* @__PURE__ */ pure(applicativeHalogenM);
  var Initialize5 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var render6 = function(state3) {
    var getGroupColor = function(v) {
      if (v === 0) {
        return "#1f77b4";
      }
      ;
      if (v === 1) {
        return "#ff7f0e";
      }
      ;
      if (v === 2) {
        return "#2ca02c";
      }
      ;
      if (v === 3) {
        return "#d62728";
      }
      ;
      if (v === 4) {
        return "#9467bd";
      }
      ;
      if (v === 5) {
        return "#8c564b";
      }
      ;
      if (v === 6) {
        return "#e377c2";
      }
      ;
      if (v === 7) {
        return "#7f7f7f";
      }
      ;
      if (v === 8) {
        return "#bcbd22";
      }
      ;
      return "#17becf";
    };
    var colorBox = function(group4) {
      return span2([class_("color-box"), style("background-color: " + (getGroupColor(group4) + ";"))])([]);
    };
    return div2([class_("module-graph-page")])([div2([class_("page-header")])([h1_([text("Module Dependency Graph")]), p([class_("page-description")])([text("Force-directed visualization of local module dependencies in this codebase. "), text("Each node is a PureScript module, colored by top-level namespace. "), text("Links show import relationships.")]), (function() {
      if (state3.moduleCount instanceof Just && state3.linkCount instanceof Just) {
        return p([class_("stats")])([text(show18(state3.moduleCount.value0) + (" modules, " + (show18(state3.linkCount.value0) + " dependencies")))]);
      }
      ;
      return text("");
    })()]), div2([id3("module-graph-viz"), class_("viz-container")])([]), div2([class_("info-panel")])([h3_([text("Module Groups (by color)")]), ul_([li_([colorBox(0), text("PSD3.Internal - Core library internals")]), li_([colorBox(1), text("PSD3v2 - Tree API implementation")]), li_([colorBox(2), text("PSD3.Layout - Layout algorithms (Sankey, Hierarchy)")]), li_([colorBox(3), text("PSD3.Shared - Shared website utilities")]), li_([colorBox(4), text("PSD3.* - Other library modules")]), li_([colorBox(5), text("Component.* - Halogen components")]), li_([colorBox(6), text("D3.Viz - Visualization implementations")]), li_([colorBox(7), text("D3.* - Other viz modules")]), li_([colorBox(8), text("Utility - Utility functions")])]), h3_([text("Interactions")]), ul_([li_([text("Drag nodes to reposition them")]), li_([text("Zoom and pan with mouse wheel / trackpad")]), li_([text("Watch for clusters and orphan modules")])])])]);
  };
  var forces2 = /* @__PURE__ */ (function() {
    return {
      manyBodyNeg: createForce("many body negative")(new RegularForce(ForceManyBody.value))(allNodes)([strengthVal(-30)]),
      collision: createForce("collision")(new RegularForce(ForceCollide.value))(allNodes)([radiusVal(8)]),
      center: createForce("center")(new RegularForce(ForceCenter.value))(allNodes)([xVal(0), yVal(0), strengthVal(0.1)]),
      links: createLinkForce(allNodes)([distanceVal(30)])
    };
  })();
  var handleAction4 = function(dictMonadAff) {
    var monadEffectHalogenM2 = monadEffectHalogenM(dictMonadAff.MonadEffect0());
    var log7 = log3(monadEffectHalogenM2);
    var liftAff32 = liftAff(monadAffHalogenM(dictMonadAff));
    var liftEffect53 = liftEffect(monadEffectHalogenM2);
    return function(v) {
      return discard14(log7("ModuleGraph: Initializing"))(function() {
        return discard14(liftAff32(delay(100)))(function() {
          return bind11(liftAff32(loadModuleGraph))(function(graphResult) {
            return discard14((function() {
              if (graphResult instanceof Left) {
                return log7("Failed to load module graph: " + graphResult.value0);
              }
              ;
              if (graphResult instanceof Right) {
                return discard14(log7("Loaded " + (show18(length(graphResult.value0.nodes)) + " modules")))(function() {
                  return discard14(modify_8(function(v1) {
                    var $36 = {};
                    for (var $37 in v1) {
                      if ({}.hasOwnProperty.call(v1, $37)) {
                        $36[$37] = v1[$37];
                      }
                      ;
                    }
                    ;
                    $36.moduleCount = new Just(length(graphResult.value0.nodes));
                    $36.linkCount = new Just(length(graphResult.value0.links));
                    return $36;
                  }))(function() {
                    var forcesArray = [forces2.manyBodyNeg, forces2.collision, forces2.center, forces2.links];
                    var activeForces = fromFoldable17(["many body negative", "collision", "center", linksForceName_]);
                    return bind11(get12)(function(state3) {
                      return bind11(liftEffect53(execD3v2SimM({
                        simulation: state3.simulation
                      })(drawModuleGraph(forcesArray)(activeForces)(graphResult.value0)("#module-graph-viz"))))(function(newState) {
                        return discard14(modify_8(function(s) {
                          var $39 = {};
                          for (var $40 in s) {
                            if ({}.hasOwnProperty.call(s, $40)) {
                              $39[$40] = s[$40];
                            }
                            ;
                          }
                          ;
                          $39.simulation = newState.simulation;
                          return $39;
                        }))(function() {
                          return log7("ModuleGraph: Initialized successfully");
                        });
                      });
                    });
                  });
                });
              }
              ;
              throw new Error("Failed pattern match at Component.ModuleGraph (line 135, column 5 - line 152, column 52): " + [graphResult.constructor.name]);
            })())(function() {
              return pure17(unit);
            });
          });
        });
      });
    };
  };
  var forceLibrary2 = /* @__PURE__ */ (function() {
    return initialize(foldableArray)(functorArray)([forces2.manyBodyNeg, forces2.collision, forces2.center, forces2.links]);
  })();
  var component4 = function(dictMonadAff) {
    return mkComponent({
      initialState: function(v) {
        return {
          simulation: initialSimulationState(forceLibrary2),
          moduleCount: Nothing.value,
          linkCount: Nothing.value
        };
      },
      render: render6,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction4(dictMonadAff),
        initialize: new Just(Initialize5.value)
      })
    });
  };

  // output/Component.TreeAPI/foreign.js
  var clearViz = () => {
    const viz = document.getElementById("viz");
    if (viz) {
      viz.innerHTML = "";
    }
  };

  // output/Data.Number.Format/foreign.js
  function wrap3(method2) {
    return function(d8) {
      return function(num) {
        return method2.apply(num, [d8]);
      };
    };
  }
  var toPrecisionNative = wrap3(Number.prototype.toPrecision);
  var toFixedNative = wrap3(Number.prototype.toFixed);
  var toExponentialNative = wrap3(Number.prototype.toExponential);

  // output/Data.Number.Format/index.js
  var clamp2 = /* @__PURE__ */ clamp(ordInt);
  var Precision = /* @__PURE__ */ (function() {
    function Precision2(value0) {
      this.value0 = value0;
    }
    ;
    Precision2.create = function(value0) {
      return new Precision2(value0);
    };
    return Precision2;
  })();
  var Fixed = /* @__PURE__ */ (function() {
    function Fixed2(value0) {
      this.value0 = value0;
    }
    ;
    Fixed2.create = function(value0) {
      return new Fixed2(value0);
    };
    return Fixed2;
  })();
  var Exponential = /* @__PURE__ */ (function() {
    function Exponential2(value0) {
      this.value0 = value0;
    }
    ;
    Exponential2.create = function(value0) {
      return new Exponential2(value0);
    };
    return Exponential2;
  })();
  var toStringWith = function(v) {
    if (v instanceof Precision) {
      return toPrecisionNative(v.value0);
    }
    ;
    if (v instanceof Fixed) {
      return toFixedNative(v.value0);
    }
    ;
    if (v instanceof Exponential) {
      return toExponentialNative(v.value0);
    }
    ;
    throw new Error("Failed pattern match at Data.Number.Format (line 59, column 1 - line 59, column 43): " + [v.constructor.name]);
  };
  var fixed = /* @__PURE__ */ (function() {
    var $9 = clamp2(0)(20);
    return function($10) {
      return Fixed.create($9($10));
    };
  })();

  // output/PSD3v2.Axis.Axis/index.js
  var map31 = /* @__PURE__ */ map(functorArray);
  var show19 = /* @__PURE__ */ show(showNumber);
  var class_5 = /* @__PURE__ */ class_2(toAttrStringString);
  var transform3 = /* @__PURE__ */ transform2(toAttrStringString);
  var x14 = /* @__PURE__ */ x1(toAttrNumberNumber);
  var y14 = /* @__PURE__ */ y1(toAttrNumberNumber);
  var x25 = /* @__PURE__ */ x22(toAttrNumberNumber);
  var y25 = /* @__PURE__ */ y22(toAttrNumberNumber);
  var stroke4 = /* @__PURE__ */ stroke(toAttrStringString);
  var x4 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y4 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var textAnchor3 = /* @__PURE__ */ textAnchor(toAttrStringString);
  var dy2 = /* @__PURE__ */ dy(toAttrNumberNumber);
  var fill6 = /* @__PURE__ */ fill3(toAttrStringString);
  var fontSize3 = /* @__PURE__ */ fontSize(toAttrNumberNumber);
  var textContent4 = /* @__PURE__ */ textContent(toAttrStringString);
  var append15 = /* @__PURE__ */ append(semigroupArray);
  var d5 = /* @__PURE__ */ d4(toAttrStringString);
  var Top = /* @__PURE__ */ (function() {
    function Top2() {
    }
    ;
    Top2.value = new Top2();
    return Top2;
  })();
  var Right2 = /* @__PURE__ */ (function() {
    function Right3() {
    }
    ;
    Right3.value = new Right3();
    return Right3;
  })();
  var Bottom = /* @__PURE__ */ (function() {
    function Bottom2() {
    }
    ;
    Bottom2.value = new Bottom2();
    return Bottom2;
  })();
  var Left2 = /* @__PURE__ */ (function() {
    function Left3() {
    }
    ;
    Left3.value = new Left3();
    return Left3;
  })();
  var generateTicks = function(scale) {
    return function(count) {
      var step3 = (scale.domain.max - scale.domain.min) / toNumber(count);
      return map31(function(i2) {
        return scale.domain.min + toNumber(i2) * step3;
      })(range2(0)(count));
    };
  };
  var defaultTickFormat = function(n) {
    var $30 = n === 0;
    if ($30) {
      return "0";
    }
    ;
    return toStringWith(fixed(1))(n);
  };
  var defaultAxisConfig = /* @__PURE__ */ (function() {
    return {
      tickSize: 6,
      tickPadding: 3,
      tickCount: 10,
      tickFormat: Nothing.value
    };
  })();
  var axisLeft = function(scale) {
    return {
      orientation: Left2.value,
      scale,
      config: defaultAxisConfig
    };
  };
  var axisBottom = function(scale) {
    return {
      orientation: Bottom.value,
      scale,
      config: defaultAxisConfig
    };
  };
  var applyScale = function(scale) {
    return function(value15) {
      var rangeSpan = scale.range.max - scale.range.min;
      var domainSpan = scale.domain.max - scale.domain.min;
      var normalized = (value15 - scale.domain.min) / domainSpan;
      return scale.range.min + normalized * rangeSpan;
    };
  };
  var renderAxis = function(ax) {
    var ticks = generateTicks(ax.scale)(ax.config.tickCount);
    var formatter = fromMaybe(defaultTickFormat)(ax.config.tickFormat);
    var v = (function() {
      if (ax.orientation instanceof Bottom) {
        return {
          domainPath: "M" + (show19(ax.scale.range.min) + (",0H" + show19(ax.scale.range.max))),
          tickTransform: function(pos) {
            return "translate(" + (show19(pos) + ",0)");
          },
          tickLine: {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: ax.config.tickSize
          },
          tickText: {
            x: 0,
            y: ax.config.tickSize + ax.config.tickPadding,
            anchor: "middle",
            dyVal: 7
          }
        };
      }
      ;
      if (ax.orientation instanceof Left2) {
        return {
          domainPath: "M0," + (show19(ax.scale.range.min) + ("V" + show19(ax.scale.range.max))),
          tickTransform: function(pos) {
            return "translate(0," + (show19(pos) + ")");
          },
          tickLine: {
            x1: -ax.config.tickSize,
            y1: 0,
            x2: 0,
            y2: 0
          },
          tickText: {
            x: -(ax.config.tickSize + ax.config.tickPadding),
            y: 0,
            anchor: "end",
            dyVal: 3
          }
        };
      }
      ;
      if (ax.orientation instanceof Top) {
        return {
          domainPath: "M" + (show19(ax.scale.range.min) + (",0H" + show19(ax.scale.range.max))),
          tickTransform: function(pos) {
            return "translate(" + (show19(pos) + ",0)");
          },
          tickLine: {
            x1: 0,
            y1: -ax.config.tickSize,
            x2: 0,
            y2: 0
          },
          tickText: {
            x: 0,
            y: -(ax.config.tickSize + ax.config.tickPadding),
            anchor: "middle",
            dyVal: 0
          }
        };
      }
      ;
      if (ax.orientation instanceof Right2) {
        return {
          domainPath: "M0," + (show19(ax.scale.range.min) + ("V" + show19(ax.scale.range.max))),
          tickTransform: function(pos) {
            return "translate(0," + (show19(pos) + ")");
          },
          tickLine: {
            x1: 0,
            y1: 0,
            x2: ax.config.tickSize,
            y2: 0
          },
          tickText: {
            x: ax.config.tickSize + ax.config.tickPadding,
            y: 0,
            anchor: "start",
            dyVal: 3
          }
        };
      }
      ;
      throw new Error("Failed pattern match at PSD3v2.Axis.Axis (line 118, column 57 - line 142, column 10): " + [ax.orientation.constructor.name]);
    })();
    var tickElements = map31(function(tickValue) {
      var pos = applyScale(ax.scale)(tickValue);
      return withChildren(elem4(Group2.value)([class_5("tick"), transform3(v.tickTransform(pos))]))([elem4(Line2.value)([x14(v.tickLine.x1), y14(v.tickLine.y1), x25(v.tickLine.x2), y25(v.tickLine.y2), stroke4("currentColor")]), elem4(Text3.value)([x4(v.tickText.x), y4(v.tickText.y), textAnchor3(v.tickText.anchor), dy2(v.tickText.dyVal), fill6("currentColor"), fontSize3(10), textContent4(formatter(tickValue))])]);
    })(ticks);
    return withChildren(elem4(Group2.value)([class_5("axis"), fill6("none"), fontSize3(10), stroke4("currentColor")]))(append15([elem4(Path3.value)([class_5("domain"), stroke4("currentColor"), d5(v.domainPath)])])(tickElements));
  };

  // output/D3.Viz.TreeAPI.BarChartExample/index.js
  var bind14 = /* @__PURE__ */ bind(bindD3v2M);
  var map32 = /* @__PURE__ */ map(functorArray);
  var maximum4 = /* @__PURE__ */ maximum(ordNumber)(foldableArray);
  var width11 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height11 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox5 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var show20 = /* @__PURE__ */ show(showNumber);
  var class_6 = /* @__PURE__ */ class_2(toAttrStringString);
  var transform4 = /* @__PURE__ */ transform2(toAttrStringString);
  var renderTree6 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D);
  var renderTree13 = /* @__PURE__ */ renderTree6(ordUnit);
  var liftEffect7 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var x5 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y5 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var fill7 = /* @__PURE__ */ fill3(toAttrStringString);
  var stroke5 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeWidth6 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var renderTree24 = /* @__PURE__ */ renderTree6(/* @__PURE__ */ ordRecord()(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordNil)()({
    reflectSymbol: function() {
      return "y";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "x";
    }
  })(ordNumber)));
  var show110 = /* @__PURE__ */ show(showInt);
  var lookup8 = /* @__PURE__ */ lookup2(ordString);
  var sampleData = [{
    x: 1,
    y: 30
  }, {
    x: 2,
    y: 80
  }, {
    x: 3,
    y: 45
  }, {
    x: 4,
    y: 60
  }, {
    x: 5,
    y: 20
  }, {
    x: 6,
    y: 90
  }, {
    x: 7,
    y: 55
  }];
  var innerWidth2 = function(dims) {
    return dims.width - dims.marginLeft - dims.marginRight;
  };
  var innerHeight2 = function(dims) {
    return dims.height - dims.marginTop - dims.marginBottom;
  };
  var defaultDims = {
    width: 600,
    height: 400,
    marginTop: 20,
    marginRight: 20,
    marginBottom: 40,
    marginLeft: 50
  };
  var barChart = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind14(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var iWidth = innerWidth2(defaultDims);
    var iHeight = innerHeight2(defaultDims);
    var yValues = map32(function(v) {
      return v.y;
    })(sampleData);
    var maxY = fromMaybe(100)(maximum4(yValues));
    var numBars = length(sampleData);
    var barWidth = (function() {
      var $48 = numBars > 0;
      if ($48) {
        return iWidth / toNumber(numBars) * 0.8;
      }
      ;
      return 0;
    })();
    var xScale = {
      domain: {
        min: 1,
        max: toNumber(numBars)
      },
      range: {
        min: 0,
        max: iWidth
      }
    };
    var yScale = {
      domain: {
        min: 0,
        max: maxY
      },
      range: {
        min: iHeight,
        max: 0
      }
    };
    var xAxis = axisBottom(xScale);
    var yAxis = axisLeft(yScale);
    var axesTree = withChild(named2(SVG.value)("svg")([width11(defaultDims.width), height11(defaultDims.height), viewBox5("0 0 " + (show20(defaultDims.width) + (" " + show20(defaultDims.height)))), class_6("bar-chart-tree")]))(withChildren(named2(Group2.value)("chartGroup")([class_6("chart-content"), transform4("translate(" + (show20(defaultDims.marginLeft) + ("," + (show20(defaultDims.marginTop) + ")"))))]))([withChild(named2(Group2.value)("xAxis")([transform4("translate(0," + (show20(iHeight) + ")")), class_6("x-axis")]))(renderAxis(xAxis)), withChild(named2(Group2.value)("yAxis")([class_6("y-axis")]))(renderAxis(yAxis))]));
    return bind14(renderTree13(container)(axesTree))(function(axesSelections) {
      return bind14(liftEffect7(reselectD3v2("chartGroup")(axesSelections)))(function(chartGroupSel) {
        var barsTree = joinData("bars")("rect")(sampleData)(function(point) {
          var yPos = iHeight - (point.y - 0) / (maxY - 0) * iHeight;
          var xPos = (point.x - 1) * (iWidth / toNumber(numBars)) + (iWidth / toNumber(numBars) - barWidth) / 2;
          var barHeight = iHeight - yPos;
          return elem4(Rect2.value)([x5(xPos), y5(yPos), width11(barWidth), height11(barHeight), fill7("#4a90e2"), stroke5("#357abd"), strokeWidth6(1), class_6("bar")]);
        });
        return bind14(renderTree24(chartGroupSel)(barsTree))(function(barsSelections) {
          return liftEffect7(function __do3() {
            log2("=== Bar Chart (Tree API) ===")();
            log2("")();
            log2("Rendered " + (show110(length(sampleData)) + " bars with axes"))();
            (function() {
              var v = lookup8("svg")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 SVG created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing SVG")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.BarChartExample (line 161, column 5 - line 163, column 45): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup8("chartGroup")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 Chart group created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing chart group")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.BarChartExample (line 165, column 5 - line 167, column 53): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup8("xAxis")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 X axis created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing X axis")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.BarChartExample (line 169, column 5 - line 171, column 48): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup8("yAxis")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 Y axis created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing Y axis")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.BarChartExample (line 173, column 5 - line 175, column 48): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup8("bars")(barsSelections);
              if (v instanceof Just) {
                return log2("\u2713 Bars collection created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing bars collection")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.BarChartExample (line 177, column 5 - line 179, column 57): " + [v.constructor.name]);
            })();
            log2("")();
            return log2("Expected: 7 blue bars of varying heights with X and Y axes")();
          });
        });
      });
    });
  }));

  // output/D3.Viz.TreeAPI.Data/index.js
  var groupedBarData = [{
    state: "CA",
    age: "<10",
    population: 5038433
  }, {
    state: "CA",
    age: "10-19",
    population: 5055706
  }, {
    state: "CA",
    age: "20-29",
    population: 5656118
  }, {
    state: "CA",
    age: "30-39",
    population: 5485729
  }, {
    state: "CA",
    age: "40-49",
    population: 4897920
  }, {
    state: "CA",
    age: "50-59",
    population: 4826838
  }, {
    state: "CA",
    age: "60-69",
    population: 3561336
  }, {
    state: "CA",
    age: "70-79",
    population: 2087132
  }, {
    state: "CA",
    age: "\u226580",
    population: 1322344
  }, {
    state: "TX",
    age: "<10",
    population: 4131018
  }, {
    state: "TX",
    age: "10-19",
    population: 3870247
  }, {
    state: "TX",
    age: "20-29",
    population: 4057645
  }, {
    state: "TX",
    age: "30-39",
    population: 4038722
  }, {
    state: "TX",
    age: "40-49",
    population: 3605075
  }, {
    state: "TX",
    age: "50-59",
    population: 3439143
  }, {
    state: "TX",
    age: "60-69",
    population: 2454512
  }, {
    state: "TX",
    age: "70-79",
    population: 1390737
  }, {
    state: "TX",
    age: "\u226580",
    population: 883990
  }, {
    state: "FL",
    age: "<10",
    population: 2223676
  }, {
    state: "FL",
    age: "10-19",
    population: 2264020
  }, {
    state: "FL",
    age: "20-29",
    population: 2655856
  }, {
    state: "FL",
    age: "30-39",
    population: 2673043
  }, {
    state: "FL",
    age: "40-49",
    population: 2677768
  }, {
    state: "FL",
    age: "50-59",
    population: 2891117
  }, {
    state: "FL",
    age: "60-69",
    population: 2721540
  }, {
    state: "FL",
    age: "70-79",
    population: 1787456
  }, {
    state: "FL",
    age: "\u226580",
    population: 1215746
  }, {
    state: "NY",
    age: "<10",
    population: 2302097
  }, {
    state: "NY",
    age: "10-19",
    population: 2427916
  }, {
    state: "NY",
    age: "20-29",
    population: 2886270
  }, {
    state: "NY",
    age: "30-39",
    population: 2820345
  }, {
    state: "NY",
    age: "40-49",
    population: 2502932
  }, {
    state: "NY",
    age: "50-59",
    population: 2671684
  }, {
    state: "NY",
    age: "60-69",
    population: 2015910
  }, {
    state: "NY",
    age: "70-79",
    population: 1163431
  }, {
    state: "NY",
    age: "\u226580",
    population: 805237
  }, {
    state: "PA",
    age: "<10",
    population: 1431845
  }, {
    state: "PA",
    age: "10-19",
    population: 1538087
  }, {
    state: "PA",
    age: "20-29",
    population: 1729085
  }, {
    state: "PA",
    age: "30-39",
    population: 1582018
  }, {
    state: "PA",
    age: "40-49",
    population: 1609509
  }, {
    state: "PA",
    age: "50-59",
    population: 1808373
  }, {
    state: "PA",
    age: "60-69",
    population: 1565529
  }, {
    state: "PA",
    age: "70-79",
    population: 993225
  }, {
    state: "PA",
    age: "\u226580",
    population: 702076
  }, {
    state: "IL",
    age: "<10",
    population: 1575308
  }, {
    state: "IL",
    age: "10-19",
    population: 1724580
  }, {
    state: "IL",
    age: "20-29",
    population: 1880143
  }, {
    state: "IL",
    age: "30-39",
    population: 1750121
  }, {
    state: "IL",
    age: "40-49",
    population: 1587652
  }, {
    state: "IL",
    age: "50-59",
    population: 1724730
  }, {
    state: "IL",
    age: "60-69",
    population: 1308208
  }, {
    state: "IL",
    age: "70-79",
    population: 760186
  }, {
    state: "IL",
    age: "\u226580",
    population: 505635
  }];

  // output/D3.Viz.TreeAPI.GroupedBarChartExample/index.js
  var nub3 = /* @__PURE__ */ nub(ordString);
  var map33 = /* @__PURE__ */ map(functorArray);
  var bind15 = /* @__PURE__ */ bind(bindD3v2M);
  var maximum5 = /* @__PURE__ */ maximum(ordNumber)(foldableArray);
  var width12 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height12 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox6 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var show21 = /* @__PURE__ */ show(showNumber);
  var class_7 = /* @__PURE__ */ class_2(toAttrStringString);
  var transform5 = /* @__PURE__ */ transform2(toAttrStringString);
  var renderTree7 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D);
  var renderTree14 = /* @__PURE__ */ renderTree7(ordUnit);
  var liftEffect8 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var x6 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y6 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var fill8 = /* @__PURE__ */ fill3(toAttrStringString);
  var ordRecord2 = /* @__PURE__ */ ordRecord();
  var ordRecordCons2 = /* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordNil)()({
    reflectSymbol: function() {
      return "state";
    }
  })(ordString))();
  var renderTree25 = /* @__PURE__ */ renderTree7(/* @__PURE__ */ ordRecord2(/* @__PURE__ */ ordRecordCons2({
    reflectSymbol: function() {
      return "bars";
    }
  })(/* @__PURE__ */ ordArray(/* @__PURE__ */ ordRecord2(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons2({
    reflectSymbol: function() {
      return "population";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "age";
    }
  })(ordString))))));
  var show111 = /* @__PURE__ */ show(showInt);
  var lookup9 = /* @__PURE__ */ lookup2(ordString);
  var innerWidth3 = function(dims) {
    return dims.width - dims.marginLeft - dims.marginRight;
  };
  var innerHeight3 = function(dims) {
    return dims.height - dims.marginTop - dims.marginBottom;
  };
  var groupByState = function(data$prime) {
    var states = nub3(map33(function(v) {
      return v.state;
    })(data$prime));
    var getStateData = function(st) {
      return filter(function(d8) {
        return d8.state === st;
      })(data$prime);
    };
    return map33(function(st) {
      return {
        state: st,
        bars: getStateData(st)
      };
    })(states);
  };
  var getAges = /* @__PURE__ */ (function() {
    var $70 = map33(function(v) {
      return v.age;
    });
    return function($71) {
      return nub3($70($71));
    };
  })();
  var defaultDims2 = {
    width: 800,
    height: 500,
    marginTop: 20,
    marginRight: 20,
    marginBottom: 60,
    marginLeft: 60
  };
  var colorForAge = function(v) {
    if (v === "<10") {
      return "#e8384f";
    }
    ;
    if (v === "10-19") {
      return "#fd612c";
    }
    ;
    if (v === "20-29") {
      return "#fd8d3c";
    }
    ;
    if (v === "30-39") {
      return "#feb078";
    }
    ;
    if (v === "40-49") {
      return "#ffe0b3";
    }
    ;
    if (v === "50-59") {
      return "#d7eaf3";
    }
    ;
    if (v === "60-69") {
      return "#abd9e9";
    }
    ;
    if (v === "70-79") {
      return "#74add1";
    }
    ;
    if (v === "\u226580") {
      return "#4575b4";
    }
    ;
    return "#999";
  };
  var groupedBarChart = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind15(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var iWidth = innerWidth3(defaultDims2);
    var iHeight = innerHeight3(defaultDims2);
    var stateGroups = groupByState(groupedBarData);
    var ages = getAges(groupedBarData);
    var numStates = length(stateGroups);
    var numAges = length(ages);
    var groupWidth = iWidth / toNumber(numStates);
    var barWidth = groupWidth / toNumber(numAges) * 0.9;
    var populationValues = map33(function(v) {
      return v.population;
    })(groupedBarData);
    var maxPop = fromMaybe(6e6)(maximum5(populationValues));
    var xScale = {
      domain: {
        min: 0,
        max: toNumber(numStates)
      },
      range: {
        min: 0,
        max: iWidth
      }
    };
    var yScale = {
      domain: {
        min: 0,
        max: maxPop
      },
      range: {
        min: iHeight,
        max: 0
      }
    };
    var xAxis = axisBottom(xScale);
    var yAxis = axisLeft(yScale);
    var axesTree = withChild(named2(SVG.value)("svg")([width12(defaultDims2.width), height12(defaultDims2.height), viewBox6("0 0 " + (show21(defaultDims2.width) + (" " + show21(defaultDims2.height)))), class_7("grouped-bar-chart")]))(withChildren(named2(Group2.value)("chartGroup")([class_7("chart-content"), transform5("translate(" + (show21(defaultDims2.marginLeft) + ("," + (show21(defaultDims2.marginTop) + ")"))))]))([withChild(named2(Group2.value)("xAxis")([transform5("translate(0," + (show21(iHeight) + ")")), class_7("x-axis")]))(renderAxis(xAxis)), withChild(named2(Group2.value)("yAxis")([class_7("y-axis")]))(renderAxis(yAxis))]));
    return bind15(renderTree14(container)(axesTree))(function(axesSelections) {
      return bind15(liftEffect8(reselectD3v2("chartGroup")(axesSelections)))(function(chartGroupSel) {
        var barsTree = nestedJoin("stateGroups")("g")(stateGroups)(function(v) {
          return v.bars;
        })(function(bar) {
          var yPos = iHeight - bar.population / maxPop * iHeight;
          var stateIdx = fromMaybe(0)(findIndex(function(g) {
            return g.state === bar.state;
          })(stateGroups));
          var barHeight = bar.population / maxPop * iHeight;
          var ageIdx = fromMaybe(0)(findIndex(function(a2) {
            return a2 === bar.age;
          })(ages));
          var xPos = toNumber(stateIdx) * groupWidth + toNumber(ageIdx) * barWidth;
          return elem4(Rect2.value)([x6(xPos), y6(yPos), width12(barWidth), height12(barHeight), fill8(colorForAge(bar.age)), class_7("bar")]);
        });
        return bind15(renderTree25(chartGroupSel)(barsTree))(function(barsSelections) {
          return liftEffect8(function __do3() {
            log2("=== Grouped Bar Chart (Tree API) ===")();
            log2("")();
            log2("Rendered " + (show111(length(groupedBarData)) + (" bars in " + (show111(numStates) + " groups"))))();
            (function() {
              var v = lookup9("svg")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 SVG created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing SVG")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.GroupedBarChartExample (line 195, column 5 - line 197, column 45): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup9("xAxis")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 X axis created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing X axis")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.GroupedBarChartExample (line 199, column 5 - line 201, column 48): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup9("yAxis")(axesSelections);
              if (v instanceof Just) {
                return log2("\u2713 Y axis created")();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing Y axis")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.GroupedBarChartExample (line 203, column 5 - line 205, column 48): " + [v.constructor.name]);
            })();
            (function() {
              var v = lookup9("stateGroups")(barsSelections);
              if (v instanceof Just) {
                return log2("\u2713 State groups created (" + (show111(numStates) + ")"))();
              }
              ;
              if (v instanceof Nothing) {
                return log2("\u2717 Missing state groups")();
              }
              ;
              throw new Error("Failed pattern match at D3.Viz.TreeAPI.GroupedBarChartExample (line 207, column 5 - line 209, column 54): " + [v.constructor.name]);
            })();
            log2("")();
            return log2("Expected: " + (show111(numStates) + (" groups of " + (show111(numAges) + " bars each"))))();
          });
        });
      });
    });
  }));

  // output/D3.Viz.TreeAPI.LesMisTreeExample/index.js
  var compare8 = /* @__PURE__ */ compare(ordInt);
  var discard15 = /* @__PURE__ */ discard(discardUnit);
  var discard16 = /* @__PURE__ */ discard15(bindD3v2SimM);
  var liftEffect9 = /* @__PURE__ */ liftEffect(monadEffectD3v2SimM);
  var show24 = /* @__PURE__ */ show(showInt);
  var bind16 = /* @__PURE__ */ bind(bindD3v2SimM);
  var show112 = /* @__PURE__ */ show(showNumber);
  var select9 = /* @__PURE__ */ select3(selectionMD3v2Selection_D1);
  var init7 = /* @__PURE__ */ init4(simulationMD3v2Selection_);
  var width13 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height13 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox7 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var id_4 = /* @__PURE__ */ id_(toAttrStringString);
  var class_8 = /* @__PURE__ */ class_2(toAttrStringString);
  var renderTree8 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D1);
  var renderTree15 = /* @__PURE__ */ renderTree8(ordUnit);
  var show25 = /* @__PURE__ */ show(/* @__PURE__ */ showSet(showString));
  var x15 = /* @__PURE__ */ x1(toAttrNumberFunctionNumbe);
  var y15 = /* @__PURE__ */ y1(toAttrNumberFunctionNumbe);
  var x26 = /* @__PURE__ */ x22(toAttrNumberFunctionNumbe);
  var y26 = /* @__PURE__ */ y22(toAttrNumberFunctionNumbe);
  var strokeWidth7 = /* @__PURE__ */ strokeWidth3(toAttrNumberFunctionNumbe);
  var stroke6 = /* @__PURE__ */ stroke(toAttrStringFunctionStrin);
  var cx6 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy6 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius6 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill9 = /* @__PURE__ */ fill3(toAttrStringString);
  var stroke12 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeWidth12 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var ordNullable3 = /* @__PURE__ */ ordNullable(ordNumber);
  var renderTree26 = /* @__PURE__ */ renderTree8(/* @__PURE__ */ ordRecord()(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordNil)()({
    reflectSymbol: function() {
      return "y";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "x";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "vy";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "vx";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "sy";
    }
  })(ordNullable3))()({
    reflectSymbol: function() {
      return "sx";
    }
  })(ordNullable3))()({
    reflectSymbol: function() {
      return "id";
    }
  })(ordString))()({
    reflectSymbol: function() {
      return "group";
    }
  })(ordInt))()({
    reflectSymbol: function() {
      return "fy";
    }
  })(ordNullable3))()({
    reflectSymbol: function() {
      return "fx";
    }
  })(ordNullable3)));
  var lookup10 = /* @__PURE__ */ lookup2(ordString);
  var on6 = /* @__PURE__ */ on2(selectionMD3v2Selection_D1);
  var addTickFunction4 = /* @__PURE__ */ addTickFunction(simulationMD3v2Selection_);
  var cx13 = /* @__PURE__ */ cx3(toAttrNumberFunctionNumbe);
  var cy13 = /* @__PURE__ */ cy3(toAttrNumberFunctionNumbe);
  var start6 = /* @__PURE__ */ start2(simulationMD3v2Selection_);
  var pure18 = /* @__PURE__ */ pure(applicativeD3v2SimM);
  var discard24 = /* @__PURE__ */ discard15(bindAff);
  var liftEffect1 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var bind17 = /* @__PURE__ */ bind(bindAff);
  var initialize2 = /* @__PURE__ */ initialize(foldableArray)(functorArray);
  var fromFoldable18 = /* @__PURE__ */ fromFoldable7(foldableArray)(ordString);
  var $$void8 = /* @__PURE__ */ $$void(functorEffect);
  var eqIndexedLink3 = {
    eq: function(v) {
      return function(v1) {
        return v.index === v1.index;
      };
    }
  };
  var ordIndexedLink3 = {
    compare: function(v) {
      return function(v1) {
        return compare8(v.index)(v1.index);
      };
    },
    Eq0: function() {
      return eqIndexedLink3;
    }
  };
  var renderTree34 = /* @__PURE__ */ renderTree8(ordIndexedLink3);
  var initialRadius2 = 10;
  var initialAngle2 = /* @__PURE__ */ (function() {
    return pi * (3 - sqrt(5));
  })();
  var setPhyllotaxisPositions = function(nodes) {
    var setPosition = function(index5) {
      return function(node) {
        var i2 = toNumber(index5);
        var radius1 = initialRadius2 * sqrt(0.5 + i2);
        var angle = i2 * initialAngle2;
        var $136 = {};
        for (var $137 in node) {
          if ({}.hasOwnProperty.call(node, $137)) {
            $136[$137] = node[$137];
          }
          ;
        }
        ;
        $136.x = radius1 * cos(angle);
        $136.y = radius1 * sin(angle);
        return $136;
      };
    };
    return mapWithIndex2(setPosition)(nodes);
  };
  var drawLesMisTree = function(forcesArray) {
    return function(activeForces) {
      return function(model) {
        return function(containerSelector) {
          return discard16(liftEffect9(log2("=== Drawing LesMis with Tree API ===")))(function() {
            return discard16(liftEffect9(log2("Model has " + (show24(length(model.nodes)) + (" nodes, " + (show24(length(model.links)) + " links"))))))(function() {
              return bind16(liftEffect9(getWindowWidthHeight))(function(v) {
                return discard16(liftEffect9(log2("Window dimensions: " + (show112(v.value0) + (" x " + show112(v.value1))))))(function() {
                  return bind16(select9(containerSelector))(function(container) {
                    var nodesWithPositions = setPhyllotaxisPositions(model.nodes);
                    return discard16(liftEffect9(log2("Initializing simulation...")))(function() {
                      return bind16(init7({
                        nodes: nodesWithPositions,
                        links: model.links,
                        forces: forcesArray,
                        activeForces,
                        config: {
                          alpha: 1,
                          alphaTarget: 0,
                          alphaMin: 1e-3,
                          alphaDecay: 0.0228,
                          velocityDecay: 0.4
                        },
                        keyFn: keyIsID_,
                        ticks: empty3
                      }))(function(v1) {
                        return discard16(liftEffect9(log2("Simulation initialized with " + (show24(length(v1.nodes)) + (" nodes, " + (show24(length(v1.links)) + " links"))))))(function() {
                          var indexedLinks = mapWithIndex2(function(i2) {
                            return function(link4) {
                              return {
                                index: i2,
                                link: link4
                              };
                            };
                          })(v1.links);
                          return discard16(liftEffect9(log2("Created " + (show24(length(indexedLinks)) + " indexed links"))))(function() {
                            var forceGraphTree = withChild(named2(SVG.value)("svg")([width13(v.value0), height13(v.value1), viewBox7(show112(-v.value0 / 2) + (" " + (show112(-v.value1 / 2) + (" " + (show112(v.value0) + (" " + show112(v.value1))))))), id_4("lesmis-tree-svg"), class_8("lesmis-tree")]))(withChildren(named2(Group2.value)("zoomGroup")([id_4("zoom-group"), class_8("zoom-group")]))([named2(Group2.value)("linksGroup")([id_4("links"), class_8("links")]), named2(Group2.value)("nodesGroup")([id_4("nodes"), class_8("nodes")])]));
                            return discard16(liftEffect9(log2("Rendering structure tree...")))(function() {
                              return bind16(renderTree15(container)(forceGraphTree))(function(selections) {
                                return discard16(liftEffect9(log2("Structure rendered, selections: " + show25(keys3(selections)))))(function() {
                                  return bind16(liftEffect9(reselectD3v2("linksGroup")(selections)))(function(linksGroupSel) {
                                    return bind16(liftEffect9(reselectD3v2("nodesGroup")(selections)))(function(nodesGroupSel) {
                                      return discard16(liftEffect9(log2("Extracted linksGroup and nodesGroup selections")))(function() {
                                        var linksTree = joinData("linkElements")("line")(indexedLinks)(function(v2) {
                                          return elem4(Line2.value)([x15(function(v3) {
                                            return v2.link.source.x;
                                          }), y15(function(v3) {
                                            return v2.link.source.y;
                                          }), x26(function(v3) {
                                            return v2.link.target.x;
                                          }), y26(function(v3) {
                                            return v2.link.target.y;
                                          }), strokeWidth7(function(v3) {
                                            return sqrt(v2.link.value);
                                          }), stroke6(function(v3) {
                                            return d3SchemeCategory10N_(toNumber(v2.link.target.group));
                                          })]);
                                        });
                                        return discard16(liftEffect9(log2("Rendering " + (show24(length(indexedLinks)) + " links into linksGroup..."))))(function() {
                                          return bind16(renderTree34(linksGroupSel)(linksTree))(function(linksSelections) {
                                            return discard16(liftEffect9(log2("Links rendered, selections: " + show25(keys3(linksSelections)))))(function() {
                                              var nodesTree = joinData("nodeElements")("circle")(v1.nodes)(function(v2) {
                                                return elem4(Circle2.value)([cx6(v2.x), cy6(v2.y), radius6(5), fill9(d3SchemeCategory10N_(toNumber(v2.group))), stroke12("#fff"), strokeWidth12(2)]);
                                              });
                                              return discard16(liftEffect9(log2("Rendering " + (show24(length(v1.nodes)) + " nodes into nodesGroup..."))))(function() {
                                                return bind16(renderTree26(nodesGroupSel)(nodesTree))(function(nodesSelections) {
                                                  return discard16(liftEffect9(log2("Nodes rendered, selections: " + show25(keys3(nodesSelections)))))(function() {
                                                    return bind16(liftEffect9(reselectD3v2("zoomGroup")(selections)))(function(zoomGroupSel) {
                                                      return bind16(liftEffect9(reselectD3v2("svg")(selections)))(function(svgSel) {
                                                        var nodesSel = (function() {
                                                          var v2 = lookup10("nodeElements")(nodesSelections);
                                                          if (v2 instanceof Just) {
                                                            return v2.value0;
                                                          }
                                                          ;
                                                          if (v2 instanceof Nothing) {
                                                            return unsafeCrashWith("nodeElements not found");
                                                          }
                                                          ;
                                                          throw new Error("Failed pattern match at D3.Viz.TreeAPI.LesMisTreeExample (line 237, column 18 - line 239, column 76): " + [v2.constructor.name]);
                                                        })();
                                                        var linksSel = (function() {
                                                          var v2 = lookup10("linkElements")(linksSelections);
                                                          if (v2 instanceof Just) {
                                                            return v2.value0;
                                                          }
                                                          ;
                                                          if (v2 instanceof Nothing) {
                                                            return unsafeCrashWith("linkElements not found");
                                                          }
                                                          ;
                                                          throw new Error("Failed pattern match at D3.Viz.TreeAPI.LesMisTreeExample (line 242, column 18 - line 244, column 76): " + [v2.constructor.name]);
                                                        })();
                                                        return bind16(on6(new Drag2(defaultDrag))(zoomGroupSel))(function() {
                                                          return bind16(on6(new Zoom2(defaultZoom(new ScaleExtent2(0.5, 4))("#zoom-group")))(svgSel))(function() {
                                                            return bind16(on6(new Drag2(simulationDrag("lesmis-tree")))(nodesSel))(function() {
                                                              return discard16(addTickFunction4("nodes")(new Step4(nodesSel, [cx13(function(v2) {
                                                                return v2.x;
                                                              }), cy13(function(v2) {
                                                                return v2.y;
                                                              })])))(function() {
                                                                return discard16(addTickFunction4("links")(new Step4(linksSel, [x15(function(v2) {
                                                                  return v2.link.source.x;
                                                                }), y15(function(v2) {
                                                                  return v2.link.source.y;
                                                                }), x26(function(v2) {
                                                                  return v2.link.target.x;
                                                                }), y26(function(v2) {
                                                                  return v2.link.target.y;
                                                                })])))(function() {
                                                                  return discard16(start6)(function() {
                                                                    return pure18(unit);
                                                                  });
                                                                });
                                                              });
                                                            });
                                                          });
                                                        });
                                                      });
                                                    });
                                                  });
                                                });
                                              });
                                            });
                                          });
                                        });
                                      });
                                    });
                                  });
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        };
      };
    };
  };
  var testLesMisTree = /* @__PURE__ */ launchAff_(/* @__PURE__ */ discard24(/* @__PURE__ */ liftEffect1(/* @__PURE__ */ log2("Loading Les Mis\xE9rables data...")))(function() {
    return bind17(get3(string)("./data/miserables.json"))(function(response) {
      var model = readGraphFromFileContents(response);
      return discard24(liftEffect1(log2("Loaded " + (show24(length(model.nodes)) + (" nodes and " + (show24(length(model.links)) + " links"))))))(function() {
        var manyBodyForce = createForce("many body negative")(new RegularForce(ForceManyBody.value))(allNodes)([strengthVal(-100)]);
        var centerForce = createForce("center")(new RegularForce(ForceCenter.value))(allNodes)([xVal(0), yVal(0), strengthVal(0.1)]);
        var linksForce2 = createLinkForce(allNodes)([]);
        var collisionForce = createForce("collision")(new RegularForce(ForceCollide.value))(allNodes)([radiusVal(6)]);
        var forceLibrary3 = initialize2([manyBodyForce, centerForce, linksForce2, collisionForce]);
        var forcesArray = [manyBodyForce, centerForce, linksForce2, collisionForce];
        var activeForces = fromFoldable18(["many body negative", "center", linksForceName_, "collision"]);
        var initialState2 = {
          simulation: initialSimulationState(forceLibrary3)
        };
        return liftEffect1($$void8(runD3v2SimM(initialState2)(drawLesMisTree(forcesArray)(activeForces)(model)("#viz"))));
      });
    });
  }));

  // output/D3.Viz.TreeAPI.LineChartExample/foreign.js
  var sin2 = Math.sin;
  var pi4 = Math.PI;

  // output/D3.Viz.TreeAPI.LineChartExample/index.js
  var show26 = /* @__PURE__ */ show(showNumber);
  var bind18 = /* @__PURE__ */ bind(bindD3v2M);
  var map34 = /* @__PURE__ */ map(functorArray);
  var minimum4 = /* @__PURE__ */ minimum(ordNumber)(foldableArray);
  var maximum6 = /* @__PURE__ */ maximum(ordNumber)(foldableArray);
  var width14 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height14 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox8 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var class_9 = /* @__PURE__ */ class_2(toAttrStringString);
  var transform6 = /* @__PURE__ */ transform2(toAttrStringString);
  var d6 = /* @__PURE__ */ d4(toAttrStringString);
  var fill10 = /* @__PURE__ */ fill3(toAttrStringString);
  var stroke7 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeWidth8 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var renderTree9 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(ordUnit);
  var liftEffect10 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var show113 = /* @__PURE__ */ show(showInt);
  var lookup11 = /* @__PURE__ */ lookup2(ordString);
  var lineData = /* @__PURE__ */ mapWithIndex2(function(i2) {
    return function(v) {
      var x10 = toNumber(i2) * 0.1;
      var y10 = sin2(x10 * pi4) * 50 + 50;
      return {
        x: x10,
        y: y10
      };
    };
  })(/* @__PURE__ */ range2(0)(62));
  var innerWidth4 = function(dims) {
    return dims.width - dims.marginLeft - dims.marginRight;
  };
  var innerHeight4 = function(dims) {
    return dims.height - dims.marginTop - dims.marginBottom;
  };
  var pointsToPath = function(dims) {
    return function(points) {
      return function(minX) {
        return function(maxX) {
          return function(minY) {
            return function(maxY) {
              var iWidth = innerWidth4(dims);
              var xScale = function(val) {
                return (val - minX) / (maxX - minX) * iWidth;
              };
              var iHeight = innerHeight4(dims);
              var yScale = function(val) {
                return iHeight - (val - minY) / (maxY - minY) * iHeight;
              };
              var toCommand = function(v) {
                return function(v1) {
                  if (v === 0) {
                    return "M " + (show26(xScale(v1.x)) + (" " + show26(yScale(v1.y))));
                  }
                  ;
                  return "L " + (show26(xScale(v1.x)) + (" " + show26(yScale(v1.y))));
                };
              };
              return joinWith(" ")(mapWithIndex2(toCommand)(points));
            };
          };
        };
      };
    };
  };
  var defaultDims3 = {
    width: 600,
    height: 300,
    marginTop: 20,
    marginRight: 20,
    marginBottom: 40,
    marginLeft: 50
  };
  var lineChart = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind18(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var xValues = map34(function(v) {
      return v.x;
    })(lineData);
    var yValues = map34(function(v) {
      return v.y;
    })(lineData);
    var minX = fromMaybe(0)(minimum4(xValues));
    var maxX = fromMaybe(10)(maximum6(xValues));
    var minY = fromMaybe(0)(minimum4(yValues));
    var maxY = fromMaybe(100)(maximum6(yValues));
    var pathData = pointsToPath(defaultDims3)(lineData)(minX)(maxX)(minY)(maxY);
    var tree3 = withChild(named2(SVG.value)("svg")([width14(defaultDims3.width), height14(defaultDims3.height), viewBox8("0 0 " + (show26(defaultDims3.width) + (" " + show26(defaultDims3.height)))), class_9("line-chart-tree")]))(withChild(named2(Group2.value)("chartGroup")([class_9("chart-content"), transform6("translate(" + (show26(defaultDims3.marginLeft) + ("," + (show26(defaultDims3.marginTop) + ")"))))]))(named2(Path3.value)("line")([d6(pathData), fill10("none"), stroke7("#2ecc71"), strokeWidth8(2), class_9("line")])));
    return bind18(renderTree9(container)(tree3))(function(selections) {
      return liftEffect10(function __do3() {
        log2("=== Line Chart (Tree API) ===")();
        log2("")();
        log2("Rendered line with " + (show113(length(lineData)) + " points"))();
        (function() {
          var v = lookup11("svg")(selections);
          if (v instanceof Just) {
            return log2("\u2713 SVG created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing SVG")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.LineChartExample (line 128, column 5 - line 130, column 45): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup11("chartGroup")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Chart group created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing chart group")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.LineChartExample (line 132, column 5 - line 134, column 53): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup11("line")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Line path created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing line path")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.LineChartExample (line 136, column 5 - line 138, column 51): " + [v.constructor.name]);
        })();
        log2("")();
        return log2("Expected: Green sine wave curve")();
      });
    });
  }));

  // output/D3.Viz.TreeAPI.NestedElementsExample/index.js
  var bind19 = /* @__PURE__ */ bind(bindD3v2M);
  var width15 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height15 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox9 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var id_5 = /* @__PURE__ */ id_(toAttrStringString);
  var class_10 = /* @__PURE__ */ class_2(toAttrStringString);
  var transform7 = /* @__PURE__ */ transform2(toAttrStringString);
  var cx7 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy7 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius7 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill11 = /* @__PURE__ */ fill3(toAttrStringString);
  var stroke8 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeWidth9 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var x7 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y7 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var textContent5 = /* @__PURE__ */ textContent(toAttrStringString);
  var textAnchor4 = /* @__PURE__ */ textAnchor(toAttrStringString);
  var fontSize4 = /* @__PURE__ */ fontSize(toAttrNumberNumber);
  var renderTree10 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(ordUnit);
  var liftEffect11 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var lookup12 = /* @__PURE__ */ lookup2(ordString);
  var show27 = /* @__PURE__ */ show(showInt);
  var testNestedElements = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind19(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var tree3 = withChild(named2(SVG.value)("svg")([width15(600), height15(400), viewBox9("0 0 600 400"), id_5("nested-example-svg")]))(withChildren(named2(Group2.value)("mainGroup")([class_10("main-group")]))([withChildren(named2(Group2.value)("node1")([class_10("node"), transform7("translate(100, 100)")]))([named2(Circle2.value)("node1Circle")([cx7(0), cy7(0), radius7(25), fill11("steelblue"), stroke8("white"), strokeWidth9(2)]), named2(Text3.value)("node1Label")([x7(0), y7(40), textContent5("Node A"), textAnchor4("middle"), fontSize4(14)])]), withChildren(named2(Group2.value)("node2")([class_10("node"), transform7("translate(300, 150)")]))([named2(Circle2.value)("node2Circle")([cx7(0), cy7(0), radius7(20), fill11("orange"), stroke8("white"), strokeWidth9(2)]), named2(Text3.value)("node2Label")([x7(0), y7(35), textContent5("Node B"), textAnchor4("middle"), fontSize4(14)])]), withChildren(named2(Group2.value)("node3")([class_10("node"), transform7("translate(500, 100)")]))([named2(Circle2.value)("node3Circle")([cx7(0), cy7(0), radius7(30), fill11("green"), stroke8("white"), strokeWidth9(2)]), named2(Text3.value)("node3Label")([x7(0), y7(45), textContent5("Node C"), textAnchor4("middle"), fontSize4(14)])])]));
    return bind19(renderTree10(container)(tree3))(function(selections) {
      return liftEffect11(function __do3() {
        log2("=== Nested Elements Test ===")();
        log2("")();
        log2("Structure: SVG \u2192 Group \u2192 (Node1, Node2, Node3)")();
        log2("           Each Node \u2192 (Circle + Text)")();
        log2("")();
        var checkSelection = function(name16) {
          var v = lookup12(name16)(selections);
          if (v instanceof Just) {
            return log2("\u2713 " + name16);
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing: " + name16);
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.NestedElementsExample (line 118, column 31 - line 120, column 57): " + [v.constructor.name]);
        };
        log2("Top-level:")();
        checkSelection("svg")();
        checkSelection("mainGroup")();
        log2("\nNode 1 (steelblue at 100, 100):")();
        checkSelection("node1")();
        checkSelection("node1Circle")();
        checkSelection("node1Label")();
        log2("\nNode 2 (orange at 300, 150):")();
        checkSelection("node2")();
        checkSelection("node2Circle")();
        checkSelection("node2Label")();
        log2("\nNode 3 (green at 500, 100):")();
        checkSelection("node3")();
        checkSelection("node3Circle")();
        checkSelection("node3Label")();
        log2("\n" + (show27(size2(selections)) + " total selections in map"))();
        log2("\n=== SUCCESS CRITERIA ===")();
        log2("\u2713 Multi-level nesting works (Group \u2192 Circle + Text)")();
        log2("\u2713 withChildren handles arrays of subtrees")();
        log2("\u2713 All named nodes are accessible via Map")();
        log2("")();
        log2("NEXT: Need data joins to generate this structure from Array data")();
        return log2("      instead of manually creating each node.")();
      });
    });
  }));

  // output/D3.Viz.TreeAPI.ScatterPlotExample/index.js
  var bind20 = /* @__PURE__ */ bind(bindD3v2M);
  var map35 = /* @__PURE__ */ map(functorArray);
  var minimum5 = /* @__PURE__ */ minimum(ordNumber)(foldableArray);
  var maximum7 = /* @__PURE__ */ maximum(ordNumber)(foldableArray);
  var width16 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height16 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox10 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var show28 = /* @__PURE__ */ show(showNumber);
  var class_11 = /* @__PURE__ */ class_2(toAttrStringString);
  var transform8 = /* @__PURE__ */ transform2(toAttrStringString);
  var cx8 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy8 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius8 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill12 = /* @__PURE__ */ fill3(toAttrStringString);
  var opacity2 = /* @__PURE__ */ opacity(toAttrNumberNumber);
  var renderTree11 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(/* @__PURE__ */ ordRecord()(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordNil)()({
    reflectSymbol: function() {
      return "y";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "x";
    }
  })(ordNumber)));
  var liftEffect12 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var show114 = /* @__PURE__ */ show(showInt);
  var lookup13 = /* @__PURE__ */ lookup2(ordString);
  var scatterData = [{
    x: 10,
    y: 20
  }, {
    x: 25,
    y: 45
  }, {
    x: 40,
    y: 30
  }, {
    x: 55,
    y: 70
  }, {
    x: 70,
    y: 50
  }, {
    x: 85,
    y: 85
  }, {
    x: 100,
    y: 65
  }, {
    x: 115,
    y: 90
  }, {
    x: 130,
    y: 75
  }, {
    x: 145,
    y: 95
  }];
  var innerWidth5 = function(dims) {
    return dims.width - dims.marginLeft - dims.marginRight;
  };
  var innerHeight5 = function(dims) {
    return dims.height - dims.marginTop - dims.marginBottom;
  };
  var defaultDims4 = {
    width: 600,
    height: 400,
    marginTop: 20,
    marginRight: 20,
    marginBottom: 40,
    marginLeft: 50
  };
  var scatterPlot = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind20(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var iWidth = innerWidth5(defaultDims4);
    var iHeight = innerHeight5(defaultDims4);
    var xValues = map35(function(v) {
      return v.x;
    })(scatterData);
    var yValues = map35(function(v) {
      return v.y;
    })(scatterData);
    var minX = fromMaybe(0)(minimum5(xValues));
    var maxX = fromMaybe(100)(maximum7(xValues));
    var minY = fromMaybe(0)(minimum5(yValues));
    var maxY = fromMaybe(100)(maximum7(yValues));
    var xScale = function(val) {
      return (val - minX) / (maxX - minX) * iWidth;
    };
    var yScale = function(val) {
      return iHeight - (val - minY) / (maxY - minY) * iHeight;
    };
    var tree3 = withChild(named2(SVG.value)("svg")([width16(defaultDims4.width), height16(defaultDims4.height), viewBox10("0 0 " + (show28(defaultDims4.width) + (" " + show28(defaultDims4.height)))), class_11("scatter-plot-tree")]))(withChild(named2(Group2.value)("chartGroup")([class_11("chart-content"), transform8("translate(" + (show28(defaultDims4.marginLeft) + ("," + (show28(defaultDims4.marginTop) + ")"))))]))(joinData("points")("circle")(scatterData)(function(point) {
      return elem4(Circle2.value)([cx8(xScale(point.x)), cy8(yScale(point.y)), radius8(6), fill12("#e74c3c"), opacity2(0.7), class_11("point")]);
    })));
    return bind20(renderTree11(container)(tree3))(function(selections) {
      return liftEffect12(function __do3() {
        log2("=== Scatter Plot (Tree API) ===")();
        log2("")();
        log2("Rendered " + (show114(length(scatterData)) + " points"))();
        (function() {
          var v = lookup13("svg")(selections);
          if (v instanceof Just) {
            return log2("\u2713 SVG created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing SVG")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ScatterPlotExample (line 120, column 5 - line 122, column 45): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup13("chartGroup")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Chart group created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing chart group")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ScatterPlotExample (line 124, column 5 - line 126, column 53): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup13("points")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Points collection created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing points collection")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ScatterPlotExample (line 128, column 5 - line 130, column 59): " + [v.constructor.name]);
        })();
        log2("")();
        return log2("Expected: 10 red circles showing scatter pattern")();
      });
    });
  }));

  // output/D3.Viz.TreeAPI.SimpleHierarchyExample/index.js
  var fromFoldable19 = /* @__PURE__ */ fromFoldable2(foldableArray);
  var bind21 = /* @__PURE__ */ bind(bindList);
  var append9 = /* @__PURE__ */ append(semigroupList);
  var fromFoldable110 = /* @__PURE__ */ fromFoldable(foldableList);
  var show29 = /* @__PURE__ */ show(showNumber);
  var bind110 = /* @__PURE__ */ bind(bindD3v2M);
  var select10 = /* @__PURE__ */ select3(selectionMD3v2Selection_D);
  var fromFoldable24 = /* @__PURE__ */ fromFoldable(foldableTree);
  var discard17 = /* @__PURE__ */ discard(discardUnit);
  var discard18 = /* @__PURE__ */ discard17(bindD3v2M);
  var liftEffect13 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var show115 = /* @__PURE__ */ show(showInt);
  var width17 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height17 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox11 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var class_12 = /* @__PURE__ */ class_2(toAttrStringString);
  var d7 = /* @__PURE__ */ d4(toAttrStringString);
  var fill13 = /* @__PURE__ */ fill3(toAttrStringString);
  var stroke9 = /* @__PURE__ */ stroke(toAttrStringString);
  var strokeWidth10 = /* @__PURE__ */ strokeWidth3(toAttrNumberNumber);
  var renderTree16 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D);
  var ordRecord3 = /* @__PURE__ */ ordRecord();
  var ordRecordCons3 = /* @__PURE__ */ ordRecordCons(ordRecordNil)();
  var ordRecordCons1 = /* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons3({
    reflectSymbol: function() {
      return "y";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "x";
    }
  })(ordNumber);
  var ordRecord1 = /* @__PURE__ */ ordRecord3(ordRecordCons1);
  var renderTree17 = /* @__PURE__ */ renderTree16(/* @__PURE__ */ ordRecord3(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons3({
    reflectSymbol: function() {
      return "target";
    }
  })(ordRecord1))()({
    reflectSymbol: function() {
      return "source";
    }
  })(ordRecord1)));
  var cx9 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy9 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius9 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var x8 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y8 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var textContent6 = /* @__PURE__ */ textContent(toAttrStringString);
  var fontSize5 = /* @__PURE__ */ fontSize(toAttrNumberNumber);
  var textAnchor5 = /* @__PURE__ */ textAnchor(toAttrStringString);
  var renderTree27 = /* @__PURE__ */ renderTree16(/* @__PURE__ */ ordRecord3(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordCons1)()({
    reflectSymbol: function() {
      return "name";
    }
  })(ordString))()({
    reflectSymbol: function() {
      return "depth";
    }
  })(ordInt)));
  var lookup14 = /* @__PURE__ */ lookup2(ordString);
  var sampleTree = /* @__PURE__ */ (function() {
    return new Node({
      name: "Root",
      x: 0,
      y: 0,
      depth: 0
    }, fromFoldable19([new Node({
      name: "Child A",
      x: 0,
      y: 0,
      depth: 0
    }, fromFoldable19([new Node({
      name: "A1",
      x: 0,
      y: 0,
      depth: 0
    }, Nil.value), new Node({
      name: "A2",
      x: 0,
      y: 0,
      depth: 0
    }, Nil.value)])), new Node({
      name: "Child B",
      x: 0,
      y: 0,
      depth: 0
    }, fromFoldable19([new Node({
      name: "B1",
      x: 0,
      y: 0,
      depth: 0
    }, Nil.value), new Node({
      name: "B2",
      x: 0,
      y: 0,
      depth: 0
    }, Nil.value), new Node({
      name: "B3",
      x: 0,
      y: 0,
      depth: 0
    }, Nil.value)])), new Node({
      name: "Child C",
      x: 0,
      y: 0,
      depth: 0
    }, Nil.value)]));
  })();
  var makeLinks3 = function(tree$prime) {
    var makeLinksList = function(v) {
      var grandchildLinks = bind21(v.value1)(makeLinksList);
      var childLinks = bind21(v.value1)(function(v1) {
        return new Cons({
          source: {
            x: v.value0.x,
            y: v.value0.y
          },
          target: {
            x: v1.value0.x,
            y: v1.value0.y
          }
        }, Nil.value);
      });
      return append9(childLinks)(grandchildLinks);
    };
    return fromFoldable110(makeLinksList(tree$prime));
  };
  var linkPath = function(x1$prime) {
    return function(y1$prime) {
      return function(x2$prime) {
        return function(y2$prime) {
          return "M" + (show29(x1$prime) + ("," + (show29(y1$prime) + ("C" + (show29(x1$prime) + ("," + (show29((y1$prime + y2$prime) / 2) + (" " + (show29(x2$prime) + ("," + (show29((y1$prime + y2$prime) / 2) + (" " + (show29(x2$prime) + ("," + show29(y2$prime)))))))))))))));
        };
      };
    };
  };
  var simpleHierarchy = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind110(/* @__PURE__ */ select10("#viz"))(function(container) {
    var config = {
      minSeparation: defaultTreeConfig.minSeparation,
      size: {
        width: 600 - 2 * 40,
        height: 400 - 2 * 40
      }
    };
    var positioned = tree2(config)(sampleTree);
    var nodes = fromFoldable24(positioned);
    var links = makeLinks3(positioned);
    return discard18(liftEffect13(log2("Rendering " + (show115(length(nodes)) + (" nodes, " + (show115(length(links)) + " links"))))))(function() {
      var linksTree = withChild(named2(SVG.value)("svg")([width17(600), height17(400), viewBox11("0 0 " + (show29(600) + (" " + show29(400)))), class_12("simple-hierarchy-tree")]))(withChild(named2(Group2.value)("chartGroup")([class_12("tree-content")]))(withChild(named2(Group2.value)("linksGroup")([class_12("links")]))(joinData("links")("path")(links)(function(link4) {
        return elem4(Path3.value)([d7(linkPath(link4.source.x + 40)(link4.source.y + 40)(link4.target.x + 40)(link4.target.y + 40)), fill13("none"), stroke9("#999"), strokeWidth10(1.5), class_12("link")]);
      }))));
      return bind110(renderTree17(container)(linksTree))(function(linksSelections) {
        return bind110(select10(".tree-content"))(function(chartGroupSel) {
          var nodesTree = withChild(named2(Group2.value)("nodesGroup")([class_12("nodes")]))(joinData("nodeGroups")("g")(nodes)(function(node) {
            return withChildren(named2(Group2.value)("node-" + node.name)([class_12("node")]))([elem4(Circle2.value)([cx9(node.x + 40), cy9(node.y + 40), radius9(6), fill13("#69b3a2"), stroke9("#fff"), strokeWidth10(2)]), elem4(Text3.value)([x8(node.x + 40 + 10), y8(node.y + 40 + 4), textContent6(node.name), fontSize5(12), textAnchor5("start")])]);
          }));
          return bind110(renderTree27(chartGroupSel)(nodesTree))(function(nodesSelections) {
            return liftEffect13(function __do3() {
              log2("=== Simple Hierarchy (Tree API) ===")();
              log2("")();
              (function() {
                var v = lookup14("svg")(linksSelections);
                if (v instanceof Just) {
                  return log2("\u2713 SVG created")();
                }
                ;
                if (v instanceof Nothing) {
                  return log2("\u2717 Missing SVG")();
                }
                ;
                throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleHierarchyExample (line 166, column 5 - line 168, column 45): " + [v.constructor.name]);
              })();
              (function() {
                var v = lookup14("linksGroup")(linksSelections);
                if (v instanceof Just) {
                  return log2("\u2713 Links group created")();
                }
                ;
                if (v instanceof Nothing) {
                  return log2("\u2717 Missing links group")();
                }
                ;
                throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleHierarchyExample (line 170, column 5 - line 172, column 53): " + [v.constructor.name]);
              })();
              (function() {
                var v = lookup14("links")(linksSelections);
                if (v instanceof Just) {
                  return log2("\u2713 Links created (" + (show115(length(links)) + ")"))();
                }
                ;
                if (v instanceof Nothing) {
                  return log2("\u2717 Missing links")();
                }
                ;
                throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleHierarchyExample (line 174, column 5 - line 176, column 47): " + [v.constructor.name]);
              })();
              (function() {
                var v = lookup14("nodesGroup")(nodesSelections);
                if (v instanceof Just) {
                  return log2("\u2713 Nodes group created")();
                }
                ;
                if (v instanceof Nothing) {
                  return log2("\u2717 Missing nodes group")();
                }
                ;
                throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleHierarchyExample (line 178, column 5 - line 180, column 53): " + [v.constructor.name]);
              })();
              (function() {
                var v = lookup14("nodeGroups")(nodesSelections);
                if (v instanceof Just) {
                  return log2("\u2713 Node groups created (" + (show115(length(nodes)) + ")"))();
                }
                ;
                if (v instanceof Nothing) {
                  return log2("\u2717 Missing node groups")();
                }
                ;
                throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleHierarchyExample (line 182, column 5 - line 184, column 53): " + [v.constructor.name]);
              })();
              log2("")();
              return log2("Expected: Tree layout with 8 nodes and 7 links (curved paths)")();
            });
          });
        });
      });
    });
  }));

  // output/D3.Viz.TreeAPI.SimpleTreeExample/index.js
  var bind23 = /* @__PURE__ */ bind(bindD3v2M);
  var width18 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height18 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox12 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var id_6 = /* @__PURE__ */ id_(toAttrStringString);
  var class_13 = /* @__PURE__ */ class_2(toAttrStringString);
  var cx10 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy10 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius10 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill14 = /* @__PURE__ */ fill3(toAttrStringString);
  var x9 = /* @__PURE__ */ x2(toAttrNumberNumber);
  var y9 = /* @__PURE__ */ y2(toAttrNumberNumber);
  var textContent7 = /* @__PURE__ */ textContent(toAttrStringString);
  var textAnchor6 = /* @__PURE__ */ textAnchor(toAttrStringString);
  var renderTree18 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(ordUnit);
  var liftEffect14 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var lookup15 = /* @__PURE__ */ lookup2(ordString);
  var testSimpleTree = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind23(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var tree3 = withChild(named2(SVG.value)("svg")([width18(800), height18(600), viewBox12("0 0 800 600"), id_6("simple-tree-svg")]))(withChildren(named2(Group2.value)("container")([class_13("container")]))([named2(Circle2.value)("circle")([cx10(100), cy10(100), radius10(20), fill14("steelblue")]), named2(Text3.value)("text")([x9(100), y9(130), textContent7("Hello Tree API!"), textAnchor6("middle")])]));
    return bind23(renderTree18(container)(tree3))(function(selections) {
      return liftEffect14(function __do3() {
        (function() {
          var v = lookup15("svg")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Found svg selection")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing svg selection")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleTreeExample (line 49, column 5 - line 51, column 55): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup15("container")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Found container selection")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing container selection")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleTreeExample (line 53, column 5 - line 55, column 61): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup15("circle")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Found circle selection")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing circle selection")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleTreeExample (line 57, column 5 - line 59, column 58): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup15("text")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Found text selection")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing text selection")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.SimpleTreeExample (line 61, column 5 - line 63, column 56): " + [v.constructor.name]);
        })();
        return log2("Simple tree rendering complete!")();
      });
    });
  }));

  // output/D3.Viz.TreeAPI.ThreeLittleCircles/index.js
  var bind24 = /* @__PURE__ */ bind(bindD3v2M);
  var width19 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height19 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox13 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var id_7 = /* @__PURE__ */ id_(toAttrStringString);
  var class_14 = /* @__PURE__ */ class_2(toAttrStringString);
  var cx11 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy11 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius11 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fill15 = /* @__PURE__ */ fill3(toAttrStringString);
  var renderTree19 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(/* @__PURE__ */ ordRecord()(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(/* @__PURE__ */ ordRecordCons(ordRecordNil)()({
    reflectSymbol: function() {
      return "y";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "x";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "r";
    }
  })(ordNumber))()({
    reflectSymbol: function() {
      return "color";
    }
  })(ordString)));
  var liftEffect15 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var lookup16 = /* @__PURE__ */ lookup2(ordString);
  var circleData = [{
    x: 100,
    y: 100,
    r: 40,
    color: "red"
  }, {
    x: 200,
    y: 100,
    r: 30,
    color: "green"
  }, {
    x: 300,
    y: 100,
    r: 50,
    color: "blue"
  }];
  var threeLittleCircles = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind24(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var tree3 = withChild(named2(SVG.value)("svg")([width19(400), height19(200), viewBox13("0 0 400 200"), id_7("three-circles-svg"), class_14("tree-api-example")]))(joinData("circles")("circle")(circleData)(function(d8) {
      return elem4(Circle2.value)([cx11(d8.x), cy11(d8.y), radius11(d8.r), fill15(d8.color)]);
    }));
    return bind24(renderTree19(container)(tree3))(function(selections) {
      return liftEffect15(function __do3() {
        log2("=== Three Little Circles (Declarative API) ===")();
        log2("")();
        log2("Structure: SVG \u2192 [Circle \xD7 3] (via joinData)")();
        log2("")();
        (function() {
          var v = lookup16("svg")(selections);
          if (v instanceof Just) {
            return log2("\u2713 SVG created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing SVG")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ThreeLittleCircles (line 73, column 5 - line 75, column 45): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup16("circles")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Circles collection created (3 circles via data join)")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing circles collection")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ThreeLittleCircles (line 77, column 5 - line 79, column 60): " + [v.constructor.name]);
        })();
        log2("")();
        log2("Expected result:")();
        log2("  - Red circle (r=40) at (100, 100)")();
        log2("  - Green circle (r=30) at (200, 100)")();
        log2("  - Blue circle (r=50) at (300, 100)")();
        log2("")();
        return log2("Check the browser to verify!")();
      });
    });
  }));

  // output/PSD3v2.Capabilities.Transition/index.js
  var withTransition = function(dict) {
    return dict.withTransition;
  };

  // output/D3.Viz.TreeAPI.ThreeLittleCirclesTransition/index.js
  var bind25 = /* @__PURE__ */ bind(bindD3v2M);
  var width20 = /* @__PURE__ */ width2(toAttrNumberNumber);
  var height20 = /* @__PURE__ */ height2(toAttrNumberNumber);
  var viewBox14 = /* @__PURE__ */ viewBox2(toAttrStringString);
  var id_8 = /* @__PURE__ */ id_(toAttrStringString);
  var fill16 = /* @__PURE__ */ fill3(toAttrStringString);
  var cx14 = /* @__PURE__ */ cx3(toAttrNumberNumber);
  var cy14 = /* @__PURE__ */ cy3(toAttrNumberNumber);
  var radius12 = /* @__PURE__ */ radius3(toAttrNumberNumber);
  var fillOpacity2 = /* @__PURE__ */ fillOpacity(toAttrNumberNumber);
  var renderTree20 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(ordInt);
  var lookup17 = /* @__PURE__ */ lookup2(ordString);
  var discard19 = /* @__PURE__ */ discard(discardUnit)(bindD3v2M);
  var withTransition2 = /* @__PURE__ */ withTransition(transitionMD3v2Selection_);
  var fill1 = /* @__PURE__ */ fill3(toAttrStringFunctionStrin);
  var cx15 = /* @__PURE__ */ cx3(toAttrNumberFunctionNumbe);
  var cy15 = /* @__PURE__ */ cy3(toAttrNumberFunctionNumbe);
  var pure19 = /* @__PURE__ */ pure(applicativeD3v2M);
  var threeLittleCirclesTransition = /* @__PURE__ */ (function() {
    var cyFn = function(d8) {
      if (d8 === 0) {
        return 130;
      }
      ;
      if (d8 === 1) {
        return 130;
      }
      ;
      return 70;
    };
    var cxFn = function(d8) {
      if (d8 === 0) {
        return 150;
      }
      ;
      if (d8 === 1) {
        return 250;
      }
      ;
      return 200;
    };
    var colorFn = function(d8) {
      if (d8 === 0) {
        return "#ff0000";
      }
      ;
      if (d8 === 1) {
        return "#00ff00";
      }
      ;
      return "#0000ff";
    };
    return runD3v2M(bind25(select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
      var initialTree = withChild(named2(SVG.value)("svg")([width20(400), height20(200), viewBox14("0 0 400 200"), id_8("three-circles-transition-tree")]))(joinData("circles")("circle")([0, 1, 2])(function(d8) {
        return elem4(Circle2.value)([fill16("green"), cx14(toNumber(d8) * 100 + 100), cy14(100), radius12(15), fillOpacity2(1)]);
      }));
      return bind25(renderTree20(container)(initialTree))(function(selections) {
        var circlesSel = (function() {
          var v = lookup17("circles")(selections);
          if (v instanceof Just) {
            return v.value0;
          }
          ;
          if (v instanceof Nothing) {
            return unsafeCrashWith("circles selection not found");
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ThreeLittleCirclesTransition (line 63, column 20 - line 65, column 81): " + [v.constructor.name]);
        })();
        var transitionConfig = transitionWith({
          duration: 1500,
          delay: new Just(100),
          easing: new Just(ElasticOut.value)
        });
        return discard19(withTransition2(transitionConfig)(circlesSel)([fill1(colorFn), cx15(cxFn), cy15(cyFn), radius12(30), fillOpacity2(0.5)]))(function() {
          return pure19(unit);
        });
      });
    }));
  })();

  // output/D3.Viz.TreeAPI.ThreeLittleDimensionsExample/index.js
  var bind26 = /* @__PURE__ */ bind(bindD3v2M);
  var class_15 = /* @__PURE__ */ class_2(toAttrStringString);
  var identity14 = /* @__PURE__ */ identity(categoryFn);
  var textContent8 = /* @__PURE__ */ textContent(toAttrStringString);
  var show30 = /* @__PURE__ */ show(showInt);
  var renderTree21 = /* @__PURE__ */ renderTree(selectionMD3v2Selection_D)(/* @__PURE__ */ ordArray(ordInt));
  var liftEffect16 = /* @__PURE__ */ liftEffect(monadEffectD3v2M);
  var lookup18 = /* @__PURE__ */ lookup2(ordString);
  var matrixData = [[1, 2, 3], [4, 5, 6], [7, 8, 9]];
  var threeLittleDimensions = /* @__PURE__ */ runD3v2M(/* @__PURE__ */ bind26(/* @__PURE__ */ select3(selectionMD3v2Selection_D)("#viz"))(function(container) {
    var tree3 = withChild(named2(Table2.value)("table")([class_15("nested-data-table")]))(nestedJoin("rows")("tr")(matrixData)(identity14)(function(cellValue) {
      return elem4(Td2.value)([class_15("table-cell"), textContent8(show30(cellValue))]);
    }));
    return bind26(renderTree21(container)(tree3))(function(selections) {
      return liftEffect16(function __do3() {
        log2("=== Three Little Dimensions (Tree API) ===")();
        log2("")();
        (function() {
          var v = lookup18("table")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Table created")();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing table")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ThreeLittleDimensionsExample (line 60, column 5 - line 62, column 47): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup18("rows")(selections);
          if (v instanceof Just) {
            return log2("\u2713 Rows created (" + (show30(length(matrixData)) + ")"))();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing rows")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ThreeLittleDimensionsExample (line 64, column 5 - line 66, column 46): " + [v.constructor.name]);
        })();
        (function() {
          var v = lookup18("cells")(selections);
          if (v instanceof Just) {
            var totalCells = foldl2(function(acc) {
              return function(row) {
                return acc + length(row) | 0;
              };
            })(0)(matrixData);
            return log2("\u2713 Cells created (" + (show30(totalCells) + " total)"))();
          }
          ;
          if (v instanceof Nothing) {
            return log2("\u2717 Missing cells")();
          }
          ;
          throw new Error("Failed pattern match at D3.Viz.TreeAPI.ThreeLittleDimensionsExample (line 68, column 5 - line 72, column 47): " + [v.constructor.name]);
        })();
        log2("")();
        return log2("Expected: 3x3 table with numbers 1-9")();
      });
    });
  }));

  // output/Component.TreeAPI/index.js
  var discard20 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var modify_9 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var ThreeCircles = /* @__PURE__ */ (function() {
    function ThreeCircles2() {
    }
    ;
    ThreeCircles2.value = new ThreeCircles2();
    return ThreeCircles2;
  })();
  var ThreeCirclesTransition = /* @__PURE__ */ (function() {
    function ThreeCirclesTransition2() {
    }
    ;
    ThreeCirclesTransition2.value = new ThreeCirclesTransition2();
    return ThreeCirclesTransition2;
  })();
  var SimpleTree = /* @__PURE__ */ (function() {
    function SimpleTree2() {
    }
    ;
    SimpleTree2.value = new SimpleTree2();
    return SimpleTree2;
  })();
  var NestedElements = /* @__PURE__ */ (function() {
    function NestedElements2() {
    }
    ;
    NestedElements2.value = new NestedElements2();
    return NestedElements2;
  })();
  var BarChart = /* @__PURE__ */ (function() {
    function BarChart2() {
    }
    ;
    BarChart2.value = new BarChart2();
    return BarChart2;
  })();
  var ScatterPlot = /* @__PURE__ */ (function() {
    function ScatterPlot2() {
    }
    ;
    ScatterPlot2.value = new ScatterPlot2();
    return ScatterPlot2;
  })();
  var LineChart = /* @__PURE__ */ (function() {
    function LineChart2() {
    }
    ;
    LineChart2.value = new LineChart2();
    return LineChart2;
  })();
  var GroupedBarChart = /* @__PURE__ */ (function() {
    function GroupedBarChart2() {
    }
    ;
    GroupedBarChart2.value = new GroupedBarChart2();
    return GroupedBarChart2;
  })();
  var SimpleHierarchy = /* @__PURE__ */ (function() {
    function SimpleHierarchy2() {
    }
    ;
    SimpleHierarchy2.value = new SimpleHierarchy2();
    return SimpleHierarchy2;
  })();
  var ThreeDimensions = /* @__PURE__ */ (function() {
    function ThreeDimensions2() {
    }
    ;
    ThreeDimensions2.value = new ThreeDimensions2();
    return ThreeDimensions2;
  })();
  var LesMisForce = /* @__PURE__ */ (function() {
    function LesMisForce2() {
    }
    ;
    LesMisForce2.value = new LesMisForce2();
    return LesMisForce2;
  })();
  var Initialize6 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SelectExample = /* @__PURE__ */ (function() {
    function SelectExample2(value0) {
      this.value0 = value0;
    }
    ;
    SelectExample2.create = function(value0) {
      return new SelectExample2(value0);
    };
    return SelectExample2;
  })();
  var handleAction5 = function(dictMonadAff) {
    var liftEffect53 = liftEffect(monadEffectHalogenM(dictMonadAff.MonadEffect0()));
    return function(v) {
      if (v instanceof Initialize6) {
        return handleAction5(dictMonadAff)(new SelectExample(ThreeCircles.value));
      }
      ;
      if (v instanceof SelectExample) {
        return discard20(modify_9(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.currentExample = v.value0;
          return $20;
        }))(function() {
          return discard20(liftEffect53(clearViz))(function() {
            if (v.value0 instanceof ThreeCircles) {
              return liftEffect53(threeLittleCircles);
            }
            ;
            if (v.value0 instanceof ThreeCirclesTransition) {
              return liftEffect53(threeLittleCirclesTransition);
            }
            ;
            if (v.value0 instanceof SimpleTree) {
              return liftEffect53(testSimpleTree);
            }
            ;
            if (v.value0 instanceof NestedElements) {
              return liftEffect53(testNestedElements);
            }
            ;
            if (v.value0 instanceof BarChart) {
              return liftEffect53(barChart);
            }
            ;
            if (v.value0 instanceof ScatterPlot) {
              return liftEffect53(scatterPlot);
            }
            ;
            if (v.value0 instanceof LineChart) {
              return liftEffect53(lineChart);
            }
            ;
            if (v.value0 instanceof GroupedBarChart) {
              return liftEffect53(groupedBarChart);
            }
            ;
            if (v.value0 instanceof SimpleHierarchy) {
              return liftEffect53(simpleHierarchy);
            }
            ;
            if (v.value0 instanceof ThreeDimensions) {
              return liftEffect53(threeLittleDimensions);
            }
            ;
            if (v.value0 instanceof LesMisForce) {
              return liftEffect53(testLesMisTree);
            }
            ;
            throw new Error("Failed pattern match at Component.TreeAPI (line 371, column 5 - line 382, column 65): " + [v.value0.constructor.name]);
          });
        });
      }
      ;
      throw new Error("Failed pattern match at Component.TreeAPI (line 359, column 16 - line 382, column 65): " + [v.constructor.name]);
    };
  };
  var exampleTitle = function(v) {
    if (v instanceof ThreeCircles) {
      return "Three Little Circles (Data Join)";
    }
    ;
    if (v instanceof ThreeCirclesTransition) {
      return "Three Little Circles (Transition)";
    }
    ;
    if (v instanceof SimpleTree) {
      return "Simple Tree (Basic Structure)";
    }
    ;
    if (v instanceof NestedElements) {
      return "Nested Elements (Multi-Level)";
    }
    ;
    if (v instanceof BarChart) {
      return "Bar Chart";
    }
    ;
    if (v instanceof ScatterPlot) {
      return "Scatter Plot";
    }
    ;
    if (v instanceof LineChart) {
      return "Line Chart";
    }
    ;
    if (v instanceof GroupedBarChart) {
      return "Grouped Bar Chart (Nested Joins)";
    }
    ;
    if (v instanceof SimpleHierarchy) {
      return "Tree Layout (Hierarchy)";
    }
    ;
    if (v instanceof ThreeDimensions) {
      return "Three Little Dimensions (Nested Joins)";
    }
    ;
    if (v instanceof LesMisForce) {
      return "Les Mis\xE9rables (Force Simulation)";
    }
    ;
    throw new Error("Failed pattern match at Component.TreeAPI (line 137, column 1 - line 137, column 34): " + [v.constructor.name]);
  };
  var exampleCode = function(v) {
    if (v instanceof ThreeCircles) {
      return '\ntree = named SVG "svg" [...] `withChild`\n  (joinData "circles" "circle" circleData $ \\d ->\n    elem Circle\n      [ cx d.x\n      , cy d.y\n      , radius d.r\n      , fill d.color\n      ])\n\nselections <- renderTree container tree\n';
    }
    ;
    if (v instanceof ThreeCirclesTransition) {
      return '\n-- Initial render: green circles in horizontal line\ninitialTree = named SVG "svg" [...] `withChild`\n  (joinData "circles" "circle" [0, 1, 2] $ \\\\d ->\n    elem Circle [fill "green", cx (d * 100 + 100), ...])\n\nselections <- renderTree container initialTree\n\n-- Extract circles selection\ncirclesSel <- liftEffect $ reselectD3v2 "circles" selections\n\n-- Transition to RGB colors with overlapping positions\nlet transitionConfig = transitionWith\n      { duration: Milliseconds 1500.0\n      , delay: Just (Milliseconds 100.0)\n      , easing: Just ElasticOut\n      }\n\nwithTransition transitionConfig circlesSel\n  [ fill colorFn\n  , cx cxFn\n  , cy cyFn\n  , radius 30.0\n  , fillOpacity 0.5\n  ]\n';
    }
    ;
    if (v instanceof SimpleTree) {
      return '\ntree = named SVG "svg" [...] `withChild`\n  (named Group "container" [...] `withChildren`\n    [ named Circle "circle" [...]\n    , named Text "text" [...]\n    ])\n\nselections <- renderTree container tree\n-- Access: Map.lookup "circle" selections\n';
    }
    ;
    if (v instanceof NestedElements) {
      return '\ntree = named SVG "svg" [...] `withChild`\n  (named Group "mainGroup" [...] `withChildren`\n    [ named Group "node1" [...] `withChildren`\n        [ named Circle "circle1" [...]\n        , named Text "label1" [...]\n        ]\n    , named Group "node2" [...] `withChildren`\n        [ named Circle "circle2" [...]\n        , named Text "label2" [...]\n        ]\n    ])\n\nselections <- renderTree container tree\n';
    }
    ;
    if (v instanceof BarChart) {
      return '\ntree = named SVG "svg" [...] `withChild`\n  (named Group "chartGroup" [...] `withChild`\n    (joinData "bars" "rect" dataPoints $ \\\\point ->\n      T.elem Rect\n        [ x (xScale point.x)\n        , y (yScale point.y)\n        , width barWidth\n        , height barHeight\n        , fill "#4a90e2"\n        ]))\n\nselections <- renderTree container tree\n';
    }
    ;
    if (v instanceof ScatterPlot) {
      return '\ntree = named SVG "svg" [...] `withChild`\n  (named Group "chartGroup" [...] `withChild`\n    (joinData "points" "circle" dataPoints $ \\\\point ->\n      T.elem Circle\n        [ cx (xScale point.x)\n        , cy (yScale point.y)\n        , radius 6.0\n        , fill "#e74c3c"\n        ]))\n\nselections <- renderTree container tree\n';
    }
    ;
    if (v instanceof LineChart) {
      return '\ntree = named SVG "svg" [...] `withChild`\n  (named Group "chartGroup" [...] `withChild`\n    (named Path "line"\n      [ d pathData\n      , fill "none"\n      , stroke "#2ecc71"\n      , strokeWidth 2.0\n      ]))\n\nselections <- renderTree container tree\n';
    }
    ;
    if (v instanceof GroupedBarChart) {
      return '\n-- Group data by state\nlet stateGroups = groupByState data\n    ages = getAges data\n\n-- Nested join: states \u2192 bars within each state\nbarsTree = nestedJoin "stateGroups" "g" stateGroups (_.bars) $ \\\\bar ->\n  let\n    stateIdx = findIndex (\\\\g -> g.state == bar.state) stateGroups\n    ageIdx = findIndex (\\\\a -> a == bar.age) ages\n    xPos = stateIdx * groupWidth + ageIdx * barWidth\n    yPos = yScale bar.population\n    barHeight = iHeight - yPos\n  in\n    T.elem Rect\n      [ x xPos\n      , y yPos\n      , width barWidth\n      , height barHeight\n      , fill (colorForAge bar.age)\n      ]\n\nselections <- renderTree chartGroup barsTree\n';
    }
    ;
    if (v instanceof SimpleHierarchy) {
      return '\n-- Apply layout algorithm\nlet positioned = tree config hierarchyData\nlet nodes = Array.fromFoldable positioned\nlet links = makeLinks positioned\n\ntree = named SVG "svg" [...] `withChildren`\n  [ named Group "linksGroup" [...] `withChild`\n      (joinData "links" "path" links $ \\\\link ->\n        T.elem Path [d (linkPath link), ...])\n  , named Group "nodesGroup" [...] `withChild`\n      (joinData "nodes" "g" nodes $ \\\\node ->\n        T.named Group ("node-" <> node.name) [...]\n          `withChildren`\n            [ T.elem Circle [cx node.x, cy node.y, ...]\n            , T.elem Text [textContent node.name, ...]\n            ])\n  ]\n';
    }
    ;
    if (v instanceof ThreeDimensions) {
      return '\n-- Nested data: [[1,2,3],[4,5,6],[7,8,9]]\ntree = named Table "table" [...] `withChild`\n  (nestedJoin "rows" "tr" matrixData identity $ \\\\cellValue ->\n    T.elem Td [textContent (show cellValue)])\n\n-- nestedJoin handles type decomposition:\n-- - Outer type: Array Int (a row)\n-- - Decomposer: identity (extracts row data)\n-- - Inner type: Int (a cell value)\n-- - Creates: table rows \u2192 table cells\n\n-- Power: Works with ANY decomposition!\n-- - Array of Records with nested Arrays\n-- - Lists of Maps of Sets\n-- - Custom ADT decompositions\n';
    }
    ;
    if (v instanceof LesMisForce) {
      return '\n-- Initialize simulation with forces\n{ nodes, links } <- init\n  { nodes: nodesWithPositions\n  , links: model.links\n  , forces: [manyBody, center, forceLinks]\n  , ...\n  }\n\n-- Declarative tree structure\nlet forceGraphTree =\n      named SVG "svg" [...] `withChild`\n        (named Group "zoomGroup" [...] `withChildren`\n          [ named Group "linksGroup" [...] `withChild`\n              (joinData "linkElements" "line" links linkTemplate)\n          , named Group "nodesGroup" [...] `withChild`\n              (joinData "nodeElements" "circle" nodes nodeTemplate)\n          ])\n\n-- Render structure\nselections <- renderTree container forceGraphTree\n\n-- Extract selections and add behaviors\non (Zoom ...) svgSel\non (Drag $ simulationDrag ...) nodesSel\n\n-- Add tick functions for position updates\naddTickFunction "nodes" $ Step nodesSel\n  [cx (\\\\d -> d.x), cy (\\\\d -> d.y)]\naddTickFunction "links" $ Step linksSel\n  [x1 (\\\\l -> l.source.x), y1 (\\\\l -> l.source.y), ...]\n\nstart\n';
    }
    ;
    throw new Error("Failed pattern match at Component.TreeAPI (line 150, column 1 - line 150, column 33): " + [v.constructor.name]);
  };
  var eqExample = {
    eq: function(x10) {
      return function(y10) {
        if (x10 instanceof ThreeCircles && y10 instanceof ThreeCircles) {
          return true;
        }
        ;
        if (x10 instanceof ThreeCirclesTransition && y10 instanceof ThreeCirclesTransition) {
          return true;
        }
        ;
        if (x10 instanceof SimpleTree && y10 instanceof SimpleTree) {
          return true;
        }
        ;
        if (x10 instanceof NestedElements && y10 instanceof NestedElements) {
          return true;
        }
        ;
        if (x10 instanceof BarChart && y10 instanceof BarChart) {
          return true;
        }
        ;
        if (x10 instanceof ScatterPlot && y10 instanceof ScatterPlot) {
          return true;
        }
        ;
        if (x10 instanceof LineChart && y10 instanceof LineChart) {
          return true;
        }
        ;
        if (x10 instanceof GroupedBarChart && y10 instanceof GroupedBarChart) {
          return true;
        }
        ;
        if (x10 instanceof SimpleHierarchy && y10 instanceof SimpleHierarchy) {
          return true;
        }
        ;
        if (x10 instanceof ThreeDimensions && y10 instanceof ThreeDimensions) {
          return true;
        }
        ;
        if (x10 instanceof LesMisForce && y10 instanceof LesMisForce) {
          return true;
        }
        ;
        return false;
      };
    }
  };
  var eq4 = /* @__PURE__ */ eq(eqExample);
  var exampleButton = function(state3) {
    return function(ex) {
      return function(label5) {
        return function(description) {
          return button([class_((function() {
            var $29 = eq4(state3.currentExample)(ex);
            if ($29) {
              return "selected";
            }
            ;
            return "";
          })()), onClick(function(v) {
            return new SelectExample(ex);
          })])([div2([class_("label")])([text(label5)]), div2([class_("description")])([text(description)])]);
        };
      };
    };
  };
  var render7 = function(state3) {
    return div2([class_("tree-api-examples")])([h1_([text("Declarative Tree API Examples")]), div2([class_("description")])([p_([text("This page demonstrates the new declarative tree API for PSD3v2. "), text("Instead of imperative "), code_([text("appendChild")]), text(" chains, you define the entire DOM structure as a tree, "), text("then render it in one step.")]), p_([strong_([text("Key features:")])]), ul_([li_([text("Tree structure is immediately visible")]), li_([text("Data joins with template functions")]), li_([text("Named selections via Map lookup")]), li_([text("Type-safe, polymorphic attributes")])])]), div2([class_("example-selector")])([h2_([text("Basic Examples:")]), div2([class_("buttons")])([exampleButton(state3)(ThreeCircles.value)("Three Little Circles")("Data join basics"), exampleButton(state3)(ThreeCirclesTransition.value)("Circles Transition")("Animated transitions"), exampleButton(state3)(SimpleTree.value)("Simple Tree")("Basic nesting"), exampleButton(state3)(NestedElements.value)("Nested Elements")("Multi-level (Group \u2192 Circle + Text)"), exampleButton(state3)(ThreeDimensions.value)("Three Little Dimensions")("Nested data joins (2D array \u2192 table)")]), h2_([text("Chart Examples:")]), div2([class_("buttons")])([exampleButton(state3)(BarChart.value)("Bar Chart")("Data-driven bars with scaling"), exampleButton(state3)(ScatterPlot.value)("Scatter Plot")("Points positioned by data"), exampleButton(state3)(LineChart.value)("Line Chart")("Path element from data"), exampleButton(state3)(GroupedBarChart.value)("Grouped Bar Chart")("Nested joins with multiple series")]), h2_([text("Hierarchy & Simulation Examples:")]), div2([class_("buttons")])([exampleButton(state3)(SimpleHierarchy.value)("Tree Layout")("Hierarchical node-link diagram"), exampleButton(state3)(LesMisForce.value)("Les Mis\xE9rables")("Force-directed graph with simulation")])]), div2([class_("visualization-container")])([h2_([text(exampleTitle(state3.currentExample))]), div2([id3("viz"), class_("viz-area")])([]), div2([class_("code-example")])([h3_([text("Code:")]), pre_([code_([text(exampleCode(state3.currentExample))])])])])]);
  };
  var component5 = function(dictMonadAff) {
    return mkComponent({
      initialState: function(v) {
        return {
          currentExample: ThreeCircles.value
        };
      },
      render: render7,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction5(dictMonadAff),
        initialize: new Just(Initialize6.value)
      })
    });
  };

  // output/Halogen.Aff.Util/index.js
  var bind27 = /* @__PURE__ */ bind(bindAff);
  var liftEffect17 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var bindFlipped5 = /* @__PURE__ */ bindFlipped(bindEffect);
  var composeKleisliFlipped4 = /* @__PURE__ */ composeKleisliFlipped(bindEffect);
  var pure20 = /* @__PURE__ */ pure(applicativeAff);
  var bindFlipped1 = /* @__PURE__ */ bindFlipped(bindMaybe);
  var pure110 = /* @__PURE__ */ pure(applicativeEffect);
  var map36 = /* @__PURE__ */ map(functorEffect);
  var discard21 = /* @__PURE__ */ discard(discardUnit);
  var throwError2 = /* @__PURE__ */ throwError(monadThrowAff);
  var selectElement = function(query2) {
    return bind27(liftEffect17(bindFlipped5(composeKleisliFlipped4((function() {
      var $16 = querySelector(query2);
      return function($17) {
        return $16(toParentNode2($17));
      };
    })())(document2))(windowImpl)))(function(mel) {
      return pure20(bindFlipped1(fromElement)(mel));
    });
  };
  var runHalogenAff = /* @__PURE__ */ runAff_(/* @__PURE__ */ either(throwException)(/* @__PURE__ */ $$const(/* @__PURE__ */ pure110(unit))));
  var awaitLoad = /* @__PURE__ */ makeAff(function(callback) {
    return function __do3() {
      var rs = bindFlipped5(readyState)(bindFlipped5(document2)(windowImpl))();
      if (rs instanceof Loading) {
        var et = map36(toEventTarget)(windowImpl)();
        var listener = eventListener(function(v) {
          return callback(new Right(unit));
        })();
        addEventListener2(domcontentloaded)(listener)(false)(et)();
        return effectCanceler(removeEventListener2(domcontentloaded)(listener)(false)(et));
      }
      ;
      callback(new Right(unit))();
      return nonCanceler;
    };
  });
  var awaitBody = /* @__PURE__ */ discard21(bindAff)(awaitLoad)(function() {
    return bind27(selectElement("body"))(function(body2) {
      return maybe(throwError2(error("Could not find body")))(pure20)(body2);
    });
  });

  // output/Halogen.HTML/index.js
  var componentSlot2 = /* @__PURE__ */ componentSlot();
  var slot_ = function() {
    return function(dictIsSymbol) {
      var componentSlot1 = componentSlot2(dictIsSymbol);
      return function(dictOrd) {
        var componentSlot22 = componentSlot1(dictOrd);
        return function(label5) {
          return function(p2) {
            return function(component46) {
              return function(input3) {
                return widget(new ComponentSlot(componentSlot22(label5)(p2)(component46)(input3)($$const(Nothing.value))));
              };
            };
          };
        };
      };
    };
  };
  var slot = function() {
    return function(dictIsSymbol) {
      var componentSlot1 = componentSlot2(dictIsSymbol);
      return function(dictOrd) {
        var componentSlot22 = componentSlot1(dictOrd);
        return function(label5) {
          return function(p2) {
            return function(component46) {
              return function(input3) {
                return function(outputQuery) {
                  return widget(new ComponentSlot(componentSlot22(label5)(p2)(component46)(input3)(function($11) {
                    return Just.create(outputQuery($11));
                  })));
                };
              };
            };
          };
        };
      };
    };
  };

  // output/Control.Monad.Fork.Class/index.js
  var monadForkAff = {
    suspend: suspendAff,
    fork: forkAff,
    join: joinFiber,
    Monad0: function() {
      return monadAff;
    },
    Functor1: function() {
      return functorFiber;
    }
  };
  var fork = function(dict) {
    return dict.fork;
  };

  // output/Halogen.Aff.Driver.State/index.js
  var unRenderStateX = unsafeCoerce2;
  var unDriverStateX = unsafeCoerce2;
  var renderStateX_ = function(dictApplicative) {
    var traverse_9 = traverse_(dictApplicative)(foldableMaybe);
    return function(f) {
      return unDriverStateX(function(st) {
        return traverse_9(f)(st.rendering);
      });
    };
  };
  var mkRenderStateX = unsafeCoerce2;
  var renderStateX = function(dictFunctor) {
    return function(f) {
      return unDriverStateX(function(st) {
        return mkRenderStateX(f(st.rendering));
      });
    };
  };
  var mkDriverStateXRef = unsafeCoerce2;
  var mapDriverState = function(f) {
    return function(v) {
      return f(v);
    };
  };
  var initDriverState = function(component46) {
    return function(input3) {
      return function(handler3) {
        return function(lchs) {
          return function __do3() {
            var selfRef = $$new({})();
            var childrenIn = $$new(empty4)();
            var childrenOut = $$new(empty4)();
            var handlerRef = $$new(handler3)();
            var pendingQueries = $$new(new Just(Nil.value))();
            var pendingOuts = $$new(new Just(Nil.value))();
            var pendingHandlers = $$new(Nothing.value)();
            var fresh2 = $$new(1)();
            var subscriptions = $$new(new Just(empty3))();
            var forks = $$new(empty3)();
            var ds = {
              component: component46,
              state: component46.initialState(input3),
              refs: empty3,
              children: empty4,
              childrenIn,
              childrenOut,
              selfRef,
              handlerRef,
              pendingQueries,
              pendingOuts,
              pendingHandlers,
              rendering: Nothing.value,
              fresh: fresh2,
              subscriptions,
              forks,
              lifecycleHandlers: lchs
            };
            write(ds)(selfRef)();
            return mkDriverStateXRef(selfRef);
          };
        };
      };
    };
  };

  // output/Halogen.Aff.Driver.Eval/index.js
  var traverse_6 = /* @__PURE__ */ traverse_(applicativeEffect)(foldableMaybe);
  var bindFlipped6 = /* @__PURE__ */ bindFlipped(bindMaybe);
  var lookup19 = /* @__PURE__ */ lookup2(ordSubscriptionId);
  var bind111 = /* @__PURE__ */ bind(bindAff);
  var liftEffect18 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var discard25 = /* @__PURE__ */ discard(discardUnit);
  var discard110 = /* @__PURE__ */ discard25(bindAff);
  var traverse_13 = /* @__PURE__ */ traverse_(applicativeAff);
  var traverse_22 = /* @__PURE__ */ traverse_13(foldableList);
  var fork3 = /* @__PURE__ */ fork(monadForkAff);
  var parSequence_2 = /* @__PURE__ */ parSequence_(parallelAff)(applicativeParAff)(foldableList);
  var pure21 = /* @__PURE__ */ pure(applicativeAff);
  var map38 = /* @__PURE__ */ map(functorCoyoneda);
  var parallel3 = /* @__PURE__ */ parallel(parallelAff);
  var map113 = /* @__PURE__ */ map(functorAff);
  var sequential2 = /* @__PURE__ */ sequential(parallelAff);
  var map210 = /* @__PURE__ */ map(functorMaybe);
  var insert8 = /* @__PURE__ */ insert(ordSubscriptionId);
  var retractFreeAp2 = /* @__PURE__ */ retractFreeAp(applicativeParAff);
  var $$delete6 = /* @__PURE__ */ $$delete2(ordForkId);
  var unlessM2 = /* @__PURE__ */ unlessM(monadEffect);
  var insert12 = /* @__PURE__ */ insert(ordForkId);
  var traverse_32 = /* @__PURE__ */ traverse_13(foldableMaybe);
  var lookup110 = /* @__PURE__ */ lookup2(ordForkId);
  var lookup22 = /* @__PURE__ */ lookup2(ordString);
  var foldFree2 = /* @__PURE__ */ foldFree(monadRecAff);
  var alter2 = /* @__PURE__ */ alter(ordString);
  var unsubscribe3 = function(sid) {
    return function(ref2) {
      return function __do3() {
        var v = read(ref2)();
        var subs = read(v.subscriptions)();
        return traverse_6(unsubscribe)(bindFlipped6(lookup19(sid))(subs))();
      };
    };
  };
  var queueOrRun = function(ref2) {
    return function(au) {
      return bind111(liftEffect18(read(ref2)))(function(v) {
        if (v instanceof Nothing) {
          return au;
        }
        ;
        if (v instanceof Just) {
          return liftEffect18(write(new Just(new Cons(au, v.value0)))(ref2));
        }
        ;
        throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 188, column 33 - line 190, column 57): " + [v.constructor.name]);
      });
    };
  };
  var handleLifecycle = function(lchs) {
    return function(f) {
      return discard110(liftEffect18(write({
        initializers: Nil.value,
        finalizers: Nil.value
      })(lchs)))(function() {
        return bind111(liftEffect18(f))(function(result) {
          return bind111(liftEffect18(read(lchs)))(function(v) {
            return discard110(traverse_22(fork3)(v.finalizers))(function() {
              return discard110(parSequence_2(v.initializers))(function() {
                return pure21(result);
              });
            });
          });
        });
      });
    };
  };
  var handleAff = /* @__PURE__ */ runAff_(/* @__PURE__ */ either(throwException)(/* @__PURE__ */ $$const(/* @__PURE__ */ pure(applicativeEffect)(unit))));
  var fresh = function(f) {
    return function(ref2) {
      return bind111(liftEffect18(read(ref2)))(function(v) {
        return liftEffect18(modify$prime(function(i2) {
          return {
            state: i2 + 1 | 0,
            value: f(i2)
          };
        })(v.fresh));
      });
    };
  };
  var evalQ = function(render48) {
    return function(ref2) {
      return function(q2) {
        return bind111(liftEffect18(read(ref2)))(function(v) {
          return evalM(render48)(ref2)(v["component"]["eval"](new Query(map38(Just.create)(liftCoyoneda(q2)), $$const(Nothing.value))));
        });
      };
    };
  };
  var evalM = function(render48) {
    return function(initRef) {
      return function(v) {
        var evalChildQuery = function(ref2) {
          return function(cqb) {
            return bind111(liftEffect18(read(ref2)))(function(v1) {
              return unChildQueryBox(function(v2) {
                var evalChild = function(v3) {
                  return parallel3(bind111(liftEffect18(read(v3)))(function(dsx) {
                    return unDriverStateX(function(ds) {
                      return evalQ(render48)(ds.selfRef)(v2.value1);
                    })(dsx);
                  }));
                };
                return map113(v2.value2)(sequential2(v2.value0(applicativeParAff)(evalChild)(v1.children)));
              })(cqb);
            });
          };
        };
        var go2 = function(ref2) {
          return function(v1) {
            if (v1 instanceof State) {
              return bind111(liftEffect18(read(ref2)))(function(v2) {
                var v3 = v1.value0(v2.state);
                if (unsafeRefEq(v2.state)(v3.value1)) {
                  return pure21(v3.value0);
                }
                ;
                if (otherwise) {
                  return discard110(liftEffect18(write({
                    component: v2.component,
                    refs: v2.refs,
                    children: v2.children,
                    childrenIn: v2.childrenIn,
                    childrenOut: v2.childrenOut,
                    selfRef: v2.selfRef,
                    handlerRef: v2.handlerRef,
                    pendingQueries: v2.pendingQueries,
                    pendingOuts: v2.pendingOuts,
                    pendingHandlers: v2.pendingHandlers,
                    rendering: v2.rendering,
                    fresh: v2.fresh,
                    subscriptions: v2.subscriptions,
                    forks: v2.forks,
                    lifecycleHandlers: v2.lifecycleHandlers,
                    state: v3.value1
                  })(ref2)))(function() {
                    return discard110(handleLifecycle(v2.lifecycleHandlers)(render48(v2.lifecycleHandlers)(ref2)))(function() {
                      return pure21(v3.value0);
                    });
                  });
                }
                ;
                throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): " + [v3.constructor.name]);
              });
            }
            ;
            if (v1 instanceof Subscribe) {
              return bind111(fresh(SubscriptionId)(ref2))(function(sid) {
                return bind111(liftEffect18(subscribe(v1.value0(sid))(function(act) {
                  return handleAff(evalF(render48)(ref2)(new Action(act)));
                })))(function(finalize) {
                  return bind111(liftEffect18(read(ref2)))(function(v2) {
                    return discard110(liftEffect18(modify_(map210(insert8(sid)(finalize)))(v2.subscriptions)))(function() {
                      return pure21(v1.value1(sid));
                    });
                  });
                });
              });
            }
            ;
            if (v1 instanceof Unsubscribe) {
              return discard110(liftEffect18(unsubscribe3(v1.value0)(ref2)))(function() {
                return pure21(v1.value1);
              });
            }
            ;
            if (v1 instanceof Lift2) {
              return v1.value0;
            }
            ;
            if (v1 instanceof ChildQuery2) {
              return evalChildQuery(ref2)(v1.value0);
            }
            ;
            if (v1 instanceof Raise2) {
              return bind111(liftEffect18(read(ref2)))(function(v2) {
                return bind111(liftEffect18(read(v2.handlerRef)))(function(handler3) {
                  return discard110(queueOrRun(v2.pendingOuts)(handler3(v1.value0)))(function() {
                    return pure21(v1.value1);
                  });
                });
              });
            }
            ;
            if (v1 instanceof Par) {
              return sequential2(retractFreeAp2(hoistFreeAp((function() {
                var $119 = evalM(render48)(ref2);
                return function($120) {
                  return parallel3($119($120));
                };
              })())(v1.value0)));
            }
            ;
            if (v1 instanceof Fork) {
              return bind111(fresh(ForkId)(ref2))(function(fid) {
                return bind111(liftEffect18(read(ref2)))(function(v2) {
                  return bind111(liftEffect18($$new(false)))(function(doneRef) {
                    return bind111(fork3($$finally(liftEffect18(function __do3() {
                      modify_($$delete6(fid))(v2.forks)();
                      return write(true)(doneRef)();
                    }))(evalM(render48)(ref2)(v1.value0))))(function(fiber) {
                      return discard110(liftEffect18(unlessM2(read(doneRef))(modify_(insert12(fid)(fiber))(v2.forks))))(function() {
                        return pure21(v1.value1(fid));
                      });
                    });
                  });
                });
              });
            }
            ;
            if (v1 instanceof Join) {
              return bind111(liftEffect18(read(ref2)))(function(v2) {
                return bind111(liftEffect18(read(v2.forks)))(function(forkMap) {
                  return discard110(traverse_32(joinFiber)(lookup110(v1.value0)(forkMap)))(function() {
                    return pure21(v1.value1);
                  });
                });
              });
            }
            ;
            if (v1 instanceof Kill) {
              return bind111(liftEffect18(read(ref2)))(function(v2) {
                return bind111(liftEffect18(read(v2.forks)))(function(forkMap) {
                  return discard110(traverse_32(killFiber(error("Cancelled")))(lookup110(v1.value0)(forkMap)))(function() {
                    return pure21(v1.value1);
                  });
                });
              });
            }
            ;
            if (v1 instanceof GetRef) {
              return bind111(liftEffect18(read(ref2)))(function(v2) {
                return pure21(v1.value1(lookup22(v1.value0)(v2.refs)));
              });
            }
            ;
            throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 139, column 33): " + [v1.constructor.name]);
          };
        };
        return foldFree2(go2(initRef))(v);
      };
    };
  };
  var evalF = function(render48) {
    return function(ref2) {
      return function(v) {
        if (v instanceof RefUpdate) {
          return liftEffect18(flip(modify_)(ref2)(mapDriverState(function(st) {
            return {
              component: st.component,
              state: st.state,
              children: st.children,
              childrenIn: st.childrenIn,
              childrenOut: st.childrenOut,
              selfRef: st.selfRef,
              handlerRef: st.handlerRef,
              pendingQueries: st.pendingQueries,
              pendingOuts: st.pendingOuts,
              pendingHandlers: st.pendingHandlers,
              rendering: st.rendering,
              fresh: st.fresh,
              subscriptions: st.subscriptions,
              forks: st.forks,
              lifecycleHandlers: st.lifecycleHandlers,
              refs: alter2($$const(v.value1))(v.value0)(st.refs)
            };
          })));
        }
        ;
        if (v instanceof Action) {
          return bind111(liftEffect18(read(ref2)))(function(v1) {
            return evalM(render48)(ref2)(v1["component"]["eval"](new Action2(v.value0, unit)));
          });
        }
        ;
        throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): " + [v.constructor.name]);
      };
    };
  };

  // output/Halogen.Aff.Driver/index.js
  var bind28 = /* @__PURE__ */ bind(bindEffect);
  var discard26 = /* @__PURE__ */ discard(discardUnit);
  var for_2 = /* @__PURE__ */ for_(applicativeEffect)(foldableMaybe);
  var traverse_7 = /* @__PURE__ */ traverse_(applicativeAff)(foldableList);
  var fork4 = /* @__PURE__ */ fork(monadForkAff);
  var bindFlipped7 = /* @__PURE__ */ bindFlipped(bindEffect);
  var traverse_14 = /* @__PURE__ */ traverse_(applicativeEffect);
  var traverse_23 = /* @__PURE__ */ traverse_14(foldableMaybe);
  var traverse_33 = /* @__PURE__ */ traverse_14(foldableMap);
  var discard27 = /* @__PURE__ */ discard26(bindAff);
  var parSequence_3 = /* @__PURE__ */ parSequence_(parallelAff)(applicativeParAff)(foldableList);
  var liftEffect19 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var pure24 = /* @__PURE__ */ pure(applicativeEffect);
  var map39 = /* @__PURE__ */ map(functorEffect);
  var pure111 = /* @__PURE__ */ pure(applicativeAff);
  var when3 = /* @__PURE__ */ when(applicativeEffect);
  var renderStateX2 = /* @__PURE__ */ renderStateX(functorEffect);
  var $$void9 = /* @__PURE__ */ $$void(functorAff);
  var foreachSlot2 = /* @__PURE__ */ foreachSlot(applicativeEffect);
  var renderStateX_2 = /* @__PURE__ */ renderStateX_(applicativeEffect);
  var tailRecM3 = /* @__PURE__ */ tailRecM(monadRecEffect);
  var voidLeft3 = /* @__PURE__ */ voidLeft(functorEffect);
  var bind112 = /* @__PURE__ */ bind(bindAff);
  var liftEffect110 = /* @__PURE__ */ liftEffect(monadEffectEffect);
  var newLifecycleHandlers = /* @__PURE__ */ (function() {
    return $$new({
      initializers: Nil.value,
      finalizers: Nil.value
    });
  })();
  var handlePending = function(ref2) {
    return function __do3() {
      var queue = read(ref2)();
      write(Nothing.value)(ref2)();
      return for_2(queue)((function() {
        var $59 = traverse_7(fork4);
        return function($60) {
          return handleAff($59(reverse2($60)));
        };
      })())();
    };
  };
  var cleanupSubscriptionsAndForks = function(v) {
    return function __do3() {
      bindFlipped7(traverse_23(traverse_33(unsubscribe)))(read(v.subscriptions))();
      write(Nothing.value)(v.subscriptions)();
      bindFlipped7(traverse_33((function() {
        var $61 = killFiber(error("finalized"));
        return function($62) {
          return handleAff($61($62));
        };
      })()))(read(v.forks))();
      return write(empty3)(v.forks)();
    };
  };
  var runUI = function(renderSpec2) {
    return function(component46) {
      return function(i2) {
        var squashChildInitializers = function(lchs) {
          return function(preInits) {
            return unDriverStateX(function(st) {
              var parentInitializer = evalM(render48)(st.selfRef)(st["component"]["eval"](new Initialize(unit)));
              return modify_(function(handlers) {
                return {
                  initializers: new Cons(discard27(parSequence_3(reverse2(handlers.initializers)))(function() {
                    return discard27(parentInitializer)(function() {
                      return liftEffect19(function __do3() {
                        handlePending(st.pendingQueries)();
                        return handlePending(st.pendingOuts)();
                      });
                    });
                  }), preInits),
                  finalizers: handlers.finalizers
                };
              })(lchs);
            });
          };
        };
        var runComponent = function(lchs) {
          return function(handler3) {
            return function(j) {
              return unComponent(function(c) {
                return function __do3() {
                  var lchs$prime = newLifecycleHandlers();
                  var $$var2 = initDriverState(c)(j)(handler3)(lchs$prime)();
                  var pre2 = read(lchs)();
                  write({
                    initializers: Nil.value,
                    finalizers: pre2.finalizers
                  })(lchs)();
                  bindFlipped7(unDriverStateX((function() {
                    var $63 = render48(lchs);
                    return function($64) {
                      return $63((function(v) {
                        return v.selfRef;
                      })($64));
                    };
                  })()))(read($$var2))();
                  bindFlipped7(squashChildInitializers(lchs)(pre2.initializers))(read($$var2))();
                  return $$var2;
                };
              });
            };
          };
        };
        var renderChild = function(lchs) {
          return function(handler3) {
            return function(childrenInRef) {
              return function(childrenOutRef) {
                return unComponentSlot(function(slot3) {
                  return function __do3() {
                    var childrenIn = map39(slot3.pop)(read(childrenInRef))();
                    var $$var2 = (function() {
                      if (childrenIn instanceof Just) {
                        write(childrenIn.value0.value1)(childrenInRef)();
                        var dsx = read(childrenIn.value0.value0)();
                        unDriverStateX(function(st) {
                          return function __do4() {
                            flip(write)(st.handlerRef)((function() {
                              var $65 = maybe(pure111(unit))(handler3);
                              return function($66) {
                                return $65(slot3.output($66));
                              };
                            })())();
                            return handleAff(evalM(render48)(st.selfRef)(st["component"]["eval"](new Receive(slot3.input, unit))))();
                          };
                        })(dsx)();
                        return childrenIn.value0.value0;
                      }
                      ;
                      if (childrenIn instanceof Nothing) {
                        return runComponent(lchs)((function() {
                          var $67 = maybe(pure111(unit))(handler3);
                          return function($68) {
                            return $67(slot3.output($68));
                          };
                        })())(slot3.input)(slot3.component)();
                      }
                      ;
                      throw new Error("Failed pattern match at Halogen.Aff.Driver (line 213, column 14 - line 222, column 98): " + [childrenIn.constructor.name]);
                    })();
                    var isDuplicate = map39(function($69) {
                      return isJust(slot3.get($69));
                    })(read(childrenOutRef))();
                    when3(isDuplicate)(warn("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))();
                    modify_(slot3.set($$var2))(childrenOutRef)();
                    return bind28(read($$var2))(renderStateX2(function(v) {
                      if (v instanceof Nothing) {
                        return $$throw("Halogen internal error: child was not initialized in renderChild");
                      }
                      ;
                      if (v instanceof Just) {
                        return pure24(renderSpec2.renderChild(v.value0));
                      }
                      ;
                      throw new Error("Failed pattern match at Halogen.Aff.Driver (line 227, column 37 - line 229, column 50): " + [v.constructor.name]);
                    }))();
                  };
                });
              };
            };
          };
        };
        var render48 = function(lchs) {
          return function($$var2) {
            return function __do3() {
              var v = read($$var2)();
              var shouldProcessHandlers = map39(isNothing)(read(v.pendingHandlers))();
              when3(shouldProcessHandlers)(write(new Just(Nil.value))(v.pendingHandlers))();
              write(empty4)(v.childrenOut)();
              write(v.children)(v.childrenIn)();
              var handler3 = (function() {
                var $70 = queueOrRun(v.pendingHandlers);
                var $71 = evalF(render48)(v.selfRef);
                return function($72) {
                  return $70($$void9($71($72)));
                };
              })();
              var childHandler = (function() {
                var $73 = queueOrRun(v.pendingQueries);
                return function($74) {
                  return $73(handler3(Action.create($74)));
                };
              })();
              var rendering = renderSpec2.render(function($75) {
                return handleAff(handler3($75));
              })(renderChild(lchs)(childHandler)(v.childrenIn)(v.childrenOut))(v.component.render(v.state))(v.rendering)();
              var children3 = read(v.childrenOut)();
              var childrenIn = read(v.childrenIn)();
              foreachSlot2(childrenIn)(function(v1) {
                return function __do4() {
                  var childDS = read(v1)();
                  renderStateX_2(renderSpec2.removeChild)(childDS)();
                  return finalize(lchs)(childDS)();
                };
              })();
              flip(modify_)(v.selfRef)(mapDriverState(function(ds$prime) {
                return {
                  component: ds$prime.component,
                  state: ds$prime.state,
                  refs: ds$prime.refs,
                  childrenIn: ds$prime.childrenIn,
                  childrenOut: ds$prime.childrenOut,
                  selfRef: ds$prime.selfRef,
                  handlerRef: ds$prime.handlerRef,
                  pendingQueries: ds$prime.pendingQueries,
                  pendingOuts: ds$prime.pendingOuts,
                  pendingHandlers: ds$prime.pendingHandlers,
                  fresh: ds$prime.fresh,
                  subscriptions: ds$prime.subscriptions,
                  forks: ds$prime.forks,
                  lifecycleHandlers: ds$prime.lifecycleHandlers,
                  rendering: new Just(rendering),
                  children: children3
                };
              }))();
              return when3(shouldProcessHandlers)(flip(tailRecM3)(unit)(function(v1) {
                return function __do4() {
                  var handlers = read(v.pendingHandlers)();
                  write(new Just(Nil.value))(v.pendingHandlers)();
                  traverse_23((function() {
                    var $76 = traverse_7(fork4);
                    return function($77) {
                      return handleAff($76(reverse2($77)));
                    };
                  })())(handlers)();
                  var mmore = read(v.pendingHandlers)();
                  var $52 = maybe(false)($$null)(mmore);
                  if ($52) {
                    return voidLeft3(write(Nothing.value)(v.pendingHandlers))(new Done(unit))();
                  }
                  ;
                  return new Loop(unit);
                };
              }))();
            };
          };
        };
        var finalize = function(lchs) {
          return unDriverStateX(function(st) {
            return function __do3() {
              cleanupSubscriptionsAndForks(st)();
              var f = evalM(render48)(st.selfRef)(st["component"]["eval"](new Finalize(unit)));
              modify_(function(handlers) {
                return {
                  initializers: handlers.initializers,
                  finalizers: new Cons(f, handlers.finalizers)
                };
              })(lchs)();
              return foreachSlot2(st.children)(function(v) {
                return function __do4() {
                  var dsx = read(v)();
                  return finalize(lchs)(dsx)();
                };
              })();
            };
          });
        };
        var evalDriver = function(disposed) {
          return function(ref2) {
            return function(q2) {
              return bind112(liftEffect19(read(disposed)))(function(v) {
                if (v) {
                  return pure111(Nothing.value);
                }
                ;
                return evalQ(render48)(ref2)(q2);
              });
            };
          };
        };
        var dispose = function(disposed) {
          return function(lchs) {
            return function(dsx) {
              return handleLifecycle(lchs)(function __do3() {
                var v = read(disposed)();
                if (v) {
                  return unit;
                }
                ;
                write(true)(disposed)();
                finalize(lchs)(dsx)();
                return unDriverStateX(function(v1) {
                  return function __do4() {
                    var v2 = liftEffect110(read(v1.selfRef))();
                    return for_2(v2.rendering)(renderSpec2.dispose)();
                  };
                })(dsx)();
              });
            };
          };
        };
        return bind112(liftEffect19(newLifecycleHandlers))(function(lchs) {
          return bind112(liftEffect19($$new(false)))(function(disposed) {
            return handleLifecycle(lchs)(function __do3() {
              var sio = create();
              var dsx = bindFlipped7(read)(runComponent(lchs)((function() {
                var $78 = notify(sio.listener);
                return function($79) {
                  return liftEffect19($78($79));
                };
              })())(i2)(component46))();
              return unDriverStateX(function(st) {
                return pure24({
                  query: evalDriver(disposed)(st.selfRef),
                  messages: sio.emitter,
                  dispose: dispose(disposed)(lchs)(dsx)
                });
              })(dsx)();
            });
          });
        });
      };
    };
  };

  // output/Halogen.VDom.Driver/index.js
  var $runtime_lazy9 = function(name16, moduleName, init8) {
    var state3 = 0;
    var val;
    return function(lineNumber) {
      if (state3 === 2) return val;
      if (state3 === 1) throw new ReferenceError(name16 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state3 = 1;
      val = init8();
      state3 = 2;
      return val;
    };
  };
  var $$void10 = /* @__PURE__ */ $$void(functorEffect);
  var pure25 = /* @__PURE__ */ pure(applicativeEffect);
  var traverse_8 = /* @__PURE__ */ traverse_(applicativeEffect)(foldableMaybe);
  var unwrap7 = /* @__PURE__ */ unwrap();
  var when4 = /* @__PURE__ */ when(applicativeEffect);
  var not2 = /* @__PURE__ */ not(/* @__PURE__ */ heytingAlgebraFunction(/* @__PURE__ */ heytingAlgebraFunction(heytingAlgebraBoolean)));
  var identity15 = /* @__PURE__ */ identity(categoryFn);
  var bind113 = /* @__PURE__ */ bind(bindAff);
  var liftEffect20 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var map40 = /* @__PURE__ */ map(functorEffect);
  var bindFlipped8 = /* @__PURE__ */ bindFlipped(bindEffect);
  var substInParent = function(v) {
    return function(v1) {
      return function(v2) {
        if (v1 instanceof Just && v2 instanceof Just) {
          return $$void10(insertBefore(v)(v1.value0)(v2.value0));
        }
        ;
        if (v1 instanceof Nothing && v2 instanceof Just) {
          return $$void10(appendChild(v)(v2.value0));
        }
        ;
        return pure25(unit);
      };
    };
  };
  var removeChild3 = function(v) {
    return function __do3() {
      var npn = parentNode2(v.node)();
      return traverse_8(function(pn) {
        return removeChild2(v.node)(pn);
      })(npn)();
    };
  };
  var mkSpec = function(handler3) {
    return function(renderChildRef) {
      return function(document3) {
        var getNode = unRenderStateX(function(v) {
          return v.node;
        });
        var done = function(st) {
          if (st instanceof Just) {
            return halt(st.value0);
          }
          ;
          return unit;
        };
        var buildWidget2 = function(spec) {
          var buildThunk2 = buildThunk(unwrap7)(spec);
          var $lazy_patch = $runtime_lazy9("patch", "Halogen.VDom.Driver", function() {
            return function(st, slot3) {
              if (st instanceof Just) {
                if (slot3 instanceof ComponentSlot) {
                  halt(st.value0);
                  return $lazy_renderComponentSlot(100)(slot3.value0);
                }
                ;
                if (slot3 instanceof ThunkSlot) {
                  var step$prime = step(st.value0, slot3.value0);
                  return mkStep(new Step(extract2(step$prime), new Just(step$prime), $lazy_patch(103), done));
                }
                ;
                throw new Error("Failed pattern match at Halogen.VDom.Driver (line 97, column 22 - line 103, column 79): " + [slot3.constructor.name]);
              }
              ;
              return $lazy_render(104)(slot3);
            };
          });
          var $lazy_render = $runtime_lazy9("render", "Halogen.VDom.Driver", function() {
            return function(slot3) {
              if (slot3 instanceof ComponentSlot) {
                return $lazy_renderComponentSlot(86)(slot3.value0);
              }
              ;
              if (slot3 instanceof ThunkSlot) {
                var step3 = buildThunk2(slot3.value0);
                return mkStep(new Step(extract2(step3), new Just(step3), $lazy_patch(89), done));
              }
              ;
              throw new Error("Failed pattern match at Halogen.VDom.Driver (line 84, column 7 - line 89, column 75): " + [slot3.constructor.name]);
            };
          });
          var $lazy_renderComponentSlot = $runtime_lazy9("renderComponentSlot", "Halogen.VDom.Driver", function() {
            return function(cs) {
              var renderChild = read(renderChildRef)();
              var rsx = renderChild(cs)();
              var node = getNode(rsx);
              return mkStep(new Step(node, Nothing.value, $lazy_patch(117), done));
            };
          });
          var patch2 = $lazy_patch(91);
          var render48 = $lazy_render(82);
          var renderComponentSlot = $lazy_renderComponentSlot(109);
          return render48;
        };
        var buildAttributes = buildProp(handler3);
        return {
          buildWidget: buildWidget2,
          buildAttributes,
          document: document3
        };
      };
    };
  };
  var renderSpec = function(document3) {
    return function(container) {
      var render48 = function(handler3) {
        return function(child) {
          return function(v) {
            return function(v1) {
              if (v1 instanceof Nothing) {
                return function __do3() {
                  var renderChildRef = $$new(child)();
                  var spec = mkSpec(handler3)(renderChildRef)(document3);
                  var machine = buildVDom(spec)(v);
                  var node = extract2(machine);
                  $$void10(appendChild(node)(toNode2(container)))();
                  return {
                    machine,
                    node,
                    renderChildRef
                  };
                };
              }
              ;
              if (v1 instanceof Just) {
                return function __do3() {
                  write(child)(v1.value0.renderChildRef)();
                  var parent2 = parentNode2(v1.value0.node)();
                  var nextSib = nextSibling(v1.value0.node)();
                  var machine$prime = step(v1.value0.machine, v);
                  var newNode = extract2(machine$prime);
                  when4(not2(unsafeRefEq)(v1.value0.node)(newNode))(substInParent(newNode)(nextSib)(parent2))();
                  return {
                    machine: machine$prime,
                    node: newNode,
                    renderChildRef: v1.value0.renderChildRef
                  };
                };
              }
              ;
              throw new Error("Failed pattern match at Halogen.VDom.Driver (line 157, column 5 - line 173, column 80): " + [v1.constructor.name]);
            };
          };
        };
      };
      return {
        render: render48,
        renderChild: identity15,
        removeChild: removeChild3,
        dispose: removeChild3
      };
    };
  };
  var runUI2 = function(component46) {
    return function(i2) {
      return function(element3) {
        return bind113(liftEffect20(map40(toDocument)(bindFlipped8(document2)(windowImpl))))(function(document3) {
          return runUI(renderSpec(document3)(element3))(component46)(i2);
        });
      };
    };
  };

  // output/PSD3.Website.Types/index.js
  var UnderstandingSection = /* @__PURE__ */ (function() {
    function UnderstandingSection2() {
    }
    ;
    UnderstandingSection2.value = new UnderstandingSection2();
    return UnderstandingSection2;
  })();
  var TutorialSection = /* @__PURE__ */ (function() {
    function TutorialSection2() {
    }
    ;
    TutorialSection2.value = new TutorialSection2();
    return TutorialSection2;
  })();
  var HowToSection = /* @__PURE__ */ (function() {
    function HowToSection2() {
    }
    ;
    HowToSection2.value = new HowToSection2();
    return HowToSection2;
  })();
  var APISection = /* @__PURE__ */ (function() {
    function APISection2() {
    }
    ;
    APISection2.value = new APISection2();
    return APISection2;
  })();
  var Home = /* @__PURE__ */ (function() {
    function Home2() {
    }
    ;
    Home2.value = new Home2();
    return Home2;
  })();
  var GettingStarted = /* @__PURE__ */ (function() {
    function GettingStarted2() {
    }
    ;
    GettingStarted2.value = new GettingStarted2();
    return GettingStarted2;
  })();
  var Wizard = /* @__PURE__ */ (function() {
    function Wizard2() {
    }
    ;
    Wizard2.value = new Wizard2();
    return Wizard2;
  })();
  var HowtoIndex = /* @__PURE__ */ (function() {
    function HowtoIndex2() {
    }
    ;
    HowtoIndex2.value = new HowtoIndex2();
    return HowtoIndex2;
  })();
  var Reference = /* @__PURE__ */ (function() {
    function Reference2() {
    }
    ;
    Reference2.value = new Reference2();
    return Reference2;
  })();
  var ReferenceModule = /* @__PURE__ */ (function() {
    function ReferenceModule2(value0) {
      this.value0 = value0;
    }
    ;
    ReferenceModule2.create = function(value0) {
      return new ReferenceModule2(value0);
    };
    return ReferenceModule2;
  })();
  var TreeAPI = /* @__PURE__ */ (function() {
    function TreeAPI2() {
    }
    ;
    TreeAPI2.value = new TreeAPI2();
    return TreeAPI2;
  })();
  var AnimatedTreeCluster = /* @__PURE__ */ (function() {
    function AnimatedTreeCluster2() {
    }
    ;
    AnimatedTreeCluster2.value = new AnimatedTreeCluster2();
    return AnimatedTreeCluster2;
  })();
  var LesMisGUPTree = /* @__PURE__ */ (function() {
    function LesMisGUPTree2() {
    }
    ;
    LesMisGUPTree2.value = new LesMisGUPTree2();
    return LesMisGUPTree2;
  })();
  var ModuleGraph = /* @__PURE__ */ (function() {
    function ModuleGraph2() {
    }
    ;
    ModuleGraph2.value = new ModuleGraph2();
    return ModuleGraph2;
  })();
  var MermaidTreeDemo = /* @__PURE__ */ (function() {
    function MermaidTreeDemo2() {
    }
    ;
    MermaidTreeDemo2.value = new MermaidTreeDemo2();
    return MermaidTreeDemo2;
  })();
  var Acknowledgements = /* @__PURE__ */ (function() {
    function Acknowledgements2() {
    }
    ;
    Acknowledgements2.value = new Acknowledgements2();
    return Acknowledgements2;
  })();
  var NotFound = /* @__PURE__ */ (function() {
    function NotFound2() {
    }
    ;
    NotFound2.value = new NotFound2();
    return NotFound2;
  })();
  var eqSection = {
    eq: function(x10) {
      return function(y10) {
        if (x10 instanceof UnderstandingSection && y10 instanceof UnderstandingSection) {
          return true;
        }
        ;
        if (x10 instanceof TutorialSection && y10 instanceof TutorialSection) {
          return true;
        }
        ;
        if (x10 instanceof HowToSection && y10 instanceof HowToSection) {
          return true;
        }
        ;
        if (x10 instanceof APISection && y10 instanceof APISection) {
          return true;
        }
        ;
        return false;
      };
    }
  };
  var eqRoute = {
    eq: function(x10) {
      return function(y10) {
        if (x10 instanceof Home && y10 instanceof Home) {
          return true;
        }
        ;
        if (x10 instanceof GettingStarted && y10 instanceof GettingStarted) {
          return true;
        }
        ;
        if (x10 instanceof Wizard && y10 instanceof Wizard) {
          return true;
        }
        ;
        if (x10 instanceof HowtoIndex && y10 instanceof HowtoIndex) {
          return true;
        }
        ;
        if (x10 instanceof Reference && y10 instanceof Reference) {
          return true;
        }
        ;
        if (x10 instanceof ReferenceModule && y10 instanceof ReferenceModule) {
          return x10.value0 === y10.value0;
        }
        ;
        if (x10 instanceof TreeAPI && y10 instanceof TreeAPI) {
          return true;
        }
        ;
        if (x10 instanceof AnimatedTreeCluster && y10 instanceof AnimatedTreeCluster) {
          return true;
        }
        ;
        if (x10 instanceof LesMisGUPTree && y10 instanceof LesMisGUPTree) {
          return true;
        }
        ;
        if (x10 instanceof ModuleGraph && y10 instanceof ModuleGraph) {
          return true;
        }
        ;
        if (x10 instanceof MermaidTreeDemo && y10 instanceof MermaidTreeDemo) {
          return true;
        }
        ;
        if (x10 instanceof Acknowledgements && y10 instanceof Acknowledgements) {
          return true;
        }
        ;
        if (x10 instanceof NotFound && y10 instanceof NotFound) {
          return true;
        }
        ;
        return false;
      };
    }
  };

  // output/Data.Semiring.Free/index.js
  var append16 = /* @__PURE__ */ append(semigroupList);
  var bind29 = /* @__PURE__ */ bind(bindList);
  var pure26 = /* @__PURE__ */ pure(applicativeList);
  var semiringFree = /* @__PURE__ */ (function() {
    return {
      add: function(v) {
        return function(v1) {
          return append16(v)(v1);
        };
      },
      zero: Nil.value,
      mul: function(v) {
        return function(v1) {
          return bind29(v)(function(xs) {
            return bind29(v1)(function(ys) {
              return pure26(append16(xs)(ys));
            });
          });
        };
      },
      one: singleton5(Nil.value)
    };
  })();
  var free = function(a2) {
    return singleton5(singleton5(a2));
  };

  // output/Data.Validation.Semiring/index.js
  var V = function(x10) {
    return x10;
  };
  var validation = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Left) {
          return v(v2.value0);
        }
        ;
        if (v2 instanceof Right) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Validation.Semiring (line 49, column 1 - line 49, column 84): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };
  var invalid2 = function($113) {
    return V(Left.create($113));
  };
  var functorV = functorEither;
  var applyV = function(dictSemiring) {
    var mul3 = mul(dictSemiring);
    return {
      apply: function(v) {
        return function(v1) {
          if (v instanceof Left && v1 instanceof Left) {
            return new Left(mul3(v.value0)(v1.value0));
          }
          ;
          if (v instanceof Left) {
            return new Left(v.value0);
          }
          ;
          if (v1 instanceof Left) {
            return new Left(v1.value0);
          }
          ;
          if (v instanceof Right && v1 instanceof Right) {
            return new Right(v.value0(v1.value0));
          }
          ;
          throw new Error("Failed pattern match at Data.Validation.Semiring (line 90, column 1 - line 94, column 54): " + [v.constructor.name, v1.constructor.name]);
        };
      },
      Functor0: function() {
        return functorV;
      }
    };
  };
  var applicativeV = function(dictSemiring) {
    var applyV1 = applyV(dictSemiring);
    return {
      pure: function($121) {
        return V(Right.create($121));
      },
      Apply0: function() {
        return applyV1;
      }
    };
  };
  var altV = function(dictSemiring) {
    var add3 = add(dictSemiring);
    return {
      alt: function(v) {
        return function(v1) {
          if (v instanceof Left && v1 instanceof Left) {
            return new Left(add3(v.value0)(v1.value0));
          }
          ;
          if (v instanceof Left) {
            return v1;
          }
          ;
          if (v instanceof Right) {
            return new Right(v.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Validation.Semiring (line 105, column 1 - line 108, column 36): " + [v.constructor.name, v1.constructor.name]);
        };
      },
      Functor0: function() {
        return functorV;
      }
    };
  };

  // output/Routing.Match.Error/index.js
  var UnexpectedPath = /* @__PURE__ */ (function() {
    function UnexpectedPath2(value0) {
      this.value0 = value0;
    }
    ;
    UnexpectedPath2.create = function(value0) {
      return new UnexpectedPath2(value0);
    };
    return UnexpectedPath2;
  })();
  var ExpectedBoolean = /* @__PURE__ */ (function() {
    function ExpectedBoolean2() {
    }
    ;
    ExpectedBoolean2.value = new ExpectedBoolean2();
    return ExpectedBoolean2;
  })();
  var ExpectedEnd = /* @__PURE__ */ (function() {
    function ExpectedEnd2() {
    }
    ;
    ExpectedEnd2.value = new ExpectedEnd2();
    return ExpectedEnd2;
  })();
  var ExpectedNumber = /* @__PURE__ */ (function() {
    function ExpectedNumber2() {
    }
    ;
    ExpectedNumber2.value = new ExpectedNumber2();
    return ExpectedNumber2;
  })();
  var ExpectedInt = /* @__PURE__ */ (function() {
    function ExpectedInt2() {
    }
    ;
    ExpectedInt2.value = new ExpectedInt2();
    return ExpectedInt2;
  })();
  var ExpectedString = /* @__PURE__ */ (function() {
    function ExpectedString2() {
    }
    ;
    ExpectedString2.value = new ExpectedString2();
    return ExpectedString2;
  })();
  var ExpectedQuery = /* @__PURE__ */ (function() {
    function ExpectedQuery2() {
    }
    ;
    ExpectedQuery2.value = new ExpectedQuery2();
    return ExpectedQuery2;
  })();
  var ExpectedPathPart = /* @__PURE__ */ (function() {
    function ExpectedPathPart2() {
    }
    ;
    ExpectedPathPart2.value = new ExpectedPathPart2();
    return ExpectedPathPart2;
  })();
  var KeyNotFound = /* @__PURE__ */ (function() {
    function KeyNotFound2(value0) {
      this.value0 = value0;
    }
    ;
    KeyNotFound2.create = function(value0) {
      return new KeyNotFound2(value0);
    };
    return KeyNotFound2;
  })();
  var Fail = /* @__PURE__ */ (function() {
    function Fail2(value0) {
      this.value0 = value0;
    }
    ;
    Fail2.create = function(value0) {
      return new Fail2(value0);
    };
    return Fail2;
  })();
  var showMatchError = function(err) {
    if (err instanceof UnexpectedPath) {
      return "expected path part: " + err.value0;
    }
    ;
    if (err instanceof KeyNotFound) {
      return "key: " + (err.value0 + " has not found in query part");
    }
    ;
    if (err instanceof ExpectedQuery) {
      return "expected query - found path";
    }
    ;
    if (err instanceof ExpectedNumber) {
      return "expected number";
    }
    ;
    if (err instanceof ExpectedInt) {
      return "expected int";
    }
    ;
    if (err instanceof ExpectedBoolean) {
      return "expected boolean";
    }
    ;
    if (err instanceof ExpectedEnd) {
      return "expected end";
    }
    ;
    if (err instanceof ExpectedString) {
      return "expected string var";
    }
    ;
    if (err instanceof ExpectedPathPart) {
      return "expected path part, found query";
    }
    ;
    if (err instanceof Fail) {
      return "match error: " + err.value0;
    }
    ;
    throw new Error("Failed pattern match at Routing.Match.Error (line 19, column 3 - line 29, column 39): " + [err.constructor.name]);
  };

  // output/Routing.Types/index.js
  var Path4 = /* @__PURE__ */ (function() {
    function Path5(value0) {
      this.value0 = value0;
    }
    ;
    Path5.create = function(value0) {
      return new Path5(value0);
    };
    return Path5;
  })();
  var Query2 = /* @__PURE__ */ (function() {
    function Query3(value0) {
      this.value0 = value0;
    }
    ;
    Query3.create = function(value0) {
      return new Query3(value0);
    };
    return Query3;
  })();

  // output/Routing.Match/index.js
  var pure27 = /* @__PURE__ */ pure(/* @__PURE__ */ applicativeV(semiringFree));
  var foldl10 = /* @__PURE__ */ foldl(foldableList);
  var bind30 = /* @__PURE__ */ bind(bindList);
  var map41 = /* @__PURE__ */ map(functorList);
  var unwrap8 = /* @__PURE__ */ unwrap();
  var pure112 = /* @__PURE__ */ pure(applicativeList);
  var mul2 = /* @__PURE__ */ mul(semiringFree);
  var identity16 = /* @__PURE__ */ identity(categoryFn);
  var one3 = /* @__PURE__ */ one(semiringFree);
  var alt7 = /* @__PURE__ */ alt(/* @__PURE__ */ altV(semiringFree));
  var str = function(route) {
    if (route instanceof Cons && route.value0 instanceof Path4) {
      return pure27(new Tuple(route.value1, route.value0.value0));
    }
    ;
    return invalid2(free(ExpectedString.value));
  };
  var runMatch = function(v) {
    return function(route) {
      var foldErrors = function(errs) {
        return new Left(foldl10(function(b10) {
          return function(a2) {
            return a2 + ("\n" + b10);
          };
        })("")(bind30(map41(reverse2)(unwrap8(errs)))(function(es) {
          return pure112(foldl10(function(b10) {
            return function(a2) {
              return a2 + (";" + b10);
            };
          })("")(map41(showMatchError)(es)));
        })));
      };
      return validation(foldErrors)(function($109) {
        return Right.create(snd($109));
      })(v(route));
    };
  };
  var matchFunctor = {
    map: function(fn) {
      return function(v) {
        return function(r) {
          return validation(invalid2)(function(v1) {
            return pure27(new Tuple(v1.value0, fn(v1.value1)));
          })(v(r));
        };
      };
    }
  };
  var matchApply = {
    apply: function(v) {
      return function(v1) {
        var processFnRes = function(v2) {
          return validation(invalid2)(function(v3) {
            return pure27(new Tuple(v3.value0, v2.value1(v3.value1)));
          })(v1(v2.value0));
        };
        var processFnErr = function(r) {
          return function(err) {
            return invalid2(mul2(err)(validation(identity16)($$const(one3))(v1(r))));
          };
        };
        return function(r) {
          return validation(processFnErr(r))(processFnRes)(v(r));
        };
      };
    },
    Functor0: function() {
      return matchFunctor;
    }
  };
  var matchApplicative = {
    pure: function(a2) {
      return function(r) {
        return pure27(new Tuple(r, a2));
      };
    },
    Apply0: function() {
      return matchApply;
    }
  };
  var matchAlt = {
    alt: function(v) {
      return function(v1) {
        return function(r) {
          return alt7(v(r))(v1(r));
        };
      };
    },
    Functor0: function() {
      return matchFunctor;
    }
  };
  var lit = function(input3) {
    return function(route) {
      if (route instanceof Cons && (route.value0 instanceof Path4 && route.value0.value0 === input3)) {
        return pure27(new Tuple(route.value1, unit));
      }
      ;
      if (route instanceof Cons && route.value0 instanceof Path4) {
        return invalid2(free(new UnexpectedPath(input3)));
      }
      ;
      return invalid2(free(ExpectedPathPart.value));
    };
  };
  var root2 = /* @__PURE__ */ lit("");
  var end = function(route) {
    if (route instanceof Nil) {
      return pure27(new Tuple(Nil.value, unit));
    }
    ;
    return invalid2(free(ExpectedEnd.value));
  };

  // output/PSD3.RoutingDSL/index.js
  var applyFirst2 = /* @__PURE__ */ applyFirst(matchApply);
  var voidRight2 = /* @__PURE__ */ voidRight(matchFunctor);
  var applySecond2 = /* @__PURE__ */ applySecond(matchApply);
  var alt8 = /* @__PURE__ */ alt(matchAlt);
  var wizard = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(Wizard.value)(lit("wizard")))(end);
  })();
  var treeAPI = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(TreeAPI.value)(lit("tree-api")))(end);
  })();
  var routeToPath = function(v) {
    if (v instanceof Home) {
      return "/home";
    }
    ;
    if (v instanceof GettingStarted) {
      return "/getting-started";
    }
    ;
    if (v instanceof Wizard) {
      return "/wizard";
    }
    ;
    if (v instanceof HowtoIndex) {
      return "/howto";
    }
    ;
    if (v instanceof Reference) {
      return "/reference";
    }
    ;
    if (v instanceof ReferenceModule) {
      return "/reference/" + v.value0;
    }
    ;
    if (v instanceof TreeAPI) {
      return "/tree-api";
    }
    ;
    if (v instanceof AnimatedTreeCluster) {
      return "/animated-tree-cluster";
    }
    ;
    if (v instanceof LesMisGUPTree) {
      return "/lesmis-gup-tree";
    }
    ;
    if (v instanceof ModuleGraph) {
      return "/module-graph";
    }
    ;
    if (v instanceof MermaidTreeDemo) {
      return "/mermaid-tree-demo";
    }
    ;
    if (v instanceof Acknowledgements) {
      return "/acknowledgements";
    }
    ;
    if (v instanceof NotFound) {
      return "/not-found";
    }
    ;
    throw new Error("Failed pattern match at PSD3.RoutingDSL (line 94, column 1 - line 94, column 31): " + [v.constructor.name]);
  };
  var rootRedirect = /* @__PURE__ */ (function() {
    return voidRight2(Home.value)(end);
  })();
  var referenceModule = /* @__PURE__ */ (function() {
    return applyFirst2(map(matchFunctor)(ReferenceModule.create)(applySecond2(lit("reference"))(str)))(end);
  })();
  var reference = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(Reference.value)(lit("reference")))(end);
  })();
  var notFound = /* @__PURE__ */ (function() {
    return pure(matchApplicative)(NotFound.value);
  })();
  var moduleGraph = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(ModuleGraph.value)(lit("module-graph")))(end);
  })();
  var mermaidTreeDemo = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(MermaidTreeDemo.value)(lit("mermaid-tree-demo")))(end);
  })();
  var lesMisGUPTree = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(LesMisGUPTree.value)(lit("lesmis-gup-tree")))(end);
  })();
  var howtoIndex = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(HowtoIndex.value)(lit("howto")))(end);
  })();
  var home = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(Home.value)(lit("home")))(end);
  })();
  var gettingStarted = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(GettingStarted.value)(lit("getting-started")))(end);
  })();
  var animatedTreeCluster = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(AnimatedTreeCluster.value)(lit("animated-tree-cluster")))(end);
  })();
  var acknowledgements = /* @__PURE__ */ (function() {
    return applyFirst2(voidRight2(Acknowledgements.value)(lit("acknowledgements")))(end);
  })();
  var routes = /* @__PURE__ */ alt8(home)(/* @__PURE__ */ alt8(gettingStarted)(/* @__PURE__ */ alt8(wizard)(/* @__PURE__ */ alt8(howtoIndex)(/* @__PURE__ */ alt8(referenceModule)(/* @__PURE__ */ alt8(reference)(/* @__PURE__ */ alt8(treeAPI)(/* @__PURE__ */ alt8(animatedTreeCluster)(/* @__PURE__ */ alt8(lesMisGUPTree)(/* @__PURE__ */ alt8(moduleGraph)(/* @__PURE__ */ alt8(mermaidTreeDemo)(/* @__PURE__ */ alt8(acknowledgements)(/* @__PURE__ */ alt8(rootRedirect)(notFound)))))))))))));
  var routing = /* @__PURE__ */ applySecond2(root2)(routes);

  // output/PSD3.Shared.Footer/index.js
  var render8 = /* @__PURE__ */ (function() {
    return footer([classes(["site-footer"])])([hr([classes(["site-footer__rule"])]), div2([classes(["site-footer__content"])])([a([href("#" + routeToPath(Acknowledgements.value)), classes(["site-footer__link"])])([text("Acknowledgements")])])]);
  })();

  // output/PSD3.Acknowledgements/index.js
  var pure28 = /* @__PURE__ */ pure(applicativeHalogenM);
  var Initialize7 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var render9 = function(v) {
    return div2([classes(["acknowledgements-page"])])([div2([classes(["acknowledgements-content"])])([h1([classes(["acknowledgements-title"])])([text("Acknowledgements")]), section([classes(["acknowledgements-section"])])([h2_([text("D3.js and Data Visualization")]), p_([text("This project would not exist without "), a([href("https://d3js.org/")])([text("D3.js")]), text(", created by "), a([href("https://bost.ocks.org/mike/")])([text("Mike Bostock")]), text(". D3 revolutionized web-based data visualization and established patterns that have become fundamental to the field. Many of the examples in PS<$>D3 are adapted from Mike's extensive collection of examples and tutorials.")]), p_([text("Thanks so much to Mike for creating D3, for his clear documentation and examples, and for making the library open source. His work on Observable and continued contributions to visualization continue to inspire.")])]), section([classes(["acknowledgements-section"])])([h2_([text("Observable Examples (ISC License)")]), p_([text("Several chart examples in PS<$>D3 are based on visualizations from "), a([href("https://observablehq.com/")])([text("Observable")]), text(", licensed under the ISC License. These include:")]), ul_([li_([a([href("https://observablehq.com/@d3/grouped-bar-chart/2")])([text("Grouped Bar Chart")]), text(" (Copyright 2018\u20132020 Observable, Inc.)")]), li_([a([href("https://observablehq.com/@d3/multi-line-chart/2")])([text("Multi-Line Chart")]), text(" (Copyright 2018\u20132023 Observable, Inc.)")]), li_([a([href("https://observablehq.com/@d3/radial-stacked-bar-chart/2")])([text("Radial Stacked Bar Chart")]), text(" (Copyright 2019\u20132023 Observable, Inc., created by Mike Bostock)")])]), p_([text("These examples have been reimplemented in PureScript to demonstrate the PS<$>D3 library's capabilities while faithfully reproducing the original visualizations' dimensions, scales, and styling.")])]), section([classes(["acknowledgements-section"])])([h2_([text("Data Visualization Pioneers")]), p_([a([href("https://www.edwardtufte.com/")])([text("Edward Tufte")]), text("'s work on information design and visual communication established many of the principles we follow today. His books remain essential reading for anyone interested in effective data presentation.")]), p_([a([href("https://www.gapminder.org/about/hans-rosling/")])([text("Hans Rosling")]), text("'s passionate advocacy for data literacy and his innovative animated visualizations (particularly the Gapminder World visualization) showed how data can tell compelling stories. The Wealth & Health example in this project is inspired by his work.")])]), section([classes(["acknowledgements-section"])])([h2_([text("PureScript and Functional Programming")]), p_([a([href("http://functorial.com/")])([text("Phil Freeman")]), text(", for his presentation and example of finally tagless encodings in PureScript which provided the spark for this library's architecture.")]), p_([text("Ian Ross, for his solution to the polymorphic attribute architecture with typeclasses, so neat.")]), p_([text("The PureScript Core Team members, past, present and future and the wider PureScript community for building this incredibly nice language and ecosystem. I'd particularly like to single out Mike Solomon, Jordan Martinez, Thomas Honeyman, Fabrizio Ferrai who listened to me drone on about this on conference calls.")])]), section([classes(["acknowledgements-section"])])([h2_([text("About This Project")]), p_([text("PS<$>D3 is an experimental exploration of what data visualization APIs might look like in a strongly-typed functional programming language. It aims to preserve D3's flexibility while adding type safety and composability.")]), p_([text("This project is open source and available on GitHub. Contributions, feedback, and suggestions are always welcome.")])])]), render8]);
  };
  var handleAction6 = function(v) {
    return pure28(unit);
  };
  var component6 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return unit;
      },
      render: render9,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction6,
        initialize: new Just(Initialize7.value)
      })
    });
  })();

  // output/PSD3.Home/index.js
  var pure29 = /* @__PURE__ */ pure(applicativeHalogenM);
  var Initialize8 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var renderTutorialLink = function(title4) {
    return function(description) {
      return function(path2) {
        return a([href("#" + path2), classes(["home-tutorial-card"])])([h3([classes(["home-tutorial-card-title"])])([text(title4)]), p([classes(["home-tutorial-card-description"])])([text(description)])]);
      };
    };
  };
  var handleAction7 = function(v) {
    return pure29(unit);
  };
  var getBookmarkImage = function(v) {
    if (v === "Getting Started") {
      return "assets/bookmark-images/getting-started.jpeg";
    }
    ;
    if (v === "How-to Guides") {
      return "assets/bookmark-images/howto.jpeg";
    }
    ;
    if (v === "API Reference") {
      return "assets/bookmark-images/reference.jpeg";
    }
    ;
    if (v === "Understanding") {
      return "assets/bookmark-images/understanding.jpeg";
    }
    ;
    return "assets/bookmark-images/howto.jpeg";
  };
  var renderDocBox = function(title4) {
    return function(description) {
      return function(path2) {
        return a([href("#" + path2), classes(["home-doc-box"])])([div2([classes(["home-doc-box__image-container"])])([img([src2(getBookmarkImage(title4)), alt4(""), classes(["home-doc-box__image"])])]), div2([classes(["home-doc-box__content"])])([h3([classes(["home-doc-box-title"])])([text(title4)]), p([classes(["home-doc-box-description"])])([text(description)])])]);
      };
    };
  };
  var renderDocBoxExternal = function(title4) {
    return function(description) {
      return function(url2) {
        return a([href(url2), classes(["home-doc-box"])])([div2([classes(["home-doc-box__image-container"])])([img([src2(getBookmarkImage(title4)), alt4(""), classes(["home-doc-box__image"])])]), div2([classes(["home-doc-box__content"])])([h3([classes(["home-doc-box-title"])])([text(title4)]), p([classes(["home-doc-box-description"])])([text(description)])])]);
      };
    };
  };
  var render10 = function(v) {
    return div2([classes(["home-page"])])([header([classes(["home-header"])])([div2([classes(["home-header-content"])])([a([href("#hero"), classes(["home-logo-link"])])([img([src2("assets/psd3-logo-color.svg"), alt4("PSD3 Logo"), classes(["home-logo"])])]), nav([classes(["home-nav"])])([a([href("#docs"), classes(["home-nav-link"])])([text("Docs")]), a([href("#tutorials"), classes(["home-nav-link"])])([text("Tour")]), a([href("#examples"), classes(["home-nav-link"])])([text("Examples' code")]), a([href("#" + routeToPath(Wizard.value)), classes(["home-nav-link home-nav-link--cta"])])([text("Get Started")])])])]), section([id3("hero"), classes(["home-hero"])])([div2([classes(["home-hero-content"])])([h1([classes(["home-hero-title"])])([text("Type-safe, composable, maintainable, interactive data visualisation with PureScript and D3.js")]), div2([classes(["home-hero-image"])])([img([src2("assets/example-thumbnails/tree-api.png"), alt4("Tree API visualization examples"), classes(["home-hero-img"])]), p([classes(["home-hero-caption"])])([text("Learn how to build visualizations with the declarative "), a([href("#" + routeToPath(TreeAPI.value)), classes(["home-hero-link"])])([text("Tree API")])])])])]), section([id3("docs"), classes(["home-docs"])])([h2([classes(["home-section-title"])])([text("Documentation")]), div2([classes(["home-docs-grid"])])([renderDocBox("Getting Started")("Installation, setup, and your first visualization")(routeToPath(GettingStarted.value)), renderDocBox("How-to Guides")("Step-by-step instructions for specific visualizations")(routeToPath(HowtoIndex.value)), renderDocBoxExternal("API Reference")("Pursuit-style documentation of the library with type signatures")("api/index.html"), renderDocBox("Acknowledgements")("Credits and acknowledgements")(routeToPath(Acknowledgements.value))])]), section([id3("tutorials"), classes(["home-tutorials"])])([h2([classes(["home-section-title"])])([text("Take the Tour")]), p([classes(["home-section-description"])])([text("You can read through the following to progressively build up an understanding of the capabilities and concepts:")]), div2([classes(["home-tutorials-grid"])])([renderTutorialLink("Tree API Examples")("Learn the declarative Tree API for building visualizations")(routeToPath(TreeAPI.value)), renderTutorialLink("Animated Tree \u2194 Cluster")("Smooth transitions between layouts with proper data joins (flagship example)")(routeToPath(AnimatedTreeCluster.value)), renderTutorialLink("Les Mis\xE9rables GUP")("Force-directed graph with Tree API + dynamic layouts (grid, phylotaxis) + node filtering (GUP)")(routeToPath(LesMisGUPTree.value)), renderTutorialLink("Module Graph")("Visualize this codebase's own module dependencies - dogfooding the Tree API!")(routeToPath(ModuleGraph.value)), renderTutorialLink("Mermaid Tree Visualizer")("NEW: Visualize Tree API structure as Mermaid diagrams - see how trees are composed!")(routeToPath(MermaidTreeDemo.value))])]), render8]);
  };
  var component7 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return unit;
      },
      render: render10,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction7,
        initialize: new Just(Initialize8.value)
      })
    });
  })();

  // output/PSD3.Shared.DocsCardGrid/index.js
  var append10 = /* @__PURE__ */ append(semigroupArray);
  var map42 = /* @__PURE__ */ map(functorArray);
  var HowTo = /* @__PURE__ */ (function() {
    function HowTo2() {
    }
    ;
    HowTo2.value = new HowTo2();
    return HowTo2;
  })();
  var BestPractice = /* @__PURE__ */ (function() {
    function BestPractice2() {
    }
    ;
    BestPractice2.value = new BestPractice2();
    return BestPractice2;
  })();
  var Concept = /* @__PURE__ */ (function() {
    function Concept2() {
    }
    ;
    Concept2.value = new Concept2();
    return Concept2;
  })();
  var Pattern = /* @__PURE__ */ (function() {
    function Pattern2() {
    }
    ;
    Pattern2.value = new Pattern2();
    return Pattern2;
  })();
  var renderCard = function(v) {
    var typeLabel = (function() {
      if (v.cardType instanceof HowTo) {
        return "How-to";
      }
      ;
      if (v.cardType instanceof BestPractice) {
        return "Best Practice";
      }
      ;
      if (v.cardType instanceof Concept) {
        return "Concept";
      }
      ;
      if (v.cardType instanceof Pattern) {
        return "Pattern";
      }
      ;
      throw new Error("Failed pattern match at PSD3.Shared.DocsCardGrid (line 41, column 17 - line 45, column 27): " + [v.cardType.constructor.name]);
    })();
    var typeClass = (function() {
      if (v.cardType instanceof HowTo) {
        return "docs-card--howto";
      }
      ;
      if (v.cardType instanceof BestPractice) {
        return "docs-card--best-practice";
      }
      ;
      if (v.cardType instanceof Concept) {
        return "docs-card--concept";
      }
      ;
      if (v.cardType instanceof Pattern) {
        return "docs-card--pattern";
      }
      ;
      throw new Error("Failed pattern match at PSD3.Shared.DocsCardGrid (line 34, column 17 - line 38, column 51): " + [v.cardType.constructor.name]);
    })();
    var baseClasses = ["docs-card"];
    var allClasses = append10(baseClasses)([typeClass]);
    var element3 = (function() {
      if (v.route instanceof Just) {
        return a([href("#" + routeToPath(v.route.value0)), classes(allClasses)]);
      }
      ;
      if (v.route instanceof Nothing) {
        return div2([classes(append10(allClasses)(["docs-card--coming-soon"]))]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Shared.DocsCardGrid (line 47, column 15 - line 55, column 85): " + [v.route.constructor.name]);
    })();
    return element3([div2([classes(["docs-card-header"])])([span2([classes(["docs-card-type"])])([text(typeLabel)]), (function() {
      if (v.route instanceof Nothing) {
        return span2([classes(["docs-card-status"])])([text("Coming Soon")]);
      }
      ;
      if (v.route instanceof Just) {
        return text("");
      }
      ;
      throw new Error("Failed pattern match at PSD3.Shared.DocsCardGrid (line 63, column 13 - line 68, column 35): " + [v.route.constructor.name]);
    })()]), h3([classes(["docs-card-title"])])([text(v.title)]), p([classes(["docs-card-description"])])([text(v.description)])]);
  };
  var renderDocsGrid = function(cards) {
    return div2([classes(["docs-grid"])])(map42(renderCard)(cards));
  };

  // output/PSD3.Shared.DocsHeader/index.js
  var eq5 = /* @__PURE__ */ eq(eqSection);
  var sectionTitle = function(v) {
    if (v instanceof UnderstandingSection) {
      return "Understanding";
    }
    ;
    if (v instanceof TutorialSection) {
      return "Getting Started";
    }
    ;
    if (v instanceof HowToSection) {
      return "How-To Guides";
    }
    ;
    if (v instanceof APISection) {
      return "API Reference";
    }
    ;
    throw new Error("Failed pattern match at PSD3.Shared.DocsHeader (line 99, column 16 - line 103, column 32): " + [v.constructor.name]);
  };
  var sectionDefaultRoute = function(v) {
    if (v instanceof UnderstandingSection) {
      return Home.value;
    }
    ;
    if (v instanceof TutorialSection) {
      return GettingStarted.value;
    }
    ;
    if (v instanceof HowToSection) {
      return HowtoIndex.value;
    }
    ;
    if (v instanceof APISection) {
      return Reference.value;
    }
    ;
    throw new Error("Failed pattern match at PSD3.Shared.DocsHeader (line 91, column 23 - line 95, column 26): " + [v.constructor.name]);
  };
  var renderQuadrant = function(targetSection) {
    return function(currentSection) {
      return a([href((function() {
        var $8 = eq5(targetSection)(APISection.value);
        if ($8) {
          return "api/index.html";
        }
        ;
        return "#" + routeToPath(sectionDefaultRoute(targetSection));
      })()), classes(["docs-header-quadrant-box", (function() {
        if (currentSection instanceof Just && eq5(currentSection.value0)(targetSection)) {
          return "docs-header-quadrant-box--active";
        }
        ;
        return "docs-header-quadrant-box--inactive";
      })()]), title(sectionTitle(targetSection))])([]);
    };
  };
  var render11 = function(v) {
    return header([classes(["docs-header"])])([div2([classes(["docs-header-content"])])([a([href("#" + routeToPath(Home.value)), classes(["docs-header-logo-link"])])([img([src2("assets/psd3-logo-color.svg"), alt4("PSD3 Logo"), classes(["docs-header-logo"])])]), div2([classes(["docs-header-middle"])])([span2([classes(["docs-header-label"])])([text("Docs")]), div2([classes(["docs-header-quadrant"])])([renderQuadrant(TutorialSection.value)(v.currentSection), renderQuadrant(HowToSection.value)(v.currentSection), renderQuadrant(APISection.value)(v.currentSection), renderQuadrant(UnderstandingSection.value)(v.currentSection)])]), nav([classes(["docs-header-nav"])])([a([href("#" + routeToPath(Home.value)), classes(["docs-header-nav-link"])])([text("\u2190 Back to Home")])])])]);
  };
  var component8 = /* @__PURE__ */ mkComponent({
    initialState: /* @__PURE__ */ identity(categoryFn),
    render: render11,
    "eval": /* @__PURE__ */ mkEval(defaultEval)
  });

  // output/PSD3.HowTo.HowtoIndex/index.js
  var pure30 = /* @__PURE__ */ pure(applicativeHalogenM);
  var slot_2 = /* @__PURE__ */ slot_()({
    reflectSymbol: function() {
      return "docsHeader";
    }
  })(ordUnit);
  var Initialize9 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var handleAction8 = function(v) {
    return pure30(unit);
  };
  var _docsHeader = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var render12 = function(v) {
    return div2([classes(["docs-page"])])([slot_2(_docsHeader)(unit)(component8)({
      currentSection: new Just(HowToSection.value)
    }), section([classes(["docs-hero"])])([div2([classes(["docs-hero-content"])])([h1([classes(["docs-hero-title"])])([text("How-to Guides")]), p([classes(["docs-hero-description"])])([text("Practical guides for accomplishing specific tasks with PureScript D3. Learn how to integrate with Halogen or React, add interactivity, work with color, and follow best practices for type-safe visualization development.")])])]), section([classes(["docs-section"])])([h2([classes(["docs-section-title"])])([text("How-to Guides")]), p([classes(["docs-section-description"])])([text("Step-by-step instructions for specific tasks")]), renderDocsGrid([{
      title: "Getting Data on Screen",
      description: "Learn the fundamentals of binding data to DOM elements and creating your first visualization",
      route: Nothing.value,
      cardType: HowTo.value
    }, {
      title: "Structuring a Halogen App",
      description: "Best practices for integrating PS<$>D3 with Halogen components and managing visualization state",
      route: Nothing.value,
      cardType: HowTo.value
    }, {
      title: "Structuring a React App",
      description: "How to use PS<$>D3 visualizations within React applications using FFI",
      route: Nothing.value,
      cardType: HowTo.value
    }, {
      title: "Adding Drag and Zoom",
      description: "Implement interactive pan and zoom behavior for exploring large datasets",
      route: Nothing.value,
      cardType: HowTo.value
    }, {
      title: "Working with Color",
      description: "Color scales, palettes, and accessibility considerations for effective visualizations",
      route: Nothing.value,
      cardType: HowTo.value
    }])]), section([classes(["docs-section"])])([h2([classes(["docs-section-title"])])([text("Best Practices")]), p([classes(["docs-section-description"])])([text("Guidelines for writing maintainable, type-safe visualization code")]), renderDocsGrid([{
      title: "Separating Safe from Unsafe Code",
      description: "Architectural patterns for isolating FFI and maintaining type safety throughout your codebase",
      route: Nothing.value,
      cardType: BestPractice.value
    }])])]);
  };
  var component9 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return unit;
      },
      render: render12,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction8,
        initialize: new Just(Initialize9.value)
      })
    });
  })();

  // output/PSD3.Reference.ModuleRegistry/index.js
  var moduleCategories = [{
    title: "Core API",
    modules: [{
      name: "PSD3.Types",
      path: "PSD3/Types.purs",
      description: "Common type definitions used throughout PSD3"
    }, {
      name: "PSD3.Attributes",
      path: "PSD3/Attributes.purs",
      description: "SVG and HTML attribute combinators"
    }]
  }, {
    title: "Capabilities",
    modules: [{
      name: "PSD3.Capabilities.Selection",
      path: "PSD3/Capabilities/Selection.purs",
      description: "Core selection and element manipulation operations"
    }, {
      name: "PSD3.Capabilities.Simulation",
      path: "PSD3/Capabilities/Simulation.purs",
      description: "Force simulation capabilities"
    }, {
      name: "PSD3.Capabilities.Sankey",
      path: "PSD3/Capabilities/Sankey.purs",
      description: "Sankey diagram layout capabilities"
    }]
  }, {
    title: "Interpreters",
    modules: [{
      name: "PSD3.Interpreter.D3",
      path: "PSD3/Interpreter/D3.purs",
      description: "D3.js interpreter - runs visualizations in the browser"
    }, {
      name: "PSD3.Interpreter.String",
      path: "PSD3/Interpreter/String.purs",
      description: "String interpreter - generates code as text"
    }, {
      name: "PSD3.Interpreter.MetaTree",
      path: "PSD3/Interpreter/MetaTree.purs",
      description: "MetaTree interpreter - produces AST representation"
    }]
  }, {
    title: "Data Structures",
    modules: [{
      name: "PSD3.Data.Tree",
      path: "PSD3/Data/Tree.purs",
      description: "Tree data structure for hierarchical layouts"
    }, {
      name: "PSD3.Data.Node",
      path: "PSD3/Data/Node.purs",
      description: "Node types for tree structures"
    }, {
      name: "PSD3.Data.Utility",
      path: "PSD3/Data/Utility.purs",
      description: "Utility functions for data manipulation"
    }]
  }, {
    title: "Internal - Selection",
    modules: [{
      name: "PSD3.Internal.Selection.Types",
      path: "PSD3/Internal/Selection/Types.purs",
      description: "Selection type definitions"
    }, {
      name: "PSD3.Internal.Selection.Functions",
      path: "PSD3/Internal/Selection/Functions.purs",
      description: "Selection implementation functions"
    }]
  }, {
    title: "Internal - Simulation",
    modules: [{
      name: "PSD3.Internal.Simulation.Types",
      path: "PSD3/Internal/Simulation/Types.purs",
      description: "Simulation type definitions"
    }, {
      name: "PSD3.Internal.Simulation.Functions",
      path: "PSD3/Internal/Simulation/Functions.purs",
      description: "Simulation implementation functions"
    }, {
      name: "PSD3.Internal.Simulation.Forces",
      path: "PSD3/Internal/Simulation/Forces.purs",
      description: "Force definitions for simulations"
    }, {
      name: "PSD3.Internal.Simulation.Config",
      path: "PSD3/Internal/Simulation/Config.purs",
      description: "Simulation configuration"
    }]
  }, {
    title: "Internal - Other",
    modules: [{
      name: "PSD3.Internal.Types",
      path: "PSD3/Internal/Types.purs",
      description: "Internal type definitions"
    }, {
      name: "PSD3.Internal.FFI",
      path: "PSD3/Internal/FFI.purs",
      description: "Foreign function interface to D3.js"
    }, {
      name: "PSD3.Internal.Attributes.Instances",
      path: "PSD3/Internal/Attributes/Instances.purs",
      description: "Type class instances for attributes"
    }, {
      name: "PSD3.Internal.Attributes.Sugar",
      path: "PSD3/Internal/Attributes/Sugar.purs",
      description: "Syntactic sugar for attributes"
    }, {
      name: "PSD3.Internal.Axes",
      path: "PSD3/Internal/Axes.purs",
      description: "Axis generation"
    }, {
      name: "PSD3.Internal.Hierarchical",
      path: "PSD3/Internal/Hierarchical.purs",
      description: "Hierarchical layout algorithms"
    }, {
      name: "PSD3.Internal.Generators.Line",
      path: "PSD3/Internal/Generators/Line.purs",
      description: "Line and area generators"
    }, {
      name: "PSD3.Internal.Scales.Scales",
      path: "PSD3/Internal/Scales/Scales.purs",
      description: "Scale functions"
    }, {
      name: "PSD3.Internal.Scales.Linear",
      path: "PSD3/Internal/Scales/Linear.purs",
      description: "Linear scale implementation"
    }, {
      name: "PSD3.Internal.Sankey.Types",
      path: "PSD3/Internal/Sankey/Types.purs",
      description: "Sankey diagram types"
    }, {
      name: "PSD3.Internal.Sankey.Functions",
      path: "PSD3/Internal/Sankey/Functions.purs",
      description: "Sankey diagram functions"
    }, {
      name: "PSD3.Internal.Utility",
      path: "PSD3/Internal/Utility.purs",
      description: "Internal utility functions"
    }, {
      name: "PSD3.Internal.Zoom",
      path: "PSD3/Internal/Zoom.purs",
      description: "Zoom and pan behavior"
    }]
  }];

  // output/PSD3.PrismJS/foreign.js
  function highlightAll() {
    if (window.Prism) {
      window.Prism.highlightAll();
    }
  }

  // output/PSD3.Reference.SourceLoader/index.js
  var bind31 = /* @__PURE__ */ bind(bindAff);
  var pure31 = /* @__PURE__ */ pure(applicativeAff);
  var loadSourceFile = function(relativePath) {
    var url2 = "sources/" + relativePath;
    return bind31(get3(string)(url2))(function(result) {
      return pure31((function() {
        if (result instanceof Left) {
          return new Left("Failed to load " + (relativePath + (": " + printError(result.value0))));
        }
        ;
        if (result instanceof Right) {
          return new Right(result.value0.body);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.SourceLoader (line 16, column 8 - line 20, column 26): " + [result.constructor.name]);
      })());
    });
  };

  // output/PSD3.Reference.Modules.Attributes/index.js
  var bind32 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff2 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_10 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard28 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect21 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize10 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render13 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Attributes")]), p([classes(["module-page__description"])])([text("SVG and HTML attribute combinators")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Attributes (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Attributes (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction9 = function(v) {
    if (v instanceof Initialize10) {
      return bind32(liftAff2(loadSourceFile("PSD3/Attributes.purs")))(function(result) {
        return handleAction9(new SourceLoaded(result));
      });
    }
    ;
    if (v instanceof SourceLoaded) {
      if (v.value0 instanceof Left) {
        return modify_10(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard28(modify_10(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect21(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Attributes (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Attributes (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component10 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render13,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction9,
        initialize: new Just(Initialize10.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Capabilities.Sankey/index.js
  var bind33 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff3 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_11 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard29 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect22 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize11 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded2 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render14 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Capabilities.Sankey")]), p([classes(["module-page__description"])])([text("Sankey diagram layout capabilities")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Sankey (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Sankey (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction10 = function(v) {
    if (v instanceof Initialize11) {
      return bind33(liftAff3(loadSourceFile("PSD3/Capabilities/Sankey.purs")))(function(result) {
        return handleAction10(new SourceLoaded2(result));
      });
    }
    ;
    if (v instanceof SourceLoaded2) {
      if (v.value0 instanceof Left) {
        return modify_11(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard29(modify_11(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect22(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Sankey (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Sankey (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component11 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render14,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction10,
        initialize: new Just(Initialize11.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Capabilities.Selection/index.js
  var bind34 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff4 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_12 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard30 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect23 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize12 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded3 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render15 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Capabilities.Selection")]), p([classes(["module-page__description"])])([text("Core selection and element manipulation operations")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Selection (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Selection (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction11 = function(v) {
    if (v instanceof Initialize12) {
      return bind34(liftAff4(loadSourceFile("PSD3/Capabilities/Selection.purs")))(function(result) {
        return handleAction11(new SourceLoaded3(result));
      });
    }
    ;
    if (v instanceof SourceLoaded3) {
      if (v.value0 instanceof Left) {
        return modify_12(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard30(modify_12(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect23(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Selection (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Selection (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component12 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render15,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction11,
        initialize: new Just(Initialize12.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Capabilities.Simulation/index.js
  var bind35 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff5 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_13 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard31 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect24 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize13 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded4 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render16 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Capabilities.Simulation")]), p([classes(["module-page__description"])])([text("Force simulation capabilities")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Simulation (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Simulation (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction12 = function(v) {
    if (v instanceof Initialize13) {
      return bind35(liftAff5(loadSourceFile("PSD3/Capabilities/Simulation.purs")))(function(result) {
        return handleAction12(new SourceLoaded4(result));
      });
    }
    ;
    if (v instanceof SourceLoaded4) {
      if (v.value0 instanceof Left) {
        return modify_13(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard31(modify_13(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect24(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Simulation (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Capabilities.Simulation (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component13 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render16,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction12,
        initialize: new Just(Initialize13.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Data.Node/index.js
  var bind36 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff6 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_14 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard32 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect25 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize14 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded5 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render17 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Data.Node")]), p([classes(["module-page__description"])])([text("Node types for tree structures")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Node (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Node (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction13 = function(v) {
    if (v instanceof Initialize14) {
      return bind36(liftAff6(loadSourceFile("PSD3/Data/Node.purs")))(function(result) {
        return handleAction13(new SourceLoaded5(result));
      });
    }
    ;
    if (v instanceof SourceLoaded5) {
      if (v.value0 instanceof Left) {
        return modify_14(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard32(modify_14(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect25(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Node (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Node (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component14 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render17,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction13,
        initialize: new Just(Initialize14.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Data.Tree/index.js
  var bind37 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff7 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_15 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard33 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect26 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize15 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded6 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render18 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Data.Tree")]), p([classes(["module-page__description"])])([text("Tree data structure for hierarchical layouts")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Tree (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Tree (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction14 = function(v) {
    if (v instanceof Initialize15) {
      return bind37(liftAff7(loadSourceFile("PSD3/Data/Tree.purs")))(function(result) {
        return handleAction14(new SourceLoaded6(result));
      });
    }
    ;
    if (v instanceof SourceLoaded6) {
      if (v.value0 instanceof Left) {
        return modify_15(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard33(modify_15(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect26(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Tree (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Tree (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component15 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render18,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction14,
        initialize: new Just(Initialize15.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Data.Utility/index.js
  var bind38 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff8 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_16 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard34 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect27 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize16 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded7 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render19 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Data.Utility")]), p([classes(["module-page__description"])])([text("Utility functions for data manipulation")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Utility (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Utility (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction15 = function(v) {
    if (v instanceof Initialize16) {
      return bind38(liftAff8(loadSourceFile("PSD3/Data/Utility.purs")))(function(result) {
        return handleAction15(new SourceLoaded7(result));
      });
    }
    ;
    if (v instanceof SourceLoaded7) {
      if (v.value0 instanceof Left) {
        return modify_16(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard34(modify_16(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect27(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Utility (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Data.Utility (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component16 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render19,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction15,
        initialize: new Just(Initialize16.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Attributes.Instances/index.js
  var bind39 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff9 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_17 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard35 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect28 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize17 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded8 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render20 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Attributes.Instances")]), p([classes(["module-page__description"])])([text("Type class instances for attributes")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Instances (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Instances (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction16 = function(v) {
    if (v instanceof Initialize17) {
      return bind39(liftAff9(loadSourceFile("PSD3/Internal/Attributes/Instances.purs")))(function(result) {
        return handleAction16(new SourceLoaded8(result));
      });
    }
    ;
    if (v instanceof SourceLoaded8) {
      if (v.value0 instanceof Left) {
        return modify_17(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard35(modify_17(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect28(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Instances (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Instances (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component17 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render20,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction16,
        initialize: new Just(Initialize17.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Attributes.Sugar/index.js
  var bind40 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff10 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_18 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard36 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect29 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize18 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded9 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render21 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Attributes.Sugar")]), p([classes(["module-page__description"])])([text("Syntactic sugar for attributes")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Sugar (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Sugar (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction17 = function(v) {
    if (v instanceof Initialize18) {
      return bind40(liftAff10(loadSourceFile("PSD3/Internal/Attributes/Sugar.purs")))(function(result) {
        return handleAction17(new SourceLoaded9(result));
      });
    }
    ;
    if (v instanceof SourceLoaded9) {
      if (v.value0 instanceof Left) {
        return modify_18(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard36(modify_18(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect29(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Sugar (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Attributes.Sugar (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component18 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render21,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction17,
        initialize: new Just(Initialize18.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Axes/index.js
  var bind41 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff11 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_19 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard37 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect30 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize19 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded10 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render22 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Axes")]), p([classes(["module-page__description"])])([text("Axis generation")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Axes (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Axes (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction18 = function(v) {
    if (v instanceof Initialize19) {
      return bind41(liftAff11(loadSourceFile("PSD3/Internal/Axes.purs")))(function(result) {
        return handleAction18(new SourceLoaded10(result));
      });
    }
    ;
    if (v instanceof SourceLoaded10) {
      if (v.value0 instanceof Left) {
        return modify_19(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard37(modify_19(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect30(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Axes (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Axes (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component19 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render22,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction18,
        initialize: new Just(Initialize19.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.FFI/index.js
  var bind42 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff12 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_20 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard38 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect31 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize20 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded11 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render23 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.FFI")]), p([classes(["module-page__description"])])([text("Foreign function interface to D3.js")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.FFI (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.FFI (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction19 = function(v) {
    if (v instanceof Initialize20) {
      return bind42(liftAff12(loadSourceFile("PSD3/Internal/FFI.purs")))(function(result) {
        return handleAction19(new SourceLoaded11(result));
      });
    }
    ;
    if (v instanceof SourceLoaded11) {
      if (v.value0 instanceof Left) {
        return modify_20(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard38(modify_20(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect31(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.FFI (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.FFI (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component20 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render23,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction19,
        initialize: new Just(Initialize20.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Generators.Line/index.js
  var bind43 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff13 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_21 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard39 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect32 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize21 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded12 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render24 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Generators.Line")]), p([classes(["module-page__description"])])([text("Line and area generators")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Generators.Line (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Generators.Line (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction20 = function(v) {
    if (v instanceof Initialize21) {
      return bind43(liftAff13(loadSourceFile("PSD3/Internal/Generators/Line.purs")))(function(result) {
        return handleAction20(new SourceLoaded12(result));
      });
    }
    ;
    if (v instanceof SourceLoaded12) {
      if (v.value0 instanceof Left) {
        return modify_21(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard39(modify_21(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect32(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Generators.Line (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Generators.Line (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component21 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render24,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction20,
        initialize: new Just(Initialize21.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Hierarchical/index.js
  var bind44 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff14 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_22 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard40 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect33 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize22 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded13 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render25 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Hierarchical")]), p([classes(["module-page__description"])])([text("Hierarchical layout algorithms")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Hierarchical (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Hierarchical (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction21 = function(v) {
    if (v instanceof Initialize22) {
      return bind44(liftAff14(loadSourceFile("PSD3/Internal/Hierarchical.purs")))(function(result) {
        return handleAction21(new SourceLoaded13(result));
      });
    }
    ;
    if (v instanceof SourceLoaded13) {
      if (v.value0 instanceof Left) {
        return modify_22(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard40(modify_22(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect33(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Hierarchical (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Hierarchical (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component22 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render25,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction21,
        initialize: new Just(Initialize22.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Sankey.Functions/index.js
  var bind45 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff15 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_23 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard41 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect34 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize23 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded14 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render26 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Sankey.Functions")]), p([classes(["module-page__description"])])([text("Sankey diagram functions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Functions (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Functions (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction22 = function(v) {
    if (v instanceof Initialize23) {
      return bind45(liftAff15(loadSourceFile("PSD3/Internal/Sankey/Functions.purs")))(function(result) {
        return handleAction22(new SourceLoaded14(result));
      });
    }
    ;
    if (v instanceof SourceLoaded14) {
      if (v.value0 instanceof Left) {
        return modify_23(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard41(modify_23(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect34(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Functions (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Functions (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component23 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render26,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction22,
        initialize: new Just(Initialize23.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Sankey.Types/index.js
  var bind46 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff16 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_24 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard42 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect35 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize24 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded15 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render27 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Sankey.Types")]), p([classes(["module-page__description"])])([text("Sankey diagram types")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Types (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Types (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction23 = function(v) {
    if (v instanceof Initialize24) {
      return bind46(liftAff16(loadSourceFile("PSD3/Internal/Sankey/Types.purs")))(function(result) {
        return handleAction23(new SourceLoaded15(result));
      });
    }
    ;
    if (v instanceof SourceLoaded15) {
      if (v.value0 instanceof Left) {
        return modify_24(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard42(modify_24(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect35(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Types (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Sankey.Types (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component24 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render27,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction23,
        initialize: new Just(Initialize24.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Scales.Linear/index.js
  var bind47 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff17 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_25 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard43 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect36 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize25 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded16 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render28 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Scales.Linear")]), p([classes(["module-page__description"])])([text("Linear scale implementation")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Linear (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Linear (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction24 = function(v) {
    if (v instanceof Initialize25) {
      return bind47(liftAff17(loadSourceFile("PSD3/Internal/Scales/Linear.purs")))(function(result) {
        return handleAction24(new SourceLoaded16(result));
      });
    }
    ;
    if (v instanceof SourceLoaded16) {
      if (v.value0 instanceof Left) {
        return modify_25(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard43(modify_25(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect36(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Linear (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Linear (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component25 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render28,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction24,
        initialize: new Just(Initialize25.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Scales.Scales/index.js
  var bind48 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff18 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_26 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard44 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect37 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize26 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded17 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render29 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Scales.Scales")]), p([classes(["module-page__description"])])([text("Scale functions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Scales (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Scales (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction25 = function(v) {
    if (v instanceof Initialize26) {
      return bind48(liftAff18(loadSourceFile("PSD3/Internal/Scales/Scales.purs")))(function(result) {
        return handleAction25(new SourceLoaded17(result));
      });
    }
    ;
    if (v instanceof SourceLoaded17) {
      if (v.value0 instanceof Left) {
        return modify_26(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard44(modify_26(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect37(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Scales (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Scales.Scales (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component26 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render29,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction25,
        initialize: new Just(Initialize26.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Selection.Functions/index.js
  var bind49 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff19 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_27 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard45 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect38 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize27 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded18 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render30 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Selection.Functions")]), p([classes(["module-page__description"])])([text("Selection implementation functions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Functions (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Functions (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction26 = function(v) {
    if (v instanceof Initialize27) {
      return bind49(liftAff19(loadSourceFile("PSD3/Internal/Selection/Functions.purs")))(function(result) {
        return handleAction26(new SourceLoaded18(result));
      });
    }
    ;
    if (v instanceof SourceLoaded18) {
      if (v.value0 instanceof Left) {
        return modify_27(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard45(modify_27(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect38(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Functions (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Functions (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component27 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render30,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction26,
        initialize: new Just(Initialize27.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Selection.Types/index.js
  var bind50 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff20 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_28 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard46 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect39 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize28 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded19 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render31 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Selection.Types")]), p([classes(["module-page__description"])])([text("Selection type definitions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Types (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Types (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction27 = function(v) {
    if (v instanceof Initialize28) {
      return bind50(liftAff20(loadSourceFile("PSD3/Internal/Selection/Types.purs")))(function(result) {
        return handleAction27(new SourceLoaded19(result));
      });
    }
    ;
    if (v instanceof SourceLoaded19) {
      if (v.value0 instanceof Left) {
        return modify_28(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard46(modify_28(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect39(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Types (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Selection.Types (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component28 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render31,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction27,
        initialize: new Just(Initialize28.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Simulation.Config/index.js
  var bind51 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff21 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_29 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard47 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect40 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize29 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded20 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render32 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Simulation.Config")]), p([classes(["module-page__description"])])([text("Simulation configuration")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Config (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Config (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction28 = function(v) {
    if (v instanceof Initialize29) {
      return bind51(liftAff21(loadSourceFile("PSD3/Internal/Simulation/Config.purs")))(function(result) {
        return handleAction28(new SourceLoaded20(result));
      });
    }
    ;
    if (v instanceof SourceLoaded20) {
      if (v.value0 instanceof Left) {
        return modify_29(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard47(modify_29(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect40(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Config (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Config (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component29 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render32,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction28,
        initialize: new Just(Initialize29.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Simulation.Forces/index.js
  var bind52 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff22 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_30 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard48 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect41 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize30 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded21 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render33 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Simulation.Forces")]), p([classes(["module-page__description"])])([text("Force definitions for simulations")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Forces (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Forces (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction29 = function(v) {
    if (v instanceof Initialize30) {
      return bind52(liftAff22(loadSourceFile("PSD3/Internal/Simulation/Forces.purs")))(function(result) {
        return handleAction29(new SourceLoaded21(result));
      });
    }
    ;
    if (v instanceof SourceLoaded21) {
      if (v.value0 instanceof Left) {
        return modify_30(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard48(modify_30(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect41(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Forces (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Forces (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component30 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render33,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction29,
        initialize: new Just(Initialize30.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Simulation.Functions/index.js
  var bind53 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff23 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_31 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard49 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect42 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize31 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded22 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render34 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Simulation.Functions")]), p([classes(["module-page__description"])])([text("Simulation implementation functions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Functions (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Functions (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction30 = function(v) {
    if (v instanceof Initialize31) {
      return bind53(liftAff23(loadSourceFile("PSD3/Internal/Simulation/Functions.purs")))(function(result) {
        return handleAction30(new SourceLoaded22(result));
      });
    }
    ;
    if (v instanceof SourceLoaded22) {
      if (v.value0 instanceof Left) {
        return modify_31(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard49(modify_31(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect42(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Functions (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Functions (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component31 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render34,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction30,
        initialize: new Just(Initialize31.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Simulation.Types/index.js
  var bind54 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff24 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_32 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard50 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect43 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize32 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded23 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render35 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Simulation.Types")]), p([classes(["module-page__description"])])([text("Simulation type definitions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Types (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Types (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction31 = function(v) {
    if (v instanceof Initialize32) {
      return bind54(liftAff24(loadSourceFile("PSD3/Internal/Simulation/Types.purs")))(function(result) {
        return handleAction31(new SourceLoaded23(result));
      });
    }
    ;
    if (v instanceof SourceLoaded23) {
      if (v.value0 instanceof Left) {
        return modify_32(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard50(modify_32(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect43(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Types (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Simulation.Types (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component32 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render35,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction31,
        initialize: new Just(Initialize32.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Types/index.js
  var bind55 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff25 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_33 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard51 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect44 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize33 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded24 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render36 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Types")]), p([classes(["module-page__description"])])([text("Internal type definitions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Types (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Types (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction32 = function(v) {
    if (v instanceof Initialize33) {
      return bind55(liftAff25(loadSourceFile("PSD3/Internal/Types.purs")))(function(result) {
        return handleAction32(new SourceLoaded24(result));
      });
    }
    ;
    if (v instanceof SourceLoaded24) {
      if (v.value0 instanceof Left) {
        return modify_33(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard51(modify_33(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect44(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Types (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Types (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component33 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render36,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction32,
        initialize: new Just(Initialize33.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Utility/index.js
  var bind56 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff26 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_34 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard52 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect45 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize34 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded25 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render37 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Utility")]), p([classes(["module-page__description"])])([text("Internal utility functions")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Utility (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Utility (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction33 = function(v) {
    if (v instanceof Initialize34) {
      return bind56(liftAff26(loadSourceFile("PSD3/Internal/Utility.purs")))(function(result) {
        return handleAction33(new SourceLoaded25(result));
      });
    }
    ;
    if (v instanceof SourceLoaded25) {
      if (v.value0 instanceof Left) {
        return modify_34(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard52(modify_34(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect45(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Utility (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Utility (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component34 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render37,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction33,
        initialize: new Just(Initialize34.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Internal.Zoom/index.js
  var bind57 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff27 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_35 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard53 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect46 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize35 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded26 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render38 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Internal.Zoom")]), p([classes(["module-page__description"])])([text("Zoom and pan behavior")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Zoom (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Zoom (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction34 = function(v) {
    if (v instanceof Initialize35) {
      return bind57(liftAff27(loadSourceFile("PSD3/Internal/Zoom.purs")))(function(result) {
        return handleAction34(new SourceLoaded26(result));
      });
    }
    ;
    if (v instanceof SourceLoaded26) {
      if (v.value0 instanceof Left) {
        return modify_35(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard53(modify_35(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect46(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Zoom (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Internal.Zoom (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component35 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render38,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction34,
        initialize: new Just(Initialize35.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Interpreter.D3/index.js
  var bind58 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff28 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_36 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard54 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect47 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize36 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded27 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render39 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Interpreter.D3")]), p([classes(["module-page__description"])])([text("D3.js interpreter - runs visualizations in the browser")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.D3 (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.D3 (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction35 = function(v) {
    if (v instanceof Initialize36) {
      return bind58(liftAff28(loadSourceFile("PSD3/Interpreter/D3.purs")))(function(result) {
        return handleAction35(new SourceLoaded27(result));
      });
    }
    ;
    if (v instanceof SourceLoaded27) {
      if (v.value0 instanceof Left) {
        return modify_36(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard54(modify_36(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect47(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.D3 (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.D3 (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component36 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render39,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction35,
        initialize: new Just(Initialize36.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Interpreter.MetaTree/index.js
  var bind59 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff29 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_37 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard55 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect48 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize37 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded28 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render40 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Interpreter.MetaTree")]), p([classes(["module-page__description"])])([text("MetaTree interpreter - produces AST representation")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.MetaTree (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.MetaTree (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction36 = function(v) {
    if (v instanceof Initialize37) {
      return bind59(liftAff29(loadSourceFile("PSD3/Interpreter/MetaTree.purs")))(function(result) {
        return handleAction36(new SourceLoaded28(result));
      });
    }
    ;
    if (v instanceof SourceLoaded28) {
      if (v.value0 instanceof Left) {
        return modify_37(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard55(modify_37(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect48(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.MetaTree (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.MetaTree (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component37 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render40,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction36,
        initialize: new Just(Initialize37.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Interpreter.String/index.js
  var bind60 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff30 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_38 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard56 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect49 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize38 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded29 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render41 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Interpreter.String")]), p([classes(["module-page__description"])])([text("String interpreter - generates code as text")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.String (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.String (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction37 = function(v) {
    if (v instanceof Initialize38) {
      return bind60(liftAff30(loadSourceFile("PSD3/Interpreter/String.purs")))(function(result) {
        return handleAction37(new SourceLoaded29(result));
      });
    }
    ;
    if (v instanceof SourceLoaded29) {
      if (v.value0 instanceof Left) {
        return modify_38(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard56(modify_38(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect49(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.String (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Interpreter.String (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component38 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render41,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction37,
        initialize: new Just(Initialize38.value)
      })
    });
  })();

  // output/PSD3.Reference.Modules.Types/index.js
  var bind61 = /* @__PURE__ */ bind(bindHalogenM);
  var liftAff31 = /* @__PURE__ */ liftAff(/* @__PURE__ */ monadAffHalogenM(monadAffAff));
  var modify_39 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var discard57 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var liftEffect50 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var Initialize39 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var SourceLoaded30 = /* @__PURE__ */ (function() {
    function SourceLoaded31(value0) {
      this.value0 = value0;
    }
    ;
    SourceLoaded31.create = function(value0) {
      return new SourceLoaded31(value0);
    };
    return SourceLoaded31;
  })();
  var render42 = function(state3) {
    return div2([classes(["module-page"])])([section([classes(["module-page__header"])])([h1([classes(["module-page__title"])])([text("PSD3.Types")]), p([classes(["module-page__description"])])([text("Common type definitions used throughout PSD3")])]), section([classes(["module-page__content"])])([]), section([classes(["module-page__source"])])([h2([classes(["module-page__source-title"])])([text("Source Code")]), (function() {
      if (state3.sourceCode instanceof Nothing) {
        if (state3.loading) {
          return div2([classes(["module-page__loading"])])([text("Loading source code...")]);
        }
        ;
        if (state3.error instanceof Just) {
          return div2([classes(["module-page__error"])])([text(state3.error.value0)]);
        }
        ;
        if (state3.error instanceof Nothing) {
          return div2([classes(["module-page__error"])])([text("Failed to load source code")]);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Reference.Modules.Types (line 77, column 22 - line 85, column 63): " + [state3.error.constructor.name]);
      }
      ;
      if (state3.sourceCode instanceof Just) {
        return div2([classes(["module-page__code"])])([pre([classes(["line-numbers"])])([code([classes(["language-haskell"])])([text(state3.sourceCode.value0)])])]);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Types (line 71, column 11 - line 95, column 18): " + [state3.sourceCode.constructor.name]);
    })()])]);
  };
  var handleAction38 = function(v) {
    if (v instanceof Initialize39) {
      return bind61(liftAff31(loadSourceFile("PSD3/Types.purs")))(function(result) {
        return handleAction38(new SourceLoaded30(result));
      });
    }
    ;
    if (v instanceof SourceLoaded30) {
      if (v.value0 instanceof Left) {
        return modify_39(function(v1) {
          var $20 = {};
          for (var $21 in v1) {
            if ({}.hasOwnProperty.call(v1, $21)) {
              $20[$21] = v1[$21];
            }
            ;
          }
          ;
          $20.loading = false;
          $20.error = new Just(v.value0.value0);
          return $20;
        });
      }
      ;
      if (v.value0 instanceof Right) {
        return discard57(modify_39(function(v1) {
          var $24 = {};
          for (var $25 in v1) {
            if ({}.hasOwnProperty.call(v1, $25)) {
              $24[$25] = v1[$25];
            }
            ;
          }
          ;
          $24.sourceCode = new Just(v.value0.value0);
          $24.loading = false;
          $24.error = Nothing.value;
          return $24;
        }))(function() {
          return liftEffect50(highlightAll);
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Reference.Modules.Types (line 107, column 5 - line 112, column 32): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Modules.Types (line 100, column 16 - line 112, column 32): " + [v.constructor.name]);
  };
  var component39 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          sourceCode: Nothing.value,
          loading: true,
          error: Nothing.value
        };
      },
      render: render42,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction38,
        initialize: new Just(Initialize39.value)
      })
    });
  })();

  // output/PSD3.Shared.SectionNav/index.js
  var eq6 = /* @__PURE__ */ eq(eqSection);
  var eq14 = /* @__PURE__ */ eq(eqRoute);
  var map43 = /* @__PURE__ */ map(functorArray);
  var sectionTitle2 = function(v) {
    if (v instanceof UnderstandingSection) {
      return "Understanding";
    }
    ;
    if (v instanceof TutorialSection) {
      return "Getting Started";
    }
    ;
    if (v instanceof HowToSection) {
      return "How-To Guides";
    }
    ;
    if (v instanceof APISection) {
      return "API Reference";
    }
    ;
    throw new Error("Failed pattern match at PSD3.Shared.SectionNav (line 115, column 16 - line 119, column 32): " + [v.constructor.name]);
  };
  var sectionDefaultRoute2 = function(v) {
    if (v instanceof UnderstandingSection) {
      return Home.value;
    }
    ;
    if (v instanceof TutorialSection) {
      return GettingStarted.value;
    }
    ;
    if (v instanceof HowToSection) {
      return HowtoIndex.value;
    }
    ;
    if (v instanceof APISection) {
      return Reference.value;
    }
    ;
    throw new Error("Failed pattern match at PSD3.Shared.SectionNav (line 107, column 23 - line 111, column 26): " + [v.constructor.name]);
  };
  var renderQuadrant2 = function(targetSection) {
    return function(currentSection) {
      return a([href("#" + routeToPath(sectionDefaultRoute2(targetSection))), classes(["section-nav__quadrant-box", (function() {
        var $11 = eq6(targetSection)(currentSection);
        if ($11) {
          return "section-nav__quadrant-box--active";
        }
        ;
        return "section-nav__quadrant-box--inactive";
      })()]), title(sectionTitle2(targetSection))])([]);
    };
  };
  var renderPageLink = function(currentRoute) {
    return function(v) {
      var $14 = eq14(v.route)(currentRoute);
      if ($14) {
        return span2([classes(["section-nav__page-link", "section-nav__page-link--active"])])([text(v.label)]);
      }
      ;
      return a([href("#" + routeToPath(v.route)), classes(["section-nav__page-link"])])([text(v.label), text(" \u2192")]);
    };
  };
  var renderModuleLink = function(currentRoute) {
    return function(moduleInfo) {
      var moduleRoute = new ReferenceModule(moduleInfo.name);
      var isActive = eq14(currentRoute)(moduleRoute);
      return li([classes(["section-nav__module-item"])])([(function() {
        if (isActive) {
          return span2([classes(["section-nav__module-link", "section-nav__module-link--active"]), title(moduleInfo.description)])([text(moduleInfo.name)]);
        }
        ;
        return a([href("#" + routeToPath(moduleRoute)), classes(["section-nav__module-link"]), title(moduleInfo.description)])([text(moduleInfo.name)]);
      })()]);
    };
  };
  var renderModuleCategory = function(currentRoute) {
    return function(category) {
      return div2([classes(["section-nav__module-category"])])([h4([classes(["section-nav__category-title"])])([text(category.title)]), ul([classes(["section-nav__module-list"])])(map43(renderModuleLink(currentRoute))(category.modules))]);
    };
  };
  var render43 = function(v) {
    return div2([classes(["section-nav"])])([div2([classes(["section-nav__quadrant"])])([renderQuadrant2(TutorialSection.value)(v.currentSection), renderQuadrant2(HowToSection.value)(v.currentSection), renderQuadrant2(APISection.value)(v.currentSection), renderQuadrant2(UnderstandingSection.value)(v.currentSection)]), h3([classes(["section-nav__title"])])([text(sectionTitle2(v.currentSection))]), (function() {
      if (v.moduleCategories instanceof Just) {
        return nav([classes(["section-nav__modules"])])(map43(renderModuleCategory(v.currentRoute))(v.moduleCategories.value0));
      }
      ;
      if (v.moduleCategories instanceof Nothing) {
        return nav([classes(["section-nav__pages"])])(map43(renderPageLink(v.currentRoute))(v.sectionPages));
      }
      ;
      throw new Error("Failed pattern match at PSD3.Shared.SectionNav (line 54, column 7 - line 64, column 61): " + [v.moduleCategories.constructor.name]);
    })()]);
  };
  var component40 = /* @__PURE__ */ mkComponent({
    initialState: /* @__PURE__ */ identity(categoryFn),
    render: render43,
    "eval": /* @__PURE__ */ mkEval(defaultEval)
  });

  // output/PSD3.Understanding.TOC/foreign.js
  (function() {
    document.addEventListener("click", function(event) {
      const link4 = event.target.closest("a[data-anchor-link]");
      if (link4) {
        event.preventDefault();
        const anchorId = link4.getAttribute("data-anchor-link");
        const element3 = document.getElementById(anchorId);
        if (element3) {
          element3.scrollIntoView({
            behavior: "smooth",
            block: "start"
          });
        } else {
          console.warn(`Anchor element with id "${anchorId}" not found`);
        }
      }
    });
  })();

  // output/PSD3.Understanding.TOC/index.js
  var show31 = /* @__PURE__ */ show(showInt);
  var append17 = /* @__PURE__ */ append(semigroupArray);
  var type_19 = /* @__PURE__ */ type_3(isPropButtonType);
  var map44 = /* @__PURE__ */ map(functorArray);
  var AnchorLink = /* @__PURE__ */ (function() {
    function AnchorLink2(value0) {
      this.value0 = value0;
    }
    ;
    AnchorLink2.create = function(value0) {
      return new AnchorLink2(value0);
    };
    return AnchorLink2;
  })();
  var RouteLink = /* @__PURE__ */ (function() {
    function RouteLink2(value0) {
      this.value0 = value0;
    }
    ;
    RouteLink2.create = function(value0) {
      return new RouteLink2(value0);
    };
    return RouteLink2;
  })();
  var renderTOCItem = function(item) {
    var routeLinkClass = (function() {
      if (item.target instanceof RouteLink) {
        return ["toc-nav__item--route-link"];
      }
      ;
      return [];
    })();
    var levelClass = (function() {
      if (item.level === 0) {
        return [];
      }
      ;
      return ["toc-nav__item--level-" + show31(item.level + 1 | 0)];
    })();
    var classes2 = append17(["toc-nav__item"])(append17(levelClass)(routeLinkClass));
    if (item.target instanceof AnchorLink) {
      return a([href("#" + item.target.value0), classes(classes2), attr2("data-anchor-link")(item.target.value0)])([text(item.label)]);
    }
    ;
    if (item.target instanceof RouteLink) {
      return a([href("#" + routeToPath(item.target.value0)), classes(classes2)])([text(item.label)]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Understanding.TOC (line 78, column 5 - line 93, column 33): " + [item.target.constructor.name]);
  };
  var renderTOC = function(config) {
    return div2([classes(["toc-panel"])])([img([src2(fromMaybe("bookmark.jpeg")(config.image)), alt4(""), classes(["toc-panel__bookmark-pin"])]), div2([classes(["toc-panel__main"])])([div2([classes(["floating-panel__header"])])([h3([classes(["floating-panel__title"])])([text(config.title)]), button([classes(["floating-panel__toggle"]), type_19(ButtonButton.value)])([text("\u2212")])]), div2([classes(["floating-panel__content", "toc-panel__content"])])([nav([classes(["toc-nav"])])(map44(renderTOCItem)(config.items))])])]);
  };

  // output/PSD3.Reference.Reference/index.js
  var map45 = /* @__PURE__ */ map(functorArray);
  var pure32 = /* @__PURE__ */ pure(applicativeHalogenM);
  var modify_40 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var slot2 = /* @__PURE__ */ slot()({
    reflectSymbol: function() {
      return "moduleComponent";
    }
  })(ordString);
  var slot_3 = /* @__PURE__ */ slot_()({
    reflectSymbol: function() {
      return "sectionNav";
    }
  })(ordUnit);
  var Initialize40 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var Receive2 = /* @__PURE__ */ (function() {
    function Receive3(value0) {
      this.value0 = value0;
    }
    ;
    Receive3.create = function(value0) {
      return new Receive3(value0);
    };
    return Receive3;
  })();
  var toSectionNavCategory = function(category) {
    return {
      title: category.title,
      modules: map45(function(m) {
        return {
          name: m.name,
          description: m.description
        };
      })(category.modules)
    };
  };
  var handleAction39 = function(v) {
    if (v instanceof Initialize40) {
      return pure32(unit);
    }
    ;
    if (v instanceof Receive2) {
      return modify_40(function(v1) {
        var $17 = {};
        for (var $18 in v1) {
          if ({}.hasOwnProperty.call(v1, $18)) {
            $17[$18] = v1[$18];
          }
          ;
        }
        ;
        $17.currentRoute = v.value0;
        return $17;
      });
    }
    ;
    throw new Error("Failed pattern match at PSD3.Reference.Reference (line 213, column 16 - line 217, column 41): " + [v.constructor.name]);
  };
  var _sectionNav = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _moduleComponent = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var renderModuleComponent = function(moduleName) {
    if (moduleName === "PSD3.Types") {
      return slot2(_moduleComponent)(moduleName)(component39)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Attributes") {
      return slot2(_moduleComponent)(moduleName)(component10)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Capabilities.Selection") {
      return slot2(_moduleComponent)(moduleName)(component12)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Capabilities.Simulation") {
      return slot2(_moduleComponent)(moduleName)(component13)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Capabilities.Sankey") {
      return slot2(_moduleComponent)(moduleName)(component11)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Interpreter.D3") {
      return slot2(_moduleComponent)(moduleName)(component36)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Interpreter.String") {
      return slot2(_moduleComponent)(moduleName)(component38)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Interpreter.MetaTree") {
      return slot2(_moduleComponent)(moduleName)(component37)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Data.Tree") {
      return slot2(_moduleComponent)(moduleName)(component15)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Data.Node") {
      return slot2(_moduleComponent)(moduleName)(component14)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Data.Utility") {
      return slot2(_moduleComponent)(moduleName)(component16)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Selection.Types") {
      return slot2(_moduleComponent)(moduleName)(component28)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Selection.Functions") {
      return slot2(_moduleComponent)(moduleName)(component27)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Simulation.Types") {
      return slot2(_moduleComponent)(moduleName)(component32)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Simulation.Functions") {
      return slot2(_moduleComponent)(moduleName)(component31)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Simulation.Forces") {
      return slot2(_moduleComponent)(moduleName)(component30)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Simulation.Config") {
      return slot2(_moduleComponent)(moduleName)(component29)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Types") {
      return slot2(_moduleComponent)(moduleName)(component33)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.FFI") {
      return slot2(_moduleComponent)(moduleName)(component20)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Attributes.Instances") {
      return slot2(_moduleComponent)(moduleName)(component17)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Attributes.Sugar") {
      return slot2(_moduleComponent)(moduleName)(component18)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Axes") {
      return slot2(_moduleComponent)(moduleName)(component19)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Hierarchical") {
      return slot2(_moduleComponent)(moduleName)(component22)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Generators.Line") {
      return slot2(_moduleComponent)(moduleName)(component21)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Scales.Scales") {
      return slot2(_moduleComponent)(moduleName)(component26)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Scales.Linear") {
      return slot2(_moduleComponent)(moduleName)(component25)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Sankey.Types") {
      return slot2(_moduleComponent)(moduleName)(component24)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Sankey.Functions") {
      return slot2(_moduleComponent)(moduleName)(component23)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Utility") {
      return slot2(_moduleComponent)(moduleName)(component34)(unit)(absurd);
    }
    ;
    if (moduleName === "PSD3.Internal.Zoom") {
      return slot2(_moduleComponent)(moduleName)(component35)(unit)(absurd);
    }
    ;
    return div2([classes(["reference-not-found"])])([h2_([text("Module Not Found")]), p_([text('The module "' + (moduleName + '" was not found.'))])]);
  };
  var render44 = function(state3) {
    return div2([classes(["reference-page"])])([renderTOC({
      title: "Page Contents",
      items: [],
      image: new Just("images/reference-bookmark-deepseavent.jpeg")
    }), slot_3(_sectionNav)(unit)(component40)({
      currentSection: APISection.value,
      currentRoute: state3.currentRoute,
      sectionPages: [],
      moduleCategories: new Just(map45(toSectionNavCategory)(moduleCategories))
    }), main([classes(["reference-main"])])([(function() {
      if (state3.currentRoute instanceof Reference) {
        return renderModuleComponent("PSD3.Capabilities.Selection");
      }
      ;
      if (state3.currentRoute instanceof ReferenceModule) {
        return renderModuleComponent(state3.currentRoute.value0);
      }
      ;
      return renderModuleComponent("PSD3.Capabilities.Selection");
    })()])]);
  };
  var component41 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(route) {
        return {
          currentRoute: route
        };
      },
      render: render44,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        finalize: defaultEval.finalize,
        handleAction: handleAction39,
        initialize: new Just(Initialize40.value),
        receive: function($24) {
          return Just.create(Receive2.create($24));
        }
      })
    });
  })();

  // output/PSD3.Shared.Mermaid/foreign.js
  var logMessage = (msg) => () => {
    console.log(msg);
  };
  var renderMermaidDiagrams_ = () => {
    console.log("FFI: renderMermaidDiagrams_ effect executing");
    requestAnimationFrame(() => {
      console.log("FFI: requestAnimationFrame callback executing");
      try {
        if (typeof window.mermaid === "undefined") {
          console.log("Mermaid not loaded yet, will retry...");
          setTimeout(() => renderMermaidDiagrams_(), 500);
          return;
        }
        console.log("Mermaid is loaded, looking for diagram elements...");
        const elements = document.querySelectorAll(".mermaid:not([data-rendered])");
        console.log(`Found ${elements.length} Mermaid diagram elements`);
        if (elements.length === 0) {
          console.log("No unrendered Mermaid diagrams found");
          return;
        }
        console.log(`Processing ${elements.length} Mermaid diagrams...`);
        elements.forEach(async (element3, index5) => {
          try {
            console.log(`Processing diagram ${index5 + 1}...`);
            element3.setAttribute("data-rendered", "true");
            let graphDefinition = element3.textContent || element3.innerText;
            console.log(`Diagram ${index5 + 1} text length: ${graphDefinition.length}`);
            const id5 = "mermaid-" + Math.random().toString(36).substr(2, 9);
            const { svg } = await window.mermaid.render(id5, graphDefinition);
            element3.innerHTML = svg;
            console.log(`\u2713 Rendered Mermaid diagram ${index5 + 1}: ${id5}`);
          } catch (error4) {
            console.error(`\u2717 Failed to render Mermaid diagram ${index5 + 1}:`, error4);
            element3.innerHTML = '<div style="color: red; padding: 1rem; border: 1px solid red;">Failed to render diagram: ' + error4.message + "</div>";
          }
        });
      } catch (error4) {
        console.error("Error in requestAnimationFrame callback:", error4);
      }
    });
    console.log("FFI: requestAnimationFrame scheduled");
  };

  // output/PSD3.Shared.Mermaid/index.js
  var discard58 = /* @__PURE__ */ discard(discardUnit);
  var append11 = /* @__PURE__ */ append(semigroupArray);
  var triggerMermaidRendering = function(dictMonadEffect) {
    var liftEffect53 = liftEffect(dictMonadEffect);
    return discard58(dictMonadEffect.Monad0().Bind1())(liftEffect53(logMessage("PureScript: triggerMermaidRendering called")))(function() {
      return liftEffect53(renderMermaidDiagrams_);
    });
  };
  var mermaidDiagram = function(code2) {
    return function(className2) {
      return div2([classes(append11(["mermaid-container"])((function() {
        if (className2 instanceof Nothing) {
          return [];
        }
        ;
        if (className2 instanceof Just) {
          return [className2.value0];
        }
        ;
        throw new Error("Failed pattern match at PSD3.Shared.Mermaid (line 22, column 9 - line 24, column 43): " + [className2.constructor.name]);
      })()))])([div2([classes(["mermaid"])])([text(code2)])]);
    };
  };

  // output/PSD3.Tutorial.GettingStarted/index.js
  var triggerMermaidRendering2 = /* @__PURE__ */ triggerMermaidRendering(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var slot_4 = /* @__PURE__ */ slot_()({
    reflectSymbol: function() {
      return "docsHeader";
    }
  })(ordUnit);
  var Initialize41 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var wizardWorkflowDiagram = "\nflowchart TD\n    Start([Start Wizard]) --> Choice{Choose Method}\n\n    Choice -->|Web| WebWizard[Web-based Wizard]\n    Choice -->|CLI| CLIWizard[CLI Wizard]\n\n    WebWizard --> WebOptions{Select Options}\n    WebOptions --> Dataset[Choose Dataset<br/>\u2022 Anscombe's Quartet<br/>\u2022 Scatter Plot<br/>\u2022 Sine Wave]\n    Dataset --> WebPreview[Preview Files]\n    WebPreview --> WebDownload[Download .zip]\n\n    CLIWizard --> CLIRun[Run: node scripts/init-psd3-viz.js]\n    CLIRun --> CLIOptions{Configure}\n    CLIOptions --> VizName[Enter Visualization Name]\n    VizName --> VizType[Select Type<br/>\u2022 Static<br/>\u2022 Interactive]\n    VizType --> DataChoice[Choose Data<br/>\u2022 Example<br/>\u2022 Custom JSON]\n    DataChoice --> CLIGenerate[Generate Files]\n\n    WebDownload --> Extract[Extract Files]\n    CLIGenerate --> Build[Build & Run]\n    Extract --> Build\n    Build --> Success([Visualization Ready!])\n\n    style Start fill:#f5e6d3,stroke:#8b7355,stroke-width:2px\n    style Success fill:#d4c4b0,stroke:#8b7355,stroke-width:2px\n    style WebWizard fill:#e8dcc6,stroke:#8b7355,stroke-width:2px\n    style CLIWizard fill:#e8dcc6,stroke:#8b7355,stroke-width:2px\n";
  var handleAction40 = function(v) {
    return triggerMermaidRendering2;
  };
  var _docsHeader2 = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var render45 = function(v) {
    return div2([classes(["docs-page"])])([slot_4(_docsHeader2)(unit)(component8)({
      currentSection: new Just(TutorialSection.value)
    }), section([classes(["docs-hero"])])([div2([classes(["docs-hero-content"])])([h1([classes(["docs-hero-title"])])([text("Getting Started")]), p([classes(["docs-hero-description"])])([text("To get a feel for writing with this DSL we provide a command-line wizard bundled with the repo, a web-based wizard that you can run right here and you can also find instructions here to write your own visualizations from scratch.")])])]), section([classes(["tutorial-section", "tutorial-intro"])])([h1([classes(["tutorial-title"])])([text("Getting Started with PS<$>D3")]), p_([text("Welcome! This guide will help you install PSD3, set up your first project, and create your first data visualization using our scaffold wizard. By the end, you'll have a working visualization that you can view in your browser.")]), div2([classes(["tutorial-callout"])])([h3_([text("\u{1F680} Try the Interactive Wizard")]), p_([text("Want to skip the command line? Use our interactive web wizard to generate a complete visualization project right in your browser:")]), p_([a([href("#/wizard"), classes(["tutorial-button tutorial-button--primary"])])([text("Launch Interactive Wizard \u2192")])])])]), section([classes(["tutorial-section"]), id3("installation")])([h2([classes(["tutorial-section-title"])])([text("Installation")]), p_([text("Before we begin, ensure you have the following installed on your system:")]), h3([id3("prerequisites")])([text("Prerequisites")]), ul_([li_([text("Node.js (version 18 or higher)")]), li_([text("npm or yarn package manager")]), li_([text("PureScript compiler (purs)")]), li_([text("Spago (PureScript package manager and build tool)")])]), p_([text("If you don't have PureScript and Spago installed, you can install them globally:")]), pre_([code_([text("npm install -g purescript spago")])])]), section([classes(["tutorial-section"]), id3("setup")])([h2([classes(["tutorial-section-title"])])([text("Project Setup")]), p_([text("Clone the PSD3 repository which includes the visualization wizard:")]), pre_([code_([text("# Clone the PSD3 repository\ngit clone https://github.com/afcondon/PureScript-Tagless-D3.git\ncd PureScript-Tagless-D3\n\n# Install dependencies\nnpm install\nspago build")])]), p_([text("The wizard is located in ")]), code_([text("scripts/init-psd3-viz.js")]), text(" and will generate all the files you need to get started.")]), section([classes(["tutorial-section"]), id3("wizard")])([h2([classes(["tutorial-section-title"])])([text("Using the Wizard")]), p_([text("PSD3 provides two ways to generate a visualization scaffold:")]), div2([classes(["diagram-container"])])([mermaidDiagram(wizardWorkflowDiagram)(new Just("wizard-workflow-diagram"))]), h3_([text("Option 1: Interactive Web Wizard (Recommended)")]), p_([text("The easiest way to get started is with our "), a([href("#/wizard")])([text("interactive web wizard")]), text(". It provides:")]), ul_([li_([text("Choose from pre-configured example datasets (Anscombe's Quartet, scatter plots, sine waves, etc.)")]), li_([text("Educational tips and explanations at each step")]), li_([text("Preview generated files before downloading")]), li_([text("Download as a .zip file or copy to clipboard")])]), p_([a([href("#/wizard"), classes(["tutorial-button tutorial-button--primary"])])([text("Launch Interactive Wizard \u2192")])]), h3_([text("Option 2: Command-Line Wizard")]), p_([text("If you prefer working from the command line, use the CLI wizard. Run it from the project root:")]), pre_([code_([text("node scripts/init-psd3-viz.js")])]), p_([text("You'll be prompted for:")]), ul_([li_([strong_([text("Visualization module name")]), text(" - e.g., "), code_([text("MyFirstChart")])]), li_([strong_([text("Data record fields")]), text(" - e.g., "), code_([text("x:Number,y:Number,label:String")])]), li_([strong_([text("Output directory")]), text(" - default: "), code_([text("src/viz/YourModuleName")])]), li_([strong_([text("Generate Main.purs?")]), text(" - Entry point for standalone viewing (y/n, default: y)")]), li_([strong_([text("Generate index.html?")]), text(" - (y/n, default: y)")])]), h3_([text("Example Session")]), pre_([code_([text("Visualization module name: ParabolaChart\nData record fields: x:Number,y:Number\nOutput directory: src/viz/ParabolaChart\nGenerate Main.purs? (y/n): y\nGenerate index.html? (y/n): y\n\n\u2713 Created src/viz/ParabolaChart/Unsafe.purs\n\u2713 Created src/viz/ParabolaChart/Model.purs\n\u2713 Created src/viz/ParabolaChart/Draw.purs\n\u2713 Created src/viz/ParabolaChart/Main.purs\n\u2713 Created src/viz/ParabolaChart/index.html\n\u2713 Created src/viz/ParabolaChart/README.md")])]), h3_([text("Build and View")]), p_([text("Now build and bundle your visualization:")]), pre_([code_([text("# Compile the PureScript\nspago build\n\n# Bundle for the browser\nspago bundle --module Main --outfile src/viz/ParabolaChart/bundle.js\n\n# Open in browser\nopen src/viz/ParabolaChart/index.html")])])]), section([classes(["tutorial-section"]), id3("understanding")])([h2([classes(["tutorial-section-title"])])([text("Understanding the Generated Code")]), p_([text("The wizard generates several files following PSD3 best practices:")]), ul_([li_([strong_([text("Unsafe.purs")]), text(" - Contains type coercion functions that bridge PureScript's type system with D3's untyped JavaScript data")]), li_([strong_([text("Model.purs")]), text(" - Defines your data type and provides a placeholder for example data")]), li_([strong_([text("Draw.purs")]), text(" - Contains the visualization code with the "), code_([text("datum_")]), text(" accessor pattern")]), li_([strong_([text("index.html")]), text(" - Pre-configured HTML with D3.js loaded from CDN and the correct "), code_([text("#chart")]), text(" div")]), li_([strong_([text("README.md")]), text(" - Quick reference specific to your visualization")])]), h3([id3("datum-pattern")])([text("The Datum_ Pattern")]), p_([text("D3.js works with untyped JavaScript data, but PureScript is strongly typed. The "), code_([text("datum_")]), text(" accessor pattern solves this by isolating type coercion in the "), code_([text("Unsafe.purs")]), text(" module while providing typed accessors everywhere else.")]), p_([text("In your "), code_([text("Draw.purs")]), text(", you'll use type-annotated lambdas to work with your data:")]), pre_([code_([text('-- Use data in attributes\nA.cx (\\\\(d :: Datum_) _ -> datum_.x d)\n\n-- Use both data and index\nA.fill (\\\\(d :: Datum_) (i :: Index_) ->\n  if datum_.index i > 5 then "red" else "blue")\n\n-- Scale by data value\nA.radius (\\\\(d :: Datum_) _ -> datum_.y d * 2.0)')])]), p_([text("The type annotations "), code_([text("(d :: Datum_)")]), text(" and "), code_([text("(i :: Index_)")]), text(" are required to help PureScript's type checker find the correct "), code_([text("ToAttr")]), text(" instance.")])]), render8]);
  };
  var component42 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return unit;
      },
      render: render45,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction40,
        initialize: new Just(Initialize41.value)
      })
    });
  })();

  // output/Data.Char/index.js
  var toCharCode2 = /* @__PURE__ */ fromEnum(boundedEnumChar);
  var fromCharCode3 = /* @__PURE__ */ toEnum(boundedEnumChar);

  // output/PSD3.Wizard.Datasets/index.js
  var Beginner = /* @__PURE__ */ (function() {
    function Beginner2() {
    }
    ;
    Beginner2.value = new Beginner2();
    return Beginner2;
  })();
  var Intermediate = /* @__PURE__ */ (function() {
    function Intermediate2() {
    }
    ;
    Intermediate2.value = new Intermediate2();
    return Intermediate2;
  })();
  var Advanced = /* @__PURE__ */ (function() {
    function Advanced2() {
    }
    ;
    Advanced2.value = new Advanced2();
    return Advanced2;
  })();
  var sineWaveDataset = /* @__PURE__ */ (function() {
    return {
      id: "sinewave",
      name: "Sine Wave",
      description: "Smooth wave pattern - great for line charts and transitions",
      difficulty: Beginner.value,
      fields: [{
        name: "x",
        fieldType: "Number"
      }, {
        name: "y",
        fieldType: "Number"
      }],
      dataPreview: ["{ x: 0.0, y: 100.0 }", "{ x: 5.0, y: 125.0 }", "{ x: 10.0, y: 145.0 }", "..."],
      suggestedViz: "Line chart or area chart",
      educationalNote: "Demonstrates smooth continuous data - perfect for learning line generators and paths."
    };
  })();
  var showDifficulty = {
    show: function(v) {
      if (v instanceof Beginner) {
        return "Beginner";
      }
      ;
      if (v instanceof Intermediate) {
        return "Intermediate";
      }
      ;
      if (v instanceof Advanced) {
        return "Advanced";
      }
      ;
      throw new Error("Failed pattern match at PSD3.Wizard.Datasets (line 32, column 1 - line 35, column 29): " + [v.constructor.name]);
    }
  };
  var scatterDataset = /* @__PURE__ */ (function() {
    return {
      id: "scatter",
      name: "Scatter Plot",
      description: "Random points in 2D space - perfect for your first visualization",
      difficulty: Beginner.value,
      fields: [{
        name: "x",
        fieldType: "Number"
      }, {
        name: "y",
        fieldType: "Number"
      }],
      dataPreview: ["{ x: 10.0, y: 20.0 }", "{ x: 25.0, y: 45.0 }", "{ x: 40.0, y: 30.0 }", "..."],
      suggestedViz: "Scatter plot with circles",
      educationalNote: "Start here! Simple 2D data is the easiest way to learn PSD3's data binding patterns."
    };
  })();
  var multiLineDataset = /* @__PURE__ */ (function() {
    return {
      id: "multiline",
      name: "Unemployment Rates",
      description: "Unemployment rates for 4 cities over time - multi-series data",
      difficulty: Intermediate.value,
      fields: [{
        name: "series",
        fieldType: "String"
      }, {
        name: "date",
        fieldType: "String"
      }, {
        name: "value",
        fieldType: "Number"
      }],
      dataPreview: ['{ series: "San Francisco", date: "2000-01", value: 3.5 }', '{ series: "San Francisco", date: "2002-01", value: 5.2 }', '{ series: "New York", date: "2000-01", value: 5.3 }', "..."],
      suggestedViz: "Multi-line chart with legend",
      educationalNote: "Time-series data with multiple series - demonstrates data grouping by series and line generators."
    };
  })();
  var groupedBarDataset = /* @__PURE__ */ (function() {
    return {
      id: "groupedbar",
      name: "State Demographics",
      description: "Population by state and age group - for grouped/stacked visualizations",
      difficulty: Intermediate.value,
      fields: [{
        name: "state",
        fieldType: "String"
      }, {
        name: "age",
        fieldType: "String"
      }, {
        name: "population",
        fieldType: "Number"
      }],
      dataPreview: ['{ state: "CA", age: "<10", population: 5038433.0 }', '{ state: "CA", age: "10-19", population: 5055706.0 }', '{ state: "TX", age: "<10", population: 4131018.0 }', "..."],
      suggestedViz: "Grouped bar chart or stacked bar chart",
      educationalNote: "Multi-dimensional data with categorical and numerical fields - great for learning data nesting and grouping patterns."
    };
  })();
  var eqDifficulty = {
    eq: function(x10) {
      return function(y10) {
        if (x10 instanceof Beginner && y10 instanceof Beginner) {
          return true;
        }
        ;
        if (x10 instanceof Intermediate && y10 instanceof Intermediate) {
          return true;
        }
        ;
        if (x10 instanceof Advanced && y10 instanceof Advanced) {
          return true;
        }
        ;
        return false;
      };
    }
  };
  var barChartDataset = /* @__PURE__ */ (function() {
    return {
      id: "barchart",
      name: "Monthly Sales",
      description: "12 months of sales data - classic bar chart material",
      difficulty: Beginner.value,
      fields: [{
        name: "x",
        fieldType: "Number"
      }, {
        name: "y",
        fieldType: "Number"
      }],
      dataPreview: ["{ x: 0.0, y: 30.0 }", "{ x: 1.0, y: 45.0 }", "{ x: 2.0, y: 60.0 }", "..."],
      suggestedViz: "Bar chart or column chart",
      educationalNote: "Perfect for learning data joins - each bar represents one data point."
    };
  })();
  var anscombeDataset = /* @__PURE__ */ (function() {
    return {
      id: "anscombe",
      name: "Anscombe's Quartet",
      description: "Four datasets with identical statistics but very different patterns",
      difficulty: Beginner.value,
      fields: [{
        name: "x",
        fieldType: "Number"
      }, {
        name: "y",
        fieldType: "Number"
      }],
      dataPreview: ["-- Dataset 1:", "{ x: 10.0, y: 8.04 }", "{ x: 8.0, y: 6.95 }", "..."],
      suggestedViz: "Four small multiples scatter plots",
      educationalNote: "Famous dataset showing why visualization matters - all four have identical mean, variance, and correlation, but look completely different when plotted!"
    };
  })();
  var allDatasets = [scatterDataset, sineWaveDataset, barChartDataset, anscombeDataset, groupedBarDataset, multiLineDataset];

  // output/PSD3.Wizard.FileDownload/foreign.js
  var createZip = function() {
    return new JSZip();
  };
  var addFile = function(zip2) {
    return function(filename) {
      return function(content3) {
        return function() {
          zip2.file(filename, content3);
        };
      };
    };
  };
  var downloadZipImpl = function(zip2) {
    return function(zipFilename) {
      return function(onError, onSuccess) {
        zip2.generateAsync({ type: "blob" }).then(function(blob) {
          const url2 = URL.createObjectURL(blob);
          const link4 = document.createElement("a");
          link4.href = url2;
          link4.download = zipFilename;
          document.body.appendChild(link4);
          link4.click();
          document.body.removeChild(link4);
          setTimeout(function() {
            URL.revokeObjectURL(url2);
          }, 100);
          onSuccess();
        }).catch(function(error4) {
          onError(error4);
        });
        return function(cancelError, onCancelerError, onCancelerSuccess) {
          onCancelerSuccess();
        };
      };
    };
  };
  var copyToClipboard = function(text6) {
    return function() {
      try {
        if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(text6);
          return true;
        } else {
          const textArea = document.createElement("textarea");
          textArea.value = text6;
          textArea.style.position = "fixed";
          textArea.style.left = "-999999px";
          textArea.style.top = "-999999px";
          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();
          const success = document.execCommand("copy");
          document.body.removeChild(textArea);
          return success;
        }
      } catch (error4) {
        console.error("Failed to copy to clipboard:", error4);
        return false;
      }
    };
  };

  // output/PSD3.Wizard.FileDownload/index.js
  var append18 = /* @__PURE__ */ append(semigroupArray);
  var eq7 = /* @__PURE__ */ eq(/* @__PURE__ */ eqArray(eqString));
  var append19 = /* @__PURE__ */ append(semigroupString);
  var map46 = /* @__PURE__ */ map(functorArray);
  var bind62 = /* @__PURE__ */ bind(bindAff);
  var liftEffect51 = /* @__PURE__ */ liftEffect(monadEffectAff);
  var discard59 = /* @__PURE__ */ discard(discardUnit)(bindAff);
  var for_3 = /* @__PURE__ */ for_(applicativeEffect)(foldableArray);
  var formatFilesForClipboard = function(files2) {
    var replicateArray = function(n) {
      return function(x10) {
        var $14 = n <= 0;
        if ($14) {
          return [];
        }
        ;
        return append18([x10])(replicateArray(n - 1 | 0)(x10));
      };
    };
    var intercalateArray = function(sep) {
      return function(arr) {
        return maybe("")(function(v) {
          var $16 = eq7(v.tail)([]);
          if ($16) {
            return v.head;
          }
          ;
          return v.head + (sep + intercalateArray(sep)(v.tail));
        })(uncons(arr));
      };
    };
    var repeatString = function(str2) {
      return function(n) {
        return foldl2(append19)("")(replicateArray(n)(str2));
      };
    };
    var separator = "\n" + (repeatString("=")(80) + "\n");
    var formatFile = function(file) {
      return "File: " + (file.filename + ("\n" + (repeatString("-")(80) + ("\n" + file.content))));
    };
    var fileTexts = map46(formatFile)(files2);
    return intercalateArray(separator)(fileTexts);
  };
  var downloadAsZip = function(projectName) {
    return function(files2) {
      return bind62(liftEffect51(createZip))(function(zip2) {
        return discard59(liftEffect51(for_3(files2)(function(file) {
          return addFile(zip2)(file.filename)(file.content);
        })))(function() {
          return fromEffectFnAff(downloadZipImpl(zip2)(projectName + ".zip"));
        });
      });
    };
  };
  var copyFilesToClipboard = function(files2) {
    var formatted = formatFilesForClipboard(files2);
    return copyToClipboard(formatted);
  };

  // output/PSD3.Wizard.Templates/index.js
  var map47 = /* @__PURE__ */ map(functorArray);
  var map114 = /* @__PURE__ */ map(functorMaybe);
  var intercalate6 = /* @__PURE__ */ intercalate2(monoidString);
  var generateRecordType = function(fields) {
    var fieldLines = map47(function(f) {
      return f.name + (" :: " + f.fieldType);
    })(fields);
    return joinWith("\n  , ")(fieldLines);
  };
  var generateUnsafe = function(vizName) {
    return function(dataTypeName) {
      return function(fields) {
        var recordType = generateRecordType(fields);
        return "module " + (vizName + (".Unsafe where\n\nimport PSD3.Internal.Types (Datum_, Index_)\nimport Unsafe.Coerce (unsafeCoerce)\n\n-- | Data type for this visualization\ntype " + (dataTypeName + (" =\n  { " + (recordType + ("\n  }\n\n-- | Coerce Datum_ to " + (dataTypeName + ("\n-- This is safe because D3's data join ensures Datum_ contains\n-- the data we originally passed to simpleJoin/updateJoin\ncoerceTo" + (dataTypeName + (" :: Datum_ -> " + (dataTypeName + ("\ncoerceTo" + (dataTypeName + " = unsafeCoerce\n\n-- | Coerce Index_ to Int (always provided by D3)\ncoerceIndex :: Index_ -> Int\ncoerceIndex = unsafeCoerce\n")))))))))))));
      };
    };
  };
  var generateModel = function(vizName) {
    return function(dataTypeName) {
      return function(fields) {
        return function(exampleData) {
          var recordType = generateRecordType(fields);
          return "module " + (vizName + (".Model where\n\n-- | Data type for this visualization\n-- Re-exported from Unsafe for use in type signatures\ntype " + (dataTypeName + (" =\n  { " + (recordType + ("\n  }\n\n-- | Example data for testing\nexampleData :: Array " + (dataTypeName + ("\nexampleData =\n  " + (exampleData + "\n")))))))));
        };
      };
    };
  };
  var generateMain = function(vizName) {
    return function(dataTypeName) {
      return "module Main where\n\nimport Prelude\nimport Effect (Effect)\nimport " + (vizName + (".Draw (run)\nimport " + (vizName + ".Model (exampleData)\n\nmain :: Effect Unit\nmain = run exampleData\n")));
    };
  };
  var generateHTML = function(vizName) {
    return '<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>' + (vizName + (' - PSD3 Visualization</title>\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n      background-color: #f5f5f5;\n    }\n    .container {\n      max-width: 1200px;\n      margin: 0 auto;\n      background-color: white;\n      padding: 30px;\n      border-radius: 8px;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    h1 {\n      color: #333;\n      margin-top: 0;\n    }\n    #chart {\n      margin: 20px 0;\n      border: 1px solid #e0e0e0;\n      border-radius: 4px;\n      background-color: #fafafa;\n    }\n    svg {\n      display: block;\n    }\n  </style>\n</head>\n<body>\n  <div class="container">\n    <h1>' + (vizName + `</h1>
    <div id="chart"></div>
  </div>

  <!-- D3.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"><\/script>

  <!-- Your bundled PureScript code -->
  <!-- After building with 'spago bundle', include your bundle here: -->
  <!-- <script src="./bundle.js"><\/script> -->
</body>
</html>
`)));
  };
  var generateDatumType = function(fields) {
    var typeLines = map47(function(f) {
      return f.name + (" :: Datum_ -> " + f.fieldType);
    })(fields);
    return joinWith("\n  , ")(typeLines);
  };
  var generateREADME = function(vizName) {
    return function(dataTypeName) {
      return function(fields) {
        var firstField = fromMaybe("x")(map114(function(f) {
          return f.name;
        })(head(fields)));
        var fieldList = intercalate6("\n")(map47(function(f) {
          return "- " + (f.name + (": " + f.fieldType));
        })(fields));
        var exampleFields = intercalate6(", ")(map47(function(f) {
          return f.name + ": 0.0";
        })(fields));
        var datumType = generateDatumType(fields);
        return "# " + (vizName + ("\n\nPSD3 visualization scaffold generated by the web wizard.\n\n## Files Generated\n\n- **Unsafe.purs** - Type coercion functions (isolates all unsafeCoerce calls)\n- **Model.purs** - Data type definitions\n- **Draw.purs** - Main visualization code\n- **index.html** - HTML page with D3.js loaded from CDN\n\n## Data Type\n\n```purescript\ntype " + (dataTypeName + (" =\n  { " + (fieldList + ("\n  }\n```\n\n## Quick Start\n\n1. **Add your data** in `Model.purs`:\n   ```purescript\n   exampleData :: Array " + (dataTypeName + ("\n   exampleData =\n     [ { " + (exampleFields + (" }\n     -- Add more data points\n     ]\n   ```\n\n2. **Customize the visualization** in `Draw.purs`\n   - Modify the `draw` function to create your desired chart\n   - Use the `datum_` accessor to work with your data safely\n   - See the commented examples for using data fields in attributes\n\n3. **Build and run**:\n   ```bash\n   # Compile the PureScript\n   spago build\n\n   # Bundle for the browser (if you created Main.purs)\n   spago bundle --module Main --outfile bundle.js\n\n   # Open index.html in your browser\n   open index.html\n   ```\n\n## The datum_ Pattern\n\nThe `datum_` accessor record provides type-safe access to your data:\n\n```purescript\ndatum_ ::\n  { " + (datumType + ("\n  , index :: Index_ -> Int\n  }\n```\n\nUse it in attributes like this:\n```purescript\nA.cx (\\\\(d :: Datum_) _ -> datum_." + (firstField + " d)\n```\n\nThe type annotations `(d :: Datum_)` and `(i :: Index_)` help PureScript's type checker\nfind the correct ToAttr instance.\n\n## Learn More\n\n- [PSD3 Documentation](https://github.com/afcondon/PureScript-Tagless-D3)\n- [Wizard Guide](../../docs/wizard-guide.md)\n")))))))))))));
      };
    };
  };
  var generateAccessors = function(fields) {
    return function(coerceFnName) {
      var accessorLines = map47(function(f) {
        return f.name + (": _." + (f.name + (" <<< " + coerceFnName)));
      })(fields);
      return joinWith("\n  , ")(accessorLines);
    };
  };
  var generateDraw = function(vizName) {
    return function(dataTypeName) {
      return function(fields) {
        return function(coerceFnName) {
          var firstField = fromMaybe("x")(map114(function(f) {
            return f.name;
          })(head(fields)));
          var datumType = generateDatumType(fields);
          var accessors = generateAccessors(fields)(coerceFnName);
          return "module " + (vizName + (".Draw where\n\nimport Prelude\n\nimport PSD3\nimport PSD3.Attributes as A\nimport PSD3.Internal.FFI (keyIsID_)\nimport " + (vizName + (".Unsafe (" + (coerceFnName + (", coerceIndex)\nimport " + (vizName + (".Model (" + (dataTypeName + (")\nimport Data.Int (toNumber)\nimport Effect (Effect)\n\n-- | Accessor record for working with bound data\ndatum_ ::\n  { " + (datumType + ("\n  , index :: Index_ -> Int\n  }\ndatum_ =\n  { " + (accessors + ("\n  , index: coerceIndex\n  }\n\n-- | Main drawing function\ndraw :: forall m. SelectionM D3Selection_ m => Array " + (dataTypeName + (' -> Selector D3Selection_ -> m Unit\ndraw dataPoints selector = do\n  (root :: D3Selection_) <- attach selector\n  svg <- appendTo root Svg\n    [ A.width 800.0\n    , A.height 600.0\n    , A.viewBox 0.0 0.0 800.0 600.0\n    ]\n\n  -- Example: Simple data join\n  -- Replace this with your visualization logic\n  circles <- simpleJoin svg Circle dataPoints keyIsID_\n  setAttributes circles\n    [ A.cx (\\\\(_ :: Datum_) (i :: Index_) -> toNumber (datum_.index i) * 50.0)\n    , A.cy 300.0\n    , A.radius 20.0\n    , A.fill "steelblue"\n    ]\n\n  -- Examples of using your data fields in attributes:\n  -- A.cx (\\\\(d :: Datum_) _ -> datum_.' + (firstField + (' d)  -- Use first data field\n  -- A.fill (\\\\(d :: Datum_) (i :: Index_) -> if datum_.index i > 5 then "red" else "blue")\n  -- A.radius (\\\\(d :: Datum_) _ -> datum_.' + (firstField + (" d * 2.0)  -- Scale by data\n\n  pure unit\n\n-- | Entry point\nrun :: Array " + (dataTypeName + ' -> Effect Unit\nrun dataPoints = eval_D3M $ draw dataPoints "#chart"\n')))))))))))))))))))));
        };
      };
    };
  };

  // output/PSD3.Wizard.Generator/index.js
  var intercalate7 = /* @__PURE__ */ intercalate2(monoidString);
  var map48 = /* @__PURE__ */ map(functorArray);
  var append110 = /* @__PURE__ */ append(semigroupArray);
  var sineWaveData = "[ { x: 0.0, y: 100.0 }\n  , { x: 5.0, y: 125.0 }\n  , { x: 10.0, y: 145.0 }\n  , { x: 15.0, y: 159.0 }\n  , { x: 20.0, y: 165.0 }\n  , { x: 25.0, y: 159.0 }\n  , { x: 30.0, y: 145.0 }\n  , { x: 35.0, y: 125.0 }\n  , { x: 40.0, y: 100.0 }\n  , { x: 45.0, y: 75.0 }\n  , { x: 50.0, y: 55.0 }\n  , { x: 55.0, y: 41.0 }\n  , { x: 60.0, y: 35.0 }\n  , { x: 65.0, y: 41.0 }\n  , { x: 70.0, y: 55.0 }\n  , { x: 75.0, y: 75.0 }\n  , { x: 80.0, y: 100.0 }\n  ]";
  var scatterData2 = "[ { x: 10.0, y: 20.0 }\n  , { x: 25.0, y: 45.0 }\n  , { x: 40.0, y: 30.0 }\n  , { x: 55.0, y: 60.0 }\n  , { x: 70.0, y: 40.0 }\n  , { x: 85.0, y: 70.0 }\n  , { x: 100.0, y: 55.0 }\n  , { x: 115.0, y: 80.0 }\n  , { x: 130.0, y: 65.0 }\n  , { x: 145.0, y: 90.0 }\n  ]";
  var multiLineData = '[ { series: "San Francisco", date: "2000-01", value: 3.5 }\n  , { series: "San Francisco", date: "2002-01", value: 5.2 }\n  , { series: "San Francisco", date: "2004-01", value: 4.8 }\n  , { series: "San Francisco", date: "2006-01", value: 3.9 }\n  , { series: "San Francisco", date: "2008-01", value: 4.2 }\n  , { series: "San Francisco", date: "2010-01", value: 8.4 }\n  , { series: "San Francisco", date: "2012-01", value: 6.8 }\n  , { series: "New York", date: "2000-01", value: 5.3 }\n  , { series: "New York", date: "2002-01", value: 7.2 }\n  , { series: "New York", date: "2004-01", value: 6.1 }\n  , { series: "New York", date: "2006-01", value: 4.9 }\n  , { series: "New York", date: "2008-01", value: 5.3 }\n  , { series: "New York", date: "2010-01", value: 9.2 }\n  , { series: "New York", date: "2012-01", value: 7.8 }\n  , { series: "Austin", date: "2000-01", value: 2.9 }\n  , { series: "Austin", date: "2002-01", value: 4.8 }\n  , { series: "Austin", date: "2004-01", value: 4.2 }\n  , { series: "Austin", date: "2006-01", value: 3.5 }\n  , { series: "Austin", date: "2008-01", value: 3.8 }\n  , { series: "Austin", date: "2010-01", value: 6.5 }\n  , { series: "Austin", date: "2012-01", value: 5.1 }\n  , { series: "Seattle", date: "2000-01", value: 4.1 }\n  , { series: "Seattle", date: "2002-01", value: 6.3 }\n  , { series: "Seattle", date: "2004-01", value: 5.5 }\n  , { series: "Seattle", date: "2006-01", value: 4.2 }\n  , { series: "Seattle", date: "2008-01", value: 4.5 }\n  , { series: "Seattle", date: "2010-01", value: 7.8 }\n  , { series: "Seattle", date: "2012-01", value: 6.2 }\n  ]';
  var groupedBarData2 = '[ { state: "CA", age: "<10", population: 5038433.0 }\n  , { state: "CA", age: "10-19", population: 5055706.0 }\n  , { state: "CA", age: "20-29", population: 5310481.0 }\n  , { state: "CA", age: "30-39", population: 5354112.0 }\n  , { state: "TX", age: "<10", population: 4131018.0 }\n  , { state: "TX", age: "10-19", population: 3770007.0 }\n  , { state: "TX", age: "20-29", population: 3863019.0 }\n  , { state: "TX", age: "30-39", population: 3696647.0 }\n  , { state: "NY", age: "<10", population: 2275293.0 }\n  , { state: "NY", age: "10-19", population: 2363801.0 }\n  , { state: "NY", age: "20-29", population: 2885845.0 }\n  , { state: "NY", age: "30-39", population: 2754048.0 }\n  ]';
  var fallbackData = function(fields) {
    var generateFieldValue = function(field) {
      if (field.fieldType === "Number") {
        return field.name + ": 0.0";
      }
      ;
      if (field.fieldType === "String") {
        return field.name + (': "' + (field.name + '"'));
      }
      ;
      if (field.fieldType === "Int") {
        return field.name + ": 0";
      }
      ;
      return field.name + ": 0.0";
    };
    var sampleRow = "{ " + (intercalate7(", ")(map48(generateFieldValue)(fields)) + " }");
    var rows4 = intercalate7("\n  , ")([sampleRow, sampleRow, sampleRow]);
    return "[ " + (rows4 + "\n  ]");
  };
  var barChartData = "[ { x: 0.0, y: 30.0 }\n  , { x: 1.0, y: 45.0 }\n  , { x: 2.0, y: 60.0 }\n  , { x: 3.0, y: 55.0 }\n  , { x: 4.0, y: 70.0 }\n  , { x: 5.0, y: 65.0 }\n  , { x: 6.0, y: 80.0 }\n  , { x: 7.0, y: 75.0 }\n  , { x: 8.0, y: 90.0 }\n  , { x: 9.0, y: 85.0 }\n  , { x: 10.0, y: 95.0 }\n  , { x: 11.0, y: 100.0 }\n  ]";
  var anscombeData = "[ { x: 10.0, y: 8.04 }\n  , { x: 8.0, y: 6.95 }\n  , { x: 13.0, y: 7.58 }\n  , { x: 9.0, y: 8.81 }\n  , { x: 11.0, y: 8.33 }\n  , { x: 14.0, y: 9.96 }\n  , { x: 6.0, y: 7.24 }\n  , { x: 4.0, y: 4.26 }\n  , { x: 12.0, y: 10.84 }\n  , { x: 7.0, y: 4.82 }\n  , { x: 5.0, y: 5.68 }\n  ]";
  var generateExampleData = function(dataset) {
    if (dataset.id === "scatter") {
      return scatterData2;
    }
    ;
    if (dataset.id === "sinewave") {
      return sineWaveData;
    }
    ;
    if (dataset.id === "barchart") {
      return barChartData;
    }
    ;
    if (dataset.id === "anscombe") {
      return anscombeData;
    }
    ;
    if (dataset.id === "groupedbar") {
      return groupedBarData2;
    }
    ;
    if (dataset.id === "multiline") {
      return multiLineData;
    }
    ;
    return fallbackData(dataset.fields);
  };
  var generateProject = function(config) {
    var exampleData = generateExampleData(config.dataset);
    var dataTypeName = config.vizName + "Data";
    var mainFile = (function() {
      if (config.includeMain) {
        return [{
          filename: "Main.purs",
          content: generateMain(config.vizName)(dataTypeName)
        }];
      }
      ;
      return [];
    })();
    var coerceFnName = "coerceTo" + dataTypeName;
    var baseFiles = [{
      filename: config.vizName + "/Unsafe.purs",
      content: generateUnsafe(config.vizName)(dataTypeName)(config.dataset.fields)
    }, {
      filename: config.vizName + "/Model.purs",
      content: generateModel(config.vizName)(dataTypeName)(config.dataset.fields)(exampleData)
    }, {
      filename: config.vizName + "/Draw.purs",
      content: generateDraw(config.vizName)(dataTypeName)(config.dataset.fields)(coerceFnName)
    }, {
      filename: config.vizName + "/index.html",
      content: generateHTML(config.vizName)
    }, {
      filename: config.vizName + "/README.md",
      content: generateREADME(config.vizName)(dataTypeName)(config.dataset.fields)
    }];
    return append110(baseFiles)(mainFile);
  };

  // output/PSD3.Wizard.Wizard/index.js
  var map49 = /* @__PURE__ */ map(functorArray);
  var eq8 = /* @__PURE__ */ eq(/* @__PURE__ */ eqArray(eqString));
  var show33 = /* @__PURE__ */ show(showDifficulty);
  var eq23 = /* @__PURE__ */ eq(eqDifficulty);
  var eq32 = /* @__PURE__ */ eq(/* @__PURE__ */ eqMaybe(eqDifficulty));
  var bind63 = /* @__PURE__ */ bind(bindMaybe);
  var pure33 = /* @__PURE__ */ pure(applicativeMaybe);
  var type_20 = /* @__PURE__ */ type_3(isPropInputType);
  var value14 = /* @__PURE__ */ value3(isPropString);
  var modify_41 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var bind114 = /* @__PURE__ */ bind(bindHalogenM);
  var get13 = /* @__PURE__ */ get(monadStateHalogenM);
  var discard60 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var pure113 = /* @__PURE__ */ pure(applicativeHalogenM);
  var when5 = /* @__PURE__ */ when(applicativeHalogenM);
  var ChooseDataset = /* @__PURE__ */ (function() {
    function ChooseDataset2() {
    }
    ;
    ChooseDataset2.value = new ChooseDataset2();
    return ChooseDataset2;
  })();
  var NameModule = /* @__PURE__ */ (function() {
    function NameModule2() {
    }
    ;
    NameModule2.value = new NameModule2();
    return NameModule2;
  })();
  var ReviewFiles = /* @__PURE__ */ (function() {
    function ReviewFiles2() {
    }
    ;
    ReviewFiles2.value = new ReviewFiles2();
    return ReviewFiles2;
  })();
  var Download = /* @__PURE__ */ (function() {
    function Download2() {
    }
    ;
    Download2.value = new Download2();
    return Download2;
  })();
  var SelectDataset = /* @__PURE__ */ (function() {
    function SelectDataset2(value0) {
      this.value0 = value0;
    }
    ;
    SelectDataset2.create = function(value0) {
      return new SelectDataset2(value0);
    };
    return SelectDataset2;
  })();
  var SetVizName = /* @__PURE__ */ (function() {
    function SetVizName2(value0) {
      this.value0 = value0;
    }
    ;
    SetVizName2.create = function(value0) {
      return new SetVizName2(value0);
    };
    return SetVizName2;
  })();
  var ToggleIncludeMain = /* @__PURE__ */ (function() {
    function ToggleIncludeMain2() {
    }
    ;
    ToggleIncludeMain2.value = new ToggleIncludeMain2();
    return ToggleIncludeMain2;
  })();
  var NextStep = /* @__PURE__ */ (function() {
    function NextStep2() {
    }
    ;
    NextStep2.value = new NextStep2();
    return NextStep2;
  })();
  var PreviousStep = /* @__PURE__ */ (function() {
    function PreviousStep2() {
    }
    ;
    PreviousStep2.value = new PreviousStep2();
    return PreviousStep2;
  })();
  var GoToStep = /* @__PURE__ */ (function() {
    function GoToStep2(value0) {
      this.value0 = value0;
    }
    ;
    GoToStep2.create = function(value0) {
      return new GoToStep2(value0);
    };
    return GoToStep2;
  })();
  var GenerateFiles = /* @__PURE__ */ (function() {
    function GenerateFiles2() {
    }
    ;
    GenerateFiles2.value = new GenerateFiles2();
    return GenerateFiles2;
  })();
  var DownloadZip = /* @__PURE__ */ (function() {
    function DownloadZip2() {
    }
    ;
    DownloadZip2.value = new DownloadZip2();
    return DownloadZip2;
  })();
  var CopyToClipboard = /* @__PURE__ */ (function() {
    function CopyToClipboard2() {
    }
    ;
    CopyToClipboard2.value = new CopyToClipboard2();
    return CopyToClipboard2;
  })();
  var SetDifficultyFilter = /* @__PURE__ */ (function() {
    function SetDifficultyFilter2(value0) {
      this.value0 = value0;
    }
    ;
    SetDifficultyFilter2.create = function(value0) {
      return new SetDifficultyFilter2(value0);
    };
    return SetDifficultyFilter2;
  })();
  var renderReviewFiles = function(state3) {
    var renderFile = function(file) {
      return details([classes(["wizard__file"])])([summary_([text(file.filename)]), pre([classes(["wizard__code"])])([code_([text(file.content)])])]);
    };
    return div2([classes(["wizard__step-content"])])([h2_([text("Review Generated Files")]), p_([text("Preview the files that will be generated for your project.")]), div2([classes(["wizard__file-list"])])(map49(renderFile)(state3.generatedFiles))]);
  };
  var renderHeader = function(state3) {
    return header([classes(["wizard__header"])])([h1_([text("PSD3 Visualization Wizard")]), p([classes(["wizard__subtitle"])])([text("Create a new PSD3 visualization project in 4 easy steps")])]);
  };
  var renderDownload = function(state3) {
    return div2([classes(["wizard__step-content wizard__step-content--centered"])])([h2_([text("Download Your Project")]), p_([text("Your visualization project is ready! Download it as a zip file or copy the code to your clipboard.")]), div2([classes(["wizard__download-options"])])([button([classes(["wizard__btn wizard__btn--primary wizard__btn--large"]), onClick(function(v) {
      return DownloadZip.value;
    })])([text("\u{1F4E6} Download " + (state3.vizName + ".zip"))]), button([classes(["wizard__btn wizard__btn--secondary wizard__btn--large"]), onClick(function(v) {
      return CopyToClipboard.value;
    })])([text("\u{1F4CB} Copy to Clipboard")])]), div2([classes(["wizard__next-steps"])])([h3_([text("Next Steps")]), ol_([li_([text("Extract the zip file to your project directory")]), li_([text("Add your dependencies to spago.dhall or package.json")]), li_([text("Customize the visualization in Draw.purs")]), li_([text("Build with 'spago build'")]), li_([text("Open index.html in your browser")])])])]);
  };
  var renderChooseDataset = function(state3) {
    var toLowerCase = (function() {
      var toLower2 = function(c) {
        var $73 = c >= "A" && c <= "Z";
        if ($73) {
          return fromMaybe(c)(fromCharCode3(toCharCode2(c) + 32 | 0));
        }
        ;
        return c;
      };
      var $151 = map49(toLower2);
      return function($152) {
        return fromCharArray($151(toCharArray($152)));
      };
    })();
    var intercalate8 = function(sep) {
      return function(arr) {
        return maybe("")(function(v) {
          var $75 = eq8(v.tail)([]);
          if ($75) {
            return v.head;
          }
          ;
          return v.head + (sep + intercalate8(sep)(v.tail));
        })(uncons(arr));
      };
    };
    var renderDatasetCard = function(dataset) {
      var isSelected = (function() {
        if (state3.selectedDataset instanceof Just) {
          return state3.selectedDataset.value0.id === dataset.id;
        }
        ;
        if (state3.selectedDataset instanceof Nothing) {
          return false;
        }
        ;
        throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 180, column 22 - line 182, column 27): " + [state3.selectedDataset.constructor.name]);
      })();
      var cardClass = "dataset-card" + (function() {
        if (isSelected) {
          return " dataset-card--selected";
        }
        ;
        return "";
      })();
      return div2([classes([cardClass]), onClick(function(v) {
        return new SelectDataset(dataset);
      })])([div2([classes(["dataset-card__header"])])([h3_([text(dataset.name)]), span2([classes(["difficulty-badge difficulty-badge--" + toLowerCase(show33(dataset.difficulty))])])([text(show33(dataset.difficulty))])]), p([classes(["dataset-card__description"])])([text(dataset.description)]), div2([classes(["dataset-card__info"])])([strong_([text("Fields: ")]), text(intercalate8(", ")(map49(function(f) {
        return f.name + (": " + f.fieldType);
      })(dataset.fields)))]), div2([classes(["dataset-card__viz"])])([strong_([text("Suggested: ")]), text(dataset.suggestedViz)]), div2([classes(["dataset-card__note"])])([text(dataset.educationalNote)])]);
    };
    var filteredDatasets = (function() {
      if (state3.filterDifficulty instanceof Nothing) {
        return allDatasets;
      }
      ;
      if (state3.filterDifficulty instanceof Just) {
        return filter(function(d8) {
          return eq23(d8.difficulty)(state3.filterDifficulty.value0);
        })(allDatasets);
      }
      ;
      throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 173, column 24 - line 175, column 79): " + [state3.filterDifficulty.constructor.name]);
    })();
    return div2([classes(["wizard__step-content"])])([h2_([text("Choose a Dataset")]), p_([text("Select an example dataset to get started. Each dataset includes sample data and suggestions for visualizations.")]), div2([classes(["wizard__filters"])])([label_([text("Filter by difficulty:")]), button([classes(["filter-btn" + (function() {
      var $83 = eq32(state3.filterDifficulty)(Nothing.value);
      if ($83) {
        return " filter-btn--active";
      }
      ;
      return "";
    })()]), onClick(function(v) {
      return new SetDifficultyFilter(Nothing.value);
    })])([text("All")]), button([classes(["filter-btn" + (function() {
      var $84 = eq32(state3.filterDifficulty)(new Just(Beginner.value));
      if ($84) {
        return " filter-btn--active";
      }
      ;
      return "";
    })()]), onClick(function(v) {
      return new SetDifficultyFilter(new Just(Beginner.value));
    })])([text("Beginner")]), button([classes(["filter-btn" + (function() {
      var $85 = eq32(state3.filterDifficulty)(new Just(Intermediate.value));
      if ($85) {
        return " filter-btn--active";
      }
      ;
      return "";
    })()]), onClick(function(v) {
      return new SetDifficultyFilter(new Just(Intermediate.value));
    })])([text("Intermediate")])]), div2([classes(["wizard__dataset-grid"])])(map49(renderDatasetCard)(filteredDatasets))]);
  };
  var isValidModuleName = function(name16) {
    var all4 = function(pred) {
      return function(arr) {
        var v = uncons(arr);
        if (v instanceof Nothing) {
          return true;
        }
        ;
        if (v instanceof Just) {
          return pred(v.value0.head) && all4(pred)(v.value0.tail);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 458, column 20 - line 460, column 58): " + [v.constructor.name]);
      };
    };
    var isUpperCase = function(c) {
      var code2 = toCharCode2(c);
      return code2 >= 65 && code2 <= 90;
    };
    var isLowerCase = function(c) {
      var code2 = toCharCode2(c);
      return code2 >= 97 && code2 <= 122;
    };
    var isDigitChar = function(c) {
      var code2 = toCharCode2(c);
      return code2 >= 48 && code2 <= 57;
    };
    var isAlphaNum = function(c) {
      return isUpperCase(c) || (isLowerCase(c) || isDigitChar(c));
    };
    var chars = toCharArray(name16);
    if (chars.length === 0) {
      return false;
    }
    ;
    return fromMaybe(false)(bind63(head(chars))(function(first2) {
      return pure33(isUpperCase(first2) && all4(isAlphaNum)(chars));
    }));
  };
  var renderNameModule = function(state3) {
    return div2([classes(["wizard__step-content"])])([h2_([text("Name Your Visualization")]), p_([text("Choose a name for your visualization module. It should be a valid PureScript module name (CamelCase, starting with uppercase).")]), div2([classes(["wizard__form-group"])])([label([$$for("viz-name")])([text("Visualization Name")]), input([type_20(InputText.value), id3("viz-name"), value14(state3.vizName), placeholder2("e.g., MyScatterPlot"), onValueInput(SetVizName.create), classes(["wizard__input"])]), (function() {
      var $91 = isValidModuleName(state3.vizName) || state3.vizName === "";
      if ($91) {
        return div_([]);
      }
      ;
      return div2([classes(["wizard__error"])])([text("Module name must start with uppercase and contain only letters and numbers")]);
    })()]), div2([classes(["wizard__form-group"])])([label_([input([type_20(InputCheckbox.value), checked2(state3.includeMain), onChecked(function(v) {
      return ToggleIncludeMain.value;
    })]), text(" Include Main.purs (for bundling with spago)")]), p([classes(["wizard__help-text"])])([text("Main.purs provides an entry point for bundling your visualization. Check this if you plan to use 'spago bundle'.")])]), (function() {
      var $92 = state3.vizName !== "" && isValidModuleName(state3.vizName);
      if ($92) {
        return div2([classes(["wizard__preview"])])([h3_([text("Files that will be generated:")]), ul_([li_([text(state3.vizName + "/Unsafe.purs")]), li_([text(state3.vizName + "/Model.purs")]), li_([text(state3.vizName + "/Draw.purs")]), li_([text(state3.vizName + "/index.html")]), li_([text(state3.vizName + "/README.md")]), (function() {
          if (state3.includeMain) {
            return li_([text("Main.purs")]);
          }
          ;
          return text("");
        })()])]);
      }
      ;
      return div_([]);
    })()]);
  };
  var renderStepContent = function(dictMonadAff) {
    return function(state3) {
      return div2([classes(["wizard__content"])])([(function() {
        if (state3.currentStep instanceof ChooseDataset) {
          return renderChooseDataset(state3);
        }
        ;
        if (state3.currentStep instanceof NameModule) {
          return renderNameModule(state3);
        }
        ;
        if (state3.currentStep instanceof ReviewFiles) {
          return renderReviewFiles(state3);
        }
        ;
        if (state3.currentStep instanceof Download) {
          return renderDownload(state3);
        }
        ;
        throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 131, column 7 - line 135, column 41): " + [state3.currentStep.constructor.name]);
      })()]);
    };
  };
  var initialState = /* @__PURE__ */ (function() {
    return {
      currentStep: ChooseDataset.value,
      selectedDataset: Nothing.value,
      vizName: "",
      includeMain: true,
      generatedFiles: [],
      filterDifficulty: Nothing.value
    };
  })();
  var eqWizardStep = {
    eq: function(x10) {
      return function(y10) {
        if (x10 instanceof ChooseDataset && y10 instanceof ChooseDataset) {
          return true;
        }
        ;
        if (x10 instanceof NameModule && y10 instanceof NameModule) {
          return true;
        }
        ;
        if (x10 instanceof ReviewFiles && y10 instanceof ReviewFiles) {
          return true;
        }
        ;
        if (x10 instanceof Download && y10 instanceof Download) {
          return true;
        }
        ;
        return false;
      };
    }
  };
  var eq42 = /* @__PURE__ */ eq(eqWizardStep);
  var renderNavigation = function(state3) {
    var canProceed = (function() {
      if (state3.currentStep instanceof ChooseDataset) {
        return isJust(state3.selectedDataset);
      }
      ;
      if (state3.currentStep instanceof NameModule) {
        return state3.vizName !== "" && isValidModuleName(state3.vizName);
      }
      ;
      if (state3.currentStep instanceof ReviewFiles) {
        return true;
      }
      ;
      if (state3.currentStep instanceof Download) {
        return true;
      }
      ;
      throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 363, column 18 - line 367, column 23): " + [state3.currentStep.constructor.name]);
    })();
    return div2([classes(["wizard__navigation"])])([button([classes(["wizard__btn wizard__btn--secondary"]), onClick(function(v) {
      return PreviousStep.value;
    }), disabled2(eq42(state3.currentStep)(ChooseDataset.value))])([text("\u2190 Previous")]), button([classes(["wizard__btn wizard__btn--primary"]), onClick(function(v) {
      return NextStep.value;
    }), disabled2(!canProceed)])([text((function() {
      var $98 = eq42(state3.currentStep)(Download.value);
      if ($98) {
        return "Restart";
      }
      ;
      return "Next \u2192";
    })())])]);
  };
  var renderProgressBar = function(state3) {
    var stepIndex = function(v) {
      if (v instanceof ChooseDataset) {
        return 0;
      }
      ;
      if (v instanceof NameModule) {
        return 1;
      }
      ;
      if (v instanceof ReviewFiles) {
        return 2;
      }
      ;
      if (v instanceof Download) {
        return 3;
      }
      ;
      throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 120, column 5 - line 120, column 35): " + [v.constructor.name]);
    };
    var renderStep = function(step3) {
      return function(num) {
        return function(label5) {
          var isCompleted = stepIndex(state3.currentStep) > stepIndex(step3);
          var isActive = eq42(state3.currentStep)(step3);
          var classes2 = "wizard__step" + ((function() {
            if (isActive) {
              return " wizard__step--active";
            }
            ;
            return "";
          })() + (function() {
            if (isCompleted) {
              return " wizard__step--completed";
            }
            ;
            return "";
          })());
          return div2([classes([classes2]), onClick(function(v) {
            return new GoToStep(step3);
          })])([div2([classes(["wizard__step-number"])])([text(num)]), div2([classes(["wizard__step-label"])])([text(label5)])]);
        };
      };
    };
    return div2([classes(["wizard__progress"])])([renderStep(ChooseDataset.value)("1")("Choose Dataset"), renderStep(NameModule.value)("2")("Name Module"), renderStep(ReviewFiles.value)("3")("Review Files"), renderStep(Download.value)("4")("Download")]);
  };
  var render46 = function(dictMonadAff) {
    var renderStepContent1 = renderStepContent(dictMonadAff);
    return function(state3) {
      return div2([classes(["wizard"])])([renderHeader(state3), renderProgressBar(state3), renderStepContent1(state3), renderNavigation(state3)]);
    };
  };
  var canGoToStep = function(state3) {
    return function(step3) {
      if (step3 instanceof ChooseDataset) {
        return true;
      }
      ;
      if (step3 instanceof NameModule) {
        return isJust(state3.selectedDataset);
      }
      ;
      if (step3 instanceof ReviewFiles) {
        return isJust(state3.selectedDataset) && (state3.vizName !== "" && isValidModuleName(state3.vizName));
      }
      ;
      if (step3 instanceof Download) {
        return isJust(state3.selectedDataset) && (state3.vizName !== "" && isValidModuleName(state3.vizName));
      }
      ;
      throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 435, column 26 - line 439, column 101): " + [step3.constructor.name]);
    };
  };
  var handleAction41 = function(dictMonadAff) {
    var liftAff32 = liftAff(monadAffHalogenM(dictMonadAff));
    var liftEffect53 = liftEffect(monadEffectHalogenM(dictMonadAff.MonadEffect0()));
    return function(v) {
      if (v instanceof SelectDataset) {
        return modify_41(function(v1) {
          var $104 = {};
          for (var $105 in v1) {
            if ({}.hasOwnProperty.call(v1, $105)) {
              $104[$105] = v1[$105];
            }
            ;
          }
          ;
          $104.selectedDataset = new Just(v.value0);
          return $104;
        });
      }
      ;
      if (v instanceof SetVizName) {
        return modify_41(function(v1) {
          var $108 = {};
          for (var $109 in v1) {
            if ({}.hasOwnProperty.call(v1, $109)) {
              $108[$109] = v1[$109];
            }
            ;
          }
          ;
          $108.vizName = trim(v.value0);
          return $108;
        });
      }
      ;
      if (v instanceof ToggleIncludeMain) {
        return modify_41(function(s) {
          var $112 = {};
          for (var $113 in s) {
            if ({}.hasOwnProperty.call(s, $113)) {
              $112[$113] = s[$113];
            }
            ;
          }
          ;
          $112.includeMain = !s.includeMain;
          return $112;
        });
      }
      ;
      if (v instanceof NextStep) {
        return bind114(get13)(function(state3) {
          if (state3.currentStep instanceof ChooseDataset) {
            return modify_41(function(v1) {
              var $116 = {};
              for (var $117 in v1) {
                if ({}.hasOwnProperty.call(v1, $117)) {
                  $116[$117] = v1[$117];
                }
                ;
              }
              ;
              $116.currentStep = NameModule.value;
              return $116;
            });
          }
          ;
          if (state3.currentStep instanceof NameModule) {
            return discard60(handleAction41(dictMonadAff)(GenerateFiles.value))(function() {
              return modify_41(function(v1) {
                var $119 = {};
                for (var $120 in v1) {
                  if ({}.hasOwnProperty.call(v1, $120)) {
                    $119[$120] = v1[$120];
                  }
                  ;
                }
                ;
                $119.currentStep = ReviewFiles.value;
                return $119;
              });
            });
          }
          ;
          if (state3.currentStep instanceof ReviewFiles) {
            return modify_41(function(v1) {
              var $122 = {};
              for (var $123 in v1) {
                if ({}.hasOwnProperty.call(v1, $123)) {
                  $122[$123] = v1[$123];
                }
                ;
              }
              ;
              $122.currentStep = Download.value;
              return $122;
            });
          }
          ;
          if (state3.currentStep instanceof Download) {
            return modify_41(function(v1) {
              var $125 = {};
              for (var $126 in v1) {
                if ({}.hasOwnProperty.call(v1, $126)) {
                  $125[$126] = v1[$126];
                }
                ;
              }
              ;
              $125.currentStep = ChooseDataset.value;
              return $125;
            });
          }
          ;
          throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 383, column 5 - line 389, column 62): " + [state3.currentStep.constructor.name]);
        });
      }
      ;
      if (v instanceof PreviousStep) {
        return bind114(get13)(function(state3) {
          if (state3.currentStep instanceof NameModule) {
            return modify_41(function(v1) {
              var $129 = {};
              for (var $130 in v1) {
                if ({}.hasOwnProperty.call(v1, $130)) {
                  $129[$130] = v1[$130];
                }
                ;
              }
              ;
              $129.currentStep = ChooseDataset.value;
              return $129;
            });
          }
          ;
          if (state3.currentStep instanceof ReviewFiles) {
            return modify_41(function(v1) {
              var $132 = {};
              for (var $133 in v1) {
                if ({}.hasOwnProperty.call(v1, $133)) {
                  $132[$133] = v1[$133];
                }
                ;
              }
              ;
              $132.currentStep = NameModule.value;
              return $132;
            });
          }
          ;
          if (state3.currentStep instanceof Download) {
            return modify_41(function(v1) {
              var $135 = {};
              for (var $136 in v1) {
                if ({}.hasOwnProperty.call(v1, $136)) {
                  $135[$136] = v1[$136];
                }
                ;
              }
              ;
              $135.currentStep = ReviewFiles.value;
              return $135;
            });
          }
          ;
          if (state3.currentStep instanceof ChooseDataset) {
            return pure113(unit);
          }
          ;
          throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 393, column 5 - line 397, column 33): " + [state3.currentStep.constructor.name]);
        });
      }
      ;
      if (v instanceof GoToStep) {
        return bind114(get13)(function(state3) {
          return when5(canGoToStep(state3)(v.value0))(modify_41(function(v1) {
            var $138 = {};
            for (var $139 in v1) {
              if ({}.hasOwnProperty.call(v1, $139)) {
                $138[$139] = v1[$139];
              }
              ;
            }
            ;
            $138.currentStep = v.value0;
            return $138;
          }));
        });
      }
      ;
      if (v instanceof GenerateFiles) {
        return bind114(get13)(function(state3) {
          if (state3.selectedDataset instanceof Just) {
            var config = {
              vizName: state3.vizName,
              dataset: state3.selectedDataset.value0,
              includeMain: state3.includeMain
            };
            var files2 = generateProject(config);
            return modify_41(function(v1) {
              var $143 = {};
              for (var $144 in v1) {
                if ({}.hasOwnProperty.call(v1, $144)) {
                  $143[$144] = v1[$144];
                }
                ;
              }
              ;
              $143.generatedFiles = files2;
              return $143;
            });
          }
          ;
          if (state3.selectedDataset instanceof Nothing) {
            return pure113(unit);
          }
          ;
          throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 407, column 5 - line 418, column 27): " + [state3.selectedDataset.constructor.name]);
        });
      }
      ;
      if (v instanceof DownloadZip) {
        return bind114(get13)(function(state3) {
          return liftAff32(downloadAsZip(state3.vizName)(state3.generatedFiles));
        });
      }
      ;
      if (v instanceof CopyToClipboard) {
        return bind114(get13)(function(state3) {
          return bind114(liftEffect53(copyFilesToClipboard(state3.generatedFiles)))(function(success) {
            return pure113(unit);
          });
        });
      }
      ;
      if (v instanceof SetDifficultyFilter) {
        return modify_41(function(v1) {
          var $147 = {};
          for (var $148 in v1) {
            if ({}.hasOwnProperty.call(v1, $148)) {
              $147[$148] = v1[$148];
            }
            ;
          }
          ;
          $147.filterDifficulty = v.value0;
          return $147;
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Wizard.Wizard (line 371, column 16 - line 431, column 50): " + [v.constructor.name]);
    };
  };
  var component43 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: $$const(initialState),
      render: render46(monadAffAff),
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        initialize: defaultEval.initialize,
        finalize: defaultEval.finalize,
        handleAction: handleAction41(monadAffAff)
      })
    });
  })();

  // output/Routing.Parser/index.js
  var map50 = /* @__PURE__ */ map(functorArray);
  var discard61 = /* @__PURE__ */ discard(discardUnit)(bindMaybe);
  var guard2 = /* @__PURE__ */ guard(alternativeMaybe);
  var apply3 = /* @__PURE__ */ apply(applyMaybe);
  var map115 = /* @__PURE__ */ map(functorMaybe);
  var fromFoldable20 = /* @__PURE__ */ fromFoldable6(ordString)(foldableArray);
  var traverse5 = /* @__PURE__ */ traverse(traversableArray)(applicativeMaybe);
  var fromFoldable111 = /* @__PURE__ */ fromFoldable2(foldableArray);
  var append20 = /* @__PURE__ */ append(semigroupList);
  var map211 = /* @__PURE__ */ map(functorList);
  var fromFoldable25 = /* @__PURE__ */ fromFoldable2(foldableMaybe);
  var parseQueryPart = function(decoder) {
    var part2tuple = function(input3) {
      var keyVal = map50(decoder)(split("=")(input3));
      return discard61(guard2(length(keyVal) <= 2))(function() {
        return apply3(map115(Tuple.create)(head(keyVal)))(index(keyVal)(1));
      });
    };
    var $27 = map115(fromFoldable20);
    var $28 = traverse5(part2tuple);
    var $29 = split("&");
    return function($30) {
      return $27($28($29($30)));
    };
  };
  var parse7 = function(decoder) {
    return function(hash2) {
      var pathParts = function(str2) {
        var parts = fromFoldable111(map50(function($31) {
          return Path4.create(decoder($31));
        })(split("/")(str2)));
        var v2 = unsnoc(parts);
        if (v2 instanceof Just && (v2.value0.last instanceof Path4 && v2.value0.last.value0 === "")) {
          return v2.value0.init;
        }
        ;
        return parts;
      };
      var v = map115(flip(splitAt3)(hash2))(indexOf2("?")(hash2));
      if (v instanceof Just) {
        return append20(pathParts(v.value0.before))(map211(Query2.create)(fromFoldable25(parseQueryPart(decoder)(drop5(1)(v.value0.after)))));
      }
      ;
      if (v instanceof Nothing) {
        return pathParts(hash2);
      }
      ;
      throw new Error("Failed pattern match at Routing.Parser (line 32, column 3 - line 37, column 21): " + [v.constructor.name]);
    };
  };

  // output/Routing/index.js
  var fromJust5 = /* @__PURE__ */ fromJust();
  var matchWith = function(decoder) {
    return function(matcher) {
      var $2 = runMatch(matcher);
      var $3 = parse7(decoder);
      return function($4) {
        return $2($3($4));
      };
    };
  };
  var match = /* @__PURE__ */ matchWith(function($6) {
    return fromJust5($$decodeURIComponent($6));
  });

  // output/Web.HTML.Event.HashChangeEvent.EventTypes/index.js
  var hashchange = "hashchange";

  // output/Routing.Hash/index.js
  var bind64 = /* @__PURE__ */ bind(bindEffect);
  var map51 = /* @__PURE__ */ map(functorEffect);
  var bindFlipped9 = /* @__PURE__ */ bindFlipped(bindEffect);
  var join3 = /* @__PURE__ */ join(bindEffect);
  var apply4 = /* @__PURE__ */ apply(applyEffect);
  var pure34 = /* @__PURE__ */ pure(applicativeEffect);
  var voidRight3 = /* @__PURE__ */ voidRight(functorEffect);
  var setHash2 = function(h) {
    return bind64(bind64(windowImpl)(location))(setHash(h));
  };
  var getHash = /* @__PURE__ */ bind64(/* @__PURE__ */ bind64(windowImpl)(location))(/* @__PURE__ */ (function() {
    var $16 = map51((function() {
      var $18 = fromMaybe("");
      var $19 = stripPrefix("#");
      return function($20) {
        return $18($19($20));
      };
    })());
    return function($17) {
      return $16(hash($17));
    };
  })());
  var foldHashes = function(cb) {
    return function(init8) {
      return function __do3() {
        var ref2 = bindFlipped9($$new)(bindFlipped9(init8)(getHash))();
        var win = map51(toEventTarget)(windowImpl)();
        var listener = eventListener(function(v) {
          return bindFlipped9(flip(write)(ref2))(join3(apply4(map51(cb)(read(ref2)))(getHash)));
        })();
        addEventListener2(hashchange)(listener)(false)(win)();
        return removeEventListener2(hashchange)(listener)(false)(win);
      };
    };
  };
  var matchesWith = function(dictFoldable) {
    var indexl2 = indexl(dictFoldable);
    return function(parser) {
      return function(cb) {
        var go2 = function(a2) {
          var $21 = maybe(pure34(a2))(function(b10) {
            return voidRight3(new Just(b10))(cb(a2)(b10));
          });
          var $22 = indexl2(0);
          return function($23) {
            return $21($22(parser($23)));
          };
        };
        return foldHashes(go2)(go2(Nothing.value));
      };
    };
  };
  var matches2 = /* @__PURE__ */ (function() {
    var $24 = matchesWith(foldableEither);
    return function($25) {
      return $24(match($25));
    };
  })();

  // output/PSD3.Main/index.js
  var bind65 = /* @__PURE__ */ bind(bindHalogenM);
  var liftEffect52 = /* @__PURE__ */ liftEffect(/* @__PURE__ */ monadEffectHalogenM(monadEffectAff));
  var discard62 = /* @__PURE__ */ discard(discardUnit)(bindHalogenM);
  var when6 = /* @__PURE__ */ when(applicativeHalogenM);
  var pure35 = /* @__PURE__ */ pure(applicativeHalogenM);
  var modify_42 = /* @__PURE__ */ modify_2(monadStateHalogenM);
  var spy4 = /* @__PURE__ */ spy();
  var slot_5 = /* @__PURE__ */ slot_();
  var slot_1 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "home";
    }
  })(ordUnit);
  var slot_22 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "gettingStarted";
    }
  })(ordUnit);
  var slot_32 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "wizard";
    }
  })(ordUnit);
  var slot_42 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "howtoIndex";
    }
  })(ordUnit);
  var slot_52 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "reference";
    }
  })(ordUnit);
  var slot_6 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "treeAPI";
    }
  })(ordUnit);
  var component1 = /* @__PURE__ */ component5(monadAffAff);
  var slot_7 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "animatedTreeCluster";
    }
  })(ordUnit);
  var component210 = /* @__PURE__ */ component(monadAffAff);
  var slot_8 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "lesMisGUPTree";
    }
  })(ordUnit);
  var component310 = /* @__PURE__ */ component2(monadAffAff);
  var slot_9 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "moduleGraph";
    }
  })(ordUnit);
  var component44 = /* @__PURE__ */ component4(monadAffAff);
  var slot_10 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "mermaidTreeDemo";
    }
  })(ordUnit);
  var component52 = /* @__PURE__ */ component3(monadAffAff);
  var slot_11 = /* @__PURE__ */ slot_5({
    reflectSymbol: function() {
      return "acknowledgements";
    }
  })(ordUnit);
  var Initialize42 = /* @__PURE__ */ (function() {
    function Initialize43() {
    }
    ;
    Initialize43.value = new Initialize43();
    return Initialize43;
  })();
  var Navigate = /* @__PURE__ */ (function() {
    function Navigate2(value0) {
      this.value0 = value0;
    }
    ;
    Navigate2.create = function(value0) {
      return new Navigate2(value0);
    };
    return Navigate2;
  })();
  var RouteChanged = /* @__PURE__ */ (function() {
    function RouteChanged2(value0) {
      this.value0 = value0;
    }
    ;
    RouteChanged2.create = function(value0) {
      return new RouteChanged2(value0);
    };
    return RouteChanged2;
  })();
  var handleAction42 = function(v) {
    if (v instanceof Initialize42) {
      return bind65(liftEffect52(function __do3() {
        var w = windowImpl();
        var loc = location(w)();
        return hash(loc)();
      }))(function(currentHash) {
        return discard62(when6(currentHash === "" || (currentHash === "#" || currentHash === "#/"))(liftEffect52(setHash2(routeToPath(Home.value)))))(function() {
          return bind65(subscribe2(makeEmitter(function(push2) {
            return matches2(routing)(function(v1) {
              return function(newRoute) {
                return push2(new RouteChanged(new Just(newRoute)));
              };
            });
          })))(function() {
            return pure35(unit);
          });
        });
      });
    }
    ;
    if (v instanceof Navigate) {
      return liftEffect52(setHash2(routeToPath(v.value0)));
    }
    ;
    if (v instanceof RouteChanged) {
      if (v.value0 instanceof Just) {
        return modify_42(function(v1) {
          var $63 = {};
          for (var $64 in v1) {
            if ({}.hasOwnProperty.call(v1, $64)) {
              $63[$64] = v1[$64];
            }
            ;
          }
          ;
          $63.currentRoute = v.value0.value0;
          return $63;
        });
      }
      ;
      if (v.value0 instanceof Nothing) {
        return modify_42(function(v1) {
          var $67 = {};
          for (var $68 in v1) {
            if ({}.hasOwnProperty.call(v1, $68)) {
              $67[$68] = v1[$68];
            }
            ;
          }
          ;
          $67.currentRoute = NotFound.value;
          return $67;
        });
      }
      ;
      throw new Error("Failed pattern match at PSD3.Main (line 173, column 5 - line 176, column 57): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Main (line 149, column 16 - line 176, column 57): " + [v.constructor.name]);
  };
  var _wizard = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _treeAPI = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _reference = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _moduleGraph = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _mermaidTreeDemo = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _lesMisGUPTree = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _howtoIndex = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _home = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _gettingStarted = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _animatedTreeCluster = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var _acknowledgements = /* @__PURE__ */ (function() {
    return $$Proxy.value;
  })();
  var renderPage = function(route) {
    var v = spy4("Route is")(route);
    if (v instanceof Home) {
      return slot_1(_home)(unit)(component7)(unit);
    }
    ;
    if (v instanceof GettingStarted) {
      return slot_22(_gettingStarted)(unit)(component42)(unit);
    }
    ;
    if (v instanceof Wizard) {
      return slot_32(_wizard)(unit)(component43)(unit);
    }
    ;
    if (v instanceof HowtoIndex) {
      return slot_42(_howtoIndex)(unit)(component9)(unit);
    }
    ;
    if (v instanceof Reference) {
      return slot_52(_reference)(unit)(component41)(Reference.value);
    }
    ;
    if (v instanceof ReferenceModule) {
      return slot_52(_reference)(unit)(component41)(new ReferenceModule(v.value0));
    }
    ;
    if (v instanceof TreeAPI) {
      return slot_6(_treeAPI)(unit)(component1)(unit);
    }
    ;
    if (v instanceof AnimatedTreeCluster) {
      return slot_7(_animatedTreeCluster)(unit)(component210)(unit);
    }
    ;
    if (v instanceof LesMisGUPTree) {
      return slot_8(_lesMisGUPTree)(unit)(component310)(unit);
    }
    ;
    if (v instanceof ModuleGraph) {
      return slot_9(_moduleGraph)(unit)(component44)(unit);
    }
    ;
    if (v instanceof MermaidTreeDemo) {
      return slot_10(_mermaidTreeDemo)(unit)(component52)(unit);
    }
    ;
    if (v instanceof Acknowledgements) {
      return slot_11(_acknowledgements)(unit)(component6)(unit);
    }
    ;
    if (v instanceof NotFound) {
      return div2([classes(["not-found"])])([h1_([text("404 - Page Not Found")]), p_([text("The page you're looking for doesn't exist.")]), a([href("#" + routeToPath(Home.value))])([text("Go to Home")])]);
    }
    ;
    throw new Error("Failed pattern match at PSD3.Main (line 100, column 20 - line 146, column 8): " + [v.constructor.name]);
  };
  var render47 = function(state3) {
    return div2([classes(["app"])])([main([classes(["app__main"])])([renderPage(state3.currentRoute)])]);
  };
  var component45 = /* @__PURE__ */ (function() {
    return mkComponent({
      initialState: function(v) {
        return {
          currentRoute: Home.value
        };
      },
      render: render47,
      "eval": mkEval({
        handleQuery: defaultEval.handleQuery,
        receive: defaultEval.receive,
        finalize: defaultEval.finalize,
        handleAction: handleAction42,
        initialize: new Just(Initialize42.value)
      })
    });
  })();
  var main2 = /* @__PURE__ */ runHalogenAff(/* @__PURE__ */ bind(bindAff)(awaitBody)(function(body2) {
    return runUI2(component45)(unit)(body2);
  }));

  // <stdin>
  main2();
})();
